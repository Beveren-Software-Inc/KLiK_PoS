var rk=Object.defineProperty,ak=Object.defineProperties;var nk=Object.getOwnPropertyDescriptors;var yu=Object.getOwnPropertySymbols;var Ub=Object.prototype.hasOwnProperty,Fb=Object.prototype.propertyIsEnumerable;var To=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Bh=e=>{throw TypeError(e)},Bb=Math.pow,Fh=(e,t,r)=>t in e?rk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))Ub.call(t,r)&&Fh(e,r,t[r]);if(yu)for(var r of yu(t))Fb.call(t,r)&&Fh(e,r,t[r]);return e},ce=(e,t)=>ak(e,nk(t));var Tt=(e,t)=>{var r={};for(var s in e)Ub.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&yu)for(var s of yu(e))t.indexOf(s)<0&&Fb.call(e,s)&&(r[s]=e[s]);return r};var sk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var zh=(e,t,r)=>Fh(e,typeof t!="symbol"?t+"":t,r),Hh=(e,t,r)=>t.has(e)||Bh("Cannot "+r);var Te=(e,t,r)=>(Hh(e,t,"read from private field"),r?r.call(e):t.get(e)),Xt=(e,t,r)=>t.has(e)?Bh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),At=(e,t,r,s)=>(Hh(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Wr=(e,t,r)=>(Hh(e,t,"access private method"),r);var pu=(e,t,r,s)=>({set _(l){At(e,t,l,r)},get _(){return Te(e,t,s)}});var de=(e,t,r)=>new Promise((s,l)=>{var c=h=>{try{f(r.next(h))}catch(m){l(m)}},u=h=>{try{f(r.throw(h))}catch(m){l(m)}},f=h=>h.done?s(h.value):Promise.resolve(h.value).then(c,u);f((r=r.apply(e,t)).next())}),Si=function(e,t){this[0]=e,this[1]=t},qh=(e,t,r)=>{var s=(u,f,h,m)=>{try{var y=r[u](f),w=(f=y.value)instanceof Si,b=y.done;Promise.resolve(w?f[0]:f).then(v=>w?s(u==="return"?u:"next",f[1]?{done:v.done,value:v.value}:v,h,m):h({value:v,done:b})).catch(v=>s("throw",v,h,m))}catch(v){m(v)}},l=u=>c[u]=f=>new Promise((h,m)=>s(u,f,h,m)),c={};return r=r.apply(e,t),c[To("asyncIterator")]=()=>c,l("next"),l("throw"),l("return"),c},Gh=e=>{var t=e[To("asyncIterator")],r=!1,s,l={};return t==null?(t=e[To("iterator")](),s=c=>l[c]=u=>t[c](u)):(t=t.call(e),s=c=>l[c]=u=>{if(r){if(r=!1,c==="throw")throw u;return u}return r=!0,{done:!1,value:new Si(new Promise(f=>{var h=t[c](u);h instanceof Object||Bh("Object expected"),f(h)}),1)}}),l[To("iterator")]=()=>l,s("next"),"throw"in t?s("throw"):l.throw=c=>{throw c},"return"in t&&s("return"),l},zb=(e,t,r)=>(t=e[To("asyncIterator")])?t.call(e):(e=e[To("iterator")](),t={},r=(s,l)=>(l=e[s])&&(t[s]=c=>new Promise((u,f,h)=>(c=l.call(e,c),h=c.done,Promise.resolve(c.value).then(m=>u({value:m,done:h}),f)))),r("next"),r("return"),t);var PM=sk(Wn=>{function ik(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function fl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vh={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function ok(){if(Hb)return mc;Hb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:s,key:u,ref:l!==void 0?l:null,props:c}}return mc.Fragment=t,mc.jsx=r,mc.jsxs=r,mc}var qb;function lk(){return qb||(qb=1,Vh.exports=ok()),Vh.exports}var n=lk(),Kh={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function ck(){if(Gb)return Pt;Gb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,N={};function C(U,we,L){this.props=U,this.context=we,this.refs=N,this.updater=L||v}C.prototype.isReactComponent={},C.prototype.setState=function(U,we){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,we,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function k(){}k.prototype=C.prototype;function O(U,we,L){this.props=U,this.context=we,this.refs=N,this.updater=L||v}var A=O.prototype=new k;A.constructor=O,$(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function G(U,we,L,te,oe,R){return L=R.ref,{$$typeof:e,type:U,key:we,ref:L!==void 0?L:null,props:R}}function z(U,we){return G(U.type,we,void 0,void 0,void 0,U.props)}function Z(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function Q(U){var we={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(L){return we[L]})}var H=/\/+/g;function X(U,we){return typeof U=="object"&&U!==null&&U.key!=null?Q(""+U.key):we.toString(36)}function ye(){}function pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ye,ye):(U.status="pending",U.then(function(we){U.status==="pending"&&(U.status="fulfilled",U.value=we)},function(we){U.status==="pending"&&(U.status="rejected",U.reason=we)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Oe(U,we,L,te,oe){var R=typeof U;(R==="undefined"||R==="boolean")&&(U=null);var Y=!1;if(U===null)Y=!0;else switch(R){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(U.$$typeof){case e:case t:Y=!0;break;case y:return Y=U._init,Oe(Y(U._payload),we,L,te,oe)}}if(Y)return oe=oe(U),Y=te===""?"."+X(U,0):te,B(oe)?(L="",Y!=null&&(L=Y.replace(H,"$&/")+"/"),Oe(oe,we,L,"",function($e){return $e})):oe!=null&&(Z(oe)&&(oe=z(oe,L+(oe.key==null||U&&U.key===oe.key?"":(""+oe.key).replace(H,"$&/")+"/")+Y)),we.push(oe)),1;Y=0;var Se=te===""?".":te+":";if(B(U))for(var J=0;J<U.length;J++)te=U[J],R=Se+X(te,J),Y+=Oe(te,we,L,R,oe);else if(J=b(U),typeof J=="function")for(U=J.call(U),J=0;!(te=U.next()).done;)te=te.value,R=Se+X(te,J++),Y+=Oe(te,we,L,R,oe);else if(R==="object"){if(typeof U.then=="function")return Oe(pe(U),we,L,te,oe);throw we=String(U),Error("Objects are not valid as a React child (found: "+(we==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":we)+"). If you meant to render a collection of children, use an array instead.")}return Y}function q(U,we,L){if(U==null)return U;var te=[],oe=0;return Oe(U,te,"","",function(R){return we.call(L,R,oe++)}),te}function ae(U){if(U._status===-1){var we=U._result;we=we(),we.then(function(L){(U._status===0||U._status===-1)&&(U._status=1,U._result=L)},function(L){(U._status===0||U._status===-1)&&(U._status=2,U._result=L)}),U._status===-1&&(U._status=0,U._result=we)}if(U._status===1)return U._result.default;throw U._result}var me=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var we=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(we))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Re(){}return Pt.Children={map:q,forEach:function(U,we,L){q(U,function(){we.apply(this,arguments)},L)},count:function(U){var we=0;return q(U,function(){we++}),we},toArray:function(U){return q(U,function(we){return we})||[]},only:function(U){if(!Z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Pt.Component=C,Pt.Fragment=r,Pt.Profiler=l,Pt.PureComponent=O,Pt.StrictMode=s,Pt.Suspense=h,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return P.H.useMemoCache(U)}},Pt.cache=function(U){return function(){return U.apply(null,arguments)}},Pt.cloneElement=function(U,we,L){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var te=$({},U.props),oe=U.key,R=void 0;if(we!=null)for(Y in we.ref!==void 0&&(R=void 0),we.key!==void 0&&(oe=""+we.key),we)!T.call(we,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&we.ref===void 0||(te[Y]=we[Y]);var Y=arguments.length-2;if(Y===1)te.children=L;else if(1<Y){for(var Se=Array(Y),J=0;J<Y;J++)Se[J]=arguments[J+2];te.children=Se}return G(U.type,oe,void 0,void 0,R,te)},Pt.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Pt.createElement=function(U,we,L){var te,oe={},R=null;if(we!=null)for(te in we.key!==void 0&&(R=""+we.key),we)T.call(we,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=we[te]);var Y=arguments.length-2;if(Y===1)oe.children=L;else if(1<Y){for(var Se=Array(Y),J=0;J<Y;J++)Se[J]=arguments[J+2];oe.children=Se}if(U&&U.defaultProps)for(te in Y=U.defaultProps,Y)oe[te]===void 0&&(oe[te]=Y[te]);return G(U,R,void 0,void 0,null,oe)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(U){return{$$typeof:f,render:U}},Pt.isValidElement=Z,Pt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ae}},Pt.memo=function(U,we){return{$$typeof:m,type:U,compare:we===void 0?null:we}},Pt.startTransition=function(U){var we=P.T,L={};P.T=L;try{var te=U(),oe=P.S;oe!==null&&oe(L,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Re,me)}catch(R){me(R)}finally{P.T=we}},Pt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Pt.use=function(U){return P.H.use(U)},Pt.useActionState=function(U,we,L){return P.H.useActionState(U,we,L)},Pt.useCallback=function(U,we){return P.H.useCallback(U,we)},Pt.useContext=function(U){return P.H.useContext(U)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(U,we){return P.H.useDeferredValue(U,we)},Pt.useEffect=function(U,we,L){var te=P.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(U,we)},Pt.useId=function(){return P.H.useId()},Pt.useImperativeHandle=function(U,we,L){return P.H.useImperativeHandle(U,we,L)},Pt.useInsertionEffect=function(U,we){return P.H.useInsertionEffect(U,we)},Pt.useLayoutEffect=function(U,we){return P.H.useLayoutEffect(U,we)},Pt.useMemo=function(U,we){return P.H.useMemo(U,we)},Pt.useOptimistic=function(U,we){return P.H.useOptimistic(U,we)},Pt.useReducer=function(U,we,L){return P.H.useReducer(U,we,L)},Pt.useRef=function(U){return P.H.useRef(U)},Pt.useState=function(U){return P.H.useState(U)},Pt.useSyncExternalStore=function(U,we,L){return P.H.useSyncExternalStore(U,we,L)},Pt.useTransition=function(){return P.H.useTransition()},Pt.version="19.1.0",Pt}var Vb;function Ag(){return Vb||(Vb=1,Kh.exports=ck()),Kh.exports}var x=Ag();const Ke=fl(x),G2=ik({__proto__:null,default:Ke},[x]);var Yh={exports:{}},gc={},Qh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function dk(){return Kb||(Kb=1,function(e){function t(q,ae){var me=q.length;q.push(ae);e:for(;0<me;){var Re=me-1>>>1,U=q[Re];if(0<l(U,ae))q[Re]=ae,q[me]=U,me=Re;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ae=q[0],me=q.pop();if(me!==ae){q[0]=me;e:for(var Re=0,U=q.length,we=U>>>1;Re<we;){var L=2*(Re+1)-1,te=q[L],oe=L+1,R=q[oe];if(0>l(te,me))oe<U&&0>l(R,te)?(q[Re]=R,q[oe]=me,Re=oe):(q[Re]=te,q[L]=me,Re=L);else if(oe<U&&0>l(R,me))q[Re]=R,q[oe]=me,Re=oe;else break e}}return ae}function l(q,ae){var me=q.sortIndex-ae.sortIndex;return me!==0?me:q.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,w=null,b=3,v=!1,$=!1,N=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate!="undefined"?setImmediate:null;function B(q){for(var ae=r(m);ae!==null;){if(ae.callback===null)s(m);else if(ae.startTime<=q)s(m),ae.sortIndex=ae.expirationTime,t(h,ae);else break;ae=r(m)}}function P(q){if(N=!1,B(q),!$)if(r(h)!==null)$=!0,T||(T=!0,X());else{var ae=r(m);ae!==null&&Oe(P,ae.startTime-q)}}var T=!1,G=-1,z=5,Z=-1;function Q(){return C?!0:!(e.unstable_now()-Z<z)}function H(){if(C=!1,T){var q=e.unstable_now();Z=q;var ae=!0;try{e:{$=!1,N&&(N=!1,O(G),G=-1),v=!0;var me=b;try{t:{for(B(q),w=r(h);w!==null&&!(w.expirationTime>q&&Q());){var Re=w.callback;if(typeof Re=="function"){w.callback=null,b=w.priorityLevel;var U=Re(w.expirationTime<=q);if(q=e.unstable_now(),typeof U=="function"){w.callback=U,B(q),ae=!0;break t}w===r(h)&&s(h),B(q)}else s(h);w=r(h)}if(w!==null)ae=!0;else{var we=r(m);we!==null&&Oe(P,we.startTime-q),ae=!1}}break e}finally{w=null,b=me,v=!1}ae=void 0}}finally{ae?X():T=!1}}}var X;if(typeof A=="function")X=function(){A(H)};else if(typeof MessageChannel!="undefined"){var ye=new MessageChannel,pe=ye.port2;ye.port1.onmessage=H,X=function(){pe.postMessage(null)}}else X=function(){k(H,0)};function Oe(q,ae){G=k(function(){q(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var me=b;b=ae;try{return q()}finally{b=me}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(q,ae){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var me=b;b=q;try{return ae()}finally{b=me}},e.unstable_scheduleCallback=function(q,ae,me){var Re=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=me+U,q={id:y++,callback:ae,priorityLevel:q,startTime:me,expirationTime:U,sortIndex:-1},me>Re?(q.sortIndex=me,t(m,q),r(h)===null&&q===r(m)&&(N?(O(G),G=-1):N=!0,Oe(P,me-Re))):(q.sortIndex=U,t(h,q),$||v||($=!0,T||(T=!0,X()))),q},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(q){var ae=b;return function(){var me=b;b=ae;try{return q.apply(this,arguments)}finally{b=me}}}}(Xh)),Xh}var Yb;function uk(){return Yb||(Yb=1,Qh.exports=dk()),Qh.exports}var Wh={exports:{}},Zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function fk(){if(Qb)return Zr;Qb=1;var e=Ag();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(h,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:h,containerInfo:m,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zr.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(h,m,null,y)},Zr.flushSync=function(h){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,h)return h()}finally{u.T=m,s.p=y,s.d.f()}},Zr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Zr.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Zr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:v}):y==="script"&&s.d.X(h,{crossOrigin:w,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Zr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zr.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Zr.requestFormReset=function(h){s.d.r(h)},Zr.unstable_batchedUpdates=function(h,m){return h(m)},Zr.useFormState=function(h,m,y){return u.H.useFormState(h,m,y)},Zr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Zr.version="19.1.0",Zr}var Xb;function V2(){if(Xb)return Wh.exports;Xb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wh.exports=fk(),Wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function hk(){if(Wb)return gc;Wb=1;var e=uk(),t=Ag(),r=V2();function s(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var i=a,o=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(o=i.return),a=i.return;while(a)}return i.tag===3?o:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(c(a)!==a)throw Error(s(188))}function h(a){var i=a.alternate;if(!i){if(i=c(a),i===null)throw Error(s(188));return i!==a?null:a}for(var o=a,d=i;;){var g=o.return;if(g===null)break;var p=g.alternate;if(p===null){if(d=g.return,d!==null){o=d;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===o)return f(g),a;if(p===d)return f(g),i;p=p.sibling}throw Error(s(188))}if(o.return!==d.return)o=g,d=p;else{for(var S=!1,E=g.child;E;){if(E===o){S=!0,o=g,d=p;break}if(E===d){S=!0,d=g,o=p;break}E=E.sibling}if(!S){for(E=p.child;E;){if(E===o){S=!0,o=p,d=g;break}if(E===d){S=!0,d=p,o=g;break}E=E.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?a:i}function m(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=m(a),i!==null)return i;a=a.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ye=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ye?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case $:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList";case Z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case A:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case B:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return i=a.displayName||null,i!==null?i:pe(a.type)||"Memo";case z:i=a._payload,a=a._init;try{return pe(a(i))}catch(o){}}return null}var Oe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],U=-1;function we(a){return{current:a}}function L(a){0>U||(a.current=Re[U],Re[U]=null,U--)}function te(a,i){U++,Re[U]=a.current,a.current=i}var oe=we(null),R=we(null),Y=we(null),Se=we(null);function J(a,i){switch(te(Y,i),te(R,a),te(oe,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?hb(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=hb(i),a=mb(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(oe),te(oe,a)}function $e(){L(oe),L(R),L(Y)}function be(a){a.memoizedState!==null&&te(Se,a);var i=oe.current,o=mb(i,a.type);i!==o&&(te(R,a),te(oe,o))}function Be(a){R.current===a&&(L(oe),L(R)),Se.current===a&&(L(Se),cc._currentValue=me)}var tt=Object.prototype.hasOwnProperty,vt=e.unstable_scheduleCallback,Ce=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,_t=e.unstable_requestPaint,jt=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,Je=e.unstable_UserBlockingPriority,Ft=e.unstable_NormalPriority,fe=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,ht=e.log,Zt=e.unstable_setDisableYieldValue,Gt=null,Ht=null;function he(a){if(typeof ht=="function"&&Zt(a),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Gt,a)}catch(i){}}var Pe=Math.clz32?Math.clz32:ze,He=Math.log,Ze=Math.LN2;function ze(a){return a>>>=0,a===0?32:31-(He(a)/Ze|0)|0}var We=256,yt=4194304;function Ct(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mr(a,i,o){var d=a.pendingLanes;if(d===0)return 0;var g=0,p=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var E=d&134217727;return E!==0?(d=E&~p,d!==0?g=Ct(d):(S&=E,S!==0?g=Ct(S):o||(o=E&~a,o!==0&&(g=Ct(o))))):(E=d&~p,E!==0?g=Ct(E):S!==0?g=Ct(S):o||(o=d&~a,o!==0&&(g=Ct(o)))),g===0?0:i!==0&&i!==g&&(i&p)===0&&(p=g&-g,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:g}function tr(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function qr(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(){var a=We;return We<<=1,(We&4194048)===0&&(We=256),a}function _a(){var a=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),a}function Ea(a){for(var i=[],o=0;31>o;o++)i.push(a);return i}function Ie(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Er(a,i,o,d,g,p){var S=a.pendingLanes;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=o,a.entangledLanes&=o,a.errorRecoveryDisabledLanes&=o,a.shellSuspendCounter=0;var E=a.entanglements,K=a.expirationTimes,ge=a.hiddenUpdates;for(o=S&~o;0<o;){var _e=31-Pe(o),Ae=1<<_e;E[_e]=0,K[_e]=-1;var ve=ge[_e];if(ve!==null)for(ge[_e]=null,_e=0;_e<ve.length;_e++){var je=ve[_e];je!==null&&(je.lane&=-536870913)}o&=~Ae}d!==0&&Nr(a,d,0),p!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=p&~(S&~i))}function Nr(a,i,o){a.pendingLanes|=i,a.suspendedLanes&=~i;var d=31-Pe(i);a.entangledLanes|=i,a.entanglements[d]=a.entanglements[d]|1073741824|o&4194090}function ia(a,i){var o=a.entangledLanes|=i;for(a=a.entanglements;o;){var d=31-Pe(o),g=1<<d;g&i|a[d]&i&&(a[d]|=i),o&=~g}}function Tr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ta(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function W(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:Rb(a.type))}function D(a,i){var o=ae.p;try{return ae.p=a,i()}finally{ae.p=o}}var V=Math.random().toString(36).slice(2),Ne="__reactFiber$"+V,Me="__reactProps$"+V,Xe="__reactContainer$"+V,ot="__reactEvents$"+V,at="__reactListeners$"+V,Ue="__reactHandles$"+V,$t="__reactResources$"+V,ut="__reactMarker$"+V;function kt(a){delete a[Ne],delete a[Me],delete a[ot],delete a[at],delete a[Ue]}function Ot(a){var i=a[Ne];if(i)return i;for(var o=a.parentNode;o;){if(i=o[Xe]||o[Ne]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(a=xb(a);a!==null;){if(o=a[Ne])return o;a=xb(a)}return i}a=o,o=a.parentNode}return null}function Kt(a){if(a=a[Ne]||a[Xe]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function rr(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(s(33))}function Yt(a){var i=a[$t];return i||(i=a[$t]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function re(a){a[ut]=!0}var ke=new Set,qe={};function De(a,i){lt(a,i),lt(a+"Capture",i)}function lt(a,i){for(qe[a]=i,a=0;a<i.length;a++)ke.add(i[a])}var gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pt={},Or={};function Vr(a){return tt.call(Or,a)?!0:tt.call(pt,a)?!1:gt.test(a)?Or[a]=!0:(pt[a]=!0,!1)}function or(a,i,o){if(Vr(i))if(o===null)a.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+o)}}function Fr(a,i,o){if(o===null)a.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+o)}}function Rt(a,i,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttributeNS(i,o,""+d)}}var jr,ga;function Kr(a){if(jr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);jr=i&&i[1]||"",ga=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+a+ga}var hn=!1;function lr(a,i){if(!a||hn)return"";hn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(je){var ve=je}Reflect.construct(a,[],Ae)}else{try{Ae.call()}catch(je){ve=je}a.call(Ae.prototype)}}else{try{throw Error()}catch(je){ve=je}(Ae=a())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(je){if(je&&ve&&typeof je.stack=="string")return[je.stack,ve.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=d.DetermineComponentFrameRoot(),S=p[0],E=p[1];if(S&&E){var K=S.split(`
`),ge=E.split(`
`);for(g=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ge.length&&!ge[g].includes("DetermineComponentFrameRoot");)g++;if(d===K.length||g===ge.length)for(d=K.length-1,g=ge.length-1;1<=d&&0<=g&&K[d]!==ge[g];)g--;for(;1<=d&&0<=g;d--,g--)if(K[d]!==ge[g]){if(d!==1||g!==1)do if(d--,g--,0>g||K[d]!==ge[g]){var _e=`
`+K[d].replace(" at new "," at ");return a.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",a.displayName)),_e}while(1<=d&&0<=g);break}}}finally{hn=!1,Error.prepareStackTrace=o}return(o=a?a.displayName||a.name:"")?Kr(o):""}function mn(a){switch(a.tag){case 26:case 27:case 5:return Kr(a.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return lr(a.type,!1);case 11:return lr(a.type.render,!1);case 1:return lr(a.type,!0);case 31:return Kr("Activity");default:return""}}function ei(a){try{var i="";do i+=mn(a),a=a.return;while(a);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Yr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function cd(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dd(a){var i=cd(a)?"checked":"value",o=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),d=""+a[i];if(!a.hasOwnProperty(i)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,p=o.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,p.call(this,S)}}),Object.defineProperty(a,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function ti(a){a._valueTracker||(a._valueTracker=dd(a))}function gn(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return a&&(d=cd(a)?a.checked?"true":"false":a.value),a=d,a!==o?(i.setValue(a),!0):!1}function ri(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(i){return a.body}}var V0=/[\n"\\]/g;function oa(a){return a.replace(V0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bl(a,i,o,d,g,p,S,E){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),i!=null?S==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+Yr(i)):a.value!==""+Yr(i)&&(a.value=""+Yr(i)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),i!=null?vl(a,S,Yr(i)):o!=null?vl(a,S,Yr(o)):d!=null&&a.removeAttribute("value"),g==null&&p!=null&&(a.defaultChecked=!!p),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.name=""+Yr(E):a.removeAttribute("name")}function ud(a,i,o,d,g,p,S,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(a.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+Yr(o):"",i=i!=null?""+Yr(i):o,E||i===a.value||(a.value=i),a.defaultValue=i}d=d!=null?d:g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=E?a.checked:!!d,a.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S)}function vl(a,i,o){i==="number"&&ri(a.ownerDocument)===a||a.defaultValue===""+o||(a.defaultValue=""+o)}function _n(a,i,o,d){if(a=a.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<a.length;o++)g=i.hasOwnProperty("$"+a[o].value),a[o].selected!==g&&(a[o].selected=g),g&&d&&(a[o].defaultSelected=!0)}else{for(o=""+Yr(o),i=null,g=0;g<a.length;g++){if(a[g].value===o){a[g].selected=!0,d&&(a[g].defaultSelected=!0);return}i!==null||a[g].disabled||(i=a[g])}i!==null&&(i.selected=!0)}}function ai(a,i,o){if(i!=null&&(i=""+Yr(i),i!==a.value&&(a.value=i),o==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=o!=null?""+Yr(o):""}function wl(a,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(s(92));if(Oe(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=Yr(i),a.defaultValue=o,d=a.textContent,d===o&&d!==""&&d!==null&&(a.value=d)}function is(a,i){if(i){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=i;return}}a.textContent=i}var fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(a,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":d?a.setProperty(i,o):typeof o!="number"||o===0||fd.has(i)?i==="float"?a.cssFloat=o:a[i]=(""+o).trim():a[i]=o+"px"}function Nl(a,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(a=a.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&o[g]!==d&&hd(a,g,d)}else for(var p in i)i.hasOwnProperty(p)&&hd(a,p,i[p])}function ni(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yi(a){return K0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var jl=null;function si(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var En=null,os=null;function kl(a){var i=Kt(a);if(i&&(a=i.stateNode)){var o=a[Me]||null;e:switch(a=i.stateNode,i.type){case"input":if(bl(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+oa(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==a&&d.form===a.form){var g=d[Me]||null;if(!g)throw Error(s(90));bl(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===a.form&&gn(d)}break e;case"textarea":ai(a,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&_n(a,!!o.multiple,i,!1)}}}var ii=!1;function Sl(a,i,o){if(ii)return a(i,o);ii=!0;try{var d=a(i);return d}finally{if(ii=!1,(En!==null||os!==null)&&(Qd(),En&&(i=En,a=os,os=En=null,kl(i),a)))for(i=0;i<a.length;i++)kl(a[i])}}function ls(a,i){var o=a.stateNode;if(o===null)return null;var d=o[Me]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var la=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Qi=!1;if(la)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch(a){Qi=!1}var ya=null,ca=null,Tn=null;function li(){if(Tn)return Tn;var a,i=ca,o=i.length,d,g="value"in ya?ya.value:ya.textContent,p=g.length;for(a=0;a<o&&i[a]===g[a];a++);var S=o-a;for(d=1;d<=S&&i[o-d]===g[p-d];d++);return Tn=g.slice(a,1<d?1-d:void 0)}function cs(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Xi(){return!0}function md(){return!1}function Qr(a){function i(o,d,g,p,S){this._reactName=o,this._targetInst=g,this.type=d,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var E in a)a.hasOwnProperty(E)&&(o=a[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Xi:md,this.isPropagationStopped=md,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),i}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Qr(Ka),ds=y({},Ka,{view:0,detail:0}),gr=Qr(ds),j,_,M,I=y({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==M&&(M&&a.type==="mousemove"?(j=a.screenX-M.screenX,_=a.screenY-M.screenY):_=j=0,M=a),j)},movementY:function(a){return"movementY"in a?a.movementY:_}}),ne=Qr(I),le=y({},I,{dataTransfer:0}),xe=Qr(le),Ge=y({},ds,{relatedTarget:0}),mt=Qr(Ge),Ve=y({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),et=Qr(Ve),wt=y({},Ka,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ar=Qr(wt),Et=y({},Ka,{data:0}),xt=Qr(Et),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fr(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=kr[a])?!!i[a]:!1}function Oa(){return fr}var ci=y({},ds,{key:function(a){if(a.key){var i=ct[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=cs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Dr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(a){return a.type==="keypress"?cs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),yn=Qr(ci),us=y({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Qr(us),Ji=y({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),gd=Qr(Ji),vN=y({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),wN=Qr(vN),NN=y({},I,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jN=Qr(NN),kN=y({},Ka,{newState:0,oldState:0}),SN=Qr(kN),$N=[9,13,27,32],Y0=la&&"CompositionEvent"in window,$l=null;la&&"documentMode"in document&&($l=document.documentMode);var CN=la&&"TextEvent"in window&&!$l,Ny=la&&(!Y0||$l&&8<$l&&11>=$l),jy=" ",ky=!1;function Sy(a,i){switch(a){case"keyup":return $N.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var eo=!1;function _N(a,i){switch(a){case"compositionend":return $y(i);case"keypress":return i.which!==32?null:(ky=!0,jy);case"textInput":return a=i.data,a===jy&&ky?null:a;default:return null}}function EN(a,i){if(eo)return a==="compositionend"||!Y0&&Sy(a,i)?(a=li(),Tn=ca=ya=null,eo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ny&&i.locale!=="ko"?null:i.data;default:return null}}var TN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!TN[a.type]:i==="textarea"}function _y(a,i,o,d){En?os?os.push(d):os=[d]:En=d,i=tu(i,"onChange"),0<i.length&&(o=new Wi("onChange","change",null,o,d),a.push({event:o,listeners:i}))}var Cl=null,_l=null;function ON(a){lb(a,0)}function yd(a){var i=rr(a);if(gn(i))return a}function Ey(a,i){if(a==="change")return i}var Ty=!1;if(la){var Q0;if(la){var X0="oninput"in document;if(!X0){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),X0=typeof Oy.oninput=="function"}Q0=X0}else Q0=!1;Ty=Q0&&(!document.documentMode||9<document.documentMode)}function Ay(){Cl&&(Cl.detachEvent("onpropertychange",Ry),_l=Cl=null)}function Ry(a){if(a.propertyName==="value"&&yd(_l)){var i=[];_y(i,_l,a,si(a)),Sl(ON,i)}}function AN(a,i,o){a==="focusin"?(Ay(),Cl=i,_l=o,Cl.attachEvent("onpropertychange",Ry)):a==="focusout"&&Ay()}function RN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return yd(_l)}function PN(a,i){if(a==="click")return yd(i)}function MN(a,i){if(a==="input"||a==="change")return yd(i)}function DN(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var pa=typeof Object.is=="function"?Object.is:DN;function El(a,i){if(pa(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var o=Object.keys(a),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var g=o[d];if(!tt.call(i,g)||!pa(a[g],i[g]))return!1}return!0}function Py(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function My(a,i){var o=Py(a);a=0;for(var d;o;){if(o.nodeType===3){if(d=a+o.textContent.length,a<=i&&d>=i)return{node:o,offset:i-a};a=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Py(o)}}function Dy(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Dy(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Ly(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=ri(a.document);i instanceof a.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch(d){o=!1}if(o)a=i.contentWindow;else break;i=ri(a.document)}return i}function W0(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var LN=la&&"documentMode"in document&&11>=document.documentMode,to=null,Z0=null,Tl=null,J0=!1;function Iy(a,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;J0||to==null||to!==ri(d)||(d=to,"selectionStart"in d&&W0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Tl&&El(Tl,d)||(Tl=d,d=tu(Z0,"onSelect"),0<d.length&&(i=new Wi("onSelect","select",null,i,o),a.push({event:i,listeners:d}),i.target=to)))}function di(a,i){var o={};return o[a.toLowerCase()]=i.toLowerCase(),o["Webkit"+a]="webkit"+i,o["Moz"+a]="moz"+i,o}var ro={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},ef={},Uy={};la&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ui(a){if(ef[a])return ef[a];if(!ro[a])return a;var i=ro[a],o;for(o in i)if(i.hasOwnProperty(o)&&o in Uy)return ef[a]=i[o];return a}var Fy=ui("animationend"),By=ui("animationiteration"),zy=ui("animationstart"),IN=ui("transitionrun"),UN=ui("transitionstart"),FN=ui("transitioncancel"),Hy=ui("transitionend"),qy=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function Ya(a,i){qy.set(a,i),De(i,[a])}var Gy=new WeakMap;function Aa(a,i){if(typeof a=="object"&&a!==null){var o=Gy.get(a);return o!==void 0?o:(i={value:a,source:i,stack:ei(i)},Gy.set(a,i),i)}return{value:a,source:i,stack:ei(i)}}var Ra=[],ao=0,rf=0;function pd(){for(var a=ao,i=rf=ao=0;i<a;){var o=Ra[i];Ra[i++]=null;var d=Ra[i];Ra[i++]=null;var g=Ra[i];Ra[i++]=null;var p=Ra[i];if(Ra[i++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}p!==0&&Vy(o,g,p)}}function xd(a,i,o,d){Ra[ao++]=a,Ra[ao++]=i,Ra[ao++]=o,Ra[ao++]=d,rf|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function af(a,i,o,d){return xd(a,i,o,d),bd(a)}function no(a,i){return xd(a,null,null,i),bd(a)}function Vy(a,i,o){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o);for(var g=!1,p=a.return;p!==null;)p.childLanes|=o,d=p.alternate,d!==null&&(d.childLanes|=o),p.tag===22&&(a=p.stateNode,a===null||a._visibility&1||(g=!0)),a=p,p=p.return;return a.tag===3?(p=a.stateNode,g&&i!==null&&(g=31-Pe(o),a=p.hiddenUpdates,d=a[g],d===null?a[g]=[i]:d.push(i),i.lane=o|536870912),p):null}function bd(a){if(50<tc)throw tc=0,dh=null,Error(s(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var so={};function BN(a,i,o,d){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(a,i,o,d){return new BN(a,i,o,d)}function nf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function On(a,i){var o=a.alternate;return o===null?(o=xa(a.tag,i,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=i,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&65011712,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,i=a.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o.refCleanup=a.refCleanup,o}function Ky(a,i){a.flags&=65011714;var o=a.alternate;return o===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function vd(a,i,o,d,g,p){var S=0;if(d=a,typeof a=="function")nf(a)&&(S=1);else if(typeof a=="string")S=Hj(a,o,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Z:return a=xa(31,o,i,g),a.elementType=Z,a.lanes=p,a;case $:return fi(o.children,g,p,i);case N:S=8,g|=24;break;case C:return a=xa(12,o,i,g|2),a.elementType=C,a.lanes=p,a;case P:return a=xa(13,o,i,g),a.elementType=P,a.lanes=p,a;case T:return a=xa(19,o,i,g),a.elementType=T,a.lanes=p,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:case A:S=10;break e;case O:S=9;break e;case B:S=11;break e;case G:S=14;break e;case z:S=16,d=null;break e}S=29,o=Error(s(130,a===null?"null":typeof a,"")),d=null}return i=xa(S,o,i,g),i.elementType=a,i.type=d,i.lanes=p,i}function fi(a,i,o,d){return a=xa(7,a,d,i),a.lanes=o,a}function sf(a,i,o){return a=xa(6,a,null,i),a.lanes=o,a}function of(a,i,o){return i=xa(4,a.children!==null?a.children:[],a.key,i),i.lanes=o,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var io=[],oo=0,wd=null,Nd=0,Pa=[],Ma=0,hi=null,An=1,Rn="";function mi(a,i){io[oo++]=Nd,io[oo++]=wd,wd=a,Nd=i}function Yy(a,i,o){Pa[Ma++]=An,Pa[Ma++]=Rn,Pa[Ma++]=hi,hi=a;var d=An;a=Rn;var g=32-Pe(d)-1;d&=~(1<<g),o+=1;var p=32-Pe(i)+g;if(30<p){var S=g-g%5;p=(d&(1<<S)-1).toString(32),d>>=S,g-=S,An=1<<32-Pe(i)+g|o<<g|d,Rn=p+a}else An=1<<p|o<<g|d,Rn=a}function lf(a){a.return!==null&&(mi(a,1),Yy(a,1,0))}function cf(a){for(;a===wd;)wd=io[--oo],io[oo]=null,Nd=io[--oo],io[oo]=null;for(;a===hi;)hi=Pa[--Ma],Pa[Ma]=null,Rn=Pa[--Ma],Pa[Ma]=null,An=Pa[--Ma],Pa[Ma]=null}var ea=null,yr=null,Wt=!1,gi=null,pn=!1,df=Error(s(519));function yi(a){var i=Error(s(418,""));throw Rl(Aa(i,a)),df}function Qy(a){var i=a.stateNode,o=a.type,d=a.memoizedProps;switch(i[Ne]=a,i[Me]=d,o){case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":case"embed":zt("load",i);break;case"video":case"audio":for(o=0;o<ac.length;o++)zt(ac[o],i);break;case"source":zt("error",i);break;case"img":case"image":case"link":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"input":zt("invalid",i),ud(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ti(i);break;case"select":zt("invalid",i);break;case"textarea":zt("invalid",i),wl(i,d.value,d.defaultValue,d.children),ti(i)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||fb(i.textContent,o)?(d.popover!=null&&(zt("beforetoggle",i),zt("toggle",i)),d.onScroll!=null&&zt("scroll",i),d.onScrollEnd!=null&&zt("scrollend",i),d.onClick!=null&&(i.onclick=ru),i=!0):i=!1,i||yi(a)}function Xy(a){for(ea=a.return;ea;)switch(ea.tag){case 5:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:ea=ea.return}}function Ol(a){if(a!==ea)return!1;if(!Wt)return Xy(a),Wt=!0,!1;var i=a.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=a.type,o=!(o!=="form"&&o!=="button")||$h(a.type,a.memoizedProps)),o=!o),o&&yr&&yi(a),Xy(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(o=a.data,o==="/$"){if(i===0){yr=Xa(a.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;a=a.nextSibling}yr=null}}else i===27?(i=yr,Cs(a.type)?(a=Th,Th=null,yr=a):yr=i):yr=ea?Xa(a.stateNode.nextSibling):null;return!0}function Al(){yr=ea=null,Wt=!1}function Wy(){var a=gi;return a!==null&&(fa===null?fa=a:fa.push.apply(fa,a),gi=null),a}function Rl(a){gi===null?gi=[a]:gi.push(a)}var uf=we(null),pi=null,Pn=null;function fs(a,i,o){te(uf,i._currentValue),i._currentValue=o}function Mn(a){a._currentValue=uf.current,L(uf)}function ff(a,i,o){for(;a!==null;){var d=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),a===o)break;a=a.return}}function hf(a,i,o,d){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var p=g.dependencies;if(p!==null){var S=g.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=g;for(var K=0;K<i.length;K++)if(E.context===i[K]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),ff(p.return,o,a),d||(S=null);break e}p=E.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),ff(S,o,a),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===a){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Pl(a,i,o,d){a=null;for(var g=i,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var E=g.type;pa(g.pendingProps.value,S.value)||(a!==null?a.push(E):a=[E])}}else if(g===Se.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(cc):a=[cc])}g=g.return}a!==null&&hf(i,a,o,d),i.flags|=262144}function jd(a){for(a=a.firstContext;a!==null;){if(!pa(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xi(a){pi=a,Pn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xr(a){return Zy(pi,a)}function kd(a,i){return pi===null&&xi(a),Zy(a,i)}function Zy(a,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Pn===null){if(a===null)throw Error(s(308));Pn=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Pn=Pn.next=i;return o}var zN=typeof AbortController!="undefined"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(o,d){a.push(d)}};this.abort=function(){i.aborted=!0,a.forEach(function(o){return o()})}},HN=e.unstable_scheduleCallback,qN=e.unstable_NormalPriority,Ar={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new zN,data:new Map,refCount:0}}function Ml(a){a.refCount--,a.refCount===0&&HN(qN,function(){a.controller.abort()})}var Dl=null,gf=0,lo=0,co=null;function GN(a,i){if(Dl===null){var o=Dl=[];gf=0,lo=ph(),co={status:"pending",value:void 0,then:function(d){o.push(d)}}}return gf++,i.then(Jy,Jy),i}function Jy(){if(--gf===0&&Dl!==null){co!==null&&(co.status="fulfilled");var a=Dl;Dl=null,lo=0,co=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function VN(a,i){var o=[],d={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return a.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),d}var ep=q.S;q.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GN(a,i),ep!==null&&ep(a,i)};var bi=we(null);function yf(){var a=bi.current;return a!==null?a:dr.pooledCache}function Sd(a,i){i===null?te(bi,bi.current):te(bi,i.pool)}function tp(){var a=yf();return a===null?null:{parent:Ar._currentValue,pool:a}}var Ll=Error(s(460)),rp=Error(s(474)),$d=Error(s(542)),pf={then:function(){}};function ap(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Cd(){}function np(a,i,o){switch(o=a[o],o===void 0?a.push(i):o!==i&&(i.then(Cd,Cd),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,ip(a),a;default:if(typeof i.status=="string")i.then(Cd,Cd);else{if(a=dr,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=i,a.status="pending",a.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,ip(a),a}throw Il=i,Ll}}var Il=null;function sp(){if(Il===null)throw Error(s(459));var a=Il;return Il=null,a}function ip(a){if(a===Ll||a===$d)throw Error(s(483))}var hs=!1;function xf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ms(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function gs(a,i,o){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Jt&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=bd(a),Vy(a,null,o),i}return xd(a,d,i,o),bd(a)}function Ul(a,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=a.pendingLanes,o|=d,i.lanes=o,ia(a,o)}}function vf(a,i){var o=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var g=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?g=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?g=p=i:p=p.next=i}else g=p=i;o={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:d.shared,callbacks:d.callbacks},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=i:a.next=i,o.lastBaseUpdate=i}var wf=!1;function Fl(){if(wf){var a=co;if(a!==null)throw a}}function Bl(a,i,o,d){wf=!1;var g=a.updateQueue;hs=!1;var p=g.firstBaseUpdate,S=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var K=E,ge=K.next;K.next=null,S===null?p=ge:S.next=ge,S=K;var _e=a.alternate;_e!==null&&(_e=_e.updateQueue,E=_e.lastBaseUpdate,E!==S&&(E===null?_e.firstBaseUpdate=ge:E.next=ge,_e.lastBaseUpdate=K))}if(p!==null){var Ae=g.baseState;S=0,_e=ge=K=null,E=p;do{var ve=E.lane&-536870913,je=ve!==E.lane;if(je?(Vt&ve)===ve:(d&ve)===ve){ve!==0&&ve===lo&&(wf=!0),_e!==null&&(_e=_e.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var St=a,bt=E;ve=i;var ir=o;switch(bt.tag){case 1:if(St=bt.payload,typeof St=="function"){Ae=St.call(ir,Ae,ve);break e}Ae=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=bt.payload,ve=typeof St=="function"?St.call(ir,Ae,ve):St,ve==null)break e;Ae=y({},Ae,ve);break e;case 2:hs=!0}}ve=E.callback,ve!==null&&(a.flags|=64,je&&(a.flags|=8192),je=g.callbacks,je===null?g.callbacks=[ve]:je.push(ve))}else je={lane:ve,tag:E.tag,payload:E.payload,callback:E.callback,next:null},_e===null?(ge=_e=je,K=Ae):_e=_e.next=je,S|=ve;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;je=E,E=je.next,je.next=null,g.lastBaseUpdate=je,g.shared.pending=null}}while(!0);_e===null&&(K=Ae),g.baseState=K,g.firstBaseUpdate=ge,g.lastBaseUpdate=_e,p===null&&(g.shared.lanes=0),js|=S,a.lanes=S,a.memoizedState=Ae}}function op(a,i){if(typeof a!="function")throw Error(s(191,a));a.call(i)}function lp(a,i){var o=a.callbacks;if(o!==null)for(a.callbacks=null,a=0;a<o.length;a++)op(o[a],i)}var uo=we(null),_d=we(0);function cp(a,i){a=zn,te(_d,a),te(uo,i),zn=a|i.baseLanes}function Nf(){te(_d,zn),te(uo,uo.current)}function jf(){zn=_d.current,L(uo),L(_d)}var ys=0,Dt=null,nr=null,Sr=null,Ed=!1,fo=!1,vi=!1,Td=0,zl=0,ho=null,KN=0;function br(){throw Error(s(321))}function kf(a,i){if(i===null)return!1;for(var o=0;o<i.length&&o<a.length;o++)if(!pa(a[o],i[o]))return!1;return!0}function Sf(a,i,o,d,g,p){return ys=p,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=a===null||a.memoizedState===null?Vp:Kp,vi=!1,p=o(d,g),vi=!1,fo&&(p=up(i,o,d,g)),dp(a),p}function dp(a){q.H=Dd;var i=nr!==null&&nr.next!==null;if(ys=0,Sr=nr=Dt=null,Ed=!1,zl=0,ho=null,i)throw Error(s(300));a===null||Lr||(a=a.dependencies,a!==null&&jd(a)&&(Lr=!0))}function up(a,i,o,d){Dt=a;var g=0;do{if(fo&&(ho=null),zl=0,fo=!1,25<=g)throw Error(s(301));if(g+=1,Sr=nr=null,a.updateQueue!=null){var p=a.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=ej,p=i(o,d)}while(fo);return p}function YN(){var a=q.H,i=a.useState()[0];return i=typeof i.then=="function"?Hl(i):i,a=a.useState()[0],(nr!==null?nr.memoizedState:null)!==a&&(Dt.flags|=1024),i}function $f(){var a=Td!==0;return Td=0,a}function Cf(a,i,o){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~o}function _f(a){if(Ed){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Ed=!1}ys=0,Sr=nr=Dt=null,fo=!1,zl=Td=0,ho=null}function da(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Dt.memoizedState=Sr=a:Sr=Sr.next=a,Sr}function $r(){if(nr===null){var a=Dt.alternate;a=a!==null?a.memoizedState:null}else a=nr.next;var i=Sr===null?Dt.memoizedState:Sr.next;if(i!==null)Sr=i,nr=a;else{if(a===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));nr=a,a={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},Sr===null?Dt.memoizedState=Sr=a:Sr=Sr.next=a}return Sr}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(a){var i=zl;return zl+=1,ho===null&&(ho=[]),a=np(ho,a,i),i=Dt,(Sr===null?i.memoizedState:Sr.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Vp:Kp),a}function Od(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hl(a);if(a.$$typeof===A)return Xr(a)}throw Error(s(438,String(a)))}function Tf(a){var i=null,o=Dt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=Dt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Ef(),Dt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(a),d=0;d<a;d++)o[d]=Q;return i.index++,o}function Dn(a,i){return typeof i=="function"?i(a):i}function Ad(a){var i=$r();return Of(i,nr,a)}function Of(a,i,o){var d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var g=a.baseQueue,p=d.pending;if(p!==null){if(g!==null){var S=g.next;g.next=p.next,p.next=S}i.baseQueue=g=p,d.pending=null}if(p=a.baseState,g===null)a.memoizedState=p;else{i=g.next;var E=S=null,K=null,ge=i,_e=!1;do{var Ae=ge.lane&-536870913;if(Ae!==ge.lane?(Vt&Ae)===Ae:(ys&Ae)===Ae){var ve=ge.revertLane;if(ve===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Ae===lo&&(_e=!0);else if((ys&ve)===ve){ge=ge.next,ve===lo&&(_e=!0);continue}else Ae={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},K===null?(E=K=Ae,S=p):K=K.next=Ae,Dt.lanes|=ve,js|=ve;Ae=ge.action,vi&&o(p,Ae),p=ge.hasEagerState?ge.eagerState:o(p,Ae)}else ve={lane:Ae,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},K===null?(E=K=ve,S=p):K=K.next=ve,Dt.lanes|=Ae,js|=Ae;ge=ge.next}while(ge!==null&&ge!==i);if(K===null?S=p:K.next=E,!pa(p,a.memoizedState)&&(Lr=!0,_e&&(o=co,o!==null)))throw o;a.memoizedState=p,a.baseState=S,a.baseQueue=K,d.lastRenderedState=p}return g===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Af(a){var i=$r(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var d=o.dispatch,g=o.pending,p=i.memoizedState;if(g!==null){o.pending=null;var S=g=g.next;do p=a(p,S.action),S=S.next;while(S!==g);pa(p,i.memoizedState)||(Lr=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,d]}function fp(a,i,o){var d=Dt,g=$r(),p=Wt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=i();var S=!pa((nr||g).memoizedState,o);S&&(g.memoizedState=o,Lr=!0),g=g.queue;var E=gp.bind(null,d,g,a);if(ql(2048,8,E,[a]),g.getSnapshot!==i||S||Sr!==null&&Sr.memoizedState.tag&1){if(d.flags|=2048,mo(9,Rd(),mp.bind(null,d,g,o,i),null),dr===null)throw Error(s(349));p||(ys&124)!==0||hp(d,i,o)}return o}function hp(a,i,o){a.flags|=16384,a={getSnapshot:i,value:o},i=Dt.updateQueue,i===null?(i=Ef(),Dt.updateQueue=i,i.stores=[a]):(o=i.stores,o===null?i.stores=[a]:o.push(a))}function mp(a,i,o,d){i.value=o,i.getSnapshot=d,yp(i)&&pp(a)}function gp(a,i,o){return o(function(){yp(i)&&pp(a)})}function yp(a){var i=a.getSnapshot;a=a.value;try{var o=i();return!pa(a,o)}catch(d){return!0}}function pp(a){var i=no(a,2);i!==null&&ja(i,a,2)}function Rf(a){var i=da();if(typeof a=="function"){var o=a;if(a=o(),vi){he(!0);try{o()}finally{he(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:a},i}function xp(a,i,o,d){return a.baseState=o,Of(a,nr,typeof d=="function"?d:Dn)}function QN(a,i,o,d,g){if(Md(a))throw Error(s(485));if(a=i.action,a!==null){var p={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};q.T!==null?o(!0):p.isTransition=!1,d(p),o=i.pending,o===null?(p.next=i.pending=p,bp(i,p)):(p.next=o.next,i.pending=o.next=p)}}function bp(a,i){var o=i.action,d=i.payload,g=a.state;if(i.isTransition){var p=q.T,S={};q.T=S;try{var E=o(g,d),K=q.S;K!==null&&K(S,E),vp(a,i,E)}catch(ge){Pf(a,i,ge)}finally{q.T=p}}else try{p=o(g,d),vp(a,i,p)}catch(ge){Pf(a,i,ge)}}function vp(a,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){wp(a,i,d)},function(d){return Pf(a,i,d)}):wp(a,i,o)}function wp(a,i,o){i.status="fulfilled",i.value=o,Np(i),a.state=o,i=a.pending,i!==null&&(o=i.next,o===i?a.pending=null:(o=o.next,i.next=o,bp(a,o)))}function Pf(a,i,o){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,Np(i),i=i.next;while(i!==d)}a.action=null}function Np(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function jp(a,i){return i}function kp(a,i){if(Wt){var o=dr.formState;if(o!==null){e:{var d=Dt;if(Wt){if(yr){t:{for(var g=yr,p=pn;g.nodeType!==8;){if(!p){g=null;break t}if(g=Xa(g.nextSibling),g===null){g=null;break t}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){yr=Xa(g.nextSibling),d=g.data==="F!";break e}}yi(d)}d=!1}d&&(i=o[0])}}return o=da(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:i},o.queue=d,o=Hp.bind(null,Dt,d),d.dispatch=o,d=Rf(!1),p=Uf.bind(null,Dt,!1,d.queue),d=da(),g={state:i,dispatch:null,action:a,pending:null},d.queue=g,o=QN.bind(null,Dt,g,p,o),g.dispatch=o,d.memoizedState=a,[i,o,!1]}function Sp(a){var i=$r();return $p(i,nr,a)}function $p(a,i,o){if(i=Of(a,i,jp)[0],a=Ad(Dn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Hl(i)}catch(S){throw S===Ll?$d:S}else d=i;i=$r();var g=i.queue,p=g.dispatch;return o!==i.memoizedState&&(Dt.flags|=2048,mo(9,Rd(),XN.bind(null,g,o),null)),[d,p,a]}function XN(a,i){a.action=i}function Cp(a){var i=$r(),o=nr;if(o!==null)return $p(i,o,a);$r(),i=i.memoizedState,o=$r();var d=o.queue.dispatch;return o.memoizedState=a,[i,d,!1]}function mo(a,i,o,d){return a={tag:a,create:o,deps:d,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=Ef(),Dt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=a.next=a:(d=o.next,o.next=a,a.next=d,i.lastEffect=a),a}function Rd(){return{destroy:void 0,resource:void 0}}function _p(){return $r().memoizedState}function Pd(a,i,o,d){var g=da();d=d===void 0?null:d,Dt.flags|=a,g.memoizedState=mo(1|i,Rd(),o,d)}function ql(a,i,o,d){var g=$r();d=d===void 0?null:d;var p=g.memoizedState.inst;nr!==null&&d!==null&&kf(d,nr.memoizedState.deps)?g.memoizedState=mo(i,p,o,d):(Dt.flags|=a,g.memoizedState=mo(1|i,p,o,d))}function Ep(a,i){Pd(8390656,8,a,i)}function Tp(a,i){ql(2048,8,a,i)}function Op(a,i){return ql(4,2,a,i)}function Ap(a,i){return ql(4,4,a,i)}function Rp(a,i){if(typeof i=="function"){a=a();var o=i(a);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Pp(a,i,o){o=o!=null?o.concat([a]):null,ql(4,4,Rp.bind(null,i,a),o)}function Mf(){}function Mp(a,i){var o=$r();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&kf(i,d[1])?d[0]:(o.memoizedState=[a,i],a)}function Dp(a,i){var o=$r();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&kf(i,d[1]))return d[0];if(d=a(),vi){he(!0);try{a()}finally{he(!1)}}return o.memoizedState=[d,i],d}function Df(a,i,o){return o===void 0||(ys&1073741824)!==0?a.memoizedState=i:(a.memoizedState=o,a=Ux(),Dt.lanes|=a,js|=a,o)}function Lp(a,i,o,d){return pa(o,i)?o:uo.current!==null?(a=Df(a,o,d),pa(a,i)||(Lr=!0),a):(ys&42)===0?(Lr=!0,a.memoizedState=o):(a=Ux(),Dt.lanes|=a,js|=a,i)}function Ip(a,i,o,d,g){var p=ae.p;ae.p=p!==0&&8>p?p:8;var S=q.T,E={};q.T=E,Uf(a,!1,i,o);try{var K=g(),ge=q.S;if(ge!==null&&ge(E,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var _e=VN(K,d);Gl(a,i,_e,Na(a))}else Gl(a,i,d,Na(a))}catch(Ae){Gl(a,i,{then:function(){},status:"rejected",reason:Ae},Na())}finally{ae.p=p,q.T=S}}function WN(){}function Lf(a,i,o,d){if(a.tag!==5)throw Error(s(476));var g=Up(a).queue;Ip(a,g,i,me,o===null?WN:function(){return Fp(a),o(d)})}function Up(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:o},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function Fp(a){var i=Up(a).next.queue;Gl(a,i,{},Na())}function If(){return Xr(cc)}function Bp(){return $r().memoizedState}function zp(){return $r().memoizedState}function ZN(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var o=Na();a=ms(o);var d=gs(i,a,o);d!==null&&(ja(d,i,o),Ul(d,i,o)),i={cache:mf()},a.payload=i;return}i=i.return}}function JN(a,i,o){var d=Na();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Md(a)?qp(i,o):(o=af(a,i,o,d),o!==null&&(ja(o,a,d),Gp(o,i,d)))}function Hp(a,i,o){var d=Na();Gl(a,i,o,d)}function Gl(a,i,o,d){var g={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Md(a))qp(i,g);else{var p=a.alternate;if(a.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var S=i.lastRenderedState,E=p(S,o);if(g.hasEagerState=!0,g.eagerState=E,pa(E,S))return xd(a,i,g,0),dr===null&&pd(),!1}catch(K){}finally{}if(o=af(a,i,g,d),o!==null)return ja(o,a,d),Gp(o,i,d),!0}return!1}function Uf(a,i,o,d){if(d={lane:2,revertLane:ph(),action:d,hasEagerState:!1,eagerState:null,next:null},Md(a)){if(i)throw Error(s(479))}else i=af(a,o,d,2),i!==null&&ja(i,a,2)}function Md(a){var i=a.alternate;return a===Dt||i!==null&&i===Dt}function qp(a,i){fo=Ed=!0;var o=a.pending;o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i}function Gp(a,i,o){if((o&4194048)!==0){var d=i.lanes;d&=a.pendingLanes,o|=d,i.lanes=o,ia(a,o)}}var Dd={readContext:Xr,use:Od,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br},Vp={readContext:Xr,use:Od,useCallback:function(a,i){return da().memoizedState=[a,i===void 0?null:i],a},useContext:Xr,useEffect:Ep,useImperativeHandle:function(a,i,o){o=o!=null?o.concat([a]):null,Pd(4194308,4,Rp.bind(null,i,a),o)},useLayoutEffect:function(a,i){return Pd(4194308,4,a,i)},useInsertionEffect:function(a,i){Pd(4,2,a,i)},useMemo:function(a,i){var o=da();i=i===void 0?null:i;var d=a();if(vi){he(!0);try{a()}finally{he(!1)}}return o.memoizedState=[d,i],d},useReducer:function(a,i,o){var d=da();if(o!==void 0){var g=o(i);if(vi){he(!0);try{o(i)}finally{he(!1)}}}else g=i;return d.memoizedState=d.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},d.queue=a,a=a.dispatch=JN.bind(null,Dt,a),[d.memoizedState,a]},useRef:function(a){var i=da();return a={current:a},i.memoizedState=a},useState:function(a){a=Rf(a);var i=a.queue,o=Hp.bind(null,Dt,i);return i.dispatch=o,[a.memoizedState,o]},useDebugValue:Mf,useDeferredValue:function(a,i){var o=da();return Df(o,a,i)},useTransition:function(){var a=Rf(!1);return a=Ip.bind(null,Dt,a.queue,!0,!1),da().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,o){var d=Dt,g=da();if(Wt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),dr===null)throw Error(s(349));(Vt&124)!==0||hp(d,i,o)}g.memoizedState=o;var p={value:o,getSnapshot:i};return g.queue=p,Ep(gp.bind(null,d,p,a),[a]),d.flags|=2048,mo(9,Rd(),mp.bind(null,d,p,o,i),null),o},useId:function(){var a=da(),i=dr.identifierPrefix;if(Wt){var o=Rn,d=An;o=(d&~(1<<32-Pe(d)-1)).toString(32)+o,i=""+i+"R"+o,o=Td++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=KN++,i=""+i+"r"+o.toString(32)+"";return a.memoizedState=i},useHostTransitionStatus:If,useFormState:kp,useActionState:kp,useOptimistic:function(a){var i=da();i.memoizedState=i.baseState=a;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Uf.bind(null,Dt,!0,o),o.dispatch=i,[a,i]},useMemoCache:Tf,useCacheRefresh:function(){return da().memoizedState=ZN.bind(null,Dt)}},Kp={readContext:Xr,use:Od,useCallback:Mp,useContext:Xr,useEffect:Tp,useImperativeHandle:Pp,useInsertionEffect:Op,useLayoutEffect:Ap,useMemo:Dp,useReducer:Ad,useRef:_p,useState:function(){return Ad(Dn)},useDebugValue:Mf,useDeferredValue:function(a,i){var o=$r();return Lp(o,nr.memoizedState,a,i)},useTransition:function(){var a=Ad(Dn)[0],i=$r().memoizedState;return[typeof a=="boolean"?a:Hl(a),i]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:If,useFormState:Sp,useActionState:Sp,useOptimistic:function(a,i){var o=$r();return xp(o,nr,a,i)},useMemoCache:Tf,useCacheRefresh:zp},ej={readContext:Xr,use:Od,useCallback:Mp,useContext:Xr,useEffect:Tp,useImperativeHandle:Pp,useInsertionEffect:Op,useLayoutEffect:Ap,useMemo:Dp,useReducer:Af,useRef:_p,useState:function(){return Af(Dn)},useDebugValue:Mf,useDeferredValue:function(a,i){var o=$r();return nr===null?Df(o,a,i):Lp(o,nr.memoizedState,a,i)},useTransition:function(){var a=Af(Dn)[0],i=$r().memoizedState;return[typeof a=="boolean"?a:Hl(a),i]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:If,useFormState:Cp,useActionState:Cp,useOptimistic:function(a,i){var o=$r();return nr!==null?xp(o,nr,a,i):(o.baseState=a,[a,o.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:zp},go=null,Vl=0;function Ld(a){var i=Vl;return Vl+=1,go===null&&(go=[]),np(go,a,i)}function Kl(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function Id(a,i){throw i.$$typeof===w?Error(s(525)):(a=Object.prototype.toString.call(i),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function Yp(a){var i=a._init;return i(a._payload)}function Qp(a){function i(ie,ee){if(a){var ue=ie.deletions;ue===null?(ie.deletions=[ee],ie.flags|=16):ue.push(ee)}}function o(ie,ee){if(!a)return null;for(;ee!==null;)i(ie,ee),ee=ee.sibling;return null}function d(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function g(ie,ee){return ie=On(ie,ee),ie.index=0,ie.sibling=null,ie}function p(ie,ee,ue){return ie.index=ue,a?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<ee?(ie.flags|=67108866,ee):ue):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function S(ie){return a&&ie.alternate===null&&(ie.flags|=67108866),ie}function E(ie,ee,ue,Ee){return ee===null||ee.tag!==6?(ee=sf(ue,ie.mode,Ee),ee.return=ie,ee):(ee=g(ee,ue),ee.return=ie,ee)}function K(ie,ee,ue,Ee){var nt=ue.type;return nt===$?_e(ie,ee,ue.props.children,Ee,ue.key):ee!==null&&(ee.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===z&&Yp(nt)===ee.type)?(ee=g(ee,ue.props),Kl(ee,ue),ee.return=ie,ee):(ee=vd(ue.type,ue.key,ue.props,null,ie.mode,Ee),Kl(ee,ue),ee.return=ie,ee)}function ge(ie,ee,ue,Ee){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ue.containerInfo||ee.stateNode.implementation!==ue.implementation?(ee=of(ue,ie.mode,Ee),ee.return=ie,ee):(ee=g(ee,ue.children||[]),ee.return=ie,ee)}function _e(ie,ee,ue,Ee,nt){return ee===null||ee.tag!==7?(ee=fi(ue,ie.mode,Ee,nt),ee.return=ie,ee):(ee=g(ee,ue),ee.return=ie,ee)}function Ae(ie,ee,ue){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=sf(""+ee,ie.mode,ue),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ue=vd(ee.type,ee.key,ee.props,null,ie.mode,ue),Kl(ue,ee),ue.return=ie,ue;case v:return ee=of(ee,ie.mode,ue),ee.return=ie,ee;case z:var Ee=ee._init;return ee=Ee(ee._payload),Ae(ie,ee,ue)}if(Oe(ee)||X(ee))return ee=fi(ee,ie.mode,ue,null),ee.return=ie,ee;if(typeof ee.then=="function")return Ae(ie,Ld(ee),ue);if(ee.$$typeof===A)return Ae(ie,kd(ie,ee),ue);Id(ie,ee)}return null}function ve(ie,ee,ue,Ee){var nt=ee!==null?ee.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return nt!==null?null:E(ie,ee,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return ue.key===nt?K(ie,ee,ue,Ee):null;case v:return ue.key===nt?ge(ie,ee,ue,Ee):null;case z:return nt=ue._init,ue=nt(ue._payload),ve(ie,ee,ue,Ee)}if(Oe(ue)||X(ue))return nt!==null?null:_e(ie,ee,ue,Ee,null);if(typeof ue.then=="function")return ve(ie,ee,Ld(ue),Ee);if(ue.$$typeof===A)return ve(ie,ee,kd(ie,ue),Ee);Id(ie,ue)}return null}function je(ie,ee,ue,Ee,nt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ie=ie.get(ue)||null,E(ee,ie,""+Ee,nt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return ie=ie.get(Ee.key===null?ue:Ee.key)||null,K(ee,ie,Ee,nt);case v:return ie=ie.get(Ee.key===null?ue:Ee.key)||null,ge(ee,ie,Ee,nt);case z:var It=Ee._init;return Ee=It(Ee._payload),je(ie,ee,ue,Ee,nt)}if(Oe(Ee)||X(Ee))return ie=ie.get(ue)||null,_e(ee,ie,Ee,nt,null);if(typeof Ee.then=="function")return je(ie,ee,ue,Ld(Ee),nt);if(Ee.$$typeof===A)return je(ie,ee,ue,kd(ee,Ee),nt);Id(ee,Ee)}return null}function St(ie,ee,ue,Ee){for(var nt=null,It=null,ft=ee,Nt=ee=0,Ur=null;ft!==null&&Nt<ue.length;Nt++){ft.index>Nt?(Ur=ft,ft=null):Ur=ft.sibling;var Qt=ve(ie,ft,ue[Nt],Ee);if(Qt===null){ft===null&&(ft=Ur);break}a&&ft&&Qt.alternate===null&&i(ie,ft),ee=p(Qt,ee,Nt),It===null?nt=Qt:It.sibling=Qt,It=Qt,ft=Ur}if(Nt===ue.length)return o(ie,ft),Wt&&mi(ie,Nt),nt;if(ft===null){for(;Nt<ue.length;Nt++)ft=Ae(ie,ue[Nt],Ee),ft!==null&&(ee=p(ft,ee,Nt),It===null?nt=ft:It.sibling=ft,It=ft);return Wt&&mi(ie,Nt),nt}for(ft=d(ft);Nt<ue.length;Nt++)Ur=je(ft,ie,Nt,ue[Nt],Ee),Ur!==null&&(a&&Ur.alternate!==null&&ft.delete(Ur.key===null?Nt:Ur.key),ee=p(Ur,ee,Nt),It===null?nt=Ur:It.sibling=Ur,It=Ur);return a&&ft.forEach(function(As){return i(ie,As)}),Wt&&mi(ie,Nt),nt}function bt(ie,ee,ue,Ee){if(ue==null)throw Error(s(151));for(var nt=null,It=null,ft=ee,Nt=ee=0,Ur=null,Qt=ue.next();ft!==null&&!Qt.done;Nt++,Qt=ue.next()){ft.index>Nt?(Ur=ft,ft=null):Ur=ft.sibling;var As=ve(ie,ft,Qt.value,Ee);if(As===null){ft===null&&(ft=Ur);break}a&&ft&&As.alternate===null&&i(ie,ft),ee=p(As,ee,Nt),It===null?nt=As:It.sibling=As,It=As,ft=Ur}if(Qt.done)return o(ie,ft),Wt&&mi(ie,Nt),nt;if(ft===null){for(;!Qt.done;Nt++,Qt=ue.next())Qt=Ae(ie,Qt.value,Ee),Qt!==null&&(ee=p(Qt,ee,Nt),It===null?nt=Qt:It.sibling=Qt,It=Qt);return Wt&&mi(ie,Nt),nt}for(ft=d(ft);!Qt.done;Nt++,Qt=ue.next())Qt=je(ft,ie,Nt,Qt.value,Ee),Qt!==null&&(a&&Qt.alternate!==null&&ft.delete(Qt.key===null?Nt:Qt.key),ee=p(Qt,ee,Nt),It===null?nt=Qt:It.sibling=Qt,It=Qt);return a&&ft.forEach(function(tk){return i(ie,tk)}),Wt&&mi(ie,Nt),nt}function ir(ie,ee,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===$&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:e:{for(var nt=ue.key;ee!==null;){if(ee.key===nt){if(nt=ue.type,nt===$){if(ee.tag===7){o(ie,ee.sibling),Ee=g(ee,ue.props.children),Ee.return=ie,ie=Ee;break e}}else if(ee.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===z&&Yp(nt)===ee.type){o(ie,ee.sibling),Ee=g(ee,ue.props),Kl(Ee,ue),Ee.return=ie,ie=Ee;break e}o(ie,ee);break}else i(ie,ee);ee=ee.sibling}ue.type===$?(Ee=fi(ue.props.children,ie.mode,Ee,ue.key),Ee.return=ie,ie=Ee):(Ee=vd(ue.type,ue.key,ue.props,null,ie.mode,Ee),Kl(Ee,ue),Ee.return=ie,ie=Ee)}return S(ie);case v:e:{for(nt=ue.key;ee!==null;){if(ee.key===nt)if(ee.tag===4&&ee.stateNode.containerInfo===ue.containerInfo&&ee.stateNode.implementation===ue.implementation){o(ie,ee.sibling),Ee=g(ee,ue.children||[]),Ee.return=ie,ie=Ee;break e}else{o(ie,ee);break}else i(ie,ee);ee=ee.sibling}Ee=of(ue,ie.mode,Ee),Ee.return=ie,ie=Ee}return S(ie);case z:return nt=ue._init,ue=nt(ue._payload),ir(ie,ee,ue,Ee)}if(Oe(ue))return St(ie,ee,ue,Ee);if(X(ue)){if(nt=X(ue),typeof nt!="function")throw Error(s(150));return ue=nt.call(ue),bt(ie,ee,ue,Ee)}if(typeof ue.then=="function")return ir(ie,ee,Ld(ue),Ee);if(ue.$$typeof===A)return ir(ie,ee,kd(ie,ue),Ee);Id(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ee!==null&&ee.tag===6?(o(ie,ee.sibling),Ee=g(ee,ue),Ee.return=ie,ie=Ee):(o(ie,ee),Ee=sf(ue,ie.mode,Ee),Ee.return=ie,ie=Ee),S(ie)):o(ie,ee)}return function(ie,ee,ue,Ee){try{Vl=0;var nt=ir(ie,ee,ue,Ee);return go=null,nt}catch(ft){if(ft===Ll||ft===$d)throw ft;var It=xa(29,ft,null,ie.mode);return It.lanes=Ee,It.return=ie,It}finally{}}}var yo=Qp(!0),Xp=Qp(!1),Da=we(null),xn=null;function ps(a){var i=a.alternate;te(Rr,Rr.current&1),te(Da,a),xn===null&&(i===null||uo.current!==null||i.memoizedState!==null)&&(xn=a)}function Wp(a){if(a.tag===22){if(te(Rr,Rr.current),te(Da,a),xn===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(xn=a)}}else xs()}function xs(){te(Rr,Rr.current),te(Da,Da.current)}function Ln(a){L(Da),xn===a&&(xn=null),L(Rr)}var Rr=we(0);function Ud(a){for(var i=a;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Eh(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ff(a,i,o,d){i=a.memoizedState,o=o(d,i),o=o==null?i:y({},i,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var Bf={enqueueSetState:function(a,i,o){a=a._reactInternals;var d=Na(),g=ms(d);g.payload=i,o!=null&&(g.callback=o),i=gs(a,g,d),i!==null&&(ja(i,a,d),Ul(i,a,d))},enqueueReplaceState:function(a,i,o){a=a._reactInternals;var d=Na(),g=ms(d);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=gs(a,g,d),i!==null&&(ja(i,a,d),Ul(i,a,d))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var o=Na(),d=ms(o);d.tag=2,i!=null&&(d.callback=i),i=gs(a,d,o),i!==null&&(ja(i,a,o),Ul(i,a,o))}};function Zp(a,i,o,d,g,p,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,p,S):i.prototype&&i.prototype.isPureReactComponent?!El(o,d)||!El(g,p):!0}function Jp(a,i,o,d){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==a&&Bf.enqueueReplaceState(i,i.state,null)}function wi(a,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(a=a.defaultProps){o===i&&(o=y({},o));for(var g in a)o[g]===void 0&&(o[g]=a[g])}return o}var Fd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function ex(a){Fd(a)}function tx(a){console.error(a)}function rx(a){Fd(a)}function Bd(a,i){try{var o=a.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function ax(a,i,o){try{var d=a.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zf(a,i,o){return o=ms(o),o.tag=3,o.payload={element:null},o.callback=function(){Bd(a,i)},o}function nx(a){return a=ms(a),a.tag=3,a}function sx(a,i,o,d){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var p=d.value;a.payload=function(){return g(p)},a.callback=function(){ax(i,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){ax(i,o,d),typeof g!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=d.stack;this.componentDidCatch(d.value,{componentStack:E!==null?E:""})})}function tj(a,i,o,d,g){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Pl(i,o,g,!0),o=Da.current,o!==null){switch(o.tag){case 13:return xn===null?fh():o.alternate===null&&pr===0&&(pr=3),o.flags&=-257,o.flags|=65536,o.lanes=g,d===pf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),mh(a,d,g)),!1;case 22:return o.flags|=65536,d===pf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),mh(a,d,g)),!1}throw Error(s(435,o.tag))}return mh(a,d,g),fh(),!1}if(Wt)return i=Da.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==df&&(a=Error(s(422),{cause:d}),Rl(Aa(a,o)))):(d!==df&&(i=Error(s(423),{cause:d}),Rl(Aa(i,o))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,d=Aa(d,o),g=zf(a.stateNode,d,g),vf(a,g),pr!==4&&(pr=2)),!1;var p=Error(s(520),{cause:d});if(p=Aa(p,o),ec===null?ec=[p]:ec.push(p),pr!==4&&(pr=2),i===null)return!0;d=Aa(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,a=g&-g,o.lanes|=a,a=zf(o.stateNode,d,a),vf(o,a),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ks===null||!ks.has(p))))return o.flags|=65536,g&=-g,o.lanes|=g,g=nx(g),sx(g,a,o,d),vf(o,g),!1}o=o.return}while(o!==null);return!1}var ix=Error(s(461)),Lr=!1;function Br(a,i,o,d){i.child=a===null?Xp(i,null,o,d):yo(i,a.child,o,d)}function ox(a,i,o,d,g){o=o.render;var p=i.ref;if("ref"in d){var S={};for(var E in d)E!=="ref"&&(S[E]=d[E])}else S=d;return xi(i),d=Sf(a,i,o,S,p,g),E=$f(),a!==null&&!Lr?(Cf(a,i,g),In(a,i,g)):(Wt&&E&&lf(i),i.flags|=1,Br(a,i,d,g),i.child)}function lx(a,i,o,d,g){if(a===null){var p=o.type;return typeof p=="function"&&!nf(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,cx(a,i,p,d,g)):(a=vd(o.type,null,d,i,i.mode,g),a.ref=i.ref,a.return=i,i.child=a)}if(p=a.child,!Xf(a,g)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(S,d)&&a.ref===i.ref)return In(a,i,g)}return i.flags|=1,a=On(p,d),a.ref=i.ref,a.return=i,i.child=a}function cx(a,i,o,d,g){if(a!==null){var p=a.memoizedProps;if(El(p,d)&&a.ref===i.ref)if(Lr=!1,i.pendingProps=d=p,Xf(a,g))(a.flags&131072)!==0&&(Lr=!0);else return i.lanes=a.lanes,In(a,i,g)}return Hf(a,i,o,d,g)}function dx(a,i,o){var d=i.pendingProps,g=d.children,p=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=p!==null?p.baseLanes|o:o,a!==null){for(g=i.child=a.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;i.childLanes=p&~d}else i.childLanes=0,i.child=null;return ux(a,i,d,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Sd(i,p!==null?p.cachePool:null),p!==null?cp(i,p):Nf(),Wp(i);else return i.lanes=i.childLanes=536870912,ux(a,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(Sd(i,p.cachePool),cp(i,p),xs(),i.memoizedState=null):(a!==null&&Sd(i,null),Nf(),xs());return Br(a,i,g,o),i.child}function ux(a,i,o,d){var g=yf();return g=g===null?null:{parent:Ar._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},a!==null&&Sd(i,null),Nf(),Wp(i),a!==null&&Pl(a,i,d,!0),null}function zd(a,i){var o=i.ref;if(o===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(a===null||a.ref!==o)&&(i.flags|=4194816)}}function Hf(a,i,o,d,g){return xi(i),o=Sf(a,i,o,d,void 0,g),d=$f(),a!==null&&!Lr?(Cf(a,i,g),In(a,i,g)):(Wt&&d&&lf(i),i.flags|=1,Br(a,i,o,g),i.child)}function fx(a,i,o,d,g,p){return xi(i),i.updateQueue=null,o=up(i,d,o,g),dp(a),d=$f(),a!==null&&!Lr?(Cf(a,i,p),In(a,i,p)):(Wt&&d&&lf(i),i.flags|=1,Br(a,i,o,p),i.child)}function hx(a,i,o,d,g){if(xi(i),i.stateNode===null){var p=so,S=o.contextType;typeof S=="object"&&S!==null&&(p=Xr(S)),p=new o(d,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=d,p.state=i.memoizedState,p.refs={},xf(i),S=o.contextType,p.context=typeof S=="object"&&S!==null?Xr(S):so,p.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Ff(i,o,S,d),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Bf.enqueueReplaceState(p,p.state,null),Bl(i,d,p,g),Fl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(a===null){p=i.stateNode;var E=i.memoizedProps,K=wi(o,E);p.props=K;var ge=p.context,_e=o.contextType;S=so,typeof _e=="object"&&_e!==null&&(S=Xr(_e));var Ae=o.getDerivedStateFromProps;_e=typeof Ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,_e||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||ge!==S)&&Jp(i,p,d,S),hs=!1;var ve=i.memoizedState;p.state=ve,Bl(i,d,p,g),Fl(),ge=i.memoizedState,E||ve!==ge||hs?(typeof Ae=="function"&&(Ff(i,o,Ae,d),ge=i.memoizedState),(K=hs||Zp(i,o,K,d,ve,ge,S))?(_e||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ge),p.props=d,p.state=ge,p.context=S,d=K):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{p=i.stateNode,bf(a,i),S=i.memoizedProps,_e=wi(o,S),p.props=_e,Ae=i.pendingProps,ve=p.context,ge=o.contextType,K=so,typeof ge=="object"&&ge!==null&&(K=Xr(ge)),E=o.getDerivedStateFromProps,(ge=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Ae||ve!==K)&&Jp(i,p,d,K),hs=!1,ve=i.memoizedState,p.state=ve,Bl(i,d,p,g),Fl();var je=i.memoizedState;S!==Ae||ve!==je||hs||a!==null&&a.dependencies!==null&&jd(a.dependencies)?(typeof E=="function"&&(Ff(i,o,E,d),je=i.memoizedState),(_e=hs||Zp(i,o,_e,d,ve,je,K)||a!==null&&a.dependencies!==null&&jd(a.dependencies))?(ge||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(d,je,K),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(d,je,K)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=je),p.props=d,p.state=je,p.context=K,d=_e):(typeof p.componentDidUpdate!="function"||S===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),d=!1)}return p=d,zd(a,i),d=(i.flags&128)!==0,p||d?(p=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,a!==null&&d?(i.child=yo(i,a.child,null,g),i.child=yo(i,null,o,g)):Br(a,i,o,g),i.memoizedState=p.state,a=i.child):a=In(a,i,g),a}function mx(a,i,o,d){return Al(),i.flags|=256,Br(a,i,o,d),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(a){return{baseLanes:a,cachePool:tp()}}function Vf(a,i,o){return a=a!==null?a.childLanes&~o:0,i&&(a|=La),a}function gx(a,i,o){var d=i.pendingProps,g=!1,p=(i.flags&128)!==0,S;if((S=p)||(S=a!==null&&a.memoizedState===null?!1:(Rr.current&2)!==0),S&&(g=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,a===null){if(Wt){if(g?ps(i):xs(),Wt){var E=yr,K;if(K=E){e:{for(K=E,E=pn;K.nodeType!==8;){if(!E){E=null;break e}if(K=Xa(K.nextSibling),K===null){E=null;break e}}E=K}E!==null?(i.memoizedState={dehydrated:E,treeContext:hi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},K=xa(18,null,null,0),K.stateNode=E,K.return=i,i.child=K,ea=i,yr=null,K=!0):K=!1}K||yi(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Eh(E)?i.lanes=32:i.lanes=536870912,null;Ln(i)}return E=d.children,d=d.fallback,g?(xs(),g=i.mode,E=Hd({mode:"hidden",children:E},g),d=fi(d,g,o,null),E.return=i,d.return=i,E.sibling=d,i.child=E,g=i.child,g.memoizedState=Gf(o),g.childLanes=Vf(a,S,o),i.memoizedState=qf,d):(ps(i),Kf(i,E))}if(K=a.memoizedState,K!==null&&(E=K.dehydrated,E!==null)){if(p)i.flags&256?(ps(i),i.flags&=-257,i=Yf(a,i,o)):i.memoizedState!==null?(xs(),i.child=a.child,i.flags|=128,i=null):(xs(),g=d.fallback,E=i.mode,d=Hd({mode:"visible",children:d.children},E),g=fi(g,E,o,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,yo(i,a.child,null,o),d=i.child,d.memoizedState=Gf(o),d.childLanes=Vf(a,S,o),i.memoizedState=qf,i=g);else if(ps(i),Eh(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var ge=S.dgst;S=ge,d=Error(s(419)),d.stack="",d.digest=S,Rl({value:d,source:null,stack:null}),i=Yf(a,i,o)}else if(Lr||Pl(a,i,o,!1),S=(o&a.childLanes)!==0,Lr||S){if(S=dr,S!==null&&(d=o&-o,d=(d&42)!==0?1:Tr(d),d=(d&(S.suspendedLanes|o))!==0?0:d,d!==0&&d!==K.retryLane))throw K.retryLane=d,no(a,d),ja(S,a,d),ix;E.data==="$?"||fh(),i=Yf(a,i,o)}else E.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=K.treeContext,yr=Xa(E.nextSibling),ea=i,Wt=!0,gi=null,pn=!1,a!==null&&(Pa[Ma++]=An,Pa[Ma++]=Rn,Pa[Ma++]=hi,An=a.id,Rn=a.overflow,hi=i),i=Kf(i,d.children),i.flags|=4096);return i}return g?(xs(),g=d.fallback,E=i.mode,K=a.child,ge=K.sibling,d=On(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ge!==null?g=On(ge,g):(g=fi(g,E,o,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,E=a.child.memoizedState,E===null?E=Gf(o):(K=E.cachePool,K!==null?(ge=Ar._currentValue,K=K.parent!==ge?{parent:ge,pool:ge}:K):K=tp(),E={baseLanes:E.baseLanes|o,cachePool:K}),g.memoizedState=E,g.childLanes=Vf(a,S,o),i.memoizedState=qf,d):(ps(i),o=a.child,a=o.sibling,o=On(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,a!==null&&(S=i.deletions,S===null?(i.deletions=[a],i.flags|=16):S.push(a)),i.child=o,i.memoizedState=null,o)}function Kf(a,i){return i=Hd({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Hd(a,i){return a=xa(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Yf(a,i,o){return yo(i,a.child,null,o),a=Kf(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function yx(a,i,o){a.lanes|=i;var d=a.alternate;d!==null&&(d.lanes|=i),ff(a.return,i,o)}function Qf(a,i,o,d,g){var p=a.memoizedState;p===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:g}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=d,p.tail=o,p.tailMode=g)}function px(a,i,o){var d=i.pendingProps,g=d.revealOrder,p=d.tail;if(Br(a,i,d.children,o),d=Rr.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yx(a,o,i);else if(a.tag===19)yx(a,o,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(te(Rr,d),g){case"forwards":for(o=i.child,g=null;o!==null;)a=o.alternate,a!==null&&Ud(a)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),Qf(i,!1,g,o,p);break;case"backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(a=g.alternate,a!==null&&Ud(a)===null){i.child=g;break}a=g.sibling,g.sibling=o,o=g,g=a}Qf(i,!0,o,null,p);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function In(a,i,o){if(a!==null&&(i.dependencies=a.dependencies),js|=i.lanes,(o&i.childLanes)===0)if(a!==null){if(Pl(a,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(s(153));if(i.child!==null){for(a=i.child,o=On(a,a.pendingProps),i.child=o,o.return=i;a.sibling!==null;)a=a.sibling,o=o.sibling=On(a,a.pendingProps),o.return=i;o.sibling=null}return i.child}function Xf(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&jd(a)))}function rj(a,i,o){switch(i.tag){case 3:J(i,i.stateNode.containerInfo),fs(i,Ar,a.memoizedState.cache),Al();break;case 27:case 5:be(i);break;case 4:J(i,i.stateNode.containerInfo);break;case 10:fs(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(ps(i),i.flags|=128,null):(o&i.child.childLanes)!==0?gx(a,i,o):(ps(i),a=In(a,i,o),a!==null?a.sibling:null);ps(i);break;case 19:var g=(a.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Pl(a,i,o,!1),d=(o&i.childLanes)!==0),g){if(d)return px(a,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),te(Rr,Rr.current),d)break;return null;case 22:case 23:return i.lanes=0,dx(a,i,o);case 24:fs(i,Ar,a.memoizedState.cache)}return In(a,i,o)}function xx(a,i,o){if(a!==null)if(a.memoizedProps!==i.pendingProps)Lr=!0;else{if(!Xf(a,o)&&(i.flags&128)===0)return Lr=!1,rj(a,i,o);Lr=(a.flags&131072)!==0}else Lr=!1,Wt&&(i.flags&1048576)!==0&&Yy(i,Nd,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")nf(d)?(a=wi(d,a),i.tag=1,i=hx(null,i,d,a,o)):(i.tag=0,i=Hf(null,i,d,a,o));else{if(d!=null){if(g=d.$$typeof,g===B){i.tag=11,i=ox(null,i,d,a,o);break e}else if(g===G){i.tag=14,i=lx(null,i,d,a,o);break e}}throw i=pe(d)||d,Error(s(306,i,""))}}return i;case 0:return Hf(a,i,i.type,i.pendingProps,o);case 1:return d=i.type,g=wi(d,i.pendingProps),hx(a,i,d,g,o);case 3:e:{if(J(i,i.stateNode.containerInfo),a===null)throw Error(s(387));d=i.pendingProps;var p=i.memoizedState;g=p.element,bf(a,i),Bl(i,d,null,o);var S=i.memoizedState;if(d=S.cache,fs(i,Ar,d),d!==p.cache&&hf(i,[Ar],o,!0),Fl(),d=S.element,p.isDehydrated)if(p={element:d,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=mx(a,i,d,o);break e}else if(d!==g){g=Aa(Error(s(424)),i),Rl(g),i=mx(a,i,d,o);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(yr=Xa(a.firstChild),ea=i,Wt=!0,gi=null,pn=!0,o=Xp(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Al(),d===g){i=In(a,i,o);break e}Br(a,i,d,o)}i=i.child}return i;case 26:return zd(a,i),a===null?(o=Nb(i.type,null,i.pendingProps,null))?i.memoizedState=o:Wt||(o=i.type,a=i.pendingProps,d=au(Y.current).createElement(o),d[Ne]=i,d[Me]=a,Hr(d,o,a),re(d),i.stateNode=d):i.memoizedState=Nb(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return be(i),a===null&&Wt&&(d=i.stateNode=bb(i.type,i.pendingProps,Y.current),ea=i,pn=!0,g=yr,Cs(i.type)?(Th=g,yr=Xa(d.firstChild)):yr=g),Br(a,i,i.pendingProps.children,o),zd(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&Wt&&((g=d=yr)&&(d=Tj(d,i.type,i.pendingProps,pn),d!==null?(i.stateNode=d,ea=i,yr=Xa(d.firstChild),pn=!1,g=!0):g=!1),g||yi(i)),be(i),g=i.type,p=i.pendingProps,S=a!==null?a.memoizedProps:null,d=p.children,$h(g,p)?d=null:S!==null&&$h(g,S)&&(i.flags|=32),i.memoizedState!==null&&(g=Sf(a,i,YN,null,null,o),cc._currentValue=g),zd(a,i),Br(a,i,d,o),i.child;case 6:return a===null&&Wt&&((a=o=yr)&&(o=Oj(o,i.pendingProps,pn),o!==null?(i.stateNode=o,ea=i,yr=null,a=!0):a=!1),a||yi(i)),null;case 13:return gx(a,i,o);case 4:return J(i,i.stateNode.containerInfo),d=i.pendingProps,a===null?i.child=yo(i,null,d,o):Br(a,i,d,o),i.child;case 11:return ox(a,i,i.type,i.pendingProps,o);case 7:return Br(a,i,i.pendingProps,o),i.child;case 8:return Br(a,i,i.pendingProps.children,o),i.child;case 12:return Br(a,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,fs(i,i.type,d.value),Br(a,i,d.children,o),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,xi(i),g=Xr(g),d=d(g),i.flags|=1,Br(a,i,d,o),i.child;case 14:return lx(a,i,i.type,i.pendingProps,o);case 15:return cx(a,i,i.type,i.pendingProps,o);case 19:return px(a,i,o);case 31:return d=i.pendingProps,o=i.mode,d={mode:d.mode,children:d.children},a===null?(o=Hd(d,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=On(a.child,d),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return dx(a,i,o);case 24:return xi(i),d=Xr(Ar),a===null?(g=yf(),g===null&&(g=dr,p=mf(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=o),g=p),i.memoizedState={parent:d,cache:g},xf(i),fs(i,Ar,g)):((a.lanes&o)!==0&&(bf(a,i),Bl(i,null,null,o),Fl()),g=a.memoizedState,p=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),fs(i,Ar,d)):(d=p.cache,fs(i,Ar,d),d!==g.cache&&hf(i,[Ar],o,!0))),Br(a,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Un(a){a.flags|=4}function bx(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Cb(i)){if(i=Da.current,i!==null&&((Vt&4194048)===Vt?xn!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||i!==xn))throw Il=pf,rp;a.flags|=8192}}function qd(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?_a():536870912,a.lanes|=i,vo|=i)}function Yl(a,i){if(!Wt)switch(a.tailMode){case"hidden":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function hr(a){var i=a.alternate!==null&&a.alternate.child===a.child,o=0,d=0;if(i)for(var g=a.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=d,a.childLanes=o,i}function aj(a,i,o){var d=i.pendingProps;switch(cf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(i),null;case 1:return hr(i),null;case 3:return o=i.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Mn(Ar),$e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(Ol(i)?Un(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wy())),hr(i),null;case 26:return o=i.memoizedState,a===null?(Un(i),o!==null?(hr(i),bx(i,o)):(hr(i),i.flags&=-16777217)):o?o!==a.memoizedState?(Un(i),hr(i),bx(i,o)):(hr(i),i.flags&=-16777217):(a.memoizedProps!==d&&Un(i),hr(i),i.flags&=-16777217),null;case 27:Be(i),o=Y.current;var g=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==d&&Un(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return hr(i),null}a=oe.current,Ol(i)?Qy(i):(a=bb(g,d,o),i.stateNode=a,Un(i))}return hr(i),null;case 5:if(Be(i),o=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&Un(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return hr(i),null}if(a=oe.current,Ol(i))Qy(i);else{switch(g=au(Y.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?g.createElement(o,{is:d.is}):g.createElement(o)}}a[Ne]=i,a[Me]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=a;e:switch(Hr(a,o,d),o){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Un(i)}}return hr(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==d&&Un(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(a=Y.current,Ol(i)){if(a=i.stateNode,o=i.memoizedProps,d=null,g=ea,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}a[Ne]=i,a=!!(a.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||fb(a.nodeValue,o)),a||yi(i)}else a=au(a).createTextNode(d),a[Ne]=i,i.stateNode=a}return hr(i),null;case 13:if(d=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Ol(i),d!==null&&d.dehydrated!==null){if(a===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ne]=i}else Al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;hr(i),g=!1}else g=Wy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Ln(i),i):(Ln(i),null)}if(Ln(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=d!==null,a=a!==null&&a.memoizedState!==null,o){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var p=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(p=d.memoizedState.cachePool.pool),p!==g&&(d.flags|=2048)}return o!==a&&o&&(i.child.flags|=8192),qd(i,i.updateQueue),hr(i),null;case 4:return $e(),a===null&&wh(i.stateNode.containerInfo),hr(i),null;case 10:return Mn(i.type),hr(i),null;case 19:if(L(Rr),g=i.memoizedState,g===null)return hr(i),null;if(d=(i.flags&128)!==0,p=g.rendering,p===null)if(d)Yl(g,!1);else{if(pr!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(p=Ud(a),p!==null){for(i.flags|=128,Yl(g,!1),a=p.updateQueue,i.updateQueue=a,qd(i,a),i.subtreeFlags=0,a=o,o=i.child;o!==null;)Ky(o,a),o=o.sibling;return te(Rr,Rr.current&1|2),i.child}a=a.sibling}g.tail!==null&&jt()>Kd&&(i.flags|=128,d=!0,Yl(g,!1),i.lanes=4194304)}else{if(!d)if(a=Ud(p),a!==null){if(i.flags|=128,d=!0,a=a.updateQueue,i.updateQueue=a,qd(i,a),Yl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!Wt)return hr(i),null}else 2*jt()-g.renderingStartTime>Kd&&o!==536870912&&(i.flags|=128,d=!0,Yl(g,!1),i.lanes=4194304);g.isBackwards?(p.sibling=i.child,i.child=p):(a=g.last,a!==null?a.sibling=p:i.child=p,g.last=p)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=jt(),i.sibling=null,a=Rr.current,te(Rr,d?a&1|2:a&1),i):(hr(i),null);case 22:case 23:return Ln(i),jf(),d=i.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(hr(i),i.subtreeFlags&6&&(i.flags|=8192)):hr(i),o=i.updateQueue,o!==null&&qd(i,o.retryQueue),o=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),a!==null&&L(bi),null;case 24:return o=null,a!==null&&(o=a.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Mn(Ar),hr(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nj(a,i){switch(cf(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Mn(Ar),$e(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return Be(i),null;case 13:if(Ln(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Al()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return L(Rr),null;case 4:return $e(),null;case 10:return Mn(i.type),null;case 22:case 23:return Ln(i),jf(),a!==null&&L(bi),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Mn(Ar),null;case 25:return null;default:return null}}function vx(a,i){switch(cf(i),i.tag){case 3:Mn(Ar),$e();break;case 26:case 27:case 5:Be(i);break;case 4:$e();break;case 13:Ln(i);break;case 19:L(Rr);break;case 10:Mn(i.type);break;case 22:case 23:Ln(i),jf(),a!==null&&L(bi);break;case 24:Mn(Ar)}}function Ql(a,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&a)===a){d=void 0;var p=o.create,S=o.inst;d=p(),S.destroy=d}o=o.next}while(o!==g)}}catch(E){cr(i,i.return,E)}}function bs(a,i,o){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var p=g.next;d=p;do{if((d.tag&a)===a){var S=d.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,g=i;var K=o,ge=E;try{ge()}catch(_e){cr(g,K,_e)}}}d=d.next}while(d!==p)}}catch(_e){cr(i,i.return,_e)}}function wx(a){var i=a.updateQueue;if(i!==null){var o=a.stateNode;try{lp(i,o)}catch(d){cr(a,a.return,d)}}}function Nx(a,i,o){o.props=wi(a.type,a.memoizedProps),o.state=a.memoizedState;try{o.componentWillUnmount()}catch(d){cr(a,i,d)}}function Xl(a,i){try{var o=a.ref;if(o!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof o=="function"?a.refCleanup=o(d):o.current=d}}catch(g){cr(a,i,g)}}function bn(a,i){var o=a.ref,d=a.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(g){cr(a,i,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){cr(a,i,g)}else o.current=null}function jx(a){var i=a.type,o=a.memoizedProps,d=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(g){cr(a,a.return,g)}}function Wf(a,i,o){try{var d=a.stateNode;Sj(d,a.type,o,i),d[Me]=i}catch(g){cr(a,a.return,g)}}function kx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Cs(a.type)||a.tag===4}function Zf(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||kx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Cs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Jf(a,i,o){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(a,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(a),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ru));else if(d!==4&&(d===27&&Cs(a.type)&&(o=a.stateNode,i=null),a=a.child,a!==null))for(Jf(a,i,o),a=a.sibling;a!==null;)Jf(a,i,o),a=a.sibling}function Gd(a,i,o){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?o.insertBefore(a,i):o.appendChild(a);else if(d!==4&&(d===27&&Cs(a.type)&&(o=a.stateNode),a=a.child,a!==null))for(Gd(a,i,o),a=a.sibling;a!==null;)Gd(a,i,o),a=a.sibling}function Sx(a){var i=a.stateNode,o=a.memoizedProps;try{for(var d=a.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Hr(i,d,o),i[Ne]=a,i[Me]=o}catch(p){cr(a,a.return,p)}}var Fn=!1,vr=!1,eh=!1,$x=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function sj(a,i){if(a=a.containerInfo,kh=cu,a=Ly(a),W0(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var g=d.anchorOffset,p=d.focusNode;d=d.focusOffset;try{o.nodeType,p.nodeType}catch(bt){o=null;break e}var S=0,E=-1,K=-1,ge=0,_e=0,Ae=a,ve=null;t:for(;;){for(var je;Ae!==o||g!==0&&Ae.nodeType!==3||(E=S+g),Ae!==p||d!==0&&Ae.nodeType!==3||(K=S+d),Ae.nodeType===3&&(S+=Ae.nodeValue.length),(je=Ae.firstChild)!==null;)ve=Ae,Ae=je;for(;;){if(Ae===a)break t;if(ve===o&&++ge===g&&(E=S),ve===p&&++_e===d&&(K=S),(je=Ae.nextSibling)!==null)break;Ae=ve,ve=Ae.parentNode}Ae=je}o=E===-1||K===-1?null:{start:E,end:K}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sh={focusedElem:a,selectionRange:o},cu=!1,Ir=i;Ir!==null;)if(i=Ir,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,Ir=a;else for(;Ir!==null;){switch(i=Ir,p=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&p!==null){a=void 0,o=i,g=p.memoizedProps,p=p.memoizedState,d=o.stateNode;try{var St=wi(o.type,g,o.elementType===o.type);a=d.getSnapshotBeforeUpdate(St,p),d.__reactInternalSnapshotBeforeUpdate=a}catch(bt){cr(o,o.return,bt)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,o=a.nodeType,o===9)_h(a);else if(o===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":_h(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=i.sibling,a!==null){a.return=i.return,Ir=a;break}Ir=i.return}}function Cx(a,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:vs(a,o),d&4&&Ql(5,o);break;case 1:if(vs(a,o),d&4)if(a=o.stateNode,i===null)try{a.componentDidMount()}catch(S){cr(o,o.return,S)}else{var g=wi(o.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(g,i,a.__reactInternalSnapshotBeforeUpdate)}catch(S){cr(o,o.return,S)}}d&64&&wx(o),d&512&&Xl(o,o.return);break;case 3:if(vs(a,o),d&64&&(a=o.updateQueue,a!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{lp(a,i)}catch(S){cr(o,o.return,S)}}break;case 27:i===null&&d&4&&Sx(o);case 26:case 5:vs(a,o),i===null&&d&4&&jx(o),d&512&&Xl(o,o.return);break;case 12:vs(a,o);break;case 13:vs(a,o),d&4&&Tx(a,o),d&64&&(a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(o=mj.bind(null,o),Aj(a,o))));break;case 22:if(d=o.memoizedState!==null||Fn,!d){i=i!==null&&i.memoizedState!==null||vr,g=Fn;var p=vr;Fn=d,(vr=i)&&!p?ws(a,o,(o.subtreeFlags&8772)!==0):vs(a,o),Fn=g,vr=p}break;case 30:break;default:vs(a,o)}}function _x(a){var i=a.alternate;i!==null&&(a.alternate=null,_x(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&kt(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ur=null,ua=!1;function Bn(a,i,o){for(o=o.child;o!==null;)Ex(a,i,o),o=o.sibling}function Ex(a,i,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Gt,o)}catch(p){}switch(o.tag){case 26:vr||bn(o,i),Bn(a,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vr||bn(o,i);var d=ur,g=ua;Cs(o.type)&&(ur=o.stateNode,ua=!1),Bn(a,i,o),sc(o.stateNode),ur=d,ua=g;break;case 5:vr||bn(o,i);case 6:if(d=ur,g=ua,ur=null,Bn(a,i,o),ur=d,ua=g,ur!==null)if(ua)try{(ur.nodeType===9?ur.body:ur.nodeName==="HTML"?ur.ownerDocument.body:ur).removeChild(o.stateNode)}catch(p){cr(o,i,p)}else try{ur.removeChild(o.stateNode)}catch(p){cr(o,i,p)}break;case 18:ur!==null&&(ua?(a=ur,pb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.stateNode),hc(a)):pb(ur,o.stateNode));break;case 4:d=ur,g=ua,ur=o.stateNode.containerInfo,ua=!0,Bn(a,i,o),ur=d,ua=g;break;case 0:case 11:case 14:case 15:vr||bs(2,o,i),vr||bs(4,o,i),Bn(a,i,o);break;case 1:vr||(bn(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Nx(o,i,d)),Bn(a,i,o);break;case 21:Bn(a,i,o);break;case 22:vr=(d=vr)||o.memoizedState!==null,Bn(a,i,o),vr=d;break;default:Bn(a,i,o)}}function Tx(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{hc(a)}catch(o){cr(i,i.return,o)}}function ij(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new $x),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new $x),i;default:throw Error(s(435,a.tag))}}function th(a,i){var o=ij(a);i.forEach(function(d){var g=gj.bind(null,a,d);o.has(d)||(o.add(d),d.then(g,g))})}function ba(a,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var g=o[d],p=a,S=i,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Cs(E.type)){ur=E.stateNode,ua=!1;break e}break;case 5:ur=E.stateNode,ua=!1;break e;case 3:case 4:ur=E.stateNode.containerInfo,ua=!0;break e}E=E.return}if(ur===null)throw Error(s(160));Ex(p,S,g),ur=null,ua=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ox(i,a),i=i.sibling}var Qa=null;function Ox(a,i){var o=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ba(i,a),va(a),d&4&&(bs(3,a,a.return),Ql(3,a),bs(5,a,a.return));break;case 1:ba(i,a),va(a),d&512&&(vr||o===null||bn(o,o.return)),d&64&&Fn&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(o=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var g=Qa;if(ba(i,a),va(a),d&512&&(vr||o===null||bn(o,o.return)),d&4){var p=o!==null?o.memoizedState:null;if(d=a.memoizedState,o===null)if(d===null)if(a.stateNode===null){e:{d=a.type,o=a.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":p=g.getElementsByTagName("title")[0],(!p||p[ut]||p[Ne]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(d),g.head.insertBefore(p,g.querySelector("head > title"))),Hr(p,d,o),p[Ne]=a,re(p),d=p;break e;case"link":var S=Sb("link","href",g).get(d+(o.href||""));if(S){for(var E=0;E<S.length;E++)if(p=S[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(E,1);break t}}p=g.createElement(d),Hr(p,d,o),g.head.appendChild(p);break;case"meta":if(S=Sb("meta","content",g).get(d+(o.content||""))){for(E=0;E<S.length;E++)if(p=S[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(E,1);break t}}p=g.createElement(d),Hr(p,d,o),g.head.appendChild(p);break;default:throw Error(s(468,d))}p[Ne]=a,re(p),d=p}a.stateNode=d}else $b(g,a.type,a.stateNode);else a.stateNode=kb(g,d,a.memoizedProps);else p!==d?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,d===null?$b(g,a.type,a.stateNode):kb(g,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Wf(a,a.memoizedProps,o.memoizedProps)}break;case 27:ba(i,a),va(a),d&512&&(vr||o===null||bn(o,o.return)),o!==null&&d&4&&Wf(a,a.memoizedProps,o.memoizedProps);break;case 5:if(ba(i,a),va(a),d&512&&(vr||o===null||bn(o,o.return)),a.flags&32){g=a.stateNode;try{is(g,"")}catch(je){cr(a,a.return,je)}}d&4&&a.stateNode!=null&&(g=a.memoizedProps,Wf(a,g,o!==null?o.memoizedProps:g)),d&1024&&(eh=!0);break;case 6:if(ba(i,a),va(a),d&4){if(a.stateNode===null)throw Error(s(162));d=a.memoizedProps,o=a.stateNode;try{o.nodeValue=d}catch(je){cr(a,a.return,je)}}break;case 3:if(iu=null,g=Qa,Qa=nu(i.containerInfo),ba(i,a),Qa=g,va(a),d&4&&o!==null&&o.memoizedState.isDehydrated)try{hc(i.containerInfo)}catch(je){cr(a,a.return,je)}eh&&(eh=!1,Ax(a));break;case 4:d=Qa,Qa=nu(a.stateNode.containerInfo),ba(i,a),va(a),Qa=d;break;case 12:ba(i,a),va(a);break;case 13:ba(i,a),va(a),a.child.flags&8192&&a.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(oh=jt()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,th(a,d)));break;case 22:g=a.memoizedState!==null;var K=o!==null&&o.memoizedState!==null,ge=Fn,_e=vr;if(Fn=ge||g,vr=_e||K,ba(i,a),vr=_e,Fn=ge,va(a),d&8192)e:for(i=a.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||K||Fn||vr||Ni(a)),o=null,i=a;;){if(i.tag===5||i.tag===26){if(o===null){K=o=i;try{if(p=K.stateNode,g)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=K.stateNode;var Ae=K.memoizedProps.style,ve=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;E.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(je){cr(K,K.return,je)}}}else if(i.tag===6){if(o===null){K=i;try{K.stateNode.nodeValue=g?"":K.memoizedProps}catch(je){cr(K,K.return,je)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=a.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,th(a,o))));break;case 19:ba(i,a),va(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,th(a,d)));break;case 30:break;case 21:break;default:ba(i,a),va(a)}}function va(a){var i=a.flags;if(i&2){try{for(var o,d=a.return;d!==null;){if(kx(d)){o=d;break}d=d.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,p=Zf(a);Gd(a,p,g);break;case 5:var S=o.stateNode;o.flags&32&&(is(S,""),o.flags&=-33);var E=Zf(a);Gd(a,E,S);break;case 3:case 4:var K=o.stateNode.containerInfo,ge=Zf(a);Jf(a,ge,K);break;default:throw Error(s(161))}}catch(_e){cr(a,a.return,_e)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Ax(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Ax(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function vs(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cx(a,i.alternate,i),i=i.sibling}function Ni(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:bs(4,i,i.return),Ni(i);break;case 1:bn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Nx(i,i.return,o),Ni(i);break;case 27:sc(i.stateNode);case 26:case 5:bn(i,i.return),Ni(i);break;case 22:i.memoizedState===null&&Ni(i);break;case 30:Ni(i);break;default:Ni(i)}a=a.sibling}}function ws(a,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=a,p=i,S=p.flags;switch(p.tag){case 0:case 11:case 15:ws(g,p,o),Ql(4,p);break;case 1:if(ws(g,p,o),d=p,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ge){cr(d,d.return,ge)}if(d=p,g=d.updateQueue,g!==null){var E=d.stateNode;try{var K=g.shared.hiddenCallbacks;if(K!==null)for(g.shared.hiddenCallbacks=null,g=0;g<K.length;g++)op(K[g],E)}catch(ge){cr(d,d.return,ge)}}o&&S&64&&wx(p),Xl(p,p.return);break;case 27:Sx(p);case 26:case 5:ws(g,p,o),o&&d===null&&S&4&&jx(p),Xl(p,p.return);break;case 12:ws(g,p,o);break;case 13:ws(g,p,o),o&&S&4&&Tx(g,p);break;case 22:p.memoizedState===null&&ws(g,p,o),Xl(p,p.return);break;case 30:break;default:ws(g,p,o)}i=i.sibling}}function rh(a,i){var o=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==o&&(a!=null&&a.refCount++,o!=null&&Ml(o))}function ah(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ml(a))}function vn(a,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rx(a,i,o,d),i=i.sibling}function Rx(a,i,o,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:vn(a,i,o,d),g&2048&&Ql(9,i);break;case 1:vn(a,i,o,d);break;case 3:vn(a,i,o,d),g&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ml(a)));break;case 12:if(g&2048){vn(a,i,o,d),a=i.stateNode;try{var p=i.memoizedProps,S=p.id,E=p.onPostCommit;typeof E=="function"&&E(S,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){cr(i,i.return,K)}}else vn(a,i,o,d);break;case 13:vn(a,i,o,d);break;case 23:break;case 22:p=i.stateNode,S=i.alternate,i.memoizedState!==null?p._visibility&2?vn(a,i,o,d):Wl(a,i):p._visibility&2?vn(a,i,o,d):(p._visibility|=2,po(a,i,o,d,(i.subtreeFlags&10256)!==0)),g&2048&&rh(S,i);break;case 24:vn(a,i,o,d),g&2048&&ah(i.alternate,i);break;default:vn(a,i,o,d)}}function po(a,i,o,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=a,S=i,E=o,K=d,ge=S.flags;switch(S.tag){case 0:case 11:case 15:po(p,S,E,K,g),Ql(8,S);break;case 23:break;case 22:var _e=S.stateNode;S.memoizedState!==null?_e._visibility&2?po(p,S,E,K,g):Wl(p,S):(_e._visibility|=2,po(p,S,E,K,g)),g&&ge&2048&&rh(S.alternate,S);break;case 24:po(p,S,E,K,g),g&&ge&2048&&ah(S.alternate,S);break;default:po(p,S,E,K,g)}i=i.sibling}}function Wl(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=a,d=i,g=d.flags;switch(d.tag){case 22:Wl(o,d),g&2048&&rh(d.alternate,d);break;case 24:Wl(o,d),g&2048&&ah(d.alternate,d);break;default:Wl(o,d)}i=i.sibling}}var Zl=8192;function xo(a){if(a.subtreeFlags&Zl)for(a=a.child;a!==null;)Px(a),a=a.sibling}function Px(a){switch(a.tag){case 26:xo(a),a.flags&Zl&&a.memoizedState!==null&&Gj(Qa,a.memoizedState,a.memoizedProps);break;case 5:xo(a);break;case 3:case 4:var i=Qa;Qa=nu(a.stateNode.containerInfo),xo(a),Qa=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=Zl,Zl=16777216,xo(a),Zl=i):xo(a));break;default:xo(a)}}function Mx(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function Jl(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Ir=d,Lx(d,a)}Mx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Dx(a),a=a.sibling}function Dx(a){switch(a.tag){case 0:case 11:case 15:Jl(a),a.flags&2048&&bs(9,a,a.return);break;case 3:Jl(a);break;case 12:Jl(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,Vd(a)):Jl(a);break;default:Jl(a)}}function Vd(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Ir=d,Lx(d,a)}Mx(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:bs(8,i,i.return),Vd(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Vd(i));break;default:Vd(i)}a=a.sibling}}function Lx(a,i){for(;Ir!==null;){var o=Ir;switch(o.tag){case 0:case 11:case 15:bs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Ir=d;else e:for(o=a;Ir!==null;){d=Ir;var g=d.sibling,p=d.return;if(_x(d),d===o){Ir=null;break e}if(g!==null){g.return=p,Ir=g;break e}Ir=p}}}var oj={getCacheForType:function(a){var i=Xr(Ar),o=i.data.get(a);return o===void 0&&(o=a(),i.data.set(a,o)),o}},lj=typeof WeakMap=="function"?WeakMap:Map,Jt=0,dr=null,Bt=null,Vt=0,er=0,wa=null,Ns=!1,bo=!1,nh=!1,zn=0,pr=0,js=0,ji=0,sh=0,La=0,vo=0,ec=null,fa=null,ih=!1,oh=0,Kd=1/0,Yd=null,ks=null,zr=0,Ss=null,wo=null,No=0,lh=0,ch=null,Ix=null,tc=0,dh=null;function Na(){if((Jt&2)!==0&&Vt!==0)return Vt&-Vt;if(q.T!==null){var a=lo;return a!==0?a:ph()}return W()}function Ux(){La===0&&(La=(Vt&536870912)===0||Wt?Gr():536870912);var a=Da.current;return a!==null&&(a.flags|=32),La}function ja(a,i,o){(a===dr&&(er===2||er===9)||a.cancelPendingCommit!==null)&&(jo(a,0),$s(a,Vt,La,!1)),Ie(a,o),((Jt&2)===0||a!==dr)&&(a===dr&&((Jt&2)===0&&(ji|=o),pr===4&&$s(a,Vt,La,!1)),wn(a))}function Fx(a,i,o){if((Jt&6)!==0)throw Error(s(327));var d=!o&&(i&124)===0&&(i&a.expiredLanes)===0||tr(a,i),g=d?uj(a,i):hh(a,i,!0),p=d;do{if(g===0){bo&&!d&&$s(a,i,0,!1);break}else{if(o=a.current.alternate,p&&!cj(o)){g=hh(a,i,!1),p=!1;continue}if(g===2){if(p=i,a.errorRecoveryDisabledLanes&p)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var E=a;g=ec;var K=E.current.memoizedState.isDehydrated;if(K&&(jo(E,S).flags|=256),S=hh(E,S,!1),S!==2){if(nh&&!K){E.errorRecoveryDisabledLanes|=p,ji|=p,g=4;break e}p=fa,fa=g,p!==null&&(fa===null?fa=p:fa.push.apply(fa,p))}g=S}if(p=!1,g!==2)continue}}if(g===1){jo(a,0),$s(a,i,0,!0);break}e:{switch(d=a,p=g,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:$s(d,i,La,!Ns);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=oh+300-jt(),10<g)){if($s(d,i,La,!Ns),mr(d,0,!0)!==0)break e;d.timeoutHandle=gb(Bx.bind(null,d,o,fa,Yd,ih,i,La,ji,vo,Ns,p,2,-0,0),g);break e}Bx(d,o,fa,Yd,ih,i,La,ji,vo,Ns,p,0,-0,0)}}break}while(!0);wn(a)}function Bx(a,i,o,d,g,p,S,E,K,ge,_e,Ae,ve,je){if(a.timeoutHandle=-1,Ae=i.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(lc={stylesheets:null,count:0,unsuspend:qj},Px(i),Ae=Vj(),Ae!==null)){a.cancelPendingCommit=Ae(Yx.bind(null,a,i,p,o,d,g,S,E,K,_e,1,ve,je)),$s(a,p,S,!ge);return}Yx(a,i,p,o,d,g,S,E,K)}function cj(a){for(var i=a;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var g=o[d],p=g.getSnapshot;g=g.value;try{if(!pa(p(),g))return!1}catch(S){return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $s(a,i,o,d){i&=~sh,i&=~ji,a.suspendedLanes|=i,a.pingedLanes&=~i,d&&(a.warmLanes|=i),d=a.expirationTimes;for(var g=i;0<g;){var p=31-Pe(g),S=1<<p;d[p]=-1,g&=~S}o!==0&&Nr(a,o,i)}function Qd(){return(Jt&6)===0?(rc(0),!1):!0}function uh(){if(Bt!==null){if(er===0)var a=Bt.return;else a=Bt,Pn=pi=null,_f(a),go=null,Vl=0,a=Bt;for(;a!==null;)vx(a.alternate,a),a=a.return;Bt=null}}function jo(a,i){var o=a.timeoutHandle;o!==-1&&(a.timeoutHandle=-1,Cj(o)),o=a.cancelPendingCommit,o!==null&&(a.cancelPendingCommit=null,o()),uh(),dr=a,Bt=o=On(a.current,null),Vt=i,er=0,wa=null,Ns=!1,bo=tr(a,i),nh=!1,vo=La=sh=ji=js=pr=0,fa=ec=null,ih=!1,(i&8)!==0&&(i|=i&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=i;0<d;){var g=31-Pe(d),p=1<<g;i|=a[g],d&=~p}return zn=i,pd(),o}function zx(a,i){Dt=null,q.H=Dd,i===Ll||i===$d?(i=sp(),er=3):i===rp?(i=sp(),er=4):er=i===ix?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wa=i,Bt===null&&(pr=1,Bd(a,Aa(i,a.current)))}function Hx(){var a=q.H;return q.H=Dd,a===null?Dd:a}function qx(){var a=q.A;return q.A=oj,a}function fh(){pr=4,Ns||(Vt&4194048)!==Vt&&Da.current!==null||(bo=!0),(js&134217727)===0&&(ji&134217727)===0||dr===null||$s(dr,Vt,La,!1)}function hh(a,i,o){var d=Jt;Jt|=2;var g=Hx(),p=qx();(dr!==a||Vt!==i)&&(Yd=null,jo(a,i)),i=!1;var S=pr;e:do try{if(er!==0&&Bt!==null){var E=Bt,K=wa;switch(er){case 8:uh(),S=6;break e;case 3:case 2:case 9:case 6:Da.current===null&&(i=!0);var ge=er;if(er=0,wa=null,ko(a,E,K,ge),o&&bo){S=0;break e}break;default:ge=er,er=0,wa=null,ko(a,E,K,ge)}}dj(),S=pr;break}catch(_e){zx(a,_e)}while(!0);return i&&a.shellSuspendCounter++,Pn=pi=null,Jt=d,q.H=g,q.A=p,Bt===null&&(dr=null,Vt=0,pd()),S}function dj(){for(;Bt!==null;)Gx(Bt)}function uj(a,i){var o=Jt;Jt|=2;var d=Hx(),g=qx();dr!==a||Vt!==i?(Yd=null,Kd=jt()+500,jo(a,i)):bo=tr(a,i);e:do try{if(er!==0&&Bt!==null){i=Bt;var p=wa;t:switch(er){case 1:er=0,wa=null,ko(a,i,p,1);break;case 2:case 9:if(ap(p)){er=0,wa=null,Vx(i);break}i=function(){er!==2&&er!==9||dr!==a||(er=7),wn(a)},p.then(i,i);break e;case 3:er=7;break e;case 4:er=5;break e;case 7:ap(p)?(er=0,wa=null,Vx(i)):(er=0,wa=null,ko(a,i,p,7));break;case 5:var S=null;switch(Bt.tag){case 26:S=Bt.memoizedState;case 5:case 27:var E=Bt;if(!S||Cb(S)){er=0,wa=null;var K=E.sibling;if(K!==null)Bt=K;else{var ge=E.return;ge!==null?(Bt=ge,Xd(ge)):Bt=null}break t}}er=0,wa=null,ko(a,i,p,5);break;case 6:er=0,wa=null,ko(a,i,p,6);break;case 8:uh(),pr=6;break e;default:throw Error(s(462))}}fj();break}catch(_e){zx(a,_e)}while(!0);return Pn=pi=null,q.H=d,q.A=g,Jt=o,Bt!==null?0:(dr=null,Vt=0,pd(),pr)}function fj(){for(;Bt!==null&&!Ye();)Gx(Bt)}function Gx(a){var i=xx(a.alternate,a,zn);a.memoizedProps=a.pendingProps,i===null?Xd(a):Bt=i}function Vx(a){var i=a,o=i.alternate;switch(i.tag){case 15:case 0:i=fx(o,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=fx(o,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:_f(i);default:vx(o,i),i=Bt=Ky(i,zn),i=xx(o,i,zn)}a.memoizedProps=a.pendingProps,i===null?Xd(a):Bt=i}function ko(a,i,o,d){Pn=pi=null,_f(i),go=null,Vl=0;var g=i.return;try{if(tj(a,g,i,o,Vt)){pr=1,Bd(a,Aa(o,a.current)),Bt=null;return}}catch(p){if(g!==null)throw Bt=g,p;pr=1,Bd(a,Aa(o,a.current)),Bt=null;return}i.flags&32768?(Wt||d===1?a=!0:bo||(Vt&536870912)!==0?a=!1:(Ns=a=!0,(d===2||d===9||d===3||d===6)&&(d=Da.current,d!==null&&d.tag===13&&(d.flags|=16384))),Kx(i,a)):Xd(i)}function Xd(a){var i=a;do{if((i.flags&32768)!==0){Kx(i,Ns);return}a=i.return;var o=aj(i.alternate,i,zn);if(o!==null){Bt=o;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=a}while(i!==null);pr===0&&(pr=5)}function Kx(a,i){do{var o=nj(a.alternate,a);if(o!==null){o.flags&=32767,Bt=o;return}if(o=a.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(a=a.sibling,a!==null)){Bt=a;return}Bt=a=o}while(a!==null);pr=6,Bt=null}function Yx(a,i,o,d,g,p,S,E,K){a.cancelPendingCommit=null;do Wd();while(zr!==0);if((Jt&6)!==0)throw Error(s(327));if(i!==null){if(i===a.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=rf,Er(a,o,p,S,E,K),a===dr&&(Bt=dr=null,Vt=0),wo=i,Ss=a,No=o,lh=p,ch=g,Ix=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yj(Ft,function(){return Jx(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=q.T,q.T=null,g=ae.p,ae.p=2,S=Jt,Jt|=4;try{sj(a,i,o)}finally{Jt=S,ae.p=g,q.T=d}}zr=1,Qx(),Xx(),Wx()}}function Qx(){if(zr===1){zr=0;var a=Ss,i=wo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var d=ae.p;ae.p=2;var g=Jt;Jt|=4;try{Ox(i,a);var p=Sh,S=Ly(a.containerInfo),E=p.focusedElem,K=p.selectionRange;if(S!==E&&E&&E.ownerDocument&&Dy(E.ownerDocument.documentElement,E)){if(K!==null&&W0(E)){var ge=K.start,_e=K.end;if(_e===void 0&&(_e=ge),"selectionStart"in E)E.selectionStart=ge,E.selectionEnd=Math.min(_e,E.value.length);else{var Ae=E.ownerDocument||document,ve=Ae&&Ae.defaultView||window;if(ve.getSelection){var je=ve.getSelection(),St=E.textContent.length,bt=Math.min(K.start,St),ir=K.end===void 0?bt:Math.min(K.end,St);!je.extend&&bt>ir&&(S=ir,ir=bt,bt=S);var ie=My(E,bt),ee=My(E,ir);if(ie&&ee&&(je.rangeCount!==1||je.anchorNode!==ie.node||je.anchorOffset!==ie.offset||je.focusNode!==ee.node||je.focusOffset!==ee.offset)){var ue=Ae.createRange();ue.setStart(ie.node,ie.offset),je.removeAllRanges(),bt>ir?(je.addRange(ue),je.extend(ee.node,ee.offset)):(ue.setEnd(ee.node,ee.offset),je.addRange(ue))}}}}for(Ae=[],je=E;je=je.parentNode;)je.nodeType===1&&Ae.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Ae.length;E++){var Ee=Ae[E];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}cu=!!kh,Sh=kh=null}finally{Jt=g,ae.p=d,q.T=o}}a.current=i,zr=2}}function Xx(){if(zr===2){zr=0;var a=Ss,i=wo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var d=ae.p;ae.p=2;var g=Jt;Jt|=4;try{Cx(a,i.alternate,i)}finally{Jt=g,ae.p=d,q.T=o}}zr=3}}function Wx(){if(zr===4||zr===3){zr=0,_t();var a=Ss,i=wo,o=No,d=Ix;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zr=5:(zr=0,wo=Ss=null,Zx(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(ks=null),Ta(o),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Gt,i,void 0,(i.current.flags&128)===128)}catch(K){}if(d!==null){i=q.T,g=ae.p,ae.p=2,q.T=null;try{for(var p=a.onRecoverableError,S=0;S<d.length;S++){var E=d[S];p(E.value,{componentStack:E.stack})}}finally{q.T=i,ae.p=g}}(No&3)!==0&&Wd(),wn(a),g=a.pendingLanes,(o&4194090)!==0&&(g&42)!==0?a===dh?tc++:(tc=0,dh=a):tc=0,rc(0)}}function Zx(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Ml(i)))}function Wd(a){return Qx(),Xx(),Wx(),Jx()}function Jx(){if(zr!==5)return!1;var a=Ss,i=lh;lh=0;var o=Ta(No),d=q.T,g=ae.p;try{ae.p=32>o?32:o,q.T=null,o=ch,ch=null;var p=Ss,S=No;if(zr=0,wo=Ss=null,No=0,(Jt&6)!==0)throw Error(s(331));var E=Jt;if(Jt|=4,Dx(p.current),Rx(p,p.current,S,o),Jt=E,rc(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Gt,p)}catch(K){}return!0}finally{ae.p=g,q.T=d,Zx(a,i)}}function eb(a,i,o){i=Aa(o,i),i=zf(a.stateNode,i,2),a=gs(a,i,2),a!==null&&(Ie(a,2),wn(a))}function cr(a,i,o){if(a.tag===3)eb(a,a,o);else for(;i!==null;){if(i.tag===3){eb(i,a,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))){a=Aa(o,a),o=nx(2),d=gs(i,o,2),d!==null&&(sx(o,d,i,a),Ie(d,2),wn(d));break}}i=i.return}}function mh(a,i,o){var d=a.pingCache;if(d===null){d=a.pingCache=new lj;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(o)||(nh=!0,g.add(o),a=hj.bind(null,a,i,o),i.then(a,a))}function hj(a,i,o){var d=a.pingCache;d!==null&&d.delete(i),a.pingedLanes|=a.suspendedLanes&o,a.warmLanes&=~o,dr===a&&(Vt&o)===o&&(pr===4||pr===3&&(Vt&62914560)===Vt&&300>jt()-oh?(Jt&2)===0&&jo(a,0):sh|=o,vo===Vt&&(vo=0)),wn(a)}function tb(a,i){i===0&&(i=_a()),a=no(a,i),a!==null&&(Ie(a,i),wn(a))}function mj(a){var i=a.memoizedState,o=0;i!==null&&(o=i.retryLane),tb(a,o)}function gj(a,i){var o=0;switch(a.tag){case 13:var d=a.stateNode,g=a.memoizedState;g!==null&&(o=g.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(i),tb(a,o)}function yj(a,i){return vt(a,i)}var Zd=null,So=null,gh=!1,Jd=!1,yh=!1,ki=0;function wn(a){a!==So&&a.next===null&&(So===null?Zd=So=a:So=So.next=a),Jd=!0,gh||(gh=!0,xj())}function rc(a,i){if(!yh&&Jd){yh=!0;do for(var o=!1,d=Zd;d!==null;){if(a!==0){var g=d.pendingLanes;if(g===0)var p=0;else{var S=d.suspendedLanes,E=d.pingedLanes;p=(1<<31-Pe(42|a)+1)-1,p&=g&~(S&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,sb(d,p))}else p=Vt,p=mr(d,d===dr?p:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(p&3)===0||tr(d,p)||(o=!0,sb(d,p));d=d.next}while(o);yh=!1}}function pj(){rb()}function rb(){Jd=gh=!1;var a=0;ki!==0&&($j()&&(a=ki),ki=0);for(var i=jt(),o=null,d=Zd;d!==null;){var g=d.next,p=ab(d,i);p===0?(d.next=null,o===null?Zd=g:o.next=g,g===null&&(So=o)):(o=d,(a!==0||(p&3)!==0)&&(Jd=!0)),d=g}rc(a)}function ab(a,i){for(var o=a.suspendedLanes,d=a.pingedLanes,g=a.expirationTimes,p=a.pendingLanes&-62914561;0<p;){var S=31-Pe(p),E=1<<S,K=g[S];K===-1?((E&o)===0||(E&d)!==0)&&(g[S]=qr(E,i)):K<=i&&(a.expiredLanes|=E),p&=~E}if(i=dr,o=Vt,o=mr(a,a===i?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,o===0||a===i&&(er===2||er===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Ce(d),a.callbackNode=null,a.callbackPriority=0;if((o&3)===0||tr(a,o)){if(i=o&-o,i===a.callbackPriority)return i;switch(d!==null&&Ce(d),Ta(o)){case 2:case 8:o=Je;break;case 32:o=Ft;break;case 268435456:o=Qe;break;default:o=Ft}return d=nb.bind(null,a),o=vt(o,d),a.callbackPriority=i,a.callbackNode=o,i}return d!==null&&d!==null&&Ce(d),a.callbackPriority=2,a.callbackNode=null,2}function nb(a,i){if(zr!==0&&zr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var o=a.callbackNode;if(Wd()&&a.callbackNode!==o)return null;var d=Vt;return d=mr(a,a===dr?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Fx(a,d,i),ab(a,jt()),a.callbackNode!=null&&a.callbackNode===o?nb.bind(null,a):null)}function sb(a,i){if(Wd())return null;Fx(a,i,!0)}function xj(){_j(function(){(Jt&6)!==0?vt(se,pj):rb()})}function ph(){return ki===0&&(ki=Gr()),ki}function ib(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Yi(""+a)}function ob(a,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,a.id&&o.setAttribute("form",a.id),i.parentNode.insertBefore(o,i),a=new FormData(a),o.parentNode.removeChild(o),a}function bj(a,i,o,d,g){if(i==="submit"&&o&&o.stateNode===g){var p=ib((g[Me]||null).action),S=d.submitter;S&&(i=(i=S[Me]||null)?ib(i.formAction):S.getAttribute("formAction"),i!==null&&(p=i,S=null));var E=new Wi("action","action",null,d,g);a.push({event:E,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ki!==0){var K=S?ob(g,S):new FormData(g);Lf(o,{pending:!0,data:K,method:g.method,action:p},null,K)}}else typeof p=="function"&&(E.preventDefault(),K=S?ob(g,S):new FormData(g),Lf(o,{pending:!0,data:K,method:g.method,action:p},p,K))},currentTarget:g}]})}}for(var xh=0;xh<tf.length;xh++){var bh=tf[xh],vj=bh.toLowerCase(),wj=bh[0].toUpperCase()+bh.slice(1);Ya(vj,"on"+wj)}Ya(Fy,"onAnimationEnd"),Ya(By,"onAnimationIteration"),Ya(zy,"onAnimationStart"),Ya("dblclick","onDoubleClick"),Ya("focusin","onFocus"),Ya("focusout","onBlur"),Ya(IN,"onTransitionRun"),Ya(UN,"onTransitionStart"),Ya(FN,"onTransitionCancel"),Ya(Hy,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),De("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),De("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),De("onBeforeInput",["compositionend","keypress","textInput","paste"]),De("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function lb(a,i){i=(i&4)!==0;for(var o=0;o<a.length;o++){var d=a[o],g=d.event;d=d.listeners;e:{var p=void 0;if(i)for(var S=d.length-1;0<=S;S--){var E=d[S],K=E.instance,ge=E.currentTarget;if(E=E.listener,K!==p&&g.isPropagationStopped())break e;p=E,g.currentTarget=ge;try{p(g)}catch(_e){Fd(_e)}g.currentTarget=null,p=K}else for(S=0;S<d.length;S++){if(E=d[S],K=E.instance,ge=E.currentTarget,E=E.listener,K!==p&&g.isPropagationStopped())break e;p=E,g.currentTarget=ge;try{p(g)}catch(_e){Fd(_e)}g.currentTarget=null,p=K}}}}function zt(a,i){var o=i[ot];o===void 0&&(o=i[ot]=new Set);var d=a+"__bubble";o.has(d)||(cb(i,a,2,!1),o.add(d))}function vh(a,i,o){var d=0;i&&(d|=4),cb(o,a,d,i)}var eu="_reactListening"+Math.random().toString(36).slice(2);function wh(a){if(!a[eu]){a[eu]=!0,ke.forEach(function(o){o!=="selectionchange"&&(Nj.has(o)||vh(o,!1,a),vh(o,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[eu]||(i[eu]=!0,vh("selectionchange",!1,i))}}function cb(a,i,o,d){switch(Rb(i)){case 2:var g=Qj;break;case 8:g=Xj;break;default:g=Mh}o=g.bind(null,i,o,a),g=void 0,!Qi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?a.addEventListener(i,o,{capture:!0,passive:g}):a.addEventListener(i,o,!0):g!==void 0?a.addEventListener(i,o,{passive:g}):a.addEventListener(i,o,!1)}function Nh(a,i,o,d,g){var p=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var E=d.stateNode.containerInfo;if(E===g)break;if(S===4)for(S=d.return;S!==null;){var K=S.tag;if((K===3||K===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;E!==null;){if(S=Ot(E),S===null)return;if(K=S.tag,K===5||K===6||K===26||K===27){d=p=S;continue e}E=E.parentNode}}d=d.return}Sl(function(){var ge=p,_e=si(o),Ae=[];e:{var ve=qy.get(a);if(ve!==void 0){var je=Wi,St=a;switch(a){case"keypress":if(cs(o)===0)break e;case"keydown":case"keyup":je=yn;break;case"focusin":St="focus",je=mt;break;case"focusout":St="blur",je=mt;break;case"beforeblur":case"afterblur":je=mt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=ne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=xe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=gd;break;case Fy:case By:case zy:je=et;break;case Hy:je=wN;break;case"scroll":case"scrollend":je=gr;break;case"wheel":je=jN;break;case"copy":case"cut":case"paste":je=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Zi;break;case"toggle":case"beforetoggle":je=SN}var bt=(i&4)!==0,ir=!bt&&(a==="scroll"||a==="scrollend"),ie=bt?ve!==null?ve+"Capture":null:ve;bt=[];for(var ee=ge,ue;ee!==null;){var Ee=ee;if(ue=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ue===null||ie===null||(Ee=ls(ee,ie),Ee!=null&&bt.push(nc(ee,Ee,ue))),ir)break;ee=ee.return}0<bt.length&&(ve=new je(ve,St,null,o,_e),Ae.push({event:ve,listeners:bt}))}}if((i&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",je=a==="mouseout"||a==="pointerout",ve&&o!==jl&&(St=o.relatedTarget||o.fromElement)&&(Ot(St)||St[Xe]))break e;if((je||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,je?(St=o.relatedTarget||o.toElement,je=ge,St=St?Ot(St):null,St!==null&&(ir=c(St),bt=St.tag,St!==ir||bt!==5&&bt!==27&&bt!==6)&&(St=null)):(je=null,St=ge),je!==St)){if(bt=ne,Ee="onMouseLeave",ie="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(bt=Zi,Ee="onPointerLeave",ie="onPointerEnter",ee="pointer"),ir=je==null?ve:rr(je),ue=St==null?ve:rr(St),ve=new bt(Ee,ee+"leave",je,o,_e),ve.target=ir,ve.relatedTarget=ue,Ee=null,Ot(_e)===ge&&(bt=new bt(ie,ee+"enter",St,o,_e),bt.target=ue,bt.relatedTarget=ir,Ee=bt),ir=Ee,je&&St)t:{for(bt=je,ie=St,ee=0,ue=bt;ue;ue=$o(ue))ee++;for(ue=0,Ee=ie;Ee;Ee=$o(Ee))ue++;for(;0<ee-ue;)bt=$o(bt),ee--;for(;0<ue-ee;)ie=$o(ie),ue--;for(;ee--;){if(bt===ie||ie!==null&&bt===ie.alternate)break t;bt=$o(bt),ie=$o(ie)}bt=null}else bt=null;je!==null&&db(Ae,ve,je,bt,!1),St!==null&&ir!==null&&db(Ae,ir,St,bt,!0)}}e:{if(ve=ge?rr(ge):window,je=ve.nodeName&&ve.nodeName.toLowerCase(),je==="select"||je==="input"&&ve.type==="file")var nt=Ey;else if(Cy(ve))if(Ty)nt=MN;else{nt=RN;var It=AN}else je=ve.nodeName,!je||je.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?ge&&ni(ge.elementType)&&(nt=Ey):nt=PN;if(nt&&(nt=nt(a,ge))){_y(Ae,nt,o,_e);break e}It&&It(a,ve,ge),a==="focusout"&&ge&&ve.type==="number"&&ge.memoizedProps.value!=null&&vl(ve,"number",ve.value)}switch(It=ge?rr(ge):window,a){case"focusin":(Cy(It)||It.contentEditable==="true")&&(to=It,Z0=ge,Tl=null);break;case"focusout":Tl=Z0=to=null;break;case"mousedown":J0=!0;break;case"contextmenu":case"mouseup":case"dragend":J0=!1,Iy(Ae,o,_e);break;case"selectionchange":if(LN)break;case"keydown":case"keyup":Iy(Ae,o,_e)}var ft;if(Y0)e:{switch(a){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else eo?Sy(a,o)&&(Nt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ny&&o.locale!=="ko"&&(eo||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&eo&&(ft=li()):(ya=_e,ca="value"in ya?ya.value:ya.textContent,eo=!0)),It=tu(ge,Nt),0<It.length&&(Nt=new xt(Nt,a,null,o,_e),Ae.push({event:Nt,listeners:It}),ft?Nt.data=ft:(ft=$y(o),ft!==null&&(Nt.data=ft)))),(ft=CN?_N(a,o):EN(a,o))&&(Nt=tu(ge,"onBeforeInput"),0<Nt.length&&(It=new xt("onBeforeInput","beforeinput",null,o,_e),Ae.push({event:It,listeners:Nt}),It.data=ft)),bj(Ae,a,ge,o,_e)}lb(Ae,i)})}function nc(a,i,o){return{instance:a,listener:i,currentTarget:o}}function tu(a,i){for(var o=i+"Capture",d=[];a!==null;){var g=a,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ls(a,o),g!=null&&d.unshift(nc(a,g,p)),g=ls(a,i),g!=null&&d.push(nc(a,g,p))),a.tag===3)return d;a=a.return}return[]}function $o(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function db(a,i,o,d,g){for(var p=i._reactName,S=[];o!==null&&o!==d;){var E=o,K=E.alternate,ge=E.stateNode;if(E=E.tag,K!==null&&K===d)break;E!==5&&E!==26&&E!==27||ge===null||(K=ge,g?(ge=ls(o,p),ge!=null&&S.unshift(nc(o,ge,K))):g||(ge=ls(o,p),ge!=null&&S.push(nc(o,ge,K)))),o=o.return}S.length!==0&&a.push({event:i,listeners:S})}var jj=/\r\n?/g,kj=/\u0000|\uFFFD/g;function ub(a){return(typeof a=="string"?a:""+a).replace(jj,`
`).replace(kj,"")}function fb(a,i){return i=ub(i),ub(a)===i}function ru(){}function sr(a,i,o,d,g,p){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||is(a,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&is(a,""+d);break;case"className":Fr(a,"class",d);break;case"tabIndex":Fr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(a,o,d);break;case"style":Nl(a,d,p);break;case"data":if(i!=="object"){Fr(a,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){a.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(o);break}d=Yi(""+d),a.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&sr(a,i,"name",g.name,g,null),sr(a,i,"formEncType",g.formEncType,g,null),sr(a,i,"formMethod",g.formMethod,g,null),sr(a,i,"formTarget",g.formTarget,g,null)):(sr(a,i,"encType",g.encType,g,null),sr(a,i,"method",g.method,g,null),sr(a,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(o);break}d=Yi(""+d),a.setAttribute(o,d);break;case"onClick":d!=null&&(a.onclick=ru);break;case"onScroll":d!=null&&zt("scroll",a);break;case"onScrollEnd":d!=null&&zt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(s(60));a.innerHTML=o}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}o=Yi(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(o,""+d):a.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(o,""):a.removeAttribute(o);break;case"capture":case"download":d===!0?a.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(o,d):a.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(o,d):a.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(o):a.setAttribute(o,d);break;case"popover":zt("beforetoggle",a),zt("toggle",a),or(a,"popover",d);break;case"xlinkActuate":Rt(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rt(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rt(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rt(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rt(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rt(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rt(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":or(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ki.get(o)||o,or(a,o,d))}}function jh(a,i,o,d,g,p){switch(o){case"style":Nl(a,d,p);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(s(60));a.innerHTML=o}}break;case"children":typeof d=="string"?is(a,d):(typeof d=="number"||typeof d=="bigint")&&is(a,""+d);break;case"onScroll":d!=null&&zt("scroll",a);break;case"onScrollEnd":d!=null&&zt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),p=a[Me]||null,p=p!=null?p[o]:null,typeof p=="function"&&a.removeEventListener(i,p,g),typeof d=="function")){typeof p!="function"&&p!==null&&(o in a?a[o]=null:a.hasAttribute(o)&&a.removeAttribute(o)),a.addEventListener(i,d,g);break e}o in a?a[o]=d:d===!0?a.setAttribute(o,""):or(a,o,d)}}}function Hr(a,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",a),zt("load",a);var d=!1,g=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sr(a,i,p,S,o,null)}}g&&sr(a,i,"srcSet",o.srcSet,o,null),d&&sr(a,i,"src",o.src,o,null);return;case"input":zt("invalid",a);var E=p=S=g=null,K=null,ge=null;for(d in o)if(o.hasOwnProperty(d)){var _e=o[d];if(_e!=null)switch(d){case"name":g=_e;break;case"type":S=_e;break;case"checked":K=_e;break;case"defaultChecked":ge=_e;break;case"value":p=_e;break;case"defaultValue":E=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,i));break;default:sr(a,i,d,_e,o,null)}}ud(a,p,E,K,ge,S,g,!1),ti(a);return;case"select":zt("invalid",a),d=S=p=null;for(g in o)if(o.hasOwnProperty(g)&&(E=o[g],E!=null))switch(g){case"value":p=E;break;case"defaultValue":S=E;break;case"multiple":d=E;default:sr(a,i,g,E,o,null)}i=p,o=S,a.multiple=!!d,i!=null?_n(a,!!d,i,!1):o!=null&&_n(a,!!d,o,!0);return;case"textarea":zt("invalid",a),p=g=d=null;for(S in o)if(o.hasOwnProperty(S)&&(E=o[S],E!=null))switch(S){case"value":d=E;break;case"defaultValue":g=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:sr(a,i,S,E,o,null)}wl(a,d,g,p),ti(a);return;case"option":for(K in o)if(o.hasOwnProperty(K)&&(d=o[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:sr(a,i,K,d,o,null)}return;case"dialog":zt("beforetoggle",a),zt("toggle",a),zt("cancel",a),zt("close",a);break;case"iframe":case"object":zt("load",a);break;case"video":case"audio":for(d=0;d<ac.length;d++)zt(ac[d],a);break;case"image":zt("error",a),zt("load",a);break;case"details":zt("toggle",a);break;case"embed":case"source":case"link":zt("error",a),zt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in o)if(o.hasOwnProperty(ge)&&(d=o[ge],d!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sr(a,i,ge,d,o,null)}return;default:if(ni(i)){for(_e in o)o.hasOwnProperty(_e)&&(d=o[_e],d!==void 0&&jh(a,i,_e,d,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(d=o[E],d!=null&&sr(a,i,E,d,o,null))}function Sj(a,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,S=null,E=null,K=null,ge=null,_e=null;for(je in o){var Ae=o[je];if(o.hasOwnProperty(je)&&Ae!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":K=Ae;default:d.hasOwnProperty(je)||sr(a,i,je,null,d,Ae)}}for(var ve in d){var je=d[ve];if(Ae=o[ve],d.hasOwnProperty(ve)&&(je!=null||Ae!=null))switch(ve){case"type":p=je;break;case"name":g=je;break;case"checked":ge=je;break;case"defaultChecked":_e=je;break;case"value":S=je;break;case"defaultValue":E=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,i));break;default:je!==Ae&&sr(a,i,ve,je,d,Ae)}}bl(a,S,E,K,ge,_e,p,g);return;case"select":je=S=E=ve=null;for(p in o)if(K=o[p],o.hasOwnProperty(p)&&K!=null)switch(p){case"value":break;case"multiple":je=K;default:d.hasOwnProperty(p)||sr(a,i,p,null,d,K)}for(g in d)if(p=d[g],K=o[g],d.hasOwnProperty(g)&&(p!=null||K!=null))switch(g){case"value":ve=p;break;case"defaultValue":E=p;break;case"multiple":S=p;default:p!==K&&sr(a,i,g,p,d,K)}i=E,o=S,d=je,ve!=null?_n(a,!!o,ve,!1):!!d!=!!o&&(i!=null?_n(a,!!o,i,!0):_n(a,!!o,o?[]:"",!1));return;case"textarea":je=ve=null;for(E in o)if(g=o[E],o.hasOwnProperty(E)&&g!=null&&!d.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:sr(a,i,E,null,d,g)}for(S in d)if(g=d[S],p=o[S],d.hasOwnProperty(S)&&(g!=null||p!=null))switch(S){case"value":ve=g;break;case"defaultValue":je=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&sr(a,i,S,g,d,p)}ai(a,ve,je);return;case"option":for(var St in o)if(ve=o[St],o.hasOwnProperty(St)&&ve!=null&&!d.hasOwnProperty(St))switch(St){case"selected":a.selected=!1;break;default:sr(a,i,St,null,d,ve)}for(K in d)if(ve=d[K],je=o[K],d.hasOwnProperty(K)&&ve!==je&&(ve!=null||je!=null))switch(K){case"selected":a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:sr(a,i,K,ve,d,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)ve=o[bt],o.hasOwnProperty(bt)&&ve!=null&&!d.hasOwnProperty(bt)&&sr(a,i,bt,null,d,ve);for(ge in d)if(ve=d[ge],je=o[ge],d.hasOwnProperty(ge)&&ve!==je&&(ve!=null||je!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,i));break;default:sr(a,i,ge,ve,d,je)}return;default:if(ni(i)){for(var ir in o)ve=o[ir],o.hasOwnProperty(ir)&&ve!==void 0&&!d.hasOwnProperty(ir)&&jh(a,i,ir,void 0,d,ve);for(_e in d)ve=d[_e],je=o[_e],!d.hasOwnProperty(_e)||ve===je||ve===void 0&&je===void 0||jh(a,i,_e,ve,d,je);return}}for(var ie in o)ve=o[ie],o.hasOwnProperty(ie)&&ve!=null&&!d.hasOwnProperty(ie)&&sr(a,i,ie,null,d,ve);for(Ae in d)ve=d[Ae],je=o[Ae],!d.hasOwnProperty(Ae)||ve===je||ve==null&&je==null||sr(a,i,Ae,ve,d,je)}var kh=null,Sh=null;function au(a){return a.nodeType===9?a:a.ownerDocument}function hb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function $h(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ch=null;function $j(){var a=window.event;return a&&a.type==="popstate"?a===Ch?!1:(Ch=a,!0):(Ch=null,!1)}var gb=typeof setTimeout=="function"?setTimeout:void 0,Cj=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,_j=typeof queueMicrotask=="function"?queueMicrotask:typeof yb!="undefined"?function(a){return yb.resolve(null).then(a).catch(Ej)}:gb;function Ej(a){setTimeout(function(){throw a})}function Cs(a){return a==="head"}function pb(a,i){var o=i,d=0,g=0;do{var p=o.nextSibling;if(a.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<d&&8>d){o=d;var S=a.ownerDocument;if(o&1&&sc(S.documentElement),o&2&&sc(S.body),o&4)for(o=S.head,sc(o),S=o.firstChild;S;){var E=S.nextSibling,K=S.nodeName;S[ut]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=E}}if(g===0){a.removeChild(p),hc(i);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:d=o.charCodeAt(0)-48;else d=0;o=p}while(o);hc(i)}function _h(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_h(o),kt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}a.removeChild(o)}}function Tj(a,i,o,d){for(;a.nodeType===1;){var g=o;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ut])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(p=a.getAttribute("rel"),p==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(p!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(p=a.getAttribute("src"),(p!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===p)return a}else return a;if(a=Xa(a.nextSibling),a===null)break}return null}function Oj(a,i,o){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Xa(a.nextSibling),a===null))return null;return a}function Eh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Aj(a,i){var o=a.ownerDocument;if(a.data!=="$?"||o.readyState==="complete")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Xa(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var Th=null;function xb(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return a;i--}else o==="/$"&&i++}a=a.previousSibling}return null}function bb(a,i,o){switch(i=au(o),a){case"html":if(a=i.documentElement,!a)throw Error(s(452));return a;case"head":if(a=i.head,!a)throw Error(s(453));return a;case"body":if(a=i.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function sc(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);kt(a)}var Ia=new Map,vb=new Set;function nu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Hn=ae.d;ae.d={f:Rj,r:Pj,D:Mj,C:Dj,L:Lj,m:Ij,X:Fj,S:Uj,M:Bj};function Rj(){var a=Hn.f(),i=Qd();return a||i}function Pj(a){var i=Kt(a);i!==null&&i.tag===5&&i.type==="form"?Fp(i):Hn.r(a)}var Co=typeof document=="undefined"?null:document;function wb(a,i,o){var d=Co;if(d&&typeof i=="string"&&i){var g=oa(i);g='link[rel="'+a+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),vb.has(g)||(vb.add(g),a={rel:a,crossOrigin:o,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),Hr(i,"link",a),re(i),d.head.appendChild(i)))}}function Mj(a){Hn.D(a),wb("dns-prefetch",a,null)}function Dj(a,i){Hn.C(a,i),wb("preconnect",a,i)}function Lj(a,i,o){Hn.L(a,i,o);var d=Co;if(d&&a&&i){var g='link[rel="preload"][as="'+oa(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+oa(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+oa(o.imageSizes)+'"]')):g+='[href="'+oa(a)+'"]';var p=g;switch(i){case"style":p=_o(a);break;case"script":p=Eo(a)}Ia.has(p)||(a=y({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:a,as:i},o),Ia.set(p,a),d.querySelector(g)!==null||i==="style"&&d.querySelector(ic(p))||i==="script"&&d.querySelector(oc(p))||(i=d.createElement("link"),Hr(i,"link",a),re(i),d.head.appendChild(i)))}}function Ij(a,i){Hn.m(a,i);var o=Co;if(o&&a){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+oa(d)+'"][href="'+oa(a)+'"]',p=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Eo(a)}if(!Ia.has(p)&&(a=y({rel:"modulepreload",href:a},i),Ia.set(p,a),o.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(p)))return}d=o.createElement("link"),Hr(d,"link",a),re(d),o.head.appendChild(d)}}}function Uj(a,i,o){Hn.S(a,i,o);var d=Co;if(d&&a){var g=Yt(d).hoistableStyles,p=_o(a);i=i||"default";var S=g.get(p);if(!S){var E={loading:0,preload:null};if(S=d.querySelector(ic(p)))E.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":i},o),(o=Ia.get(p))&&Oh(a,o);var K=S=d.createElement("link");re(K),Hr(K,"link",a),K._p=new Promise(function(ge,_e){K.onload=ge,K.onerror=_e}),K.addEventListener("load",function(){E.loading|=1}),K.addEventListener("error",function(){E.loading|=2}),E.loading|=4,su(S,i,d)}S={type:"stylesheet",instance:S,count:1,state:E},g.set(p,S)}}}function Fj(a,i){Hn.X(a,i);var o=Co;if(o&&a){var d=Yt(o).hoistableScripts,g=Eo(a),p=d.get(g);p||(p=o.querySelector(oc(g)),p||(a=y({src:a,async:!0},i),(i=Ia.get(g))&&Ah(a,i),p=o.createElement("script"),re(p),Hr(p,"link",a),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},d.set(g,p))}}function Bj(a,i){Hn.M(a,i);var o=Co;if(o&&a){var d=Yt(o).hoistableScripts,g=Eo(a),p=d.get(g);p||(p=o.querySelector(oc(g)),p||(a=y({src:a,async:!0,type:"module"},i),(i=Ia.get(g))&&Ah(a,i),p=o.createElement("script"),re(p),Hr(p,"link",a),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},d.set(g,p))}}function Nb(a,i,o,d){var g=(g=Y.current)?nu(g):null;if(!g)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=_o(o.href),o=Yt(g).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){a=_o(o.href);var p=Yt(g).hoistableStyles,S=p.get(a);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(a,S),(p=g.querySelector(ic(a)))&&!p._p&&(S.instance=p,S.state.loading=5),Ia.has(a)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ia.set(a,o),p||zj(g,a,o,S.state))),i&&d===null)throw Error(s(528,""));return S}if(i&&d!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(o),o=Yt(g).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function _o(a){return'href="'+oa(a)+'"'}function ic(a){return'link[rel="stylesheet"]['+a+"]"}function jb(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function zj(a,i,o,d){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=a.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Hr(i,"link",o),re(i),a.head.appendChild(i))}function Eo(a){return'[src="'+oa(a)+'"]'}function oc(a){return"script[async]"+a}function kb(a,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=a.querySelector('style[data-href~="'+oa(o.href)+'"]');if(d)return i.instance=d,re(d),d;var g=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),re(d),Hr(d,"style",g),su(d,o.precedence,a),i.instance=d;case"stylesheet":g=_o(o.href);var p=a.querySelector(ic(g));if(p)return i.state.loading|=4,i.instance=p,re(p),p;d=jb(o),(g=Ia.get(g))&&Oh(d,g),p=(a.ownerDocument||a).createElement("link"),re(p);var S=p;return S._p=new Promise(function(E,K){S.onload=E,S.onerror=K}),Hr(p,"link",d),i.state.loading|=4,su(p,o.precedence,a),i.instance=p;case"script":return p=Eo(o.src),(g=a.querySelector(oc(p)))?(i.instance=g,re(g),g):(d=o,(g=Ia.get(p))&&(d=y({},o),Ah(d,g)),a=a.ownerDocument||a,g=a.createElement("script"),re(g),Hr(g,"link",d),a.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,su(d,o.precedence,a));return i.instance}function su(a,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,p=g,S=0;S<d.length;S++){var E=d[S];if(E.dataset.precedence===i)p=E;else if(p!==g)break}p?p.parentNode.insertBefore(a,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(a,i.firstChild))}function Oh(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Ah(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var iu=null;function Sb(a,i,o){if(iu===null){var d=new Map,g=iu=new Map;g.set(o,d)}else g=iu,d=g.get(o),d||(d=new Map,g.set(o,d));if(d.has(a))return d;for(d.set(a,null),o=o.getElementsByTagName(a),g=0;g<o.length;g++){var p=o[g];if(!(p[ut]||p[Ne]||a==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(i)||"";S=a+S;var E=d.get(S);E?E.push(p):d.set(S,[p])}}return d}function $b(a,i,o){a=a.ownerDocument||a,a.head.insertBefore(o,i==="title"?a.querySelector("head > title"):null)}function Hj(a,i,o){if(o===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var lc=null;function qj(){}function Gj(a,i,o){if(lc===null)throw Error(s(475));var d=lc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=_o(o.href),p=a.querySelector(ic(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=ou.bind(d),a.then(d,d)),i.state.loading|=4,i.instance=p,re(p);return}p=a.ownerDocument||a,o=jb(o),(g=Ia.get(g))&&Oh(o,g),p=p.createElement("link"),re(p);var S=p;S._p=new Promise(function(E,K){S.onload=E,S.onerror=K}),Hr(p,"link",o),i.instance=p}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=ou.bind(d),a.addEventListener("load",i),a.addEventListener("error",i))}}function Vj(){if(lc===null)throw Error(s(475));var a=lc;return a.stylesheets&&a.count===0&&Rh(a,a.stylesheets),0<a.count?function(i){var o=setTimeout(function(){if(a.stylesheets&&Rh(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(o)}}:null}function ou(){if(this.count--,this.count===0){if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var lu=null;function Rh(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,lu=new Map,i.forEach(Kj,a),lu=null,ou.call(a))}function Kj(a,i){if(!(i.state.loading&4)){var o=lu.get(a);if(o)var d=o.get(null);else{o=new Map,lu.set(a,o);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var S=g[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}g=i.instance,S=g.getAttribute("data-precedence"),p=o.get(S)||d,p===d&&o.set(null,g),o.set(S,g),this.count++,d=ou.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),p?p.parentNode.insertBefore(g,p.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),i.state.loading|=4}}var cc={$$typeof:A,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Yj(a,i,o,d,g,p,S,E){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _b(a,i,o,d,g,p,S,E,K,ge,_e,Ae){return a=new Yj(a,i,o,S,E,K,ge,Ae),i=1,p===!0&&(i|=24),p=xa(3,null,null,i),a.current=p,p.stateNode=a,i=mf(),i.refCount++,a.pooledCache=i,i.refCount++,p.memoizedState={element:d,isDehydrated:o,cache:i},xf(p),a}function Eb(a){return a?(a=so,a):so}function Tb(a,i,o,d,g,p){g=Eb(g),d.context===null?d.context=g:d.pendingContext=g,d=ms(i),d.payload={element:o},p=p===void 0?null:p,p!==null&&(d.callback=p),o=gs(a,d,i),o!==null&&(ja(o,a,i),Ul(o,a,i))}function Ob(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<i?o:i}}function Ph(a,i){Ob(a,i),(a=a.alternate)&&Ob(a,i)}function Ab(a){if(a.tag===13){var i=no(a,67108864);i!==null&&ja(i,a,67108864),Ph(a,67108864)}}var cu=!0;function Qj(a,i,o,d){var g=q.T;q.T=null;var p=ae.p;try{ae.p=2,Mh(a,i,o,d)}finally{ae.p=p,q.T=g}}function Xj(a,i,o,d){var g=q.T;q.T=null;var p=ae.p;try{ae.p=8,Mh(a,i,o,d)}finally{ae.p=p,q.T=g}}function Mh(a,i,o,d){if(cu){var g=Dh(d);if(g===null)Nh(a,i,d,du,o),Pb(a,d);else if(Zj(g,a,i,o,d))d.stopPropagation();else if(Pb(a,d),i&4&&-1<Wj.indexOf(a)){for(;g!==null;){var p=Kt(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Ct(p.pendingLanes);if(S!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var K=1<<31-Pe(S);E.entanglements[1]|=K,S&=~K}wn(p),(Jt&6)===0&&(Kd=jt()+500,rc(0))}}break;case 13:E=no(p,2),E!==null&&ja(E,p,2),Qd(),Ph(p,2)}if(p=Dh(d),p===null&&Nh(a,i,d,du,o),p===g)break;g=p}g!==null&&d.stopPropagation()}else Nh(a,i,d,null,o)}}function Dh(a){return a=si(a),Lh(a)}var du=null;function Lh(a){if(du=null,a=Ot(a),a!==null){var i=c(a);if(i===null)a=null;else{var o=i.tag;if(o===13){if(a=u(i),a!==null)return a;a=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return du=a,null}function Rb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case se:return 2;case Je:return 8;case Ft:case fe:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Ih=!1,_s=null,Es=null,Ts=null,dc=new Map,uc=new Map,Os=[],Wj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pb(a,i){switch(a){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":dc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(i.pointerId)}}function fc(a,i,o,d,g,p){return a===null||a.nativeEvent!==p?(a={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:p,targetContainers:[g]},i!==null&&(i=Kt(i),i!==null&&Ab(i)),a):(a.eventSystemFlags|=d,i=a.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),a)}function Zj(a,i,o,d,g){switch(i){case"focusin":return _s=fc(_s,a,i,o,d,g),!0;case"dragenter":return Es=fc(Es,a,i,o,d,g),!0;case"mouseover":return Ts=fc(Ts,a,i,o,d,g),!0;case"pointerover":var p=g.pointerId;return dc.set(p,fc(dc.get(p)||null,a,i,o,d,g)),!0;case"gotpointercapture":return p=g.pointerId,uc.set(p,fc(uc.get(p)||null,a,i,o,d,g)),!0}return!1}function Mb(a){var i=Ot(a.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){a.blockedOn=i,D(a.priority,function(){if(o.tag===13){var d=Na();d=Tr(d);var g=no(o,d);g!==null&&ja(g,o,d),Ph(o,d)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function uu(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var o=Dh(a.nativeEvent);if(o===null){o=a.nativeEvent;var d=new o.constructor(o.type,o);jl=d,o.target.dispatchEvent(d),jl=null}else return i=Kt(o),i!==null&&Ab(i),a.blockedOn=o,!1;i.shift()}return!0}function Db(a,i,o){uu(a)&&o.delete(i)}function Jj(){Ih=!1,_s!==null&&uu(_s)&&(_s=null),Es!==null&&uu(Es)&&(Es=null),Ts!==null&&uu(Ts)&&(Ts=null),dc.forEach(Db),uc.forEach(Db)}function fu(a,i){a.blockedOn===i&&(a.blockedOn=null,Ih||(Ih=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jj)))}var hu=null;function Lb(a){hu!==a&&(hu=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hu===a&&(hu=null);for(var i=0;i<a.length;i+=3){var o=a[i],d=a[i+1],g=a[i+2];if(typeof d!="function"){if(Lh(d||o)===null)continue;break}var p=Kt(o);p!==null&&(a.splice(i,3),i-=3,Lf(p,{pending:!0,data:g,method:o.method,action:d},d,g))}}))}function hc(a){function i(K){return fu(K,a)}_s!==null&&fu(_s,a),Es!==null&&fu(Es,a),Ts!==null&&fu(Ts,a),dc.forEach(i),uc.forEach(i);for(var o=0;o<Os.length;o++){var d=Os[o];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Os.length&&(o=Os[0],o.blockedOn===null);)Mb(o),o.blockedOn===null&&Os.shift();if(o=(a.ownerDocument||a).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var g=o[d],p=o[d+1],S=g[Me]||null;if(typeof p=="function")S||Lb(o);else if(S){var E=null;if(p&&p.hasAttribute("formAction")){if(g=p,S=p[Me]||null)E=S.formAction;else if(Lh(g)!==null)continue}else E=S.action;typeof E=="function"?o[d+1]=E:(o.splice(d,3),d-=3),Lb(o)}}}function Uh(a){this._internalRoot=a}mu.prototype.render=Uh.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,d=Na();Tb(o,d,a,i,null,null)},mu.prototype.unmount=Uh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Tb(a.current,2,null,a,null,null),Qd(),i[Xe]=null}};function mu(a){this._internalRoot=a}mu.prototype.unstable_scheduleHydration=function(a){if(a){var i=W();a={blockedOn:null,target:a,priority:i};for(var o=0;o<Os.length&&i!==0&&i<Os[o].priority;o++);Os.splice(o,0,a),o===0&&Mb(a)}};var Ib=t.version;if(Ib!=="19.1.0")throw Error(s(527,Ib,"19.1.0"));ae.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=h(i),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var ek={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{Gt=gu.inject(ek),Ht=gu}catch(a){}}return gc.createRoot=function(a,i){if(!l(a))throw Error(s(299));var o=!1,d="",g=ex,p=tx,S=rx,E=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=_b(a,1,!1,null,null,o,d,g,p,S,E,null),a[Xe]=i.current,wh(a),new Uh(i)},gc.hydrateRoot=function(a,i,o){if(!l(a))throw Error(s(299));var d=!1,g="",p=ex,S=tx,E=rx,K=null,ge=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(K=o.unstable_transitionCallbacks),o.formState!==void 0&&(ge=o.formState)),i=_b(a,1,!0,i,o!=null?o:null,d,g,p,S,E,K,ge),i.context=Eb(null),o=i.current,d=Na(),d=Tr(d),g=ms(d),g.callback=null,gs(o,g,d),o=d,i.current.lanes=o,Ie(i,o),wn(i),a[Xe]=i.current,wh(a),new mu(i)},gc.version="19.1.0",gc}var Zb;function mk(){if(Zb)return Yh.exports;Zb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=hk(),Yh.exports}var gk=mk();const yk=fl(gk);var yc={},Jb;function pk(){if(Jb)return yc;Jb=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.parse=u,yc.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,v){const $=new c,N=b.length;if(N<2)return $;const C=(v==null?void 0:v.decode)||y;let k=0;do{const O=b.indexOf("=",k);if(O===-1)break;const A=b.indexOf(";",k),B=A===-1?N:A;if(O>B){k=b.lastIndexOf(";",O-1)+1;continue}const P=f(b,k,O),T=h(b,O,P),G=b.slice(P,T);if($[G]===void 0){let z=f(b,O+1,B),Z=h(b,B,z);const Q=C(b.slice(z,Z));$[G]=Q}k=B+1}while(k<N);return $}function f(b,v,$){do{const N=b.charCodeAt(v);if(N!==32&&N!==9)return v}while(++v<$);return $}function h(b,v,$){for(;v>$;){const N=b.charCodeAt(--v);if(N!==32&&N!==9)return v+1}return $}function m(b,v,$){const N=($==null?void 0:$.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=N(v);if(!t.test(C))throw new TypeError(`argument val is invalid: ${v}`);let k=b+"="+C;if(!$)return k;if($.maxAge!==void 0){if(!Number.isInteger($.maxAge))throw new TypeError(`option maxAge is invalid: ${$.maxAge}`);k+="; Max-Age="+$.maxAge}if($.domain){if(!r.test($.domain))throw new TypeError(`option domain is invalid: ${$.domain}`);k+="; Domain="+$.domain}if($.path){if(!s.test($.path))throw new TypeError(`option path is invalid: ${$.path}`);k+="; Path="+$.path}if($.expires){if(!w($.expires)||!Number.isFinite($.expires.valueOf()))throw new TypeError(`option expires is invalid: ${$.expires}`);k+="; Expires="+$.expires.toUTCString()}if($.httpOnly&&(k+="; HttpOnly"),$.secure&&(k+="; Secure"),$.partitioned&&(k+="; Partitioned"),$.priority)switch(typeof $.priority=="string"?$.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${$.priority}`)}if($.sameSite)switch(typeof $.sameSite=="string"?$.sameSite.toLowerCase():$.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${$.sameSite}`)}return k}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch(v){return b}}function w(b){return l.call(b)==="[object Date]"}return yc}pk();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K2=e=>{throw TypeError(e)},xk=(e,t,r)=>t.has(e)||K2("Cannot "+r),Zh=(e,t,r)=>(xk(e,t,"read from private field"),r?r.call(e):t.get(e)),bk=(e,t,r)=>t.has(e)?K2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ev="popstate";function vk(e={}){function t(s,l){let{pathname:c,search:u,hash:f}=s.location;return _c("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Qs(l)}return Nk(t,r,null,e)}function Ut(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function wr(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}function wk(){return Math.random().toString(36).substring(2,10)}function tv(e,t){return{usr:e.state,key:e.key,idx:t}}function _c(e,t,r=null,s){return ce(F({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xs(t):t),{state:r,key:t&&t.key||s||wk()})}function Qs({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Nk(e,t,r,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,u=l.history,f="POP",h=null,m=y();m==null&&(m=0,u.replaceState(ce(F({},u.state),{idx:m}),""));function y(){return(u.state||{idx:null}).idx}function w(){f="POP";let C=y(),k=C==null?null:C-m;m=C,h&&h({action:f,location:N.location,delta:k})}function b(C,k){f="PUSH";let O=_c(N.location,C,k);m=y()+1;let A=tv(O,m),B=N.createHref(O);try{u.pushState(A,"",B)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;l.location.assign(B)}c&&h&&h({action:f,location:N.location,delta:1})}function v(C,k){f="REPLACE";let O=_c(N.location,C,k);m=y();let A=tv(O,m),B=N.createHref(O);u.replaceState(A,"",B),c&&h&&h({action:f,location:N.location,delta:0})}function $(C){return Y2(C)}let N={get action(){return f},get location(){return e(l,u)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(ev,w),h=C,()=>{l.removeEventListener(ev,w),h=null}},createHref(C){return t(l,C)},createURL:$,encodeLocation(C){let k=$(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:v,go(C){return u.go(C)}};return N}function Y2(e,t=!1){let r="http://localhost";typeof window!="undefined"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Qs(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}var jc,rv=class{constructor(e){if(bk(this,jc,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Zh(this,jc).has(e))return Zh(this,jc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Zh(this,jc).set(e,t)}};jc=new WeakMap;var jk=new Set(["lazy","caseSensitive","path","id","index","children"]);function kk(e){return jk.has(e)}var Sk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function $k(e){return Sk.has(e)}function Ck(e){return e.index===!0}function Qu(e,t,r=[],s={}){return e.map((l,c)=>{let u=[...r,String(c)],f=typeof l.id=="string"?l.id:u.join("-");if(Ut(l.index!==!0||!l.children,"Cannot specify children on an index route"),Ut(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),Ck(l)){let h=ce(F(F({},l),t(l)),{id:f});return s[f]=h,h}else{let h=ce(F(F({},l),t(l)),{id:f,children:void 0});return s[f]=h,l.children&&(h.children=Qu(l.children,t,u,s)),h}})}function Us(e,t,r="/"){return Lu(e,t,r,!1)}function Lu(e,t,r,s){let l=typeof t=="string"?Xs(t):t,c=qa(l.pathname||"/",r);if(c==null)return null;let u=Q2(e);Ek(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=Fk(c);f=Ik(u[h],m,s)}return f}function _k(e,t){let{route:r,pathname:s,params:l}=e;return{id:r.id,pathname:s,params:l,data:t[r.id],handle:r.handle}}function Q2(e,t=[],r=[],s=""){let l=(c,u,f)=>{let h={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};h.relativePath.startsWith("/")&&(Ut(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=$n([s,h.relativePath]),y=r.concat(h);c.children&&c.children.length>0&&(Ut(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Q2(c.children,t,y,m)),!(c.path==null&&!c.index)&&t.push({path:m,score:Dk(m,c.index),routesMeta:y})};return e.forEach((c,u)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,u);else for(let h of X2(c.path))l(c,u,h)}),t}function X2(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let u=X2(s.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),l&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function Ek(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lk(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Tk=/^:[\w-]+$/,Ok=3,Ak=2,Rk=1,Pk=10,Mk=-2,av=e=>e==="*";function Dk(e,t){let r=e.split("/"),s=r.length;return r.some(av)&&(s+=Mk),t&&(s+=Ak),r.filter(l=>!av(l)).reduce((l,c)=>l+(Tk.test(c)?Ok:c===""?Rk:Pk),s)}function Lk(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Ik(e,t,r=!1){let{routesMeta:s}=e,l={},c="/",u=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,y=c==="/"?t:t.slice(c.length)||"/",w=Xu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),b=h.route;if(!w&&m&&r&&!s[s.length-1].route.index&&(w=Xu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!w)return null;Object.assign(l,w.params),u.push({params:l,pathname:$n([c,w.pathname]),pathnameBase:Hk($n([c,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(c=$n([c,w.pathnameBase]))}return u}function Xu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Uk(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:w},b)=>{if(y==="*"){let $=f[b]||"";u=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const v=f[b];return w&&!v?m[y]=void 0:m[y]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:e}}function Uk(e,t=!1,r=!0){wr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Fk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Bk(e,t="/"){let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?Xs(e):e;return{pathname:r?r.startsWith("/")?r:zk(r,t):t,search:qk(s),hash:Gk(l)}}function zk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Jh(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function m0(e){let t=W2(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function g0(e,t,r,s=!1){let l;typeof e=="string"?l=Xs(e):(l=F({},e),Ut(!l.pathname||!l.pathname.includes("?"),Jh("?","pathname","search",l)),Ut(!l.pathname||!l.pathname.includes("#"),Jh("#","pathname","hash",l)),Ut(!l.search||!l.search.includes("#"),Jh("#","search","hash",l)));let c=e===""||l.pathname==="",u=c?"/":l.pathname,f;if(u==null)f=r;else{let w=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),w-=1;l.pathname=b.join("/")}f=w>=0?t[w]:"/"}let h=Bk(l,f),m=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var $n=e=>e.join("/").replace(/\/\/+/g,"/"),Hk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Wu=class{constructor(e,t,r,s=!1){this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ec(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Z2=["POST","PUT","PATCH","DELETE"],Vk=new Set(Z2),Kk=["GET",...Z2],Yk=new Set(Kk),Qk=new Set([301,302,303,307,308]),Xk=new Set([307,308]),em={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zk=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),J2="remix-router-transitions",e3=Symbol("ResetLoaderData");function Jk(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,r=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Ut(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],l=e.mapRouteProperties||Zk,c={},u=Qu(e.routes,l,void 0,c),f,h=e.basename||"/",m=e.dataStrategy||n6,y=F({unstable_middleware:!1},e.future),w=null,b=new Set,v=null,$=null,N=null,C=e.hydrationData!=null,k=Us(u,e.history.location,h),O=!1,A=null,B;if(k==null&&!e.patchRoutesOnNavigation){let W=Fa(404,{pathname:e.history.location.pathname}),{matches:D,route:V}=gv(u);B=!0,k=D,A={[V.id]:W}}else if(k&&!e.hydrationData&&Nr(k,u,e.history.location.pathname).active&&(k=null),k)if(k.some(W=>W.route.lazy))B=!1;else if(!k.some(W=>W.route.loader))B=!0;else{let W=e.hydrationData?e.hydrationData.loaderData:null,D=e.hydrationData?e.hydrationData.errors:null;if(D){let V=k.findIndex(Ne=>D[Ne.route.id]!==void 0);B=k.slice(0,V+1).every(Ne=>!Dm(Ne.route,W,D))}else B=k.every(V=>!Dm(V.route,W,D))}else{B=!1,k=[];let W=Nr(null,u,e.history.location.pathname);W.active&&W.matches&&(O=!0,k=W.matches)}let P,T={historyAction:e.history.action,location:e.history.location,matches:k,initialized:B,navigation:em,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},G="POP",z=!1,Z,Q=!1,H=new Map,X=null,ye=!1,pe=!1,Oe=new Set,q=new Map,ae=0,me=-1,Re=new Map,U=new Set,we=new Map,L=new Map,te=new Set,oe=new Map,R,Y=null;function Se(){if(w=e.history.listen(({action:W,location:D,delta:V})=>{if(R){R(),R=void 0;return}wr(oe.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ne=qr({currentLocation:T.location,nextLocation:D,historyAction:W});if(Ne&&V!=null){let Me=new Promise(Xe=>{R=Xe});e.history.go(V*-1),tr(Ne,{state:"blocked",location:D,proceed(){tr(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),Me.then(()=>e.history.go(V))},reset(){let Xe=new Map(T.blockers);Xe.set(Ne,pc),be({blockers:Xe})}});return}return Ce(W,D)}),r){g6(t,H);let W=()=>y6(t,H);t.addEventListener("pagehide",W),X=()=>t.removeEventListener("pagehide",W)}return T.initialized||Ce("POP",T.location,{initialHydration:!0}),P}function J(){w&&w(),X&&X(),b.clear(),Z&&Z.abort(),T.fetchers.forEach((W,D)=>Pe(D)),T.blockers.forEach((W,D)=>mr(D))}function $e(W){return b.add(W),()=>b.delete(W)}function be(W,D={}){T=F(F({},T),W);let V=[],Ne=[];T.fetchers.forEach((Me,Xe)=>{Me.state==="idle"&&(te.has(Xe)?V.push(Xe):Ne.push(Xe))}),te.forEach(Me=>{!T.fetchers.has(Me)&&!q.has(Me)&&V.push(Me)}),[...b].forEach(Me=>Me(T,{deletedFetchers:V,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),V.forEach(Me=>Pe(Me)),Ne.forEach(Me=>T.fetchers.delete(Me))}function Be(W,D,{flushSync:V}={}){var $t,ut;let Ne=T.actionData!=null&&T.navigation.formMethod!=null&&$a(T.navigation.formMethod)&&T.navigation.state==="loading"&&(($t=W.state)==null?void 0:$t._isRedirect)!==!0,Me;D.actionData?Object.keys(D.actionData).length>0?Me=D.actionData:Me=null:Ne?Me=T.actionData:Me=null;let Xe=D.loaderData?hv(T.loaderData,D.loaderData,D.matches||[],D.errors):T.loaderData,ot=T.blockers;ot.size>0&&(ot=new Map(ot),ot.forEach((kt,Ot)=>ot.set(Ot,pc)));let at=z===!0||T.navigation.formMethod!=null&&$a(T.navigation.formMethod)&&((ut=W.state)==null?void 0:ut._isRedirect)!==!0;f&&(u=f,f=void 0),ye||G==="POP"||(G==="PUSH"?e.history.push(W,W.state):G==="REPLACE"&&e.history.replace(W,W.state));let Ue;if(G==="POP"){let kt=H.get(T.location.pathname);kt&&kt.has(W.pathname)?Ue={currentLocation:T.location,nextLocation:W}:H.has(W.pathname)&&(Ue={currentLocation:W,nextLocation:T.location})}else if(Q){let kt=H.get(T.location.pathname);kt?kt.add(W.pathname):(kt=new Set([W.pathname]),H.set(T.location.pathname,kt)),Ue={currentLocation:T.location,nextLocation:W}}be(ce(F({},D),{actionData:Me,loaderData:Xe,historyAction:G,location:W,initialized:!0,navigation:em,revalidation:"idle",restoreScrollPosition:Er(W,D.matches||T.matches),preventScrollReset:at,blockers:ot}),{viewTransitionOpts:Ue,flushSync:V===!0}),G="POP",z=!1,Q=!1,ye=!1,pe=!1,Y==null||Y.resolve(),Y=null}function tt(W,D){return de(this,null,function*(){if(typeof W=="number"){e.history.go(W);return}let V=Mm(T.location,T.matches,h,W,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:Ne,submission:Me,error:Xe}=nv(!1,V,D),ot=T.location,at=_c(T.location,Ne,D&&D.state);at=F(F({},at),e.history.encodeLocation(at));let Ue=D&&D.replace!=null?D.replace:void 0,$t="PUSH";Ue===!0?$t="REPLACE":Ue===!1||Me!=null&&$a(Me.formMethod)&&Me.formAction===T.location.pathname+T.location.search&&($t="REPLACE");let ut=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,kt=(D&&D.flushSync)===!0,Ot=qr({currentLocation:ot,nextLocation:at,historyAction:$t});if(Ot){tr(Ot,{state:"blocked",location:at,proceed(){tr(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),tt(W,D)},reset(){let Kt=new Map(T.blockers);Kt.set(Ot,pc),be({blockers:Kt})}});return}yield Ce($t,at,{submission:Me,pendingError:Xe,preventScrollReset:ut,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:kt})})}function vt(){Y||(Y=p6()),Zt(),be({revalidation:"loading"});let W=Y.promise;return T.navigation.state==="submitting"?W:T.navigation.state==="idle"?(Ce(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),W):(Ce(G||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:Q===!0}),W)}function Ce(W,D,V){return de(this,null,function*(){Z&&Z.abort(),Z=null,G=W,ye=(V&&V.startUninterruptedRevalidation)===!0,Ie(T.location,T.matches),z=(V&&V.preventScrollReset)===!0,Q=(V&&V.enableViewTransition)===!0;let Ne=f||u,Me=V&&V.overrideNavigation,Xe=V!=null&&V.initialHydration&&T.matches&&T.matches.length>0&&!O?T.matches:Us(Ne,D,h),ot=(V&&V.flushSync)===!0;if(Xe&&T.initialized&&!pe&&d6(T.location,D)&&!(V&&V.submission&&$a(V.submission.formMethod))){Be(D,{matches:Xe},{flushSync:ot});return}let at=Nr(Xe,Ne,D.pathname);if(at.active&&at.matches&&(Xe=at.matches),!Xe){let{error:Yt,notFoundMatches:re,route:ke}=Gr(D.pathname);Be(D,{matches:re,loaderData:{},errors:{[ke.id]:Yt}},{flushSync:ot});return}Z=new AbortController;let Ue=Io(e.history,D,Z.signal,V&&V.submission),$t=new rv(e.unstable_getContext?yield e.unstable_getContext():void 0),ut;if(V&&V.pendingError)ut=[_i(Xe).route.id,{type:"error",error:V.pendingError}];else if(V&&V.submission&&$a(V.submission.formMethod)){let Yt=yield Ye(Ue,D,V.submission,Xe,$t,at.active,V&&V.initialHydration===!0,{replace:V.replace,flushSync:ot});if(Yt.shortCircuited)return;if(Yt.pendingActionResult){let[re,ke]=Yt.pendingActionResult;if(Sa(ke)&&Ec(ke.error)&&ke.error.status===404){Z=null,Be(D,{matches:Yt.matches,loaderData:{},errors:{[re]:ke.error}});return}}Xe=Yt.matches||Xe,ut=Yt.pendingActionResult,Me=tm(D,V.submission),ot=!1,at.active=!1,Ue=Io(e.history,Ue.url,Ue.signal)}let{shortCircuited:kt,matches:Ot,loaderData:Kt,errors:rr}=yield _t(Ue,D,Xe,$t,at.active,Me,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,ot,ut);kt||(Z=null,Be(D,ce(F({matches:Ot||Xe},mv(ut)),{loaderData:Kt,errors:rr})))})}function Ye(Ue,$t,ut,kt,Ot,Kt,rr){return de(this,arguments,function*(W,D,V,Ne,Me,Xe,ot,at={}){Zt();let Yt=h6(D,V);if(be({navigation:Yt},{flushSync:at.flushSync===!0}),Xe){let qe=yield ia(Ne,D.pathname,W.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let De=_i(qe.partialMatches).route.id;return{matches:qe.partialMatches,pendingActionResult:[De,{type:"error",error:qe.error}]}}else if(qe.matches)Ne=qe.matches;else{let{notFoundMatches:De,error:lt,route:gt}=Gr(D.pathname);return{matches:De,pendingActionResult:[gt.id,{type:"error",error:lt}]}}}let re,ke=kc(Ne,D);if(!ke.route.action&&!ke.route.lazy)re={type:"error",error:Fa(405,{method:W.method,pathname:D.pathname,routeId:ke.route.id})};else{let qe=Ho(l,c,W,Ne,ke,ot?[]:s,Me),De=yield Qe(W,qe,Me,null);if(re=De[ke.route.id],!re){for(let lt of Ne)if(De[lt.route.id]){re=De[lt.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(Ei(re)){let qe;return at&&at.replace!=null?qe=at.replace:qe=dv(re.response.headers.get("Location"),new URL(W.url),h)===T.location.pathname+T.location.search,yield fe(W,re,!0,{submission:V,replace:qe}),{shortCircuited:!0}}if(Sa(re)){let qe=_i(Ne,ke.route.id);return(at&&at.replace)!==!0&&(G="PUSH"),{matches:Ne,pendingActionResult:[qe.route.id,re,ke.route.id]}}return{matches:Ne,pendingActionResult:[ke.route.id,re]}})}function _t(W,D,V,Ne,Me,Xe,ot,at,Ue,$t,ut,kt){return de(this,null,function*(){let Ot=Xe||tm(D,ot),Kt=ot||at||pv(Ot),rr=!ye&&!$t;if(Me){if(rr){let jr=jt(kt);be(F({navigation:Ot},jr!==void 0?{actionData:jr}:{}),{flushSync:ut})}let Rt=yield ia(V,D.pathname,W.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let jr=_i(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[jr]:Rt.error}}}else if(Rt.matches)V=Rt.matches;else{let{error:jr,notFoundMatches:ga,route:Kr}=Gr(D.pathname);return{matches:ga,loaderData:{},errors:{[Kr.id]:jr}}}}let Yt=f||u,{dsMatches:re,revalidatingFetchers:ke}=sv(W,Ne,l,c,e.history,T,V,Kt,D,$t?[]:s,$t===!0,pe,Oe,te,we,U,Yt,h,e.patchRoutesOnNavigation!=null,kt);if(me=++ae,!e.dataStrategy&&!re.some(Rt=>Rt.shouldLoad)&&ke.length===0){let Rt=We();return Be(D,F(F({matches:V,loaderData:{},errors:kt&&Sa(kt[1])?{[kt[0]]:kt[1].error}:null},mv(kt)),Rt?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ut}),{shortCircuited:!0}}if(rr){let Rt={};if(!Me){Rt.navigation=Ot;let jr=jt(kt);jr!==void 0&&(Rt.actionData=jr)}ke.length>0&&(Rt.fetchers=Mt(ke)),be(Rt,{flushSync:ut})}ke.forEach(Rt=>{Ze(Rt.key),Rt.controller&&q.set(Rt.key,Rt.controller)});let qe=()=>ke.forEach(Rt=>Ze(Rt.key));Z&&Z.signal.addEventListener("abort",qe);let{loaderResults:De,fetcherResults:lt}=yield ht(re,ke,W,Ne);if(W.signal.aborted)return{shortCircuited:!0};Z&&Z.signal.removeEventListener("abort",qe),ke.forEach(Rt=>q.delete(Rt.key));let gt=xu(De);if(gt)return yield fe(W,gt.result,!0,{replace:Ue}),{shortCircuited:!0};if(gt=xu(lt),gt)return U.add(gt.key),yield fe(W,gt.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:pt,errors:Or}=fv(T,V,De,kt,ke,lt);$t&&T.errors&&(Or=F(F({},T.errors),Or));let Vr=We(),or=yt(me),Fr=Vr||or||ke.length>0;return F({matches:V,loaderData:pt,errors:Or},Fr?{fetchers:new Map(T.fetchers)}:{})})}function jt(W){if(W&&!Sa(W[1]))return{[W[0]]:W[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Mt(W){return W.forEach(D=>{let V=T.fetchers.get(D.key),Ne=xc(void 0,V?V.data:void 0);T.fetchers.set(D.key,Ne)}),new Map(T.fetchers)}function se(W,D,V,Ne){return de(this,null,function*(){Ze(W);let Me=(Ne&&Ne.flushSync)===!0,Xe=f||u,ot=Mm(T.location,T.matches,h,V,D,Ne==null?void 0:Ne.relative),at=Us(Xe,ot,h),Ue=Nr(at,Xe,ot);if(Ue.active&&Ue.matches&&(at=Ue.matches),!at){Ht(W,D,Fa(404,{pathname:ot}),{flushSync:Me});return}let{path:$t,submission:ut,error:kt}=nv(!0,ot,Ne);if(kt){Ht(W,D,kt,{flushSync:Me});return}let Ot=kc(at,$t),Kt=new rv(e.unstable_getContext?yield e.unstable_getContext():void 0),rr=(Ne&&Ne.preventScrollReset)===!0;if(ut&&$a(ut.formMethod)){yield Je(W,D,$t,Ot,at,Kt,Ue.active,Me,rr,ut);return}we.set(W,{routeId:D,path:$t}),yield Ft(W,D,$t,Ot,at,Kt,Ue.active,Me,rr,ut)})}function Je(W,D,V,Ne,Me,Xe,ot,at,Ue,$t){return de(this,null,function*(){Zt(),we.delete(W);function ut(lr){if(!lr.route.action&&!lr.route.lazy){let mn=Fa(405,{method:$t.formMethod,pathname:V,routeId:D});return Ht(W,D,mn,{flushSync:at}),!0}return!1}if(!ot&&ut(Ne))return;let kt=T.fetchers.get(W);Gt(W,m6($t,kt),{flushSync:at});let Ot=new AbortController,Kt=Io(e.history,V,Ot.signal,$t);if(ot){let lr=yield ia(Me,V,Kt.signal,W);if(lr.type==="aborted")return;if(lr.type==="error"){Ht(W,D,lr.error,{flushSync:at});return}else if(lr.matches){if(Me=lr.matches,Ne=kc(Me,V),ut(Ne))return}else{Ht(W,D,Fa(404,{pathname:V}),{flushSync:at});return}}q.set(W,Ot);let rr=ae,Yt=Ho(l,c,Kt,Me,Ne,s,Xe),ke=(yield Qe(Kt,Yt,Xe,W))[Ne.route.id];if(Kt.signal.aborted){q.get(W)===Ot&&q.delete(W);return}if(te.has(W)){if(Ei(ke)||Sa(ke)){Gt(W,Ms(void 0));return}}else{if(Ei(ke))if(q.delete(W),me>rr){Gt(W,Ms(void 0));return}else return U.add(W),Gt(W,xc($t)),fe(Kt,ke,!1,{fetcherSubmission:$t,preventScrollReset:Ue});if(Sa(ke)){Ht(W,D,ke.error);return}}let qe=T.navigation.location||T.location,De=Io(e.history,qe,Ot.signal),lt=f||u,gt=T.navigation.state!=="idle"?Us(lt,T.navigation.location,h):T.matches;Ut(gt,"Didn't find any matches after fetcher action");let pt=++ae;Re.set(W,pt);let Or=xc($t,ke.data);T.fetchers.set(W,Or);let{dsMatches:Vr,revalidatingFetchers:or}=sv(De,Xe,l,c,e.history,T,gt,$t,qe,s,!1,pe,Oe,te,we,U,lt,h,e.patchRoutesOnNavigation!=null,[Ne.route.id,ke]);or.filter(lr=>lr.key!==W).forEach(lr=>{let mn=lr.key,ei=T.fetchers.get(mn),Yr=xc(void 0,ei?ei.data:void 0);T.fetchers.set(mn,Yr),Ze(mn),lr.controller&&q.set(mn,lr.controller)}),be({fetchers:new Map(T.fetchers)});let Fr=()=>or.forEach(lr=>Ze(lr.key));Ot.signal.addEventListener("abort",Fr);let{loaderResults:Rt,fetcherResults:jr}=yield ht(Vr,or,De,Xe);if(Ot.signal.aborted)return;if(Ot.signal.removeEventListener("abort",Fr),Re.delete(W),q.delete(W),or.forEach(lr=>q.delete(lr.key)),T.fetchers.has(W)){let lr=Ms(ke.data);T.fetchers.set(W,lr)}let ga=xu(Rt);if(ga)return fe(De,ga.result,!1,{preventScrollReset:Ue});if(ga=xu(jr),ga)return U.add(ga.key),fe(De,ga.result,!1,{preventScrollReset:Ue});let{loaderData:Kr,errors:hn}=fv(T,gt,Rt,void 0,or,jr);yt(pt),T.navigation.state==="loading"&&pt>me?(Ut(G,"Expected pending action"),Z&&Z.abort(),Be(T.navigation.location,{matches:gt,loaderData:Kr,errors:hn,fetchers:new Map(T.fetchers)})):(be({errors:hn,loaderData:hv(T.loaderData,Kr,gt,hn),fetchers:new Map(T.fetchers)}),pe=!1)})}function Ft(W,D,V,Ne,Me,Xe,ot,at,Ue,$t){return de(this,null,function*(){let ut=T.fetchers.get(W);Gt(W,xc($t,ut?ut.data:void 0),{flushSync:at});let kt=new AbortController,Ot=Io(e.history,V,kt.signal);if(ot){let ke=yield ia(Me,V,Ot.signal,W);if(ke.type==="aborted")return;if(ke.type==="error"){Ht(W,D,ke.error,{flushSync:at});return}else if(ke.matches)Me=ke.matches,Ne=kc(Me,V);else{Ht(W,D,Fa(404,{pathname:V}),{flushSync:at});return}}q.set(W,kt);let Kt=ae,rr=Ho(l,c,Ot,Me,Ne,s,Xe),re=(yield Qe(Ot,rr,Xe,W))[Ne.route.id];if(q.get(W)===kt&&q.delete(W),!Ot.signal.aborted){if(te.has(W)){Gt(W,Ms(void 0));return}if(Ei(re))if(me>Kt){Gt(W,Ms(void 0));return}else{U.add(W),yield fe(Ot,re,!1,{preventScrollReset:Ue});return}if(Sa(re)){Ht(W,D,re.error);return}Gt(W,Ms(re.data))}})}function fe(at,Ue,$t){return de(this,arguments,function*(W,D,V,{submission:Ne,fetcherSubmission:Me,preventScrollReset:Xe,replace:ot}={}){D.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let ut=D.response.headers.get("Location");Ut(ut,"Expected a Location header on the redirect Response"),ut=dv(ut,new URL(W.url),h);let kt=_c(T.location,ut,{_isRedirect:!0});if(r){let ke=!1;if(D.response.headers.has("X-Remix-Reload-Document"))ke=!0;else if(Rg.test(ut)){const qe=Y2(ut,!0);ke=qe.origin!==t.location.origin||qa(qe.pathname,h)==null}if(ke){ot?t.location.replace(ut):t.location.assign(ut);return}}Z=null;let Ot=ot===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Kt,formAction:rr,formEncType:Yt}=T.navigation;!Ne&&!Me&&Kt&&rr&&Yt&&(Ne=pv(T.navigation));let re=Ne||Me;if(Xk.has(D.response.status)&&re&&$a(re.formMethod))yield Ce(Ot,kt,{submission:ce(F({},re),{formAction:ut}),preventScrollReset:Xe||z,enableViewTransition:V?Q:void 0});else{let ke=tm(kt,Ne);yield Ce(Ot,kt,{overrideNavigation:ke,fetcherSubmission:Me,preventScrollReset:Xe||z,enableViewTransition:V?Q:void 0})}})}function Qe(W,D,V,Ne){return de(this,null,function*(){let Me,Xe={};try{Me=yield s6(m,W,D,Ne,V,!1)}catch(ot){return D.filter(at=>at.shouldLoad).forEach(at=>{Xe[at.route.id]={type:"error",error:ot}}),Xe}if(W.signal.aborted)return Xe;for(let[ot,at]of Object.entries(Me))if(u6(at)){let Ue=at.result;Xe[ot]={type:"redirect",response:l6(Ue,W,ot,D,h)}}else Xe[ot]=yield o6(at);return Xe})}function ht(W,D,V,Ne){return de(this,null,function*(){let Me=Qe(V,W,Ne,null),Xe=Promise.all(D.map(Ue=>de(null,null,function*(){if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let ut=(yield Qe(Ue.request,Ue.matches,Ne,Ue.key))[Ue.match.route.id];return{[Ue.key]:ut}}else return Promise.resolve({[Ue.key]:{type:"error",error:Fa(404,{pathname:Ue.path})}})}))),ot=yield Me,at=(yield Xe).reduce((Ue,$t)=>Object.assign(Ue,$t),{});return{loaderResults:ot,fetcherResults:at}})}function Zt(){pe=!0,we.forEach((W,D)=>{q.has(D)&&Oe.add(D),Ze(D)})}function Gt(W,D,V={}){T.fetchers.set(W,D),be({fetchers:new Map(T.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Ht(W,D,V,Ne={}){let Me=_i(T.matches,D);Pe(W),be({errors:{[Me.route.id]:V},fetchers:new Map(T.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function he(W){return L.set(W,(L.get(W)||0)+1),te.has(W)&&te.delete(W),T.fetchers.get(W)||Wk}function Pe(W){let D=T.fetchers.get(W);q.has(W)&&!(D&&D.state==="loading"&&Re.has(W))&&Ze(W),we.delete(W),Re.delete(W),U.delete(W),te.delete(W),Oe.delete(W),T.fetchers.delete(W)}function He(W){let D=(L.get(W)||0)-1;D<=0?(L.delete(W),te.add(W)):L.set(W,D),be({fetchers:new Map(T.fetchers)})}function Ze(W){let D=q.get(W);D&&(D.abort(),q.delete(W))}function ze(W){for(let D of W){let V=he(D),Ne=Ms(V.data);T.fetchers.set(D,Ne)}}function We(){let W=[],D=!1;for(let V of U){let Ne=T.fetchers.get(V);Ut(Ne,`Expected fetcher: ${V}`),Ne.state==="loading"&&(U.delete(V),W.push(V),D=!0)}return ze(W),D}function yt(W){let D=[];for(let[V,Ne]of Re)if(Ne<W){let Me=T.fetchers.get(V);Ut(Me,`Expected fetcher: ${V}`),Me.state==="loading"&&(Ze(V),Re.delete(V),D.push(V))}return ze(D),D.length>0}function Ct(W,D){let V=T.blockers.get(W)||pc;return oe.get(W)!==D&&oe.set(W,D),V}function mr(W){T.blockers.delete(W),oe.delete(W)}function tr(W,D){let V=T.blockers.get(W)||pc;Ut(V.state==="unblocked"&&D.state==="blocked"||V.state==="blocked"&&D.state==="blocked"||V.state==="blocked"&&D.state==="proceeding"||V.state==="blocked"&&D.state==="unblocked"||V.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${V.state} -> ${D.state}`);let Ne=new Map(T.blockers);Ne.set(W,D),be({blockers:Ne})}function qr({currentLocation:W,nextLocation:D,historyAction:V}){if(oe.size===0)return;oe.size>1&&wr(!1,"A router only supports one blocker at a time");let Ne=Array.from(oe.entries()),[Me,Xe]=Ne[Ne.length-1],ot=T.blockers.get(Me);if(!(ot&&ot.state==="proceeding")&&Xe({currentLocation:W,nextLocation:D,historyAction:V}))return Me}function Gr(W){let D=Fa(404,{pathname:W}),V=f||u,{matches:Ne,route:Me}=gv(V);return{notFoundMatches:Ne,route:Me,error:D}}function _a(W,D,V){if(v=W,N=D,$=V||null,!C&&T.navigation===em){C=!0;let Ne=Er(T.location,T.matches);Ne!=null&&be({restoreScrollPosition:Ne})}return()=>{v=null,N=null,$=null}}function Ea(W,D){return $&&$(W,D.map(Ne=>_k(Ne,T.loaderData)))||W.key}function Ie(W,D){if(v&&N){let V=Ea(W,D);v[V]=N()}}function Er(W,D){if(v){let V=Ea(W,D),Ne=v[V];if(typeof Ne=="number")return Ne}return null}function Nr(W,D,V){if(e.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:Lu(D,V,h,!0)}}else return{active:!0,matches:Lu(D,V,h,!0)||[]};return{active:!1,matches:null}}function ia(W,D,V,Ne){return de(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:W};let Me=W;for(;;){let Xe=f==null,ot=f||u,at=c;try{yield e.patchRoutesOnNavigation({signal:V,path:D,matches:Me,fetcherKey:Ne,patch:(ut,kt)=>{V.aborted||iv(ut,kt,ot,at,l)}})}catch(ut){return{type:"error",error:ut,partialMatches:Me}}finally{Xe&&!V.aborted&&(u=[...u])}if(V.aborted)return{type:"aborted"};let Ue=Us(ot,D,h);if(Ue)return{type:"success",matches:Ue};let $t=Lu(ot,D,h,!0);if(!$t||Me.length===$t.length&&Me.every((ut,kt)=>ut.route.id===$t[kt].route.id))return{type:"success",matches:null};Me=$t}})}function Tr(W){c={},f=Qu(W,l,void 0,c)}function Ta(W,D){let V=f==null;iv(W,D,f||u,c,l),V&&(u=[...u],be({}))}return P={get basename(){return h},get future(){return y},get state(){return T},get routes(){return u},get window(){return t},initialize:Se,subscribe:$e,enableScrollRestoration:_a,navigate:tt,fetch:se,revalidate:vt,createHref:W=>e.history.createHref(W),encodeLocation:W=>e.history.encodeLocation(W),getFetcher:he,deleteFetcher:He,dispose:J,getBlocker:Ct,deleteBlocker:mr,patchRoutes:Ta,_internalFetchControllers:q,_internalSetRoutes:Tr},P}function e6(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Mm(e,t,r,s,l,c){let u,f;if(l){u=[];for(let m of t)if(u.push(m),m.route.id===l){f=m;break}}else u=t,f=t[t.length-1];let h=g0(s||".",m0(u),qa(e.pathname,r)||e.pathname,c==="path");if(s==null&&(h.search=e.search,h.hash=e.hash),(s==null||s===""||s===".")&&f){let m=Pg(h.search);if(f.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let y=new URLSearchParams(h.search),w=y.getAll("index");y.delete("index"),w.filter(v=>v).forEach(v=>y.append("index",v));let b=y.toString();h.search=b?`?${b}`:""}}return r!=="/"&&(h.pathname=h.pathname==="/"?r:$n([r,h.pathname])),Qs(h)}function nv(e,t,r){if(!r||!e6(r))return{path:t};if(r.formMethod&&!f6(r.formMethod))return{path:t,error:Fa(405,{method:r.formMethod})};let s=()=>({path:t,error:Fa(400,{type:"invalid-body"})}),c=(r.formMethod||"get").toUpperCase(),u=i3(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!$a(c))return s();let w=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[v,$])=>`${b}${v}=${$}
`,""):String(r.body);return{path:t,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:w}}}else if(r.formEncType==="application/json"){if(!$a(c))return s();try{let w=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:w,text:void 0}}}catch(w){return s()}}}Ut(typeof FormData=="function","FormData is not available in this environment");let f,h;if(r.formData)f=Im(r.formData),h=r.formData;else if(r.body instanceof FormData)f=Im(r.body),h=r.body;else if(r.body instanceof URLSearchParams)f=r.body,h=uv(f);else if(r.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(r.body),h=uv(f)}catch(w){return s()}let m={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if($a(m.formMethod))return{path:t,submission:m};let y=Xs(t);return e&&y.search&&Pg(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Qs(y),submission:m}}function sv(e,t,r,s,l,c,u,f,h,m,y,w,b,v,$,N,C,k,O,A){var ye;let B=A?Sa(A[1])?A[1].error:A[1].data:void 0,P=l.createURL(c.location),T=l.createURL(h),G;if(y&&c.errors){let pe=Object.keys(c.errors)[0];G=u.findIndex(Oe=>Oe.route.id===pe)}else if(A&&Sa(A[1])){let pe=A[0];G=u.findIndex(Oe=>Oe.route.id===pe)-1}let z=A?A[1].statusCode:void 0,Z=z&&z>=400,Q=ce(F({currentUrl:P,currentParams:((ye=c.matches[0])==null?void 0:ye.params)||{},nextUrl:T,nextParams:u[0].params},f),{actionResult:B,actionStatus:z}),H=u.map((pe,Oe)=>{let{route:q}=pe,ae=null;if(G!=null&&Oe>G?ae=!1:q.lazy?ae=!0:q.loader==null?ae=!1:y?ae=Dm(q,c.loaderData,c.errors):t6(c.loaderData,c.matches[Oe],pe)&&(ae=!0),ae!==null)return Lm(r,s,e,pe,m,t,ae);let me=Z?!1:w||P.pathname+P.search===T.pathname+T.search||P.search!==T.search||r6(c.matches[Oe],pe),Re=ce(F({},Q),{defaultShouldRevalidate:me}),U=Zu(pe,Re);return Lm(r,s,e,pe,m,t,U,Re)}),X=[];return $.forEach((pe,Oe)=>{if(y||!u.some(te=>te.route.id===pe.routeId)||v.has(Oe))return;let q=c.fetchers.get(Oe),ae=q&&q.state!=="idle"&&q.data===void 0,me=Us(C,pe.path,k);if(!me){if(O&&ae)return;X.push({key:Oe,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(N.has(Oe))return;let Re=kc(me,pe.path),U=new AbortController,we=Io(l,pe.path,U.signal),L=null;if(b.has(Oe))b.delete(Oe),L=Ho(r,s,we,me,Re,m,t);else if(ae)w&&(L=Ho(r,s,we,me,Re,m,t));else{let te=ce(F({},Q),{defaultShouldRevalidate:Z?!1:w});Zu(Re,te)&&(L=Ho(r,s,we,me,Re,m,t,te))}L&&X.push({key:Oe,routeId:pe.routeId,path:pe.path,matches:L,match:Re,request:we,controller:U})}),{dsMatches:H,revalidatingFetchers:X}}function Dm(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,l=r!=null&&r[e.id]!==void 0;return!s&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!l}function t6(e,t,r){let s=!t||r.route.id!==t.route.id,l=!e.hasOwnProperty(r.route.id);return s||l}function r6(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Zu(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function iv(e,t,r,s,l){let c;if(e){let h=s[e];Ut(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),c=h.children}else c=r;let u=t.filter(h=>!c.some(m=>t3(h,m))),f=Qu(u,l,[e||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...f)}function t3(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,s)=>{var l;return(l=t.children)==null?void 0:l.some(c=>t3(r,c))}):!1}var ov=new WeakMap,r3=({key:e,route:t,manifest:r,mapRouteProperties:s})=>{let l=r[t.id];if(Ut(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let c=l.lazy[e];if(!c)return;let u=ov.get(l);u||(u={},ov.set(l,u));let f=u[e];if(f)return f;let h=de(null,null,function*(){let m=kk(e),w=l[e]!==void 0&&e!=="hasErrorBoundary";if(m)wr(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(w)wr(!1,`Route "${l.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield c();b!=null&&(Object.assign(l,{[e]:b}),Object.assign(l,s(l)))}typeof l.lazy=="object"&&(l.lazy[e]=void 0,Object.values(l.lazy).every(b=>b===void 0)&&(l.lazy=void 0))});return u[e]=h,h},lv=new WeakMap;function a6(e,t,r,s,l){let c=r[e.id];if(Ut(c,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let y=lv.get(c);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let w=de(null,null,function*(){Ut(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),v={};for(let $ in b){let N=b[$];if(N===void 0)continue;let C=$k($),O=c[$]!==void 0&&$!=="hasErrorBoundary";C?wr(!C,"Route property "+$+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?wr(!O,`Route "${c.id}" has a static property "${$}" defined but its lazy function is also returning a value for this property. The lazy route property "${$}" will be ignored.`):v[$]=N}Object.assign(c,v),Object.assign(c,ce(F({},s(c)),{lazy:void 0}))});return lv.set(c,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(e.lazy),f=[],h;for(let y of u){if(l&&l.includes(y))continue;let w=r3({key:y,route:e,manifest:r,mapRouteProperties:s});w&&(f.push(w),y===t&&(h=w))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m==null||m.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}function cv(e){return de(this,null,function*(){let t=e.matches.filter(l=>l.shouldLoad),r={};return(yield Promise.all(t.map(l=>l.resolve()))).forEach((l,c)=>{r[t[c].route.id]=l}),r})}function n6(e){return de(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?a3(e,!1,()=>cv(e),(t,r)=>({[r]:{type:"error",result:t}})):cv(e)})}function a3(e,t,r,s){return de(this,null,function*(){let{matches:l,request:c,params:u,context:f}=e,h={handlerResult:void 0};try{let m=l.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(b=>[w.route.id,b]):[]),y=yield n3({request:c,params:u,context:f},m,t,h,r);return t?y:h.handlerResult}catch(m){if(!h.middlewareError)throw m;let y=yield s(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,y):y}})}function n3(e,t,r,s,l,c=0){return de(this,null,function*(){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=t[c];if(!f)return s.handlerResult=yield l(),s.handlerResult;let[h,m]=f,y=!1,w,b=()=>de(null,null,function*(){if(y)throw new Error("You may only call `next()` once per middleware");y=!0,yield n3(e,t,r,s,l,c+1)});try{let v=yield m({request:e.request,params:e.params,context:e.context},b);return y?v===void 0?w:v:b()}catch(v){throw s.middlewareError?s.middlewareError.error!==v&&(s.middlewareError={routeId:h,error:v}):s.middlewareError={routeId:h,error:v},v}})}function s3(e,t,r,s,l){let c=r3({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),u=a6(s.route,$a(r.method)?"action":"loader",t,e,l);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Lm(e,t,r,s,l,c,u,f=null){let h=!1,m=s3(e,t,r,s,l);return ce(F({},s),{_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return h=!0,f?typeof y=="boolean"?Zu(s,ce(F({},f),{defaultShouldRevalidate:y})):Zu(s,f):u},resolve(y){return h||u||y&&r.method==="GET"&&(s.route.lazy||s.route.loader)?i6({request:r,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:y,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}})}function Ho(e,t,r,s,l,c,u,f=null){return s.map(h=>h.route.id!==l.route.id?ce(F({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:s3(e,t,r,h,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Lm(e,t,r,h,c,u,!0,f))}function s6(e,t,r,s,l,c){return de(this,null,function*(){r.some(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})&&(yield Promise.all(r.map(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})));let u={request:t,params:r[0].params,context:l,matches:r},f=m=>{let y=u;return a3(y,!1,()=>m(ce(F({},y),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(w,b)=>({[b]:{type:"error",result:w}}))},h=yield e(ce(F({},u),{fetcherKey:s,unstable_runClientMiddleware:f}));try{yield Promise.all(r.flatMap(m=>{var y,w;return[(y=m._lazyPromises)==null?void 0:y.handler,(w=m._lazyPromises)==null?void 0:w.route]}))}catch(m){}return h})}function i6(u){return de(this,arguments,function*({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let f,h,m=$a(e.method),y=m?"action":"loader",w=b=>{let v,$=new Promise((k,O)=>v=O);h=()=>v(),e.signal.addEventListener("abort",h);let N=k=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:c},...k!==void 0?[k]:[]),C=de(null,null,function*(){try{return{type:"data",result:yield l?l(O=>N(O)):N()}}catch(k){return{type:"error",result:k}}});return Promise.race([C,$])};try{let b=m?t.route.action:t.route.loader;if(r||s)if(b){let v,[$]=yield Promise.all([w(b).catch(N=>{v=N}),r,s]);if(v!==void 0)throw v;f=$}else{yield r;let v=m?t.route.action:t.route.loader;if(v)[f]=yield Promise.all([w(v),s]);else if(y==="action"){let $=new URL(e.url),N=$.pathname+$.search;throw Fa(405,{method:e.method,pathname:N,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)f=yield w(b);else{let v=new URL(e.url),$=v.pathname+v.search;throw Fa(404,{pathname:$})}}catch(b){return{type:"error",result:b}}finally{h&&e.signal.removeEventListener("abort",h)}return f})}function o6(e){return de(this,null,function*(){var s,l,c,u,f,h;let{result:t,type:r}=e;if(o3(t)){let m;try{let y=t.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?t.body==null?m=null:m=yield t.json():m=yield t.text()}catch(y){return{type:"error",error:y}}return r==="error"?{type:"error",error:new Wu(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:"data",data:m,statusCode:t.status,headers:t.headers}}return r==="error"?yv(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Wu(((c=t.init)==null?void 0:c.status)||500,void 0,t.data),statusCode:Ec(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ec(t)?t.status:void 0}:yv(t)?{type:"data",data:t.data,statusCode:(f=t.init)==null?void 0:f.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function l6(e,t,r,s,l){let c=e.headers.get("Location");if(Ut(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rg.test(c)){let u=s.slice(0,s.findIndex(f=>f.route.id===r)+1);c=Mm(new URL(t.url),u,l,c),e.headers.set("Location",c)}return e}function dv(e,t,r){if(Rg.test(e)){let s=e,l=s.startsWith("//")?new URL(t.protocol+s):new URL(s),c=qa(l.pathname,r)!=null;if(l.origin===t.origin&&c)return l.pathname+l.search+l.hash}return e}function Io(e,t,r,s){let l=e.createURL(i3(t)).toString(),c={signal:r};if(s&&$a(s.formMethod)){let{formMethod:u,formEncType:f}=s;c.method=u.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(s.json)):f==="text/plain"?c.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?c.body=Im(s.formData):c.body=s.formData}return new Request(l,c)}function Im(e){let t=new URLSearchParams;for(let[r,s]of e.entries())t.append(r,typeof s=="string"?s:s.name);return t}function uv(e){let t=new FormData;for(let[r,s]of e.entries())t.append(r,s);return t}function c6(e,t,r,s=!1,l=!1){let c={},u=null,f,h=!1,m={},y=r&&Sa(r[1])?r[1].error:void 0;return e.forEach(w=>{if(!(w.route.id in t))return;let b=w.route.id,v=t[b];if(Ut(!Ei(v),"Cannot handle redirect results in processLoaderData"),Sa(v)){let $=v.error;if(y!==void 0&&($=y,y=void 0),u=u||{},l)u[b]=$;else{let N=_i(e,b);u[N.route.id]==null&&(u[N.route.id]=$)}s||(c[b]=e3),h||(h=!0,f=Ec(v.error)?v.error.status:500),v.headers&&(m[b]=v.headers)}else c[b]=v.data,v.statusCode&&v.statusCode!==200&&!h&&(f=v.statusCode),v.headers&&(m[b]=v.headers)}),y!==void 0&&r&&(u={[r[0]]:y},r[2]&&(c[r[2]]=void 0)),{loaderData:c,errors:u,statusCode:f||200,loaderHeaders:m}}function fv(e,t,r,s,l,c){let{loaderData:u,errors:f}=c6(t,r,s);return l.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:y,controller:w}=h,b=c[m];if(Ut(b,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Sa(b)){let v=_i(e.matches,y==null?void 0:y.route.id);f&&f[v.route.id]||(f=ce(F({},f),{[v.route.id]:b.error})),e.fetchers.delete(m)}else if(Ei(b))Ut(!1,"Unhandled fetcher revalidation redirect");else{let v=Ms(b.data);e.fetchers.set(m,v)}}),{loaderData:u,errors:f}}function hv(e,t,r,s){let l=Object.entries(t).filter(([,c])=>c!==e3).reduce((c,[u,f])=>(c[u]=f,c),{});for(let c of r){let u=c.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&c.route.loader&&(l[u]=e[u]),s&&s.hasOwnProperty(u))break}return l}function mv(e){return e?Sa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function _i(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function gv(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Fa(e,{pathname:t,routeId:r,method:s,type:l,message:c}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(u="Bad Request",s&&t&&r?f=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:l==="invalid-body"&&(f="Unable to encode submission body")):e===403?(u="Forbidden",f=`Route "${r}" does not match URL "${t}"`):e===404?(u="Not Found",f=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",s&&t&&r?f=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new Wu(e||500,u,new Error(f),!0)}function xu(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[s,l]=t[r];if(Ei(l))return{key:s,result:l}}}function i3(e){let t=typeof e=="string"?Xs(e):e;return Qs(ce(F({},t),{hash:""}))}function d6(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function u6(e){return o3(e.result)&&Qk.has(e.result.status)}function Sa(e){return e.type==="error"}function Ei(e){return(e&&e.type)==="redirect"}function yv(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function o3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function f6(e){return Yk.has(e.toUpperCase())}function $a(e){return Vk.has(e.toUpperCase())}function Pg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function kc(e,t){let r=typeof t=="string"?Xs(t).search:t.search;if(e[e.length-1].route.index&&Pg(r||""))return e[e.length-1];let s=W2(e);return s[s.length-1]}function pv(e){let{formMethod:t,formAction:r,formEncType:s,text:l,formData:c,json:u}=e;if(!(!t||!r||!s)){if(l!=null)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:void 0,text:l};if(c!=null)return{formMethod:t,formAction:r,formEncType:s,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:u,text:void 0}}}function tm(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function h6(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function xc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m6(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ms(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function g6(e,t){try{let r=e.sessionStorage.getItem(J2);if(r){let s=JSON.parse(r);for(let[l,c]of Object.entries(s||{}))c&&Array.isArray(c)&&t.set(l,new Set(c||[]))}}catch(r){}}function y6(e,t){if(t.size>0){let r={};for(let[s,l]of t)r[s]=[...l];try{e.sessionStorage.setItem(J2,JSON.stringify(r))}catch(s){wr(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function p6(){let e,t,r=new Promise((s,l)=>{e=c=>de(null,null,function*(){s(c);try{yield r}catch(u){}}),t=c=>de(null,null,function*(){l(c);try{yield r}catch(u){}})});return{promise:r,resolve:e,reject:t}}var qi=x.createContext(null);qi.displayName="DataRouter";var ad=x.createContext(null);ad.displayName="DataRouterState";var Mg=x.createContext({isTransitioning:!1});Mg.displayName="ViewTransition";var l3=x.createContext(new Map);l3.displayName="Fetchers";var x6=x.createContext(null);x6.displayName="Await";var dn=x.createContext(null);dn.displayName="Navigation";var y0=x.createContext(null);y0.displayName="Location";var Ga=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var Dg=x.createContext(null);Dg.displayName="RouteError";function b6(e,{relative:t}={}){Ut(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=x.useContext(dn),{hash:l,pathname:c,search:u}=nd(e,{relative:t}),f=c;return r!=="/"&&(f=c==="/"?r:$n([r,c])),s.createHref({pathname:f,search:u,hash:l})}function hl(){return x.useContext(y0)!=null}function Va(){return Ut(hl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(y0).location}var c3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d3(e){x.useContext(dn).static||x.useLayoutEffect(e)}function _r(){let{isDataRoute:e}=x.useContext(Ga);return e?P6():v6()}function v6(){Ut(hl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(qi),{basename:t,navigator:r}=x.useContext(dn),{matches:s}=x.useContext(Ga),{pathname:l}=Va(),c=JSON.stringify(m0(s)),u=x.useRef(!1);return d3(()=>{u.current=!0}),x.useCallback((h,m={})=>{if(wr(u.current,c3),!u.current)return;if(typeof h=="number"){r.go(h);return}let y=g0(h,JSON.parse(c),l,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:$n([t,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[t,r,c,l,e])}var w6=x.createContext(null);function N6(e){let t=x.useContext(Ga).outlet;return t&&x.createElement(w6.Provider,{value:e},t)}function Lg(){let{matches:e}=x.useContext(Ga),t=e[e.length-1];return t?t.params:{}}function nd(e,{relative:t}={}){let{matches:r}=x.useContext(Ga),{pathname:s}=Va(),l=JSON.stringify(m0(r));return x.useMemo(()=>g0(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function j6(e,t,r,s){Ut(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(dn),{matches:c}=x.useContext(Ga),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let k=y&&y.path||"";u3(h,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let w=Va(),b;b=w;let v=b.pathname||"/",$=v;if(m!=="/"){let k=m.replace(/^\//,"").split("/");$="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=Us(e,{pathname:$});return wr(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_6(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:$n([m,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:$n([m,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,r,s)}function k6(){let e=R6(),t=Ec(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:c},"ErrorBoundary")," or"," ",x.createElement("code",{style:c},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:l},r):null,u)}var S6=x.createElement(k6,null),$6=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(Ga.Provider,{value:this.props.routeContext},x.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C6({routeContext:e,match:t,children:r}){let s=x.useContext(qi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Ga.Provider,{value:e},r)}function _6(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r==null?void 0:r.errors;if(c!=null){let h=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:y,errors:w}=r,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,y)=>{let w,b=!1,v=null,$=null;r&&(w=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||S6,u&&(f<0&&y===0?(u3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,$=null):f===y&&(b=!0,$=m.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,y+1)),C=()=>{let k;return w?k=v:b?k=$:m.route.Component?k=x.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,x.createElement(C6,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement($6,{location:r.location,revalidation:r.revalidation,component:v,error:w,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function Ig(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E6(e){let t=x.useContext(qi);return Ut(t,Ig(e)),t}function T6(e){let t=x.useContext(ad);return Ut(t,Ig(e)),t}function O6(e){let t=x.useContext(Ga);return Ut(t,Ig(e)),t}function Ug(e){let t=O6(e),r=t.matches[t.matches.length-1];return Ut(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function A6(){return Ug("useRouteId")}function R6(){var s;let e=x.useContext(Dg),t=T6("useRouteError"),r=Ug("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function P6(){let{router:e}=E6("useNavigate"),t=Ug("useNavigate"),r=x.useRef(!1);return d3(()=>{r.current=!0}),x.useCallback((u,...f)=>de(null,[u,...f],function*(l,c={}){wr(r.current,c3),r.current&&(typeof l=="number"?e.navigate(l):yield e.navigate(l,F({fromRouteId:t},c)))}),[e,t])}var xv={};function u3(e,t,r){!t&&!xv[e]&&(xv[e]=!0,wr(!1,r))}var bv={};function vv(e,t){!e&&!bv[t]&&(bv[t]=!0,console.warn(t))}function M6(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&wr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:x.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&wr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:x.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&wr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:x.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var D6=["HydrateFallback","hydrateFallbackElement"],L6=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function I6({router:e,flushSync:t}){let[r,s]=x.useState(e.state),[l,c]=x.useState(),[u,f]=x.useState({isTransitioning:!1}),[h,m]=x.useState(),[y,w]=x.useState(),[b,v]=x.useState(),$=x.useRef(new Map),N=x.useCallback((A,{deletedFetchers:B,flushSync:P,viewTransitionOpts:T})=>{A.fetchers.forEach((z,Z)=>{z.data!==void 0&&$.current.set(Z,z.data)}),B.forEach(z=>$.current.delete(z)),vv(P===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let G=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(vv(T==null||G,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!G){t&&P?t(()=>s(A)):x.startTransition(()=>s(A));return}if(t&&P){t(()=>{y&&(h&&h.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let z=e.window.document.startViewTransition(()=>{t(()=>s(A))});z.finished.finally(()=>{t(()=>{m(void 0),w(void 0),c(void 0),f({isTransitioning:!1})})}),t(()=>w(z));return}y?(h&&h.resolve(),y.skipTransition(),v({state:A,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(c(A),f({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[e.window,t,y,h]);x.useLayoutEffect(()=>e.subscribe(N),[e,N]),x.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new L6)},[u]),x.useEffect(()=>{if(h&&l&&e.window){let A=l,B=h.promise,P=e.window.document.startViewTransition(()=>de(null,null,function*(){x.startTransition(()=>s(A)),yield B}));P.finished.finally(()=>{m(void 0),w(void 0),c(void 0),f({isTransitioning:!1})}),w(P)}},[l,h,e.window]),x.useEffect(()=>{h&&l&&r.location.key===l.location.key&&h.resolve()},[h,y,r.location,l]),x.useEffect(()=>{!u.isTransitioning&&b&&(c(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),v(void 0))},[u.isTransitioning,b]);let C=x.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,B,P)=>e.navigate(A,{state:B,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(A,B,P)=>e.navigate(A,{replace:!0,state:B,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[e]),k=e.basename||"/",O=x.useMemo(()=>({router:e,navigator:C,static:!1,basename:k}),[e,C,k]);return x.createElement(x.Fragment,null,x.createElement(qi.Provider,{value:O},x.createElement(ad.Provider,{value:r},x.createElement(l3.Provider,{value:$.current},x.createElement(Mg.Provider,{value:u},x.createElement(H6,{basename:k,location:r.location,navigationType:r.historyAction,navigator:C},x.createElement(U6,{routes:e.routes,future:e.future,state:r})))))),null)}var U6=x.memo(F6);function F6({routes:e,future:t,state:r}){return j6(e,void 0,r,t)}function B6({to:e,replace:t,state:r,relative:s}){Ut(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(dn);wr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=x.useContext(Ga),{pathname:u}=Va(),f=_r(),h=g0(e,m0(c),u,s==="path"),m=JSON.stringify(h);return x.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:s})},[f,m,s,t,r]),null}function z6(e){return N6(e.context)}function H6({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:l,static:c=!1}){Ut(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof r=="string"&&(r=Xs(r));let{pathname:h="/",search:m="",hash:y="",state:w=null,key:b="default"}=r,v=x.useMemo(()=>{let $=qa(h,u);return $==null?null:{location:{pathname:$,search:m,hash:y,state:w,key:b},navigationType:s}},[u,h,m,y,w,b,s]);return wr(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(dn.Provider,{value:f},x.createElement(y0.Provider,{children:t,value:v}))}var Iu="get",Uu="application/x-www-form-urlencoded";function p0(e){return e!=null&&typeof e.tagName=="string"}function q6(e){return p0(e)&&e.tagName.toLowerCase()==="button"}function G6(e){return p0(e)&&e.tagName.toLowerCase()==="form"}function V6(e){return p0(e)&&e.tagName.toLowerCase()==="input"}function K6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y6(e,t){return e.button===0&&(!t||t==="_self")&&!K6(e)}var bu=null;function Q6(){if(bu===null)try{new FormData(document.createElement("form"),0),bu=!1}catch(e){bu=!0}return bu}var X6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(e){return e!=null&&!X6.has(e)?(wr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):e}function W6(e,t){let r,s,l,c,u;if(G6(e)){let f=e.getAttribute("action");s=f?qa(f,t):null,r=e.getAttribute("method")||Iu,l=rm(e.getAttribute("enctype"))||Uu,c=new FormData(e)}else if(q6(e)||V6(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?qa(h,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Iu,l=rm(e.getAttribute("formenctype"))||rm(f.getAttribute("enctype"))||Uu,c=new FormData(f,e),!Q6()){let{name:m,type:y,value:w}=e;if(y==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,w)}}else{if(p0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Iu,s=null,l=Uu,u=e}return c&&l==="text/plain"&&(u=c,c=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:c,body:u}}function Fg(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Z6(e,t){return de(this,null,function*(){if(e.id in t)return t[e.id];try{let r=yield import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function J6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function eS(e,t,r){return de(this,null,function*(){let s=yield Promise.all(e.map(l=>de(null,null,function*(){let c=t.routes[l.route.id];if(c){let u=yield Z6(c,r);return u.links?u.links():[]}return[]})));return nS(s.flat(1).filter(J6).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?ce(F({},l),{rel:"prefetch",as:"style"}):ce(F({},l),{rel:"prefetch"})))})}function wv(e,t,r,s,l,c){let u=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>{var y;return r[m].pathname!==h.pathname||((y=r[m].route.path)==null?void 0:y.endsWith("*"))&&r[m].params["*"]!==h.params["*"]};return c==="assets"?t.filter((h,m)=>u(h,m)||f(h,m)):c==="data"?t.filter((h,m)=>{var w;let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function tS(e,t,{includeHydrateFallback:r}={}){return rS(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function rS(e){return[...new Set(e)]}function aS(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function nS(e,t){let r=new Set;return new Set(t),e.reduce((s,l)=>{let c=JSON.stringify(aS(l));return r.has(c)||(r.add(c),s.push({key:c,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=new Set([100,101,204,205]);function iS(e,t){let r=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&qa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function f3(){let e=x.useContext(qi);return Fg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oS(){let e=x.useContext(ad);return Fg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bg=x.createContext(void 0);Bg.displayName="FrameworkContext";function h3(){let e=x.useContext(Bg);return Fg(e,"You must render this element inside a <HydratedRouter> element"),e}function lS(e,t){let r=x.useContext(Bg),[s,l]=x.useState(!1),[c,u]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=k=>{k.forEach(O=>{u(O.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[e]),x.useEffect(()=>{if(s){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[s]);let v=()=>{l(!0)},$=()=>{l(!1),u(!1)};return r?e!=="intent"?[c,b,{}]:[c,b,{onFocus:bc(f,v),onBlur:bc(h,$),onMouseEnter:bc(m,v),onMouseLeave:bc(y,$),onTouchStart:bc(w,v)}]:[!1,b,{}]}function bc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cS(r){var s=r,{page:e}=s,t=Tt(s,["page"]);let{router:l}=f3(),c=x.useMemo(()=>Us(l.routes,e,l.basename),[l.routes,e,l.basename]);return c?x.createElement(uS,F({page:e,matches:c},t)):null}function dS(e){let{manifest:t,routeModules:r}=h3(),[s,l]=x.useState([]);return x.useEffect(()=>{let c=!1;return eS(e,t,r).then(u=>{c||l(u)}),()=>{c=!0}},[e,t,r]),s}function uS(s){var l=s,{page:e,matches:t}=l,r=Tt(l,["page","matches"]);let c=Va(),{manifest:u,routeModules:f}=h3(),{basename:h}=f3(),{loaderData:m,matches:y}=oS(),w=x.useMemo(()=>wv(e,t,y,u,c,"data"),[e,t,y,u,c]),b=x.useMemo(()=>wv(e,t,y,u,c,"assets"),[e,t,y,u,c]),v=x.useMemo(()=>{if(e===c.pathname+c.search+c.hash)return[];let C=new Set,k=!1;if(t.forEach(A=>{var P;let B=u.routes[A.route.id];!B||!B.hasLoader||(!w.some(T=>T.route.id===A.route.id)&&A.route.id in m&&((P=f[A.route.id])!=null&&P.shouldRevalidate)||B.hasClientLoader?k=!0:C.add(A.route.id))}),C.size===0)return[];let O=iS(e,h);return k&&C.size>0&&O.searchParams.set("_routes",t.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[O.pathname+O.search]},[h,m,c,u,w,t,e,f]),$=x.useMemo(()=>tS(b,u),[b,u]),N=dS(b);return x.createElement(x.Fragment,null,v.map(C=>x.createElement("link",F({key:C,rel:"prefetch",as:"fetch",href:C},r))),$.map(C=>x.createElement("link",F({key:C,rel:"modulepreload",href:C},r))),N.map(({key:C,link:k})=>x.createElement("link",F({key:C},k))))}function fS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var m3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{m3&&(window.__reactRouterVersion="7.6.2")}catch(e){}function hS(e,t){return Jk({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:vk({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||mS(),routes:e,mapRouteProperties:M6,hydrationRouteProperties:D6,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function mS(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=ce(F({},e),{errors:gS(e.errors)})),e}function gS(e){if(!e)return null;let t=Object.entries(e),r={};for(let[s,l]of t)if(l&&l.__type==="RouteErrorResponse")r[s]=new Wu(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let c=window[l.__subType];if(typeof c=="function")try{let u=new c(l.message);u.stack="",r[s]=u}catch(u){}}if(r[s]==null){let c=new Error(l.message);c.stack="",r[s]=c}}else r[s]=l;return r}var g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sd=x.forwardRef(function($,v){var N=$,{onClick:t,discover:r="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:f,target:h,to:m,preventScrollReset:y,viewTransition:w}=N,b=Tt(N,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:C}=x.useContext(dn),k=typeof m=="string"&&g3.test(m),O,A=!1;if(typeof m=="string"&&k&&(O=m,m3))try{let H=new URL(window.location.href),X=m.startsWith("//")?new URL(H.protocol+m):new URL(m),ye=qa(X.pathname,C);X.origin===H.origin&&ye!=null?m=ye+X.search+X.hash:A=!0}catch(H){wr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=b6(m,{relative:l}),[P,T,G]=lS(s,b),z=bS(m,{replace:u,state:f,target:h,preventScrollReset:y,relative:l,viewTransition:w});function Z(H){t&&t(H),H.defaultPrevented||z(H)}let Q=x.createElement("a",ce(F(F({},b),G),{href:O||B,onClick:A||c?t:Z,ref:fS(v,T),target:h,"data-discover":!k&&r==="render"?"true":void 0}));return P&&!k?x.createElement(x.Fragment,null,Q,x.createElement(cS,{page:B})):Q});sd.displayName="Link";var yS=x.forwardRef(function(w,y){var b=w,{"aria-current":t="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:f,children:h}=b,m=Tt(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let v=nd(u,{relative:m.relative}),$=Va(),N=x.useContext(ad),{navigator:C,basename:k}=x.useContext(dn),O=N!=null&&kS(v)&&f===!0,A=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,B=$.pathname,P=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(B=B.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&k&&(P=qa(P,k)||P);const T=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let G=B===A||!l&&B.startsWith(A)&&B.charAt(T)==="/",z=P!=null&&(P===A||!l&&P.startsWith(A)&&P.charAt(A.length)==="/"),Z={isActive:G,isPending:z,isTransitioning:O},Q=G?t:void 0,H;typeof s=="function"?H=s(Z):H=[s,G?"active":null,z?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c(Z):c;return x.createElement(sd,ce(F({},m),{"aria-current":Q,className:H,ref:y,style:X,to:u,viewTransition:f}),typeof h=="function"?h(Z):h)});yS.displayName="NavLink";var pS=x.forwardRef(($,v)=>{var N=$,{discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:l,state:c,method:u=Iu,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:w}=N,b=Tt(N,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let C=NS(),k=jS(f,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&g3.test(f),B=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let T=P.nativeEvent.submitter,G=(T==null?void 0:T.getAttribute("formmethod"))||u;C(T||P.currentTarget,{fetcherKey:t,method:G,navigate:r,replace:l,state:c,relative:m,preventScrollReset:y,viewTransition:w})};return x.createElement("form",ce(F({ref:v,method:O,action:k,onSubmit:s?h:B},b),{"data-discover":!A&&e==="render"?"true":void 0}))});pS.displayName="Form";function xS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y3(e){let t=x.useContext(qi);return Ut(t,xS(e)),t}function bS(e,{target:t,replace:r,state:s,preventScrollReset:l,relative:c,viewTransition:u}={}){let f=_r(),h=Va(),m=nd(e,{relative:c});return x.useCallback(y=>{if(Y6(y,t)){y.preventDefault();let w=r!==void 0?r:Qs(h)===Qs(m);f(e,{replace:w,state:s,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,m,r,s,t,e,l,c,u])}var vS=0,wS=()=>`__${String(++vS)}__`;function NS(){let{router:e}=y3("useSubmit"),{basename:t}=x.useContext(dn),r=A6();return x.useCallback((c,...u)=>de(null,[c,...u],function*(s,l={}){let{action:f,method:h,encType:m,formData:y,body:w}=W6(s,t);if(l.navigate===!1){let b=l.fetcherKey||wS();yield e.fetch(b,r,l.action||f,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else yield e.navigate(l.action||f,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})}),[e,t,r])}function jS(e,{relative:t}={}){let{basename:r}=x.useContext(dn),s=x.useContext(Ga);Ut(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c=F({},nd(e||".",{relative:t})),u=Va();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();c.search=y?`?${y}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:$n([r,c.pathname])),Qs(c)}function kS(e,t={}){let r=x.useContext(Mg);Ut(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y3("useViewTransitionState"),l=nd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let c=qa(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=qa(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Xu(l.pathname,u)!=null||Xu(l.pathname,c)!=null}[...sS];var zg=V2();const SS=fl(zg);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $S(e){return x.createElement(I6,F({flushSync:zg.flushSync},e))}const qn={};class CS{constructor(){zh(this,"config");zh(this,"sessionId",null);const t=window.location.pathname.startsWith("/klik_pos");this.config={baseUrl:t?"":(qn==null?void 0:qn.VITE_ERPNEXT_BASE_URL)||"http://localhost:8000",apiKey:(qn==null?void 0:qn.VITE_API_KEY)||"",apiSecret:(qn==null?void 0:qn.VITE_API_SECRET)||""}}getHeaders(t=!0){const r={"Content-Type":"application/json",Accept:"application/json"};if(t&&this.config.apiKey&&this.config.apiSecret){const s=btoa(`${this.config.apiKey}:${this.config.apiSecret}`);r.Authorization=`Basic ${s}`}return this.sessionId&&(r.Cookie=`sid=${this.sessionId}`),r}login(t,r){return de(this,null,function*(){var s,l;try{console.log("Attempting login to:",this.config.baseUrl);let c=yield fetch(`${this.config.baseUrl}/api/method/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:t,pwd:r}),credentials:"include"});if(console.log("Login response status:",c.status),console.log("Login response headers:",Object.fromEntries(c.headers.entries())),c.status===404&&(console.log("Trying alternative login endpoint..."),c=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:t,pwd:r}),credentials:"include"}),console.log("Alternative login response status:",c.status)),!c.ok){console.error("Login failed with status:",c.status);const f=yield c.text();console.error("Error response body:",f);let h=`HTTP ${c.status}: ${c.statusText}`;try{const m=JSON.parse(f);m.message?h=m.message:m.exc&&(h=m.exc)}catch(m){f&&f.trim()&&(h=f)}return{success:!1,message:h}}const u=yield c.json();if(console.log("Login response data:",u),u.message==="Logged In"||(s=u.message)!=null&&s.name||(l=u.message)!=null&&l.email){const f=c.headers.get("set-cookie");if(f){const m=f.match(/sid=([^;]+)/);m&&(this.sessionId=m[1],localStorage.setItem("erpnext_sid",this.sessionId),console.log("Session ID stored:",this.sessionId))}try{console.log("Fetching user profile data...");const m=yield this.getCurrentUserProfile();if(console.log("User profile fetched:",m),m)return{success:!0,message:"Login successful",user:{name:m.name||t,email:m.email||m.name||t,full_name:m.full_name||m.first_name+" "+(m.last_name||"")||t,role:m.role_profile_name||m.role||"User",first_name:m.first_name,last_name:m.last_name,user_image:m.user_image},sid:this.sessionId||void 0}}catch(m){console.warn("Failed to fetch user profile, using basic data:",m)}let h;return typeof u.message=="string"&&u.message==="Logged In"?h={name:t,email:t,full_name:t,role:"User"}:u.message&&typeof u.message=="object"?h={name:u.message.name||t,email:u.message.email||u.message.name||t,full_name:u.message.full_name||u.message.name||t,role:u.message.role||"User"}:h={name:t,email:t,full_name:t,role:"User"},{success:!0,message:"Login successful",user:h,sid:this.sessionId||void 0}}else return{success:!1,message:u.message||u.exc||"Login failed"}}catch(c){if(console.error("Login error details:",c),c instanceof TypeError&&c.message.includes("fetch"))return{success:!1,message:"Network error. Please check if the ERPNext server is accessible."};if(c instanceof Error){if(c.message.includes("timeout"))return{success:!1,message:"Connection timeout. Please try again."};if(c.message.includes("Failed to fetch"))return{success:!1,message:"Unable to connect to the server. Please check your internet connection."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}})}logout(){return de(this,null,function*(){try{yield fetch(`${this.config.baseUrl}/api/method/logout`,{method:"POST",headers:this.getHeaders(),credentials:"include"})}catch(t){console.error("Logout error:",t)}finally{this.sessionId=null,localStorage.removeItem("erpnext_sid")}})}getCurrentUser(){return de(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).message}catch(t){return console.error("Get current user error:",t),null}})}getCurrentUserProfile(){return de(this,null,function*(){try{const t=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!t.ok)throw new Error(`Failed to fetch logged user: ${t.status}`);const s=(yield t.json()).message;if(!s)throw new Error("No logged user found");const l=yield fetch(`${this.config.baseUrl}/api/resource/User/${s}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!l.ok)throw new Error(`Failed to fetch user profile: ${l.status}`);return(yield l.json()).data}catch(t){throw console.error("Get user profile error:",t),t}})}testConnection(){return de(this,null,function*(){try{console.log("Testing connection to:",this.config.baseUrl);let t=yield fetch(`${this.config.baseUrl}/api/method/ping`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});return console.log("Ping response:",{status:t.status,statusText:t.statusText,headers:Object.fromEntries(t.headers.entries())}),t.status===404&&(console.log("Ping failed, trying version endpoint..."),t=yield fetch(`${this.config.baseUrl}/api/method/frappe.utils.get_site_info`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"})),t.ok?{success:!0,message:"Connection successful",details:yield t.json()}:{success:!1,message:`Server responded with status: ${t.status} - ${t.statusText}`,details:{status:t.status,statusText:t.statusText}}}catch(t){console.error("Connection test error details:",t);let r="Unknown error";return t instanceof Error&&(t.name==="AbortError"?r="Connection timeout - server took too long to respond":t.message.includes("CORS")?r="CORS error - server may not allow cross-origin requests":t.message.includes("Failed to fetch")?r="Network error - server may be unreachable or blocked":r=t.message),{success:!1,message:`Connection failed: ${r}`,details:t}}})}makeAPICall(s){return de(this,arguments,function*(t,r={}){const l=F({method:"GET",headers:this.getHeaders(),credentials:"include"},r);try{console.log("Making API call:",{url:t,options:l});const c=yield fetch(t,l);return c.ok||console.error("API call failed:",{url:t,status:c.status,statusText:c.statusText,headers:Object.fromEntries(c.headers.entries())}),c}catch(c){throw console.error("API call error:",{url:t,error:c}),c}})}apiCall(s){return de(this,arguments,function*(t,r={}){try{return yield(yield this.makeAPICall(`${this.config.baseUrl}/api/method/${t}`,{method:"POST",body:JSON.stringify(r)})).json()}catch(l){throw console.error(`API call error (${t}):`,l),l}})}getDocList(l){return de(this,arguments,function*(t,r=["*"],s={}){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}?${new URLSearchParams({fields:JSON.stringify(r),filters:JSON.stringify(s)})}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(c){throw console.error(`Get ${t} list error:`,c),c}})}getDoc(t,r){return de(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}/${r}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(s){throw console.error(`Get ${t} document error:`,s),s}})}createDoc(t,r){return de(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(r),credentials:"include"})).json()).data}catch(s){throw console.error(`Create ${t} document error:`,s),s}})}updateDoc(t,r,s){return de(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}/${r}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(s),credentials:"include"})).json()).data}catch(l){throw console.error(`Update ${t} document error:`,l),l}})}validateSession(){return de(this,null,function*(){try{const t=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return t.ok?!!(yield t.json()).message:!1}catch(t){return console.error("Session validation failed:",t),!1}})}initializeSession(){const t=localStorage.getItem("erpnext_sid");t&&(this.sessionId=t,console.log("Session restored from localStorage:",t))}}const Yn=new CS,p3=x.createContext(void 0);function _S({children:e}){const[t,r]=x.useState(null),[s,l]=x.useState(!0),[c,u]=x.useState(!1);x.useEffect(()=>{u(!0)},[]),x.useEffect(()=>{if(!c)return;Yn.initializeSession();const y=localStorage.getItem("erpnext_token"),w=localStorage.getItem("user_data");if(y&&w)try{const b=JSON.parse(w);r(b),de(null,null,function*(){try{if(!(yield Yn.validateSession())){console.warn("Session is invalid, clearing auth data"),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid"),r(null);return}const N=yield Yn.getCurrentUserProfile();if(N){const C={name:N.name||b.name,email:N.email||N.name||b.email,full_name:N.full_name||N.first_name+" "+(N.last_name||"")||b.full_name,role:N.role_profile_name||N.role||b.role||"User",first_name:N.first_name,last_name:N.last_name,user_image:N.user_image};r(C),localStorage.setItem("user_data",JSON.stringify(C))}}catch($){console.warn("Failed to refresh user data, using cached data:",$)}})}catch(b){console.error("Error parsing user data:",b),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}l(!1)},[c]);const f=(y,w)=>de(null,null,function*(){try{l(!0);const b=yield Yn.login(y,w);if(b.success&&b.user){console.log("Login successful:",b.user);const v={name:b.user.name||y,email:b.user.email||y,full_name:b.user.full_name||b.user.name||y,role:b.user.role||"User"};return r(v),localStorage.setItem("erpnext_token","authenticated"),localStorage.setItem("user_data",JSON.stringify(v)),{success:!0,message:b.message}}else return{success:!1,message:b.message}}catch(b){return console.error("Login error:",b),{success:!1,message:"Login failed. Please try again."}}finally{l(!1)}}),h=()=>de(null,null,function*(){yield Yn.logout(),r(null),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}),m=()=>de(null,null,function*(){if(!t)return!1;try{return(yield Yn.validateSession())?!0:(console.log("Session expired, logging out"),yield h(),!1)}catch(y){return console.error("Session check failed:",y),!1}});return n.jsx(p3.Provider,{value:{user:t,login:f,logout:h,checkSession:m,loading:s,isAuthenticated:!!t},children:e})}function Ws(){const e=x.useContext(p3);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function ES(){const[e,t]=x.useState(""),[r,s]=x.useState(""),[l,c]=x.useState(""),[u,f]=x.useState(!1),h=_r(),m=Va(),{login:y}=Ws(),w=v=>de(null,null,function*(){var $,N;v.preventDefault(),f(!0),c("");try{const C=yield y(e,r);if(C.success){const k=((N=($=m.state)==null?void 0:$.from)==null?void 0:N.pathname)||"/pos";h(k,{replace:!0})}else c(b(C.message))}catch(C){c("An unexpected error occurred. Please try again.")}finally{f(!1)}}),b=v=>v.includes("HTTP 401")||v.includes("401")?"Invalid username or password. Please check your credentials and try again.":v.includes("HTTP 403")||v.includes("403")?"Access denied. Please contact your administrator.":v.includes("HTTP 404")||v.includes("404")?"Login service not available. Please contact your administrator.":v.includes("HTTP 500")||v.includes("500")?"Server error. Please try again later or contact your administrator.":v.includes("Network error")||v.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":v.includes("timeout")?"Connection timeout. Please try again.":v.includes("Invalid credentials")||v.includes("incorrect")?"Invalid username or password. Please check your credentials and try again.":v.includes("User not found")?"User not found. Please check your username and try again.":v.includes("Account disabled")?"Your account has been disabled. Please contact your administrator.":v.includes("Too many attempts")?"Too many login attempts. Please wait a few minutes before trying again.":v&&!v.includes("HTTP")&&!v.includes("Error:")?v:"Login failed. Please check your credentials and try again.";return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),n.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[n.jsxs("div",{className:"bg-white/95 rounded-2xl shadow-2xl p-6 backdrop-blur-sm",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("img",{src:"https://beverensoftware.com/wp-content/uploads/2023/06/cropped-15-1-180x180.png",alt:"KLiK PoS",className:"w-16 h-16 rounded-full shadow-lg"})}),n.jsx("h1",{className:"text-3xl font-bold text-beveren-800",children:"KLiK PoS"})]}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"username",type:"text",value:e,onChange:v=>t(v.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Username or Email",required:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:"password",value:r,onChange:v=>s(v.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Password",required:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),l&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:n.jsx("p",{className:"text-sm text-red-600 font-medium text-center",children:l})}),n.jsx("button",{type:"submit",disabled:u,className:"w-full bg-beveren-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-beveren-700 focus:outline-none focus:ring-4 focus:ring-beveren-300 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-beveren-400 disabled:cursor-not-allowed",children:u?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),n.jsx("span",{className:"ml-2",children:"Signing In..."})]}):"Sign In"})]})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("p",{className:"text-sm text-beveren-600",children:["Powered by"," ",n.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline",children:"Beveren Software"})]})})]})]})}const x3=x.createContext(void 0),TS={en:{LOGIN_TITLE:"Login",USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"Login",LOGGING_IN:"Logging in...",INVALID_CREDENTIALS:"Invalid credentials",LOGIN_ERROR:"Login error",PROFILE:"Profile",LOGOUT:"Logout",PAYMENT_TITLE:"Payment",SEARCH_PLACEHOLDER:"Search products",CART:"Cart",CART_EMPTY:"Your cart is empty",SUBTOTAL:"Subtotal",VAT:"VAT",TOTAL:"Total",PROMO_CODE_PLACEHOLDER:"Enter promo code",PROCEED_TO_CHECKOUT:"Proceed to Checkout",BACK_TO_CART:"Back to Cart",INVOICE_SUMMARY:"Invoice Summary",INVOICE_ID:"Invoice ID",DATE_TIME:"Date & Time",SCAN_TO_VERIFY:"Scan to Verify",PAYMENT_METHODS:"Payment Methods",CASH:"Cash",CARD:"Card",DIGITAL_WALLET:"Digital Wallet",AMOUNT_RECEIVED:"Amount Received",CHANGE:"Change",INSERT_OR_TAP_CARD:"Insert or Tap Card",SCAN_WITH_STC_PAY:"Scan with STC Pay",CONFIRM_PAYMENT:"Confirm Payment",OFFLINE_MESSAGE:"You are offline. New orders will sync when you're back online.",INVOICE_NOT_FOUND:"Invoice not found"},ar:{LOGIN_TITLE:" ",USERNAME:" ",PASSWORD:" ",LOGIN_BUTTON:"",LOGGING_IN:"  ...",INVALID_CREDENTIALS:"   ",LOGIN_ERROR:"   ",PROFILE:" ",LOGOUT:" ",PAYMENT_TITLE:"",SEARCH_PLACEHOLDER:"  ",CART:"",CART_EMPTY:" ",SUBTOTAL:" ",VAT:"  ",TOTAL:"",PROMO_CODE_PLACEHOLDER:"  ",PROCEED_TO_CHECKOUT:" ",BACK_TO_CART:" ",INVOICE_SUMMARY:" ",INVOICE_ID:" ",DATE_TIME:" ",SCAN_TO_VERIFY:" ",PAYMENT_METHODS:" ",CASH:"",CARD:"",DIGITAL_WALLET:" ",AMOUNT_RECEIVED:" ",CHANGE:"",INSERT_OR_TAP_CARD:"   ",SCAN_WITH_STC_PAY:"  STC Pay",CONFIRM_PAYMENT:" ",OFFLINE_MESSAGE:"  .      .",INVOICE_NOT_FOUND:"  "}};function OS({children:e}){const[t,r]=x.useState("en"),[s,l]=x.useState(!1);x.useEffect(()=>{l(!0)},[]),x.useEffect(()=>{if(!s)return;const h=localStorage.getItem("language")||"en";r(h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h},[s]);const c=h=>{s&&(r(h),localStorage.setItem("language",h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h)},u=h=>{var m;return((m=TS[t])==null?void 0:m[h])||h},f=t==="ar";return n.jsx(x3.Provider,{value:{language:t,setLanguage:c,t:u,isRTL:f},children:e})}function un(){const e=x.useContext(x3);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e}function AS(){const[e,t]=x.useState(null),[r,s]=x.useState(!0),[l,c]=x.useState(null),u=x.useCallback(()=>de(null,null,function*(){s(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.pos_entry.open_pos")).json();if(typeof h.message=="boolean")t(h.message);else throw new Error("Unexpected response")}catch(f){console.error("Error checking POS Opening Entry:",f),c(f.message||"Failed to check opening entry status")}finally{s(!1)}}),[]);return x.useEffect(()=>{u()},[u]),{hasOpenEntry:e,isLoading:r,error:l,refetch:u}}const b3=x.createContext(void 0),am="klik_pos_products_cache",nm="klik_pos_products_cache_expiry",RS=5*60*1e3;function PS({children:e}){const{isAuthenticated:t,loading:r}=Ws(),[s,l]=x.useState([]),[c,u]=x.useState(!0),[f,h]=x.useState(!1),[m,y]=x.useState(null),[w,b]=x.useState(null),v=x.useCallback(()=>{try{const Z=localStorage.getItem(am),Q=localStorage.getItem(nm);if(Z&&Q){const H=new Date(Q).getTime();if(Date.now()<H){const ye=JSON.parse(Z);return console.log(`Loaded ${ye.length} products from cache`),ye}else console.log("Product cache expired, clearing..."),localStorage.removeItem(am),localStorage.removeItem(nm)}}catch(Z){console.error("Error loading products from cache:",Z)}return null},[]),$=x.useCallback(Z=>{try{const Q=new Date(Date.now()+RS);localStorage.setItem(am,JSON.stringify(Z)),localStorage.setItem(nm,Q.toISOString()),console.log(`Cached ${Z.length} products until ${Q.toLocaleTimeString()}`)}catch(Q){console.error("Error saving products to cache:",Q)}},[]),N=()=>de(null,null,function*(){const Z=yield fetch("/api/method/klik_pos.api.item.get_items_with_balance_and_price");if(!Z.ok)throw new Error(`HTTP ${Z.status}: ${Z.statusText}`);const Q=yield Z.json();if(Q!=null&&Q.message&&Array.isArray(Q.message))return Q.message;throw console.error("Invalid response format:",Q),new Error("Invalid response format")}),C=()=>de(null,null,function*(){try{const Z=yield fetch("/api/method/klik_pos.api.item.get_stock_updates");if(!Z.ok)throw console.error(`Stock update API failed: ${Z.status} ${Z.statusText}`),new Error(`HTTP ${Z.status}: ${Z.statusText}`);const Q=yield Z.json();return Q!=null&&Q.message&&typeof Q.message=="object"?Q.message:(console.warn("No stock updates in response:",Q),{})}catch(Z){console.error("Error fetching stock updates:",Z),console.log("Falling back to batch stock API...");try{const Q=s.map(H=>H.id).join(",");if(Q){const H=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(Q)}`);if(H.ok){const X=yield H.json();if(X!=null&&X.message&&typeof X.message=="object")return X.message}}}catch(Q){console.error("Batch API fallback also failed:",Q)}throw Z}}),k=(Z=!1)=>de(null,null,function*(){u(!0),y(null);try{let Q;if(Z)Q=yield N(),$(Q);else{const H=v();H?(Q=H,u(!1),O()):(Q=yield N(),$(Q))}l(Q),b(new Date)}catch(Q){console.error("Error fetching products:",Q),y(Q.message||"Unknown error occurred");const H=v();H&&(l(H),console.log("Using cached products as fallback"))}finally{u(!1)}}),O=()=>de(null,null,function*(){try{const Z=yield C();Object.keys(Z).length>0&&l(Q=>Q.map(H=>{var X;return ce(F({},H),{available:(X=Z[H.id])!=null?X:H.available})}))}catch(Z){console.error("Background stock update failed:",Z)}}),A=x.useCallback((Z,Q)=>{l(H=>H.map(X=>X.id===Z?ce(F({},X),{available:Q}):X)),console.log(`Updated stock for ${Z} to ${Q}`)},[]),B=x.useCallback(Z=>de(null,null,function*(){if(Z.length!==0)try{console.log(`Updating stock for ${Z.length} items:`,Z);const Q=Z.join(","),H=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(Q)}`);if(!H.ok)throw new Error(`HTTP ${H.status}: ${H.statusText}`);const X=yield H.json();if(console.log("Batch stock update response:",X),X!=null&&X.message&&typeof X.message=="object"){const ye=X.message;l(pe=>pe.map(Oe=>{var q;return ce(F({},Oe),{available:(q=ye[Oe.id])!=null?q:Oe.available})})),console.log(`Updated stock for ${Object.keys(ye).length} items`)}}catch(Q){console.error("Failed to update stock for items:",Q)}}),[]),P=x.useCallback(Z=>de(null,null,function*(){if(Z.length!==0)try{console.log(`Updating batch quantities for ${Z.length} items:`,Z);const Q=Z.map(ye=>de(null,null,function*(){try{const Oe=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(ye)}`)).json();return console.log(`Batch API response for ${ye}:`,Oe),Oe!=null&&Oe.message&&Array.isArray(Oe.message)?(console.log(`Valid batch data for ${ye}:`,Oe.message),{itemCode:ye,batches:Oe.message}):(console.log(`No valid batch data for ${ye}`),null)}catch(pe){return console.error(`Failed to update batch quantities for ${ye}:`,pe),null}})),X=(yield Promise.all(Q)).filter(ye=>ye!==null);X.length>0?(console.log(`Updated batch quantities for ${X.length} items`),console.log("Dispatching batchQuantitiesUpdated event with data:",X),window.dispatchEvent(new CustomEvent("batchQuantitiesUpdated",{detail:{updatedItems:X}})),console.log("batchQuantitiesUpdated event dispatched successfully")):console.log("No valid batch results to dispatch")}catch(Q){console.error("Failed to update batch quantities for items:",Q)}}),[]),T=()=>de(null,null,function*(){console.log("Force refreshing products..."),yield k(!0)}),G=()=>de(null,null,function*(){console.log("Refreshing stock only (lightweight)..."),h(!0);try{const Z=yield C();return Object.keys(Z).length>0?(l(Q=>Q.map(H=>{var X;return ce(F({},H),{available:(X=Z[H.id])!=null?X:H.available})})),console.log(` Stock refreshed for ${Object.keys(Z).length} items - cashier can see updated availability`),b(new Date),!0):(console.log("No stock updates needed - all items are current"),!1)}catch(Z){return console.error(" Stock-only refresh failed:",Z),console.log("Stock refresh failed - user can manually refresh if needed"),!1}finally{h(!1)}});x.useEffect(()=>{if(r)return;if(!t){u(!1),y("Authentication required to load products");return}k();const Z=setInterval(O,3e4);return()=>{clearInterval(Z)}},[t,r]);const z={products:s,isLoading:c,isRefreshingStock:f,error:m,refetchProducts:T,refreshStockOnly:G,updateStockOnly:A,updateStockForItems:B,updateBatchQuantitiesForItems:P,count:s.length,lastUpdated:w};return n.jsx(b3.Provider,{value:z,children:e})}function MS(){const e=x.useContext(b3);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e}function x0(){const e=MS();return{products:e.products,isLoading:e.isLoading,isRefreshingStock:e.isRefreshingStock,error:e.error,refetch:e.refetchProducts,refreshStockOnly:e.refreshStockOnly,updateStockOnly:e.updateStockOnly,updateStockForItems:e.updateStockForItems,updateBatchQuantitiesForItems:e.updateBatchQuantitiesForItems,count:e.products.length,lastUpdated:e.lastUpdated}}var DS=Object.defineProperty,LS=(e,t,r)=>t in e?DS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$i=(e,t,r)=>LS(e,typeof t!="symbol"?t+"":t,r),IS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oo={},vc={},Wa={},Nv;function v3(){if(Nv)return Wa;Nv=1;var e=Wa&&Wa.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)},t=Wa&&Wa.__awaiter||function(l,c,u,f){function h(m){return m instanceof u?m:new u(function(y){y(m)})}return new(u||(u=Promise))(function(m,y){function w($){try{v(f.next($))}catch(N){y(N)}}function b($){try{v(f.throw($))}catch(N){y(N)}}function v($){$.done?m($.value):h($.value).then(w,b)}v((f=f.apply(l,c||[])).next())})},r=Wa&&Wa.__generator||function(l,c){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,y;return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(v){return function($){return b([v,$])}}function b(v){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(u=0)),u;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,h=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){u=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){u.label=v[1];break}if(v[0]===6&&u.label<m[1]){u.label=m[1],m=v;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(v);break}m[2]&&u.ops.pop(),u.trys.pop();continue}v=c.call(l,u)}catch($){v=[6,$],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.FrappeCall=void 0;var s=function(){function l(c,u,f,h,m){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=m}return l.prototype.get=function(c,u){return t(this,void 0,void 0,function(){var f;return r(this,function(h){return f=new URLSearchParams,u&&Object.entries(u).forEach(function(m){var y=m[0],w=m[1];if(w!=null){var b=typeof w=="object"?JSON.stringify(w):w;f.set(y,b)}}),[2,this.axios.get("/api/method/".concat(c),{params:f}).then(function(m){return m.data}).catch(function(m){var y,w;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(y=m.response.data.message)!==null&&y!==void 0?y:"There was an error.",exception:(w=m.response.data.exception)!==null&&w!==void 0?w:""})})]})})},l.prototype.post=function(c,u){return t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.post("/api/method/".concat(c),e({},u)).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=h.response.data.exception)!==null&&y!==void 0?y:""})})]})})},l.prototype.put=function(c,u){return t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.put("/api/method/".concat(c),e({},u)).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=h.response.data.exception)!==null&&y!==void 0?y:""})})]})})},l.prototype.delete=function(c,u){return t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.delete("/api/method/".concat(c),{params:u}).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=h.response.data.exception)!==null&&y!==void 0?y:""})})]})})},l}();return Wa.FrappeCall=s,Wa}var Za={},jv;function w3(){if(jv)return Za;jv=1;var e=Za&&Za.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)},t=Za&&Za.__awaiter||function(l,c,u,f){function h(m){return m instanceof u?m:new u(function(y){y(m)})}return new(u||(u=Promise))(function(m,y){function w($){try{v(f.next($))}catch(N){y(N)}}function b($){try{v(f.throw($))}catch(N){y(N)}}function v($){$.done?m($.value):h($.value).then(w,b)}v((f=f.apply(l,c||[])).next())})},r=Za&&Za.__generator||function(l,c){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,y;return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(v){return function($){return b([v,$])}}function b(v){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(u=0)),u;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,h=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){u=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){u.label=v[1];break}if(v[0]===6&&u.label<m[1]){u.label=m[1],m=v;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(v);break}m[2]&&u.ops.pop(),u.trys.pop();continue}v=c.call(l,u)}catch($){v=[6,$],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(Za,"__esModule",{value:!0}),Za.FrappeDB=void 0;var s=function(){function l(c,u,f,h,m){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=m}return l.prototype.getDoc=function(c,u){return u===void 0&&(u=""),t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.get("/api/resource/".concat(c,"/").concat(encodeURIComponent(u))).then(function(h){return h.data.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(y=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},l.prototype.getDocList=function(c,u){var f;return t(this,void 0,void 0,function(){var h,m,y,w,b,v,$,N,C,k,O;return r(this,function(A){return h={},u&&(m=u.fields,y=u.filters,w=u.orFilters,b=u.orderBy,v=u.limit,$=u.limit_start,N=u.groupBy,C=u.asDict,k=C===void 0?!0:C,O=b?"".concat(String(b==null?void 0:b.field)," ").concat((f=b==null?void 0:b.order)!==null&&f!==void 0?f:"asc"):"",h={fields:m?JSON.stringify(m):void 0,filters:y?JSON.stringify(y):void 0,or_filters:w?JSON.stringify(w):void 0,order_by:O,group_by:N,limit:v,limit_start:$,as_dict:k}),[2,this.axios.get("/api/resource/".concat(c),{params:h}).then(function(B){return B.data.data}).catch(function(B){var P,T;throw e(e({},B.response.data),{httpStatus:B.response.status,httpStatusText:B.response.statusText,message:"There was an error while fetching the documents.",exception:(T=(P=B.response.data.exception)!==null&&P!==void 0?P:B.response.data.exc_type)!==null&&T!==void 0?T:""})})]})})},l.prototype.createDoc=function(c,u){return t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.post("/api/resource/".concat(c),e({},u)).then(function(h){return h.data.data}).catch(function(h){var m,y,w;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error while creating the document.",exception:(w=(y=h.response.data.exception)!==null&&y!==void 0?y:h.response.data.exc_type)!==null&&w!==void 0?w:""})})]})})},l.prototype.updateDoc=function(c,u,f){return t(this,void 0,void 0,function(){return r(this,function(h){return[2,this.axios.put("/api/resource/".concat(c,"/").concat(u&&encodeURIComponent(u)),e({},f)).then(function(m){return m.data.data}).catch(function(m){var y,w,b;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(y=m.response.data.message)!==null&&y!==void 0?y:"There was an error while updating the document.",exception:(b=(w=m.response.data.exception)!==null&&w!==void 0?w:m.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},l.prototype.deleteDoc=function(c,u){return t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.delete("/api/resource/".concat(c,"/").concat(u&&encodeURIComponent(u))).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(y=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},l.prototype.getCount=function(c,u,f,h){return f===void 0&&(f=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var m;return r(this,function(y){return m={doctype:c,filters:[]},f&&(m.cache=f),h&&(m.debug=h),u&&(m.filters=u?JSON.stringify(u):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:m}).then(function(w){return w.data.message}).catch(function(w){var b,v;throw e(e({},w.response.data),{httpStatus:w.response.status,httpStatusText:w.response.statusText,message:"There was an error while getting the count.",exception:(v=(b=w.response.data.exception)!==null&&b!==void 0?b:w.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},l.prototype.getLastDoc=function(c,u){return t(this,void 0,void 0,function(){var f,h;return r(this,function(m){switch(m.label){case 0:return f={orderBy:{field:"creation",order:"desc"}},u&&(f=e(e({},f),u)),[4,this.getDocList(c,e(e({},f),{limit:1,fields:["name"]}))];case 1:return h=m.sent(),h.length>0?[2,this.getDoc(c,h[0].name)]:[2,{}]}})})},l.prototype.renameDoc=function(c,u,f,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return r(this,function(m){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:c,old_name:u,new_name:f,merge:h}).then(function(y){return y.data}).catch(function(y){var w,b,v;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:(w=y.response.data.message)!==null&&w!==void 0?w:"There was an error while renaming the document.",exception:(v=(b=y.response.data.exception)!==null&&b!==void 0?b:y.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},l.prototype.getValue=function(c,u,f,h,m,y){return h===void 0&&(h=!0),m===void 0&&(m=!1),y===void 0&&(y=null),t(this,void 0,void 0,function(){var w;return r(this,function(b){return w={doctype:c,fieldname:"[]",filters:[],as_dict:h,debug:m,parent:null},u&&(w.fieldname=typeof u=="object"?JSON.stringify(u):u),f&&(w.filters=f?JSON.stringify(f):void 0),y&&(w.parent=y),[2,this.axios.get("/api/method/frappe.client.get_value",{params:w}).then(function(v){return v.data}).catch(function(v){var $,N;throw e(e({},v.response.data),{httpStatus:v.response.status,httpStatusText:v.response.statusText,message:"There was an error while getting the value.",exception:(N=($=v.response.data.exception)!==null&&$!==void 0?$:v.response.data.exc_type)!==null&&N!==void 0?N:""})})]})})},l.prototype.setValue=function(c,u,f,h){return t(this,void 0,void 0,function(){return r(this,function(m){return f!==null&&typeof f=="object"&&!Array.isArray(f)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:c,name:u,fieldname:f,value:h}).then(function(y){return y.data}).catch(function(y){var w,b;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while setting the value.",exception:(b=(w=y.response.data.exception)!==null&&w!==void 0?w:y.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},l.prototype.getSingleValue=function(c,u){return t(this,void 0,void 0,function(){var f;return r(this,function(h){return f={doctype:c,field:u},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:f}).then(function(m){return m.data}).catch(function(m){var y,w;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(w=(y=m.response.data.exception)!==null&&y!==void 0?y:m.response.data.exc_type)!==null&&w!==void 0?w:""})})]})})},l.prototype.submit=function(c){return t(this,void 0,void 0,function(){return r(this,function(u){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:c}).then(function(f){return f.data.message}).catch(function(f){var h,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while submitting the document.",exception:(m=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},l.prototype.cancel=function(c,u){return t(this,void 0,void 0,function(){return r(this,function(f){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:c,name:u}).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(y=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},l}();return Za.FrappeDB=s,Za}var Ja={},Gn={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var sm,kv;function US(){if(kv)return sm;kv=1;function e(j,_){return function(){return j.apply(_,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:r}=Object,s=(j=>_=>{const M=t.call(_);return j[M]||(j[M]=M.slice(8,-1).toLowerCase())})(Object.create(null)),l=j=>(j=j.toLowerCase(),_=>s(_)===j),c=j=>_=>typeof _===j,{isArray:u}=Array,f=c("undefined");function h(j){return j!==null&&!f(j)&&j.constructor!==null&&!f(j.constructor)&&b(j.constructor.isBuffer)&&j.constructor.isBuffer(j)}const m=l("ArrayBuffer");function y(j){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(j):_=j&&j.buffer&&m(j.buffer),_}const w=c("string"),b=c("function"),v=c("number"),$=j=>j!==null&&typeof j=="object",N=j=>j===!0||j===!1,C=j=>{if(s(j)!=="object")return!1;const _=r(j);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in j)&&!(Symbol.iterator in j)},k=l("Date"),O=l("File"),A=l("Blob"),B=l("FileList"),P=j=>$(j)&&b(j.pipe),T=j=>{let _;return j&&(typeof FormData=="function"&&j instanceof FormData||b(j.append)&&((_=s(j))==="formdata"||_==="object"&&b(j.toString)&&j.toString()==="[object FormData]"))},G=l("URLSearchParams"),[z,Z,Q,H]=["ReadableStream","Request","Response","Headers"].map(l),X=j=>j.trim?j.trim():j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ye(j,_,{allOwnKeys:M=!1}={}){if(j===null||typeof j>"u")return;let I,ne;if(typeof j!="object"&&(j=[j]),u(j))for(I=0,ne=j.length;I<ne;I++)_.call(null,j[I],I,j);else{const le=M?Object.getOwnPropertyNames(j):Object.keys(j),xe=le.length;let Ge;for(I=0;I<xe;I++)Ge=le[I],_.call(null,j[Ge],Ge,j)}}function pe(j,_){_=_.toLowerCase();const M=Object.keys(j);let I=M.length,ne;for(;I-- >0;)if(ne=M[I],_===ne.toLowerCase())return ne;return null}const Oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:IS,q=j=>!f(j)&&j!==Oe;function ae(){const{caseless:j}=q(this)&&this||{},_={},M=(I,ne)=>{const le=j&&pe(_,ne)||ne;C(_[le])&&C(I)?_[le]=ae(_[le],I):C(I)?_[le]=ae({},I):u(I)?_[le]=I.slice():_[le]=I};for(let I=0,ne=arguments.length;I<ne;I++)arguments[I]&&ye(arguments[I],M);return _}const me=(j,_,M,{allOwnKeys:I}={})=>(ye(_,(ne,le)=>{M&&b(ne)?j[le]=e(ne,M):j[le]=ne},{allOwnKeys:I}),j),Re=j=>(j.charCodeAt(0)===65279&&(j=j.slice(1)),j),U=(j,_,M,I)=>{j.prototype=Object.create(_.prototype,I),j.prototype.constructor=j,Object.defineProperty(j,"super",{value:_.prototype}),M&&Object.assign(j.prototype,M)},we=(j,_,M,I)=>{let ne,le,xe;const Ge={};if(_=_||{},j==null)return _;do{for(ne=Object.getOwnPropertyNames(j),le=ne.length;le-- >0;)xe=ne[le],(!I||I(xe,j,_))&&!Ge[xe]&&(_[xe]=j[xe],Ge[xe]=!0);j=M!==!1&&r(j)}while(j&&(!M||M(j,_))&&j!==Object.prototype);return _},L=(j,_,M)=>{j=String(j),(M===void 0||M>j.length)&&(M=j.length),M-=_.length;const I=j.indexOf(_,M);return I!==-1&&I===M},te=j=>{if(!j)return null;if(u(j))return j;let _=j.length;if(!v(_))return null;const M=new Array(_);for(;_-- >0;)M[_]=j[_];return M},oe=(j=>_=>j&&_ instanceof j)(typeof Uint8Array<"u"&&r(Uint8Array)),R=(j,_)=>{const M=(j&&j[Symbol.iterator]).call(j);let I;for(;(I=M.next())&&!I.done;){const ne=I.value;_.call(j,ne[0],ne[1])}},Y=(j,_)=>{let M;const I=[];for(;(M=j.exec(_))!==null;)I.push(M);return I},Se=l("HTMLFormElement"),J=j=>j.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_,M,I){return M.toUpperCase()+I}),$e=(({hasOwnProperty:j})=>(_,M)=>j.call(_,M))(Object.prototype),be=l("RegExp"),Be=(j,_)=>{const M=Object.getOwnPropertyDescriptors(j),I={};ye(M,(ne,le)=>{let xe;(xe=_(ne,le,j))!==!1&&(I[le]=xe||ne)}),Object.defineProperties(j,I)},tt=j=>{Be(j,(_,M)=>{if(b(j)&&["arguments","caller","callee"].indexOf(M)!==-1)return!1;const I=j[M];if(b(I)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+M+"'")})}})},vt=(j,_)=>{const M={},I=ne=>{ne.forEach(le=>{M[le]=!0})};return u(j)?I(j):I(String(j).split(_)),M},Ce=()=>{},Ye=(j,_)=>j!=null&&Number.isFinite(j=+j)?j:_;function _t(j){return!!(j&&b(j.append)&&j[Symbol.toStringTag]==="FormData"&&j[Symbol.iterator])}const jt=j=>{const _=new Array(10),M=(I,ne)=>{if($(I)){if(_.indexOf(I)>=0)return;if(!("toJSON"in I)){_[ne]=I;const le=u(I)?[]:{};return ye(I,(xe,Ge)=>{const mt=M(xe,ne+1);!f(mt)&&(le[Ge]=mt)}),_[ne]=void 0,le}}return I};return M(j,0)},Mt=l("AsyncFunction"),se=j=>j&&($(j)||b(j))&&b(j.then)&&b(j.catch),Je=((j,_)=>j?setImmediate:_?((M,I)=>(Oe.addEventListener("message",({source:ne,data:le})=>{ne===Oe&&le===M&&I.length&&I.shift()()},!1),ne=>{I.push(ne),Oe.postMessage(M,"*")}))(`axios@${Math.random()}`,[]):M=>setTimeout(M))(typeof setImmediate=="function",b(Oe.postMessage)),Ft=typeof queueMicrotask<"u"?queueMicrotask.bind(Oe):typeof process<"u"&&process.nextTick||Je;var fe={isArray:u,isArrayBuffer:m,isBuffer:h,isFormData:T,isArrayBufferView:y,isString:w,isNumber:v,isBoolean:N,isObject:$,isPlainObject:C,isReadableStream:z,isRequest:Z,isResponse:Q,isHeaders:H,isUndefined:f,isDate:k,isFile:O,isBlob:A,isRegExp:be,isFunction:b,isStream:P,isURLSearchParams:G,isTypedArray:oe,isFileList:B,forEach:ye,merge:ae,extend:me,trim:X,stripBOM:Re,inherits:U,toFlatObject:we,kindOf:s,kindOfTest:l,endsWith:L,toArray:te,forEachEntry:R,matchAll:Y,isHTMLForm:Se,hasOwnProperty:$e,hasOwnProp:$e,reduceDescriptors:Be,freezeMethods:tt,toObjectSet:vt,toCamelCase:J,noop:Ce,toFiniteNumber:Ye,findKey:pe,global:Oe,isContextDefined:q,isSpecCompliantForm:_t,toJSONObject:jt,isAsyncFn:Mt,isThenable:se,setImmediate:Je,asap:Ft};function Qe(j,_,M,I,ne){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=j,this.name="AxiosError",_&&(this.code=_),M&&(this.config=M),I&&(this.request=I),ne&&(this.response=ne,this.status=ne.status?ne.status:null)}fe.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const ht=Qe.prototype,Zt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(j=>{Zt[j]={value:j}}),Object.defineProperties(Qe,Zt),Object.defineProperty(ht,"isAxiosError",{value:!0}),Qe.from=(j,_,M,I,ne,le)=>{const xe=Object.create(ht);return fe.toFlatObject(j,xe,function(Ge){return Ge!==Error.prototype},Ge=>Ge!=="isAxiosError"),Qe.call(xe,j.message,_,M,I,ne),xe.cause=j,xe.name=j.name,le&&Object.assign(xe,le),xe};var Gt=null;function Ht(j){return fe.isPlainObject(j)||fe.isArray(j)}function he(j){return fe.endsWith(j,"[]")?j.slice(0,-2):j}function Pe(j,_,M){return j?j.concat(_).map(function(I,ne){return I=he(I),!M&&ne?"["+I+"]":I}).join(M?".":""):_}function He(j){return fe.isArray(j)&&!j.some(Ht)}const Ze=fe.toFlatObject(fe,{},null,function(j){return/^is[A-Z]/.test(j)});function ze(j,_,M){if(!fe.isObject(j))throw new TypeError("target must be an object");_=_||new FormData,M=fe.toFlatObject(M,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Et,xt){return!fe.isUndefined(xt[Et])});const I=M.metaTokens,ne=M.visitor||Ve,le=M.dots,xe=M.indexes,Ge=(M.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(_);if(!fe.isFunction(ne))throw new TypeError("visitor must be a function");function mt(Et){if(Et===null)return"";if(fe.isDate(Et))return Et.toISOString();if(!Ge&&fe.isBlob(Et))throw new Qe("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(Et)||fe.isTypedArray(Et)?Ge&&typeof Blob=="function"?new Blob([Et]):Buffer.from(Et):Et}function Ve(Et,xt,ct){let Dr=Et;if(Et&&!ct&&typeof Et=="object"){if(fe.endsWith(xt,"{}"))xt=I?xt:xt.slice(0,-2),Et=JSON.stringify(Et);else if(fe.isArray(Et)&&He(Et)||(fe.isFileList(Et)||fe.endsWith(xt,"[]"))&&(Dr=fe.toArray(Et)))return xt=he(xt),Dr.forEach(function(kr,fr){!(fe.isUndefined(kr)||kr===null)&&_.append(xe===!0?Pe([xt],fr,le):xe===null?xt:xt+"[]",mt(kr))}),!1}return Ht(Et)?!0:(_.append(Pe(ct,xt,le),mt(Et)),!1)}const et=[],wt=Object.assign(Ze,{defaultVisitor:Ve,convertValue:mt,isVisitable:Ht});function ar(Et,xt){if(!fe.isUndefined(Et)){if(et.indexOf(Et)!==-1)throw Error("Circular reference detected in "+xt.join("."));et.push(Et),fe.forEach(Et,function(ct,Dr){(!(fe.isUndefined(ct)||ct===null)&&ne.call(_,ct,fe.isString(Dr)?Dr.trim():Dr,xt,wt))===!0&&ar(ct,xt?xt.concat(Dr):[Dr])}),et.pop()}}if(!fe.isObject(j))throw new TypeError("data must be an object");return ar(j),_}function We(j){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(j).replace(/[!'()~]|%20|%00/g,function(M){return _[M]})}function yt(j,_){this._pairs=[],j&&ze(j,this,_)}const Ct=yt.prototype;Ct.append=function(j,_){this._pairs.push([j,_])},Ct.toString=function(j){const _=j?function(M){return j.call(this,M,We)}:We;return this._pairs.map(function(M){return _(M[0])+"="+_(M[1])},"").join("&")};function mr(j){return encodeURIComponent(j).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tr(j,_,M){if(!_)return j;const I=M&&M.encode||mr;fe.isFunction(M)&&(M={serialize:M});const ne=M&&M.serialize;let le;if(ne?le=ne(_,M):le=fe.isURLSearchParams(_)?_.toString():new yt(_,M).toString(I),le){const xe=j.indexOf("#");xe!==-1&&(j=j.slice(0,xe)),j+=(j.indexOf("?")===-1?"?":"&")+le}return j}class qr{constructor(){this.handlers=[]}use(_,M,I){return this.handlers.push({fulfilled:_,rejected:M,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){fe.forEach(this.handlers,function(M){M!==null&&_(M)})}}var Gr=qr,_a={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ea=typeof URLSearchParams<"u"?URLSearchParams:yt,Ie=typeof FormData<"u"?FormData:null,Er=typeof Blob<"u"?Blob:null,Nr={isBrowser:!0,classes:{URLSearchParams:Ea,FormData:Ie,Blob:Er},protocols:["http","https","file","blob","url","data"]};const ia=typeof window<"u"&&typeof document<"u",Tr=typeof navigator=="object"&&navigator||void 0,Ta=ia&&(!Tr||["ReactNative","NativeScript","NS"].indexOf(Tr.product)<0),W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D=ia&&window.location.href||"http://localhost";var V=Object.freeze({__proto__:null,hasBrowserEnv:ia,hasStandardBrowserWebWorkerEnv:W,hasStandardBrowserEnv:Ta,navigator:Tr,origin:D}),Ne=F(F({},V),Nr);function Me(j,_){return ze(j,new Ne.classes.URLSearchParams,Object.assign({visitor:function(M,I,ne,le){return Ne.isNode&&fe.isBuffer(M)?(this.append(I,M.toString("base64")),!1):le.defaultVisitor.apply(this,arguments)}},_))}function Xe(j){return fe.matchAll(/\w+|\[(\w*)]/g,j).map(_=>_[0]==="[]"?"":_[1]||_[0])}function ot(j){const _={},M=Object.keys(j);let I;const ne=M.length;let le;for(I=0;I<ne;I++)le=M[I],_[le]=j[le];return _}function at(j){function _(M,I,ne,le){let xe=M[le++];if(xe==="__proto__")return!0;const Ge=Number.isFinite(+xe),mt=le>=M.length;return xe=!xe&&fe.isArray(ne)?ne.length:xe,mt?(fe.hasOwnProp(ne,xe)?ne[xe]=[ne[xe],I]:ne[xe]=I,!Ge):((!ne[xe]||!fe.isObject(ne[xe]))&&(ne[xe]=[]),_(M,I,ne[xe],le)&&fe.isArray(ne[xe])&&(ne[xe]=ot(ne[xe])),!Ge)}if(fe.isFormData(j)&&fe.isFunction(j.entries)){const M={};return fe.forEachEntry(j,(I,ne)=>{_(Xe(I),ne,M,0)}),M}return null}function Ue(j,_,M){if(fe.isString(j))try{return(_||JSON.parse)(j),fe.trim(j)}catch(I){if(I.name!=="SyntaxError")throw I}return(M||JSON.stringify)(j)}const $t={transitional:_a,adapter:["xhr","http","fetch"],transformRequest:[function(j,_){const M=_.getContentType()||"",I=M.indexOf("application/json")>-1,ne=fe.isObject(j);if(ne&&fe.isHTMLForm(j)&&(j=new FormData(j)),fe.isFormData(j))return I?JSON.stringify(at(j)):j;if(fe.isArrayBuffer(j)||fe.isBuffer(j)||fe.isStream(j)||fe.isFile(j)||fe.isBlob(j)||fe.isReadableStream(j))return j;if(fe.isArrayBufferView(j))return j.buffer;if(fe.isURLSearchParams(j))return _.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),j.toString();let le;if(ne){if(M.indexOf("application/x-www-form-urlencoded")>-1)return Me(j,this.formSerializer).toString();if((le=fe.isFileList(j))||M.indexOf("multipart/form-data")>-1){const xe=this.env&&this.env.FormData;return ze(le?{"files[]":j}:j,xe&&new xe,this.formSerializer)}}return ne||I?(_.setContentType("application/json",!1),Ue(j)):j}],transformResponse:[function(j){const _=this.transitional||$t.transitional,M=_&&_.forcedJSONParsing,I=this.responseType==="json";if(fe.isResponse(j)||fe.isReadableStream(j))return j;if(j&&fe.isString(j)&&(M&&!this.responseType||I)){const ne=!(_&&_.silentJSONParsing)&&I;try{return JSON.parse(j)}catch(le){if(ne)throw le.name==="SyntaxError"?Qe.from(le,Qe.ERR_BAD_RESPONSE,this,null,this.response):le}}return j}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(j){return j>=200&&j<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],j=>{$t.headers[j]={}});var ut=$t;const kt=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ot=j=>{const _={};let M,I,ne;return j&&j.split(`
`).forEach(function(le){ne=le.indexOf(":"),M=le.substring(0,ne).trim().toLowerCase(),I=le.substring(ne+1).trim(),!(!M||_[M]&&kt[M])&&(M==="set-cookie"?_[M]?_[M].push(I):_[M]=[I]:_[M]=_[M]?_[M]+", "+I:I)}),_};const Kt=Symbol("internals");function rr(j){return j&&String(j).trim().toLowerCase()}function Yt(j){return j===!1||j==null?j:fe.isArray(j)?j.map(Yt):String(j)}function re(j){const _=Object.create(null),M=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=M.exec(j);)_[I[1]]=I[2];return _}const ke=j=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(j.trim());function qe(j,_,M,I,ne){if(fe.isFunction(I))return I.call(this,_,M);if(ne&&(_=M),!!fe.isString(_)){if(fe.isString(I))return _.indexOf(I)!==-1;if(fe.isRegExp(I))return I.test(_)}}function De(j){return j.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,M,I)=>M.toUpperCase()+I)}function lt(j,_){const M=fe.toCamelCase(" "+_);["get","set","has"].forEach(I=>{Object.defineProperty(j,I+M,{value:function(ne,le,xe){return this[I].call(this,_,ne,le,xe)},configurable:!0})})}class gt{constructor(_){_&&this.set(_)}set(_,M,I){const ne=this;function le(Ge,mt,Ve){const et=rr(mt);if(!et)throw new Error("header name must be a non-empty string");const wt=fe.findKey(ne,et);(!wt||ne[wt]===void 0||Ve===!0||Ve===void 0&&ne[wt]!==!1)&&(ne[wt||mt]=Yt(Ge))}const xe=(Ge,mt)=>fe.forEach(Ge,(Ve,et)=>le(Ve,et,mt));if(fe.isPlainObject(_)||_ instanceof this.constructor)xe(_,M);else if(fe.isString(_)&&(_=_.trim())&&!ke(_))xe(Ot(_),M);else if(fe.isHeaders(_))for(const[Ge,mt]of _.entries())le(mt,Ge,I);else _!=null&&le(M,_,I);return this}get(_,M){if(_=rr(_),_){const I=fe.findKey(this,_);if(I){const ne=this[I];if(!M)return ne;if(M===!0)return re(ne);if(fe.isFunction(M))return M.call(this,ne,I);if(fe.isRegExp(M))return M.exec(ne);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,M){if(_=rr(_),_){const I=fe.findKey(this,_);return!!(I&&this[I]!==void 0&&(!M||qe(this,this[I],I,M)))}return!1}delete(_,M){const I=this;let ne=!1;function le(xe){if(xe=rr(xe),xe){const Ge=fe.findKey(I,xe);Ge&&(!M||qe(I,I[Ge],Ge,M))&&(delete I[Ge],ne=!0)}}return fe.isArray(_)?_.forEach(le):le(_),ne}clear(_){const M=Object.keys(this);let I=M.length,ne=!1;for(;I--;){const le=M[I];(!_||qe(this,this[le],le,_,!0))&&(delete this[le],ne=!0)}return ne}normalize(_){const M=this,I={};return fe.forEach(this,(ne,le)=>{const xe=fe.findKey(I,le);if(xe){M[xe]=Yt(ne),delete M[le];return}const Ge=_?De(le):String(le).trim();Ge!==le&&delete M[le],M[Ge]=Yt(ne),I[Ge]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const M=Object.create(null);return fe.forEach(this,(I,ne)=>{I!=null&&I!==!1&&(M[ne]=_&&fe.isArray(I)?I.join(", "):I)}),M}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,M])=>_+": "+M).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...M){const I=new this(_);return M.forEach(ne=>I.set(ne)),I}static accessor(_){const M=(this[Kt]=this[Kt]={accessors:{}}).accessors,I=this.prototype;function ne(le){const xe=rr(le);M[xe]||(lt(I,le),M[xe]=!0)}return fe.isArray(_)?_.forEach(ne):ne(_),this}}gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),fe.reduceDescriptors(gt.prototype,({value:j},_)=>{let M=_[0].toUpperCase()+_.slice(1);return{get:()=>j,set(I){this[M]=I}}}),fe.freezeMethods(gt);var pt=gt;function Or(j,_){const M=this||ut,I=_||M,ne=pt.from(I.headers);let le=I.data;return fe.forEach(j,function(xe){le=xe.call(M,le,ne.normalize(),_?_.status:void 0)}),ne.normalize(),le}function Vr(j){return!!(j&&j.__CANCEL__)}function or(j,_,M){Qe.call(this,j!=null?j:"canceled",Qe.ERR_CANCELED,_,M),this.name="CanceledError"}fe.inherits(or,Qe,{__CANCEL__:!0});function Fr(j,_,M){const I=M.config.validateStatus;!M.status||!I||I(M.status)?j(M):_(new Qe("Request failed with status code "+M.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(M.status/100)-4],M.config,M.request,M))}function Rt(j){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec(j);return _&&_[1]||""}function jr(j,_){j=j||10;const M=new Array(j),I=new Array(j);let ne=0,le=0,xe;return _=_!==void 0?_:1e3,function(Ge){const mt=Date.now(),Ve=I[le];xe||(xe=mt),M[ne]=Ge,I[ne]=mt;let et=le,wt=0;for(;et!==ne;)wt+=M[et++],et=et%j;if(ne=(ne+1)%j,ne===le&&(le=(le+1)%j),mt-xe<_)return;const ar=Ve&&mt-Ve;return ar?Math.round(wt*1e3/ar):void 0}}function ga(j,_){let M=0,I=1e3/_,ne,le;const xe=(Ge,mt=Date.now())=>{M=mt,ne=null,le&&(clearTimeout(le),le=null),j.apply(null,Ge)};return[(...Ge)=>{const mt=Date.now(),Ve=mt-M;Ve>=I?xe(Ge,mt):(ne=Ge,le||(le=setTimeout(()=>{le=null,xe(ne)},I-Ve)))},()=>ne&&xe(ne)]}const Kr=(j,_,M=3)=>{let I=0;const ne=jr(50,250);return ga(le=>{const xe=le.loaded,Ge=le.lengthComputable?le.total:void 0,mt=xe-I,Ve=ne(mt),et=xe<=Ge;I=xe;const wt={loaded:xe,total:Ge,progress:Ge?xe/Ge:void 0,bytes:mt,rate:Ve||void 0,estimated:Ve&&Ge&&et?(Ge-xe)/Ve:void 0,event:le,lengthComputable:Ge!=null,[_?"download":"upload"]:!0};j(wt)},M)},hn=(j,_)=>{const M=j!=null;return[I=>_[0]({lengthComputable:M,total:j,loaded:I}),_[1]]},lr=j=>(..._)=>fe.asap(()=>j(..._));var mn=Ne.hasStandardBrowserEnv?((j,_)=>M=>(M=new URL(M,Ne.origin),j.protocol===M.protocol&&j.host===M.host&&(_||j.port===M.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,ei=Ne.hasStandardBrowserEnv?{write(j,_,M,I,ne,le){const xe=[j+"="+encodeURIComponent(_)];fe.isNumber(M)&&xe.push("expires="+new Date(M).toGMTString()),fe.isString(I)&&xe.push("path="+I),fe.isString(ne)&&xe.push("domain="+ne),le===!0&&xe.push("secure"),document.cookie=xe.join("; ")},read(j){const _=document.cookie.match(new RegExp("(^|;\\s*)("+j+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove(j){this.write(j,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yr(j){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(j)}function cd(j,_){return _?j.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):j}function dd(j,_,M){let I=!Yr(_);return j&&I||M==!1?cd(j,_):_}const ti=j=>j instanceof pt?F({},j):j;function gn(j,_){_=_||{};const M={};function I(Ve,et,wt,ar){return fe.isPlainObject(Ve)&&fe.isPlainObject(et)?fe.merge.call({caseless:ar},Ve,et):fe.isPlainObject(et)?fe.merge({},et):fe.isArray(et)?et.slice():et}function ne(Ve,et,wt,ar){if(fe.isUndefined(et)){if(!fe.isUndefined(Ve))return I(void 0,Ve,wt,ar)}else return I(Ve,et,wt,ar)}function le(Ve,et){if(!fe.isUndefined(et))return I(void 0,et)}function xe(Ve,et){if(fe.isUndefined(et)){if(!fe.isUndefined(Ve))return I(void 0,Ve)}else return I(void 0,et)}function Ge(Ve,et,wt){if(wt in _)return I(Ve,et);if(wt in j)return I(void 0,Ve)}const mt={url:le,method:le,data:le,baseURL:xe,transformRequest:xe,transformResponse:xe,paramsSerializer:xe,timeout:xe,timeoutMessage:xe,withCredentials:xe,withXSRFToken:xe,adapter:xe,responseType:xe,xsrfCookieName:xe,xsrfHeaderName:xe,onUploadProgress:xe,onDownloadProgress:xe,decompress:xe,maxContentLength:xe,maxBodyLength:xe,beforeRedirect:xe,transport:xe,httpAgent:xe,httpsAgent:xe,cancelToken:xe,socketPath:xe,responseEncoding:xe,validateStatus:Ge,headers:(Ve,et,wt)=>ne(ti(Ve),ti(et),wt,!0)};return fe.forEach(Object.keys(Object.assign({},j,_)),function(Ve){const et=mt[Ve]||ne,wt=et(j[Ve],_[Ve],Ve);fe.isUndefined(wt)&&et!==Ge||(M[Ve]=wt)}),M}var ri=j=>{const _=gn({},j);let{data:M,withXSRFToken:I,xsrfHeaderName:ne,xsrfCookieName:le,headers:xe,auth:Ge}=_;_.headers=xe=pt.from(xe),_.url=tr(dd(_.baseURL,_.url),j.params,j.paramsSerializer),Ge&&xe.set("Authorization","Basic "+btoa((Ge.username||"")+":"+(Ge.password?unescape(encodeURIComponent(Ge.password)):"")));let mt;if(fe.isFormData(M)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)xe.setContentType(void 0);else if((mt=xe.getContentType())!==!1){const[Ve,...et]=mt?mt.split(";").map(wt=>wt.trim()).filter(Boolean):[];xe.setContentType([Ve||"multipart/form-data",...et].join("; "))}}if(Ne.hasStandardBrowserEnv&&(I&&fe.isFunction(I)&&(I=I(_)),I||I!==!1&&mn(_.url))){const Ve=ne&&le&&ei.read(le);Ve&&xe.set(ne,Ve)}return _},V0=typeof XMLHttpRequest<"u"&&function(j){return new Promise(function(_,M){const I=ri(j);let ne=I.data;const le=pt.from(I.headers).normalize();let{responseType:xe,onUploadProgress:Ge,onDownloadProgress:mt}=I,Ve,et,wt,ar,Et;function xt(){ar&&ar(),Et&&Et(),I.cancelToken&&I.cancelToken.unsubscribe(Ve),I.signal&&I.signal.removeEventListener("abort",Ve)}let ct=new XMLHttpRequest;ct.open(I.method.toUpperCase(),I.url,!0),ct.timeout=I.timeout;function Dr(){if(!ct)return;const fr=pt.from("getAllResponseHeaders"in ct&&ct.getAllResponseHeaders()),Oa={data:!xe||xe==="text"||xe==="json"?ct.responseText:ct.response,status:ct.status,statusText:ct.statusText,headers:fr,config:j,request:ct};Fr(function(ci){_(ci),xt()},function(ci){M(ci),xt()},Oa),ct=null}"onloadend"in ct?ct.onloadend=Dr:ct.onreadystatechange=function(){!ct||ct.readyState!==4||ct.status===0&&!(ct.responseURL&&ct.responseURL.indexOf("file:")===0)||setTimeout(Dr)},ct.onabort=function(){ct&&(M(new Qe("Request aborted",Qe.ECONNABORTED,j,ct)),ct=null)},ct.onerror=function(){M(new Qe("Network Error",Qe.ERR_NETWORK,j,ct)),ct=null},ct.ontimeout=function(){let fr=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const Oa=I.transitional||_a;I.timeoutErrorMessage&&(fr=I.timeoutErrorMessage),M(new Qe(fr,Oa.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,j,ct)),ct=null},ne===void 0&&le.setContentType(null),"setRequestHeader"in ct&&fe.forEach(le.toJSON(),function(fr,Oa){ct.setRequestHeader(Oa,fr)}),fe.isUndefined(I.withCredentials)||(ct.withCredentials=!!I.withCredentials),xe&&xe!=="json"&&(ct.responseType=I.responseType),mt&&([wt,Et]=Kr(mt,!0),ct.addEventListener("progress",wt)),Ge&&ct.upload&&([et,ar]=Kr(Ge),ct.upload.addEventListener("progress",et),ct.upload.addEventListener("loadend",ar)),(I.cancelToken||I.signal)&&(Ve=fr=>{ct&&(M(!fr||fr.type?new or(null,j,ct):fr),ct.abort(),ct=null)},I.cancelToken&&I.cancelToken.subscribe(Ve),I.signal&&(I.signal.aborted?Ve():I.signal.addEventListener("abort",Ve)));const kr=Rt(I.url);if(kr&&Ne.protocols.indexOf(kr)===-1){M(new Qe("Unsupported protocol "+kr+":",Qe.ERR_BAD_REQUEST,j));return}ct.send(ne||null)})},oa=(j,_)=>{const{length:M}=j=j?j.filter(Boolean):[];if(_||M){let I=new AbortController,ne;const le=function(Ve){if(!ne){ne=!0,Ge();const et=Ve instanceof Error?Ve:this.reason;I.abort(et instanceof Qe?et:new or(et instanceof Error?et.message:et))}};let xe=_&&setTimeout(()=>{xe=null,le(new Qe(`timeout ${_} of ms exceeded`,Qe.ETIMEDOUT))},_);const Ge=()=>{j&&(xe&&clearTimeout(xe),xe=null,j.forEach(Ve=>{Ve.unsubscribe?Ve.unsubscribe(le):Ve.removeEventListener("abort",le)}),j=null)};j.forEach(Ve=>Ve.addEventListener("abort",le));const{signal:mt}=I;return mt.unsubscribe=()=>fe.asap(Ge),mt}};const bl=function*(j,_){let M=j.byteLength;if(M<_){yield j;return}let I=0,ne;for(;I<M;)ne=I+_,yield j.slice(I,ne),I=ne},ud=function(j,_){return qh(this,null,function*(){try{for(var M=zb(vl(j)),I,ne,le;I=!(ne=yield new Si(M.next())).done;I=!1){const xe=ne.value;yield*Gh(bl(xe,_))}}catch(ne){le=[ne]}finally{try{I&&(ne=M.return)&&(yield new Si(ne.call(M)))}finally{if(le)throw le[0]}}})},vl=function(j){return qh(this,null,function*(){if(j[Symbol.asyncIterator]){yield*Gh(j);return}const _=j.getReader();try{for(;;){const{done:M,value:I}=yield new Si(_.read());if(M)break;yield I}}finally{yield new Si(_.cancel())}})},_n=(j,_,M,I)=>{const ne=ud(j,_);let le=0,xe,Ge=Ve=>{xe||(xe=!0,I&&I(Ve))};return new ReadableStream({pull(Ve){return de(this,null,function*(){try{const{done:et,value:wt}=yield ne.next();if(et){Ge(),Ve.close();return}let ar=wt.byteLength;if(M){let Et=le+=ar;M(Et)}Ve.enqueue(new Uint8Array(wt))}catch(et){throw Ge(et),et}})},cancel(Ve){return Ge(Ve),ne.return()}},{highWaterMark:2})},ai=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wl=ai&&typeof ReadableStream=="function",is=ai&&(typeof TextEncoder=="function"?(j=>_=>j.encode(_))(new TextEncoder):j=>de(null,null,function*(){return new Uint8Array(yield new Response(j).arrayBuffer())})),fd=(j,..._)=>{try{return!!j(..._)}catch(M){return!1}},hd=wl&&fd(()=>{let j=!1;const _=new Request(Ne.origin,{body:new ReadableStream,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!_}),Nl=64*1024,ni=wl&&fd(()=>fe.isReadableStream(new Response("").body)),Ki={stream:ni&&(j=>j.body)};ai&&(j=>{["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!Ki[_]&&(Ki[_]=fe.isFunction(j[_])?M=>M[_]():(M,I)=>{throw new Qe(`Response type '${_}' is not supported`,Qe.ERR_NOT_SUPPORT,I)})})})(new Response);const K0=j=>de(null,null,function*(){if(j==null)return 0;if(fe.isBlob(j))return j.size;if(fe.isSpecCompliantForm(j))return(yield new Request(Ne.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(j)||fe.isArrayBuffer(j))return j.byteLength;if(fe.isURLSearchParams(j)&&(j=j+""),fe.isString(j))return(yield is(j)).byteLength}),Yi=(j,_)=>de(null,null,function*(){const M=fe.toFiniteNumber(j.getContentLength());return M!=null?M:K0(_)});var jl=ai&&(j=>de(null,null,function*(){let{url:_,method:M,data:I,signal:ne,cancelToken:le,timeout:xe,onDownloadProgress:Ge,onUploadProgress:mt,responseType:Ve,headers:et,withCredentials:wt="same-origin",fetchOptions:ar}=ri(j);Ve=Ve?(Ve+"").toLowerCase():"text";let Et=oa([ne,le&&le.toAbortSignal()],xe),xt;const ct=Et&&Et.unsubscribe&&(()=>{Et.unsubscribe()});let Dr;try{if(mt&&hd&&M!=="get"&&M!=="head"&&(Dr=yield Yi(et,I))!==0){let yn=new Request(_,{method:"POST",body:I,duplex:"half"}),us;if(fe.isFormData(I)&&(us=yn.headers.get("content-type"))&&et.setContentType(us),yn.body){const[Zi,Ji]=hn(Dr,Kr(lr(mt)));I=_n(yn.body,Nl,Zi,Ji)}}fe.isString(wt)||(wt=wt?"include":"omit");const kr="credentials"in Request.prototype;xt=new Request(_,ce(F({},ar),{signal:Et,method:M.toUpperCase(),headers:et.normalize().toJSON(),body:I,duplex:"half",credentials:kr?wt:void 0}));let fr=yield fetch(xt);const Oa=ni&&(Ve==="stream"||Ve==="response");if(ni&&(Ge||Oa&&ct)){const yn={};["status","statusText","headers"].forEach(gd=>{yn[gd]=fr[gd]});const us=fe.toFiniteNumber(fr.headers.get("content-length")),[Zi,Ji]=Ge&&hn(us,Kr(lr(Ge),!0))||[];fr=new Response(_n(fr.body,Nl,Zi,()=>{Ji&&Ji(),ct&&ct()}),yn)}Ve=Ve||"text";let ci=yield Ki[fe.findKey(Ki,Ve)||"text"](fr,j);return!Oa&&ct&&ct(),yield new Promise((yn,us)=>{Fr(yn,us,{data:ci,headers:pt.from(fr.headers),status:fr.status,statusText:fr.statusText,config:j,request:xt})})}catch(kr){throw ct&&ct(),kr&&kr.name==="TypeError"&&/fetch/i.test(kr.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,j,xt),{cause:kr.cause||kr}):Qe.from(kr,kr&&kr.code,j,xt)}}));const si={http:Gt,xhr:V0,fetch:jl};fe.forEach(si,(j,_)=>{if(j){try{Object.defineProperty(j,"name",{value:_})}catch(M){}Object.defineProperty(j,"adapterName",{value:_})}});const En=j=>`- ${j}`,os=j=>fe.isFunction(j)||j===null||j===!1;var kl={getAdapter:j=>{j=fe.isArray(j)?j:[j];const{length:_}=j;let M,I;const ne={};for(let le=0;le<_;le++){M=j[le];let xe;if(I=M,!os(M)&&(I=si[(xe=String(M)).toLowerCase()],I===void 0))throw new Qe(`Unknown adapter '${xe}'`);if(I)break;ne[xe||"#"+le]=I}if(!I){const le=Object.entries(ne).map(([Ge,mt])=>`adapter ${Ge} `+(mt===!1?"is not supported by the environment":"is not available in the build"));let xe=_?le.length>1?`since :
`+le.map(En).join(`
`):" "+En(le[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+xe,"ERR_NOT_SUPPORT")}return I},adapters:si};function ii(j){if(j.cancelToken&&j.cancelToken.throwIfRequested(),j.signal&&j.signal.aborted)throw new or(null,j)}function Sl(j){return ii(j),j.headers=pt.from(j.headers),j.data=Or.call(j,j.transformRequest),["post","put","patch"].indexOf(j.method)!==-1&&j.headers.setContentType("application/x-www-form-urlencoded",!1),kl.getAdapter(j.adapter||ut.adapter)(j).then(function(_){return ii(j),_.data=Or.call(j,j.transformResponse,_),_.headers=pt.from(_.headers),_},function(_){return Vr(_)||(ii(j),_&&_.response&&(_.response.data=Or.call(j,j.transformResponse,_.response),_.response.headers=pt.from(_.response.headers))),Promise.reject(_)})}const ls="1.8.2",la={};["object","boolean","number","function","string","symbol"].forEach((j,_)=>{la[j]=function(M){return typeof M===j||"a"+(_<1?"n ":" ")+j}});const Qi={};la.transitional=function(j,_,M){function I(ne,le){return"[Axios v"+ls+"] Transitional option '"+ne+"'"+le+(M?". "+M:"")}return(ne,le,xe)=>{if(j===!1)throw new Qe(I(le," has been removed"+(_?" in "+_:"")),Qe.ERR_DEPRECATED);return _&&!Qi[le]&&(Qi[le]=!0,console.warn(I(le," has been deprecated since v"+_+" and will be removed in the near future"))),j?j(ne,le,xe):!0}},la.spelling=function(j){return(_,M)=>(console.warn(`${M} is likely a misspelling of ${j}`),!0)};function oi(j,_,M){if(typeof j!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const I=Object.keys(j);let ne=I.length;for(;ne-- >0;){const le=I[ne],xe=_[le];if(xe){const Ge=j[le],mt=Ge===void 0||xe(Ge,le,j);if(mt!==!0)throw new Qe("option "+le+" must be "+mt,Qe.ERR_BAD_OPTION_VALUE);continue}if(M!==!0)throw new Qe("Unknown option "+le,Qe.ERR_BAD_OPTION)}}var ya={assertOptions:oi,validators:la};const ca=ya.validators;class Tn{constructor(_){this.defaults=_,this.interceptors={request:new Gr,response:new Gr}}request(_,M){return de(this,null,function*(){try{return yield this._request(_,M)}catch(I){if(I instanceof Error){let ne={};Error.captureStackTrace?Error.captureStackTrace(ne):ne=new Error;const le=ne.stack?ne.stack.replace(/^.+\n/,""):"";try{I.stack?le&&!String(I.stack).endsWith(le.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+le):I.stack=le}catch(xe){}}throw I}})}_request(_,M){typeof _=="string"?(M=M||{},M.url=_):M=_||{},M=gn(this.defaults,M);const{transitional:I,paramsSerializer:ne,headers:le}=M;I!==void 0&&ya.assertOptions(I,{silentJSONParsing:ca.transitional(ca.boolean),forcedJSONParsing:ca.transitional(ca.boolean),clarifyTimeoutError:ca.transitional(ca.boolean)},!1),ne!=null&&(fe.isFunction(ne)?M.paramsSerializer={serialize:ne}:ya.assertOptions(ne,{encode:ca.function,serialize:ca.function},!0)),M.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?M.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:M.allowAbsoluteUrls=!0),ya.assertOptions(M,{baseUrl:ca.spelling("baseURL"),withXsrfToken:ca.spelling("withXSRFToken")},!0),M.method=(M.method||this.defaults.method||"get").toLowerCase();let xe=le&&fe.merge(le.common,le[M.method]);le&&fe.forEach(["delete","get","head","post","put","patch","common"],xt=>{delete le[xt]}),M.headers=pt.concat(xe,le);const Ge=[];let mt=!0;this.interceptors.request.forEach(function(xt){typeof xt.runWhen=="function"&&xt.runWhen(M)===!1||(mt=mt&&xt.synchronous,Ge.unshift(xt.fulfilled,xt.rejected))});const Ve=[];this.interceptors.response.forEach(function(xt){Ve.push(xt.fulfilled,xt.rejected)});let et,wt=0,ar;if(!mt){const xt=[Sl.bind(this),void 0];for(xt.unshift.apply(xt,Ge),xt.push.apply(xt,Ve),ar=xt.length,et=Promise.resolve(M);wt<ar;)et=et.then(xt[wt++],xt[wt++]);return et}ar=Ge.length;let Et=M;for(wt=0;wt<ar;){const xt=Ge[wt++],ct=Ge[wt++];try{Et=xt(Et)}catch(Dr){ct.call(this,Dr);break}}try{et=Sl.call(this,Et)}catch(xt){return Promise.reject(xt)}for(wt=0,ar=Ve.length;wt<ar;)et=et.then(Ve[wt++],Ve[wt++]);return et}getUri(_){_=gn(this.defaults,_);const M=dd(_.baseURL,_.url,_.allowAbsoluteUrls);return tr(M,_.params,_.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(j){Tn.prototype[j]=function(_,M){return this.request(gn(M||{},{method:j,url:_,data:(M||{}).data}))}}),fe.forEach(["post","put","patch"],function(j){function _(M){return function(I,ne,le){return this.request(gn(le||{},{method:j,headers:M?{"Content-Type":"multipart/form-data"}:{},url:I,data:ne}))}}Tn.prototype[j]=_(),Tn.prototype[j+"Form"]=_(!0)});var li=Tn;class cs{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let M;this.promise=new Promise(function(ne){M=ne});const I=this;this.promise.then(ne=>{if(!I._listeners)return;let le=I._listeners.length;for(;le-- >0;)I._listeners[le](ne);I._listeners=null}),this.promise.then=ne=>{let le;const xe=new Promise(Ge=>{I.subscribe(Ge),le=Ge}).then(ne);return xe.cancel=function(){I.unsubscribe(le)},xe},_(function(ne,le,xe){I.reason||(I.reason=new or(ne,le,xe),M(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const M=this._listeners.indexOf(_);M!==-1&&this._listeners.splice(M,1)}toAbortSignal(){const _=new AbortController,M=I=>{_.abort(I)};return this.subscribe(M),_.signal.unsubscribe=()=>this.unsubscribe(M),_.signal}static source(){let _;return{token:new cs(function(M){_=M}),cancel:_}}}var Xi=cs;function md(j){return function(_){return j.apply(null,_)}}function Qr(j){return fe.isObject(j)&&j.isAxiosError===!0}const Ka={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ka).forEach(([j,_])=>{Ka[_]=j});var Wi=Ka;function ds(j){const _=new li(j),M=e(li.prototype.request,_);return fe.extend(M,li.prototype,_,{allOwnKeys:!0}),fe.extend(M,_,null,{allOwnKeys:!0}),M.create=function(I){return ds(gn(j,I))},M}const gr=ds(ut);return gr.Axios=li,gr.CanceledError=or,gr.CancelToken=Xi,gr.isCancel=Vr,gr.VERSION=ls,gr.toFormData=ze,gr.AxiosError=Qe,gr.Cancel=gr.CanceledError,gr.all=function(j){return Promise.all(j)},gr.spread=md,gr.isAxiosError=Qr,gr.mergeConfig=gn,gr.AxiosHeaders=pt,gr.formToJSON=j=>at(fe.isHTMLForm(j)?new FormData(j):j),gr.getAdapter=kl.getAdapter,gr.HttpStatusCode=Wi,gr.default=gr,sm=gr,sm}var Sv;function N3(){if(Sv)return Gn;Sv=1;var e=Gn&&Gn.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.getRequestHeaders=Gn.getAxiosClient=void 0;var t=US();function r(l,c,u,f,h){var m=t.default.create({baseURL:l,headers:s(c,f,u,l,h),withCredentials:!0});return m.interceptors.request.use(function(y){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(y.headers["X-Frappe-CSRF-Token"]=window.csrf_token),c&&f&&u&&(y.headers.Authorization="".concat(f," ").concat(u())),y}),m}Gn.getAxiosClient=r;function s(l,c,u,f,h){l===void 0&&(l=!1);var m={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return l&&c&&u&&(m.Authorization="".concat(c," ").concat(u())),typeof window<"u"&&typeof document<"u"&&(window.location&&(f&&f!==window.location.origin||(m["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(m["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},m),h!=null?h:{})}return Gn.getRequestHeaders=s,Gn}var $v;function j3(){if($v)return Ja;$v=1;var e=Ja&&Ja.__assign||function(){return e=Object.assign||function(c){for(var u,f=1,h=arguments.length;f<h;f++){u=arguments[f];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(c[m]=u[m])}return c},e.apply(this,arguments)},t=Ja&&Ja.__awaiter||function(c,u,f,h){function m(y){return y instanceof f?y:new f(function(w){w(y)})}return new(f||(f=Promise))(function(y,w){function b(N){try{$(h.next(N))}catch(C){w(C)}}function v(N){try{$(h.throw(N))}catch(C){w(C)}}function $(N){N.done?y(N.value):m(N.value).then(b,v)}$((h=h.apply(c,u||[])).next())})},r=Ja&&Ja.__generator||function(c,u){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},h,m,y,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b($){return function(N){return v([$,N])}}function v($){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,$[0]&&(f=0)),f;)try{if(h=1,m&&(y=$[0]&2?m.return:$[0]?m.throw||((y=m.return)&&y.call(m),0):m.next)&&!(y=y.call(m,$[1])).done)return y;switch(m=0,y&&($=[$[0]&2,y.value]),$[0]){case 0:case 1:y=$;break;case 4:return f.label++,{value:$[1],done:!1};case 5:f.label++,m=$[1],$=[0];continue;case 7:$=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&($[0]===6||$[0]===2)){f=0;continue}if($[0]===3&&(!y||$[1]>y[0]&&$[1]<y[3])){f.label=$[1];break}if($[0]===6&&f.label<y[1]){f.label=y[1],y=$;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push($);break}y[2]&&f.ops.pop(),f.trys.pop();continue}$=u.call(c,f)}catch(N){$=[6,N],m=0}finally{h=y=0}if($[0]&5)throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.FrappeFileUpload=void 0;var s=N3(),l=function(){function c(u,f,h,m,y,w){this.appURL=u,this.axios=f,this.useToken=h!=null?h:!1,this.token=m,this.tokenType=y,this.customHeaders=w}return c.prototype.uploadFile=function(u,f,h,m){return m===void 0&&(m="upload_file"),t(this,void 0,void 0,function(){var y,w,b,v,$,N,C,k;return r(this,function(O){return y=new FormData,u&&y.append("file",u,u.name),w=f.isPrivate,b=f.folder,v=f.file_url,$=f.doctype,N=f.docname,C=f.fieldname,k=f.otherData,w&&y.append("is_private","1"),b&&y.append("folder",b),v&&y.append("file_url",v),$&&N&&(y.append("doctype",$),y.append("docname",N),C&&y.append("fieldname",C)),k&&Object.keys(k).forEach(function(A){var B=k[A];y.append(A,B)}),[2,this.axios.post("/api/method/".concat(m),y,{onUploadProgress:function(A){h&&h(A.loaded,A.total,A)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(A){var B,P;throw e(e({},A.response.data),{httpStatus:A.response.status,httpStatusText:A.response.statusText,message:(B=A.response.data.message)!==null&&B!==void 0?B:"There was an error while uploading the file.",exception:(P=A.response.data.exception)!==null&&P!==void 0?P:""})})]})})},c}();return Ja.FrappeFileUpload=l,Ja}var Cv;function FS(){if(Cv)return vc;Cv=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.FrappeApp=void 0;var e=k3(),t=v3(),r=w3(),s=j3(),l=N3(),c=function(){function u(f,h,m,y){var w,b;this.url=f,this.name=m!=null?m:"FrappeApp",this.useToken=(w=h==null?void 0:h.useToken)!==null&&w!==void 0?w:!1,this.token=h==null?void 0:h.token,this.tokenType=(b=h==null?void 0:h.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=y,this.axios=(0,l.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return u.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},u.prototype.db=function(){return new r.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},u.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},u.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},u}();return vc.FrappeApp=c,vc}var en={},_v;function BS(){if(_v)return en;_v=1;var e=en&&en.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)},t=en&&en.__awaiter||function(l,c,u,f){function h(m){return m instanceof u?m:new u(function(y){y(m)})}return new(u||(u=Promise))(function(m,y){function w($){try{v(f.next($))}catch(N){y(N)}}function b($){try{v(f.throw($))}catch(N){y(N)}}function v($){$.done?m($.value):h($.value).then(w,b)}v((f=f.apply(l,c||[])).next())})},r=en&&en.__generator||function(l,c){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,y;return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(v){return function($){return b([v,$])}}function b(v){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(u=0)),u;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,h=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){u=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){u.label=v[1];break}if(v[0]===6&&u.label<m[1]){u.label=m[1],m=v;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(v);break}m[2]&&u.ops.pop(),u.trys.pop();continue}v=c.call(l,u)}catch($){v=[6,$],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(en,"__esModule",{value:!0}),en.FrappeAuth=void 0;var s=function(){function l(c,u,f,h,m){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=m}return l.prototype.loginWithUsernamePassword=function(c){return t(this,void 0,void 0,function(){return r(this,function(u){return[2,this.axios.post("/api/method/login",{usr:c.username,pwd:c.password,otp:c.otp,tmp_id:c.tmp_id,device:c.device}).then(function(f){return f.data}).catch(function(f){var h,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(m=f.response.data.exception)!==null&&m!==void 0?m:""})})]})})},l.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return r(this,function(c){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(u){return u.data.message}).catch(function(u){var f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while fetching the logged in user",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},l.prototype.logout=function(){return t(this,void 0,void 0,function(){return r(this,function(c){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error while logging out",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},l.prototype.forgetPassword=function(c){return t(this,void 0,void 0,function(){return r(this,function(u){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:c}).then(function(){}).catch(function(f){var h,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(m=f.response.data.exception)!==null&&m!==void 0?m:""})})]})})},l}();return en.FrappeAuth=s,en}var Ev;function k3(){return Ev||(Ev=1,function(e){var t=Oo&&Oo.__createBinding||(Object.create?function(s,l,c,u){u===void 0&&(u=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,u,f)}:function(s,l,c,u){u===void 0&&(u=c),s[u]=l[c]}),r=Oo&&Oo.__exportStar||function(s,l){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(FS(),e),r(BS(),e),r(w3(),e),r(j3(),e),r(v3(),e)}(Oo)),Oo}var zS=k3(),Tv={exports:{}},im={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function HS(){if(Ov)return im;Ov=1;var e=Ke;function t(w,b){return w===b&&(w!==0||1/w===1/b)||w!==w&&b!==b}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,l=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(w,b){var v=b(),$=s({inst:{value:v,getSnapshot:b}}),N=$[0].inst,C=$[1];return c(function(){N.value=v,N.getSnapshot=b,h(N)&&C({inst:N})},[w,v,b]),l(function(){return h(N)&&C({inst:N}),w(function(){h(N)&&C({inst:N})})},[w]),u(v),v}function h(w){var b=w.getSnapshot;w=w.value;try{var v=b();return!r(w,v)}catch($){return!0}}function m(w,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return im.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,im}var Av;function qS(){return Av||(Av=1,Tv.exports=HS()),Tv.exports}qS();const GS=0,VS=1,KS=2;var Rv=Object.prototype.hasOwnProperty;function Um(e,t){var r,s;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((s=e.length)===t.length)for(;s--&&Um(e[s],t[s]););return s===-1}if(!r||typeof e=="object"){s=0;for(r in e)if(Rv.call(e,r)&&++s&&!Rv.call(t,r)||!(r in t)||!Um(e[r],t[r]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Fs=new WeakMap,Ks=()=>{},Ca=Ks(),Ju=Object,ln=e=>e===Ca,Bs=e=>typeof e=="function",Ii=(e,t)=>F(F({},e),t),YS=e=>Bs(e.then),om={},vu={},S3="undefined",b0=typeof window!=S3,Fm=typeof document!=S3,QS=b0&&"Deno"in window,XS=(e,t)=>{const r=Fs.get(e);return[()=>!ln(t)&&e.get(t)||om,s=>{if(!ln(t)){const l=e.get(t);t in vu||(vu[t]=l),r[5](t,Ii(l,s),l||om)}},r[6],()=>!ln(t)&&t in vu?vu[t]:!ln(t)&&e.get(t)||om]};let Bm=!0;const WS=()=>Bm,[zm,Hm]=b0&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ks,Ks],ZS=()=>{const e=Fm&&document.visibilityState;return ln(e)||e!=="hidden"},JS=e=>(Fm&&document.addEventListener("visibilitychange",e),zm("focus",e),()=>{Fm&&document.removeEventListener("visibilitychange",e),Hm("focus",e)}),e5=e=>{const t=()=>{Bm=!0,e()},r=()=>{Bm=!1};return zm("online",t),zm("offline",r),()=>{Hm("online",t),Hm("offline",r)}},t5={isOnline:WS,isVisible:ZS},r5={initFocus:JS,initReconnect:e5};Ke.useId;const Hg=!b0||QS,a5=Hg?x.useEffect:x.useLayoutEffect,lm=typeof navigator<"u"&&navigator.connection,Pv=!Hg&&lm&&(["slow-2g","2g"].includes(lm.effectiveType)||lm.saveData),wu=new WeakMap,cm=(e,t)=>Ju.prototype.toString.call(e)===`[object ${t}]`;let n5=0;const qm=e=>{const t=typeof e,r=cm(e,"Date"),s=cm(e,"RegExp"),l=cm(e,"Object");let c,u;if(Ju(e)===e&&!r&&!s){if(c=wu.get(e),c)return c;if(c=++n5+"~",wu.set(e,c),Array.isArray(e)){for(c="@",u=0;u<e.length;u++)c+=qm(e[u])+",";wu.set(e,c)}if(l){c="#";const f=Ju.keys(e).sort();for(;!ln(u=f.pop());)ln(e[u])||(c+=u+":"+qm(e[u])+",");wu.set(e,c)}}else c=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},$3=e=>{if(Bs(e))try{e=e()}catch(r){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?qm(e):"",[e,t]};let s5=0;const Mv=()=>++s5;function i5(...e){return de(this,null,function*(){const[t,r,s,l]=e,c=Ii({populateCache:!0,throwOnError:!0},typeof l=="boolean"?{revalidate:l}:l||{});let u=c.populateCache;const f=c.rollbackOnError;let h=c.optimisticData;const m=b=>typeof f=="function"?f(b):f!==!1,y=c.throwOnError;if(Bs(r)){const b=r,v=[],$=t.keys();for(const N of $)!/^\$(inf|sub)\$/.test(N)&&b(t.get(N)._k)&&v.push(N);return Promise.all(v.map(w))}return w(r);function w(b){return de(this,null,function*(){const[v]=$3(b);if(!v)return;const[$,N]=XS(t,v),[C,k,O,A]=Fs.get(t),B=()=>{const ye=C[v];return(Bs(c.revalidate)?c.revalidate($().data,b):c.revalidate!==!1)&&(delete O[v],delete A[v],ye&&ye[0])?ye[0](KS).then(()=>$().data):$().data};if(e.length<3)return B();let P=s,T;const G=Mv();k[v]=[G,0];const z=!ln(h),Z=$(),Q=Z.data,H=Z._c,X=ln(H)?Q:H;if(z&&(h=Bs(h)?h(X,Q):h,N({data:h,_c:X})),Bs(P))try{P=P(X)}catch(ye){T=ye}if(P&&YS(P))if(P=yield P.catch(ye=>{T=ye}),G!==k[v][0]){if(T)throw T;return P}else T&&z&&m(T)&&(u=!0,N({data:X,_c:Ca}));if(u&&!T)if(Bs(u)){const ye=u(P,X);N({data:ye,error:Ca,_c:Ca})}else N({data:P,error:Ca,_c:Ca});if(k[v][1]=Mv(),Promise.resolve(B()).then(()=>{N({_c:Ca})}),T){if(y)throw T;return}return P})}})}const Dv=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},C3=(e,t)=>{if(!Fs.has(e)){const r=Ii(r5,t),s=Object.create(null),l=i5.bind(Ca,e);let c=Ks;const u=Object.create(null),f=(y,w)=>{const b=u[y]||[];return u[y]=b,b.push(w),()=>b.splice(b.indexOf(w),1)},h=(y,w,b)=>{e.set(y,w);const v=u[y];if(v)for(const $ of v)$(w,b)},m=()=>{if(!Fs.has(e)&&(Fs.set(e,[s,Object.create(null),Object.create(null),Object.create(null),l,h,f]),!Hg)){const y=r.initFocus(setTimeout.bind(Ca,Dv.bind(Ca,s,GS))),w=r.initReconnect(setTimeout.bind(Ca,Dv.bind(Ca,s,VS)));c=()=>{y&&y(),w&&w(),Fs.delete(e)}}};return m(),[e,l,m,c]}return[e,Fs.get(e)[4]]},o5=(e,t,r,s,l)=>{const c=r.errorRetryCount,u=l.retryCount,f=~~((Math.random()+.5)*(1<<(u<8?u:8)))*r.errorRetryInterval;!ln(c)&&u>c||setTimeout(s,f,l)},l5=Um,[qg,c5]=C3(new Map),d5=Ii({onLoadingSlow:Ks,onSuccess:Ks,onError:Ks,onErrorRetry:o5,onDiscarded:Ks,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Pv?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Pv?5e3:3e3,compare:l5,isPaused:()=>!1,cache:qg,mutate:c5,fallback:{}},t5),u5=(e,t)=>{const r=Ii(e,t);if(t){const{use:s,fallback:l}=e,{use:c,fallback:u}=t;s&&c&&(r.use=s.concat(c)),l&&u&&(r.fallback=Ii(l,u))}return r},Lv=x.createContext({}),f5=e=>{const{value:t}=e,r=x.useContext(Lv),s=Bs(t),l=x.useMemo(()=>s?t(r):t,[s,r,t]),c=x.useMemo(()=>s?l:u5(r,l),[s,r,l]),u=l&&l.provider,f=x.useRef(Ca);u&&!f.current&&(f.current=C3(u(c.cache||qg),l));const h=f.current;return h&&(c.cache=h[0],c.mutate=h[1]),a5(()=>{if(h)return h[2]&&h[2](),h[3]},[]),x.createElement(Lv.Provider,Ii(e,{value:c}))},h5="$inf$",_3=b0&&window.__SWR_DEVTOOLS_USE__,m5=_3?window.__SWR_DEVTOOLS_USE__:[],g5=()=>{_3&&(window.__SWR_DEVTOOLS_REACT__=Ke)},y5=e=>(t,r,s)=>e(t,r&&((...l)=>{const[c]=$3(t),[,,,u]=Fs.get(qg);if(c.startsWith(h5))return r(...l);const f=u[c];return ln(f)?r(...l):(delete u[c],f)}),s);m5.concat(y5);g5();Ke.use;const p5=Ju.defineProperty(f5,"defaultValue",{value:d5});Promise.resolve();const Cn=Object.create(null);Cn.open="0";Cn.close="1";Cn.ping="2";Cn.pong="3";Cn.message="4";Cn.upgrade="5";Cn.noop="6";const Fu=Object.create(null);Object.keys(Cn).forEach(e=>{Fu[Cn[e]]=e});const Gm={type:"error",data:"parser error"},E3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",T3=typeof ArrayBuffer=="function",O3=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Gg=({type:e,data:t},r,s)=>E3&&t instanceof Blob?r?s(t):Iv(t,s):T3&&(t instanceof ArrayBuffer||O3(t))?r?s(t):Iv(new Blob([t]),s):s(Cn[e]+(t||"")),Iv=(e,t)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];t("b"+(s||""))},r.readAsDataURL(e)};function Uv(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let dm;function x5(e,t){if(E3&&e.data instanceof Blob)return e.data.arrayBuffer().then(Uv).then(t);if(T3&&(e.data instanceof ArrayBuffer||O3(e.data)))return t(Uv(e.data));Gg(e,!1,r=>{dm||(dm=new TextEncoder),t(dm.encode(r))})}const Fv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fv.length;e++)Sc[Fv.charCodeAt(e)]=e;const b5=e=>{let t=e.length*.75,r=e.length,s,l=0,c,u,f,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),y=new Uint8Array(m);for(s=0;s<r;s+=4)c=Sc[e.charCodeAt(s)],u=Sc[e.charCodeAt(s+1)],f=Sc[e.charCodeAt(s+2)],h=Sc[e.charCodeAt(s+3)],y[l++]=c<<2|u>>4,y[l++]=(u&15)<<4|f>>2,y[l++]=(f&3)<<6|h&63;return m},v5=typeof ArrayBuffer=="function",Vg=(e,t)=>{if(typeof e!="string")return{type:"message",data:A3(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:w5(e.substring(1),t)}:Fu[r]?e.length>1?{type:Fu[r],data:e.substring(1)}:{type:Fu[r]}:Gm},w5=(e,t)=>{if(v5){const r=b5(e);return A3(r,t)}else return{base64:!0,data:e}},A3=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},R3="",N5=(e,t)=>{const r=e.length,s=new Array(r);let l=0;e.forEach((c,u)=>{Gg(c,!1,f=>{s[u]=f,++l===r&&t(s.join(R3))})})},j5=(e,t)=>{const r=e.split(R3),s=[];for(let l=0;l<r.length;l++){const c=Vg(r[l],t);if(s.push(c),c.type==="error")break}return s};function k5(){return new TransformStream({transform(e,t){x5(e,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const c=new DataView(l.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{l=new Uint8Array(9);const c=new DataView(l.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(l[0]|=128),t.enqueue(l),t.enqueue(r)})}})}let um;function Nu(e){return e.reduce((t,r)=>t+r.length,0)}function ju(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let s=0;for(let l=0;l<t;l++)r[l]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function S5(e,t){um||(um=new TextDecoder);const r=[];let s=0,l=-1,c=!1;return new TransformStream({transform(u,f){for(r.push(u);;){if(s===0){if(Nu(r)<1)break;const h=ju(r,1);c=(h[0]&128)===128,l=h[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(Nu(r)<2)break;const h=ju(r,2);l=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),s=3}else if(s===2){if(Nu(r)<8)break;const h=ju(r,8),m=new DataView(h.buffer,h.byteOffset,h.length),y=m.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Gm);break}l=y*Math.pow(2,32)+m.getUint32(4),s=3}else{if(Nu(r)<l)break;const h=ju(r,l);f.enqueue(Vg(c?h:um.decode(h),t)),s=0}if(l===0||l>e){f.enqueue(Gm);break}}}})}const P3=4;function Cr(e){if(e)return $5(e)}function $5(e){for(var t in Cr.prototype)e[t]=Cr.prototype[t];return e}Cr.prototype.on=Cr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Cr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Cr.prototype.off=Cr.prototype.removeListener=Cr.prototype.removeAllListeners=Cr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===t||s.fn===t){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Cr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,t)}return this};Cr.prototype.emitReserved=Cr.prototype.emit;Cr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Cr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function M3(e,...t){return t.reduce((r,s)=>(e.hasOwnProperty(s)&&(r[s]=e[s]),r),{})}const C5=Ba.setTimeout,_5=Ba.clearTimeout;function v0(e,t){t.useNativeTimers?(e.setTimeoutFn=C5.bind(Ba),e.clearTimeoutFn=_5.bind(Ba)):(e.setTimeoutFn=Ba.setTimeout.bind(Ba),e.clearTimeoutFn=Ba.clearTimeout.bind(Ba))}const E5=1.33;function T5(e){return typeof e=="string"?O5(e):Math.ceil((e.byteLength||e.size)*E5)}function O5(e){let t=0,r=0;for(let s=0,l=e.length;s<l;s++)t=e.charCodeAt(s),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}function A5(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function R5(e){let t={},r=e.split("&");for(let s=0,l=r.length;s<l;s++){let c=r[s].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class P5 extends Error{constructor(t,r,s){super(t),this.description=r,this.context=s,this.type="TransportError"}}class Kg extends Cr{constructor(t){super(),this.writable=!1,v0(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,r,s){return super.emitReserved("error",new P5(t,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Vg(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=A5(t);return r.length?"?"+r:""}}const D3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vm=64,M5={};let Bv=0,ku=0,zv;function Hv(e){let t="";do t=D3[e%Vm]+t,e=Math.floor(e/Vm);while(e>0);return t}function L3(){const e=Hv(+new Date);return e!==zv?(Bv=0,zv=e):e+"."+Hv(Bv++)}for(;ku<Vm;ku++)M5[D3[ku]]=ku;let I3=!1;try{I3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const D5=I3;function U3(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||D5))return new XMLHttpRequest}catch(r){}if(!t)try{return new Ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}function L5(){}const I5=function(){return new U3({xdomain:!1}).responseType!=null}();class U5 extends Kg{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let l=location.port;l||(l=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||l!==t.port}const r=t&&t.forceBase64;this.supportsBinary=I5&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};j5(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,N5(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=L3()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new qo(this.uri(),t)}doWrite(t,r){const s=this.request({method:"POST",data:t});s.on("success",r),s.on("error",(l,c)=>{this.onError("xhr post error",l,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=t}}let qo=class Bu extends Cr{constructor(t,r){super(),v0(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.data=r.data!==void 0?r.data:null,this.create()}create(){var t;const r=M3(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const s=this.xhr=new U3(r);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this.opts.extraHeaders[l])}}catch(l){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(l){}try{s.setRequestHeader("Accept","*/*")}catch(l){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this.opts.cookieJar)===null||l===void 0||l.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(l){this.setTimeoutFn(()=>{this.onError(l)},0);return}typeof document<"u"&&(this.index=Bu.requestsCount++,Bu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=L5,t)try{this.xhr.abort()}catch(r){}typeof document<"u"&&delete Bu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};qo.requestsCount=0;qo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qv);else if(typeof addEventListener=="function"){const e="onpagehide"in Ba?"pagehide":"unload";addEventListener(e,qv,!1)}}function qv(){for(let e in qo.requests)qo.requests.hasOwnProperty(e)&&qo.requests[e].abort()}const Yg=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Su=Ba.WebSocket||Ba.MozWebSocket,Gv=!0,F5="arraybuffer",Vv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class B5 extends Kg{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),r=this.opts.protocols,s=Vv?{}:M3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Gv&&!Vv?r?new Su(t,r):new Su(t):new Su(t,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],l=r===t.length-1;Gg(s,this.supportsBinary,c=>{try{Gv&&this.ws.send(c)}catch(u){}l&&Yg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=L3()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}check(){return!!Su}}class z5 extends Kg{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const r=S5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(r).getReader(),l=k5();l.readable.pipeTo(t.writable),this.writer=l.writable.getWriter();const c=()=>{s.read().then(({done:f,value:h})=>{f||(this.onPacket(h),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this.writer.write(u).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],l=r===t.length-1;this.writer.write(s).then(()=>{l&&Yg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const H5={websocket:B5,webtransport:z5,polling:U5},q5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,G5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Km(e){if(e.length>2e3)throw"URI too long";const t=e,r=e.indexOf("["),s=e.indexOf("]");r!=-1&&s!=-1&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));let l=q5.exec(e||""),c={},u=14;for(;u--;)c[G5[u]]=l[u]||"";return r!=-1&&s!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=V5(c,c.path),c.queryKey=K5(c,c.query),c}function V5(e,t){const r=/\/{2,9}/g,s=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function K5(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,c){l&&(r[l]=c)}),r}let F3=class Uo extends Cr{constructor(t,r={}){super(),this.binaryType=F5,this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=Km(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=Km(r.host).host),v0(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=R5(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=P3,r.transport=t,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new H5[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Uo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(r){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),s=!1;Uo.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",w=>{if(!s)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Uo.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=r.name,this.emitReserved("upgradeError",b)}}))};function c(){s||(s=!0,y(),r.close(),r=null)}const u=w=>{const b=new Error("probe error: "+w);b.transport=r.name,c(),this.emitReserved("upgradeError",b)};function f(){u("transport closed")}function h(){u("socket closed")}function m(w){r&&w.name!==r.name&&c()}const y=()=>{r.removeListener("open",l),r.removeListener("error",u),r.removeListener("close",f),this.off("close",h),this.off("upgrading",m)};r.once("open",l),r.once("error",u),r.once("close",f),this.once("close",h),this.once("upgrading",m),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Uo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(t+=T5(s)),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}write(t,r,s){return this.sendPacket("message",t,r,s),this}send(t,r,s){return this.sendPacket("message",t,r,s),this}sendPacket(t,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:t,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),l&&this.once("flush",l),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Uo.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let s=0;const l=t.length;for(;s<l;s++)~this.transports.indexOf(t[s])&&r.push(t[s]);return r}};F3.protocol=P3;function Y5(e,t="",r){let s=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),s=Km(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+t,s.href=s.protocol+"://"+l+(r&&r.port===s.port?"":":"+s.port),s}const Q5=typeof ArrayBuffer=="function",X5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,B3=Object.prototype.toString,W5=typeof Blob=="function"||typeof Blob<"u"&&B3.call(Blob)==="[object BlobConstructor]",Z5=typeof File=="function"||typeof File<"u"&&B3.call(File)==="[object FileConstructor]";function Qg(e){return Q5&&(e instanceof ArrayBuffer||X5(e))||W5&&e instanceof Blob||Z5&&e instanceof File}function zu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,s=e.length;r<s;r++)if(zu(e[r]))return!0;return!1}if(Qg(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return zu(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&zu(e[r]))return!0;return!1}function J5(e){const t=[],r=e.data,s=e;return s.data=Ym(r,t),s.attachments=t.length,{packet:s,buffers:t}}function Ym(e,t){if(!e)return e;if(Qg(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=Ym(e[s],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Ym(e[s],t));return r}return e}function e9(e,t){return e.data=Qm(e.data,t),delete e.attachments,e}function Qm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Qm(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Qm(e[r],t));return e}const t9=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],r9=5;var qt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(qt||(qt={}));class a9{constructor(t){this.replacer=t}encode(t){return(t.type===qt.EVENT||t.type===qt.ACK)&&zu(t)?this.encodeAsBinary({type:t.type===qt.EVENT?qt.BINARY_EVENT:qt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===qt.BINARY_EVENT||t.type===qt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=J5(t),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function Kv(e){return Object.prototype.toString.call(e)==="[object Object]"}class Xg extends Cr{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const s=r.type===qt.BINARY_EVENT;s||r.type===qt.BINARY_ACK?(r.type=s?qt.EVENT:qt.ACK,this.reconstructor=new n9(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Qg(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const s={type:Number(t.charAt(0))};if(qt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===qt.BINARY_EVENT||s.type===qt.BINARY_ACK){const c=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const u=t.substring(c,r);if(u!=Number(u)||t.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(t.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););s.nsp=t.substring(c,r)}else s.nsp="/";const l=t.charAt(r+1);if(l!==""&&Number(l)==l){const c=r+1;for(;++r;){const u=t.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===t.length)break}s.id=Number(t.substring(c,r+1))}if(t.charAt(++r)){const c=this.tryParse(t.substr(r));if(Xg.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(r){return!1}}static isPayloadValid(t,r){switch(t){case qt.CONNECT:return Kv(r);case qt.DISCONNECT:return r===void 0;case qt.CONNECT_ERROR:return typeof r=="string"||Kv(r);case qt.EVENT:case qt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&t9.indexOf(r[0])===-1);case qt.ACK:case qt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class n9{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=e9(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const s9=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Xg,Encoder:a9,get PacketType(){return qt},protocol:r9},Symbol.toStringTag,{value:"Module"}));function on(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const i9=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class z3 extends Cr{constructor(t,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(i9.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:qt.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const c=this.ids++,u=r.pop();this._registerAckCallback(c,u),s.id=c}const l=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!l||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[t]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},l);this.acks[t]=(...u)=>{this.io.clearTimeoutFn(c),r.apply(this,[null,...u])}}emitWithAck(t,...r){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((l,c)=>{r.push((u,f)=>s?u?c(u):l(f):l(u)),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((l,...c)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case qt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qt.EVENT:case qt.BINARY_EVENT:this.onevent(t);break;case qt.ACK:case qt.BINARY_ACK:this.onack(t);break;case qt.DISCONNECT:this.ondisconnect();break;case qt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:qt.ACK,id:t,data:l}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,t.data)}}}function ml(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ml.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};ml.prototype.reset=function(){this.attempts=0};ml.prototype.setMin=function(e){this.ms=e};ml.prototype.setMax=function(e){this.max=e};ml.prototype.setJitter=function(e){this.jitter=e};class Xm extends Cr{constructor(t,r){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,v0(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ml({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const l=r.parser||s9;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new F3(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=on(r,"open",function(){s.onopen(),t&&t()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},u=on(r,"error",c);if(this._timeout!==!1){const f=this._timeout,h=this.setTimeoutFn(()=>{l(),c(new Error("timeout")),r.close()},f);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(l),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Yg(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new z3(this,t,r),this.nsps[t]=s),s}_destroy(t){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let s=0;s<r.length;s++)this.engine.write(r[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(l=>{l?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",l)):t.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const wc={};function Hu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Y5(e,t.path||"/socket.io"),s=r.source,l=r.id,c=r.path,u=wc[l]&&c in wc[l].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let h;return f?h=new Xm(s,t):(wc[l]||(wc[l]=new Xm(s,t)),h=wc[l]),r.query&&!t.query&&(t.query=r.queryKey),h.socket(r.path,t)}Object.assign(Hu,{Manager:Xm,Socket:z3,io:Hu,connect:Hu});class o9{constructor(t,r,s,l){$i(this,"socket_port"),$i(this,"host"),$i(this,"port"),$i(this,"protocol"),$i(this,"url"),$i(this,"site_name"),$i(this,"socket");var c,u,f,h;if(this.socket_port=s!=null?s:"9000",this.host=(c=window.location)==null?void 0:c.hostname,this.port=(u=window.location)!=null&&u.port?`:${this.socket_port}`:"",this.protocol=((f=window.location)==null?void 0:f.protocol)==="https:"?"https":"http",t){let m=new URL(t);m.port="",s?(m.port=s,this.url=m.toString()):this.url=m.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;r&&(this.url=`${this.url}${r}`),this.site_name=r,this.socket=Hu(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:l&&l.useToken===!0?{Authorization:`${l.type} ${(h=l.token)==null?void 0:h.call(l)}`}:{}})}}const l9=x.createContext(null),c9=({url:e="",tokenParams:t,socketPort:r,swrConfig:s,siteName:l,enableSocket:c=!0,children:u,customHeaders:f})=>{const h=x.useMemo(()=>{const m=new zS.FrappeApp(e,t,void 0,f);return{url:e,tokenParams:t,app:m,auth:m.auth(),db:m.db(),call:m.call(),file:m.file(),socket:c?new o9(e,l,r,t).socket:void 0,enableSocket:c,socketPort:r}},[e,t,r,c,f]);return n.jsx(l9.Provider,{value:h,children:n.jsx(p5,{value:s,children:u})})};function d9(){const[e,t]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(null);return x.useEffect(()=>{de(null,null,function*(){try{s(!0);const f=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_profiles_for_user",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield f.json();if(f.ok&&h.message)t(h.message);else throw new Error(h._server_messages||"Failed to fetch POS Profiles")}catch(f){console.error("Error loading POS Profiles:",f),c(f.message||"Unknown error")}finally{s(!1)}})},[]),{profiles:e,loading:r,error:l}}function ma(){const[e,t]=x.useState(null),[r,s]=x.useState(!0),[l,c]=x.useState(null);return x.useEffect(()=>{de(null,null,function*(){try{s(!0);const f=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield f.json();if(f.ok&&h.message)t(h.message);else throw new Error(h._server_messages||"Failed to fetch POS details")}catch(f){console.error("Error loading POS details:",f),c(f.message||"Unknown error")}finally{s(!1)}})},[]),{posDetails:e,loading:r,error:l}}const H3=x.createContext(void 0);function u9({children:e}){const[t,r]=x.useState("light"),[s,l]=x.useState(!1);x.useEffect(()=>{l(!0)},[]),x.useEffect(()=>{if(!s)return;const u=localStorage.getItem("theme");u?r(u):window.matchMedia("(prefers-color-scheme: dark)").matches&&r("dark")},[s]),x.useEffect(()=>{s&&(localStorage.setItem("theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[t,s]);const c=()=>{r(t==="light"?"dark":"light")};return n.jsx(H3.Provider,{value:{theme:t,setTheme:r,toggleTheme:c},children:e})}function w0(){const e=x.useContext(H3);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h9=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),Yv=e=>{const t=h9(e);return t.charAt(0).toUpperCase()+t.slice(1)},q3=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),m9=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=x.forwardRef((m,h)=>{var y=m,{color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u}=y,f=Tt(y,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return x.createElement("svg",F(F(ce(F({ref:h},g9),{width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:q3("lucide",l)}),!c&&!m9(f)&&{"aria-hidden":"true"}),f),[...u.map(([w,b])=>x.createElement(w,b)),...Array.isArray(c)?c:[c]])});/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const r=x.forwardRef((u,c)=>{var f=u,{className:s}=f,l=Tt(f,["className"]);return x.createElement(y9,F({ref:c,iconNode:t,className:q3(`lucide-${f9(Yv(e))}`,`lucide-${e}`,s)},l))});return r.displayName=Yv(e),r};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qv=rt("activity",p9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gi=rt("arrow-left",x9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],G3=rt("banknote",b9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],$c=rt("building",v9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Xv=rt("calculator",w9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wg=rt("calendar",N9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],V3=rt("camera",j9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bo=rt("chart-column",k9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Wv=rt("chart-pie",S9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Go=rt("check",$9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_9=rt("chevron-right",C9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zg=rt("circle-alert",E9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ui=rt("circle-check-big",T9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],A9=rt("circle-check",O9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fo=rt("circle-x",R9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nl=rt("clock",P9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ha=rt("credit-card",M9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Tc=rt("dollar-sign",D9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],e0=rt("download",L9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fi=rt("eye",I9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],t0=rt("file-minus",U9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],B9=rt("file-plus",F9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sl=rt("file-text",z9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wm=rt("funnel",H9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],K3=rt("gift",q9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zv=rt("globe",G9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],id=rt("grid-3x3",V9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Jg=rt("list",K9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rs=rt("loader-circle",Y9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],N0=rt("log-out",Q9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],Zm=rt("mail-plus",X9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],il=rt("mail",W9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],j0=rt("map-pin",Z9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Jm=rt("message-circle-plus",J9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],eg=rt("message-square-plus",e$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M5 12h14",key:"1ays0h"}]],ey=rt("minus",t$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],Cc=rt("monitor-x",r$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],k0=rt("moon",a$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],r0=rt("package",n$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],i$=rt("palette",s$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Jv=rt("pencil",o$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],c$=rt("percent",l$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],a0=rt("phone",d$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oc=rt("plus",u$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ac=rt("printer",f$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Y3=rt("receipt",h$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],n0=rt("refresh-cw",m$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Bi=rt("rotate-ccw",g$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],p$=rt("save",y$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Q3=rt("scan",x$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],na=rt("search",b$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S0=rt("settings",v$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],N$=rt("shield",w$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rc=rt("shopping-cart",j$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],S$=rt("smartphone",k$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ol=rt("square-pen",$$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],ty=rt("store",C$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$0=rt("sun",_$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],T$=rt("tag",E$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],e1=rt("trending-down",O$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Is=rt("trending-up",A$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pc=rt("triangle-alert",R$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t1=rt("user-plus",P$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],za=rt("user",M$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ys=rt("users",D$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],I$=rt("wallet",L$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ha=rt("x",U$),r1={Coffee:"",Tea:"",Mocktail:"",Rice:"",Pasta:"",Burger:"",Bakery:"",Fruits:"",Vegetables:"",Dairy:"",Meat:"",Seafood:"",Snacks:"",Dessert:"","All Items":""};function F$(){const[e,t]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(0),h=()=>de(null,null,function*(){s(!0);try{const y=yield(yield fetch("/api/method/klik_pos.api.item.get_item_groups_for_pos")).json();if(y!=null&&y.message&&Array.isArray(y.message.groups)&&typeof y.message.total_items=="number")t(y.message.groups),f(y.message.total_items);else throw new Error("Invalid response format")}catch(m){console.error("Error fetching item groups:",m),c(m.message||"Unknown error occurred")}finally{s(!1)}});return x.useEffect(()=>{h()},[]),{itemGroups:e,isLoading:r,total_item_count:u,error:l,refetch:h,count:e.length}}function X3({selectedCategory:e,onCategoryChange:t,isMobile:r=!1}){const{isRTL:s}=un(),{itemGroups:l,isLoading:c,error:u,total_item_count:f}=F$();if(c)return n.jsx("div",{children:"Loading categories..."});if(u)return console.error(" Error fetching item groups:",u),n.jsxs("div",{className:"text-red-600",children:[n.jsx("p",{children:"Error loading categories:"}),n.jsx("pre",{className:"text-xs bg-red-100 p-2 rounded",children:u})]});if(!l||l.length===0)return n.jsx("div",{children:"No item groups found."});const h=[{id:"all",name:"All Items",icon:r1["All Items"],count:f},...l.map(m=>{var y,w;return{id:m.id,name:m.name,icon:(y=r1[m.name])!=null?y:"",count:(w=m.count)!=null?w:1}})];return n.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2 scrollbar-hide",children:h.map(m=>n.jsx("button",{onClick:()=>t(m.id),className:`flex items-center justify-center px-3 py-2 rounded-xl whitespace-nowrap transition-all duration-200 flex-shrink-0 min-w-fit ${e===m.id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 border border-beveren-200 dark:border-beveren-800 shadow-sm":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:`font-semibold ${r?"text-xs":"text-sm"}`,children:m.name}),n.jsxs("span",{className:"text-xs font-medium opacity-70",children:[m.count," Item",m.count!==1?"s":""]})]})},m.id))})}function B$({item:e,onAddToCart:t,isMobile:r=!1,scannerOnly:s=!1}){const{t:l}=un(),c=e.available<=0,u=c||s,f=`${e.currency_symbol}${e.price.toFixed(2)}`;return n.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 ${u?"opacity-70 cursor-not-allowed":"hover:shadow-lg hover:scale-105 cursor-pointer active:scale-95"} ${r?"touch-manipulation":""}`,onClick:()=>!u&&t(e),children:[n.jsxs("div",{className:"relative",children:[e.image?n.jsx("img",{src:e.image,alt:e.name,className:`w-full object-cover ${r?"h-24":"h-32"}`,crossOrigin:"anonymous"}):n.jsx("div",{className:`w-full ${r?"h-24":"h-32"} bg-gray-100 dark:bg-gray-700 flex items-center justify-center`,children:n.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No Image"})}),e.discount&&n.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-1.5 py-0.5 rounded-md text-xs font-bold",children:["-",e.discount,"%"]}),!c&&n.jsx("div",{className:"absolute top-2 right-2 bg-slate-600 text-white px-1.5 py-0.5 rounded-md text-xs font-medium",children:e.available}),c&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xs",children:"Out of Stock"})}),s&&!c&&n.jsx("div",{className:"absolute inset-0  flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-md shadow-sm border border-blue-200 dark:border-blue-700",children:"Scan Only"})})]}),n.jsxs("div",{className:`${r?"p-2 h-12":"p-3 h-16"} flex flex-col justify-between`,children:[n.jsx("div",{children:n.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white truncate ${r?"text-xs":"text-sm"}`,children:e.name})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize text-xs",children:e.category}),n.jsx("span",{className:`font-bold text-beveren-600 dark:text-beveren-400 ${r?"text-xs":"text-sm"}`,children:f})]})]})]})}function z$({items:e,onAddToCart:t,isMobile:r=!1,scannerOnly:s=!1}){const{t:l}=un();return e.length===0?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):n.jsx("div",{className:`${r?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-4 overflow-hidden",children:[n.jsxs("div",{className:`${r?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600`,children:[n.jsx("div",{className:`${r?"col-span-3":"col-span-4"}`,children:n.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Product"})}),n.jsx("div",{className:"col-span-2 text-center",children:n.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Rate"})}),n.jsx("div",{className:"col-span-2 text-center",children:n.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Qty"})}),!r&&n.jsx("div",{className:"col-span-2 text-center",children:n.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"UOM"})}),n.jsx("div",{className:`${r?"col-span-1":"col-span-2"} text-center`,children:n.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})})]}),n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:e.map(c=>{const u=c.available<=0,f=u||s,h=`${c.currency_symbol}${c.price.toFixed(2)}`;return n.jsxs("div",{className:`${r?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${f?"opacity-60":"cursor-pointer"}`,onClick:()=>!f&&t(c),children:[n.jsx("div",{className:`${r?"col-span-3":"col-span-4"} flex items-start`,children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${r?"text-xs leading-tight":"text-sm"} ${r?"break-words":"truncate"}`,children:c.name}),n.jsx("p",{className:`text-gray-500 dark:text-gray-400 ${r?"text-xs leading-tight":"text-sm"} ${r?"break-words":"truncate"}`,children:c.category})]})}),n.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n.jsx("span",{className:`font-semibold text-beveren-600 dark:text-beveren-400 ${r?"text-xs":"text-sm"}`,children:h})}),n.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n.jsx("span",{className:`font-medium ${r?"text-xs":"text-sm"} ${u?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:u?"0":c.available})}),!r&&n.jsx("div",{className:"col-span-2 flex items-center justify-center",children:n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.uom||"Nos"})}),n.jsx("div",{className:`${r?"col-span-1":"col-span-2"} flex items-center justify-center`,children:f?n.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:u?"0":"S"}):n.jsx("button",{onClick:m=>{m.stopPropagation(),t(c)},className:`bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-md transition-colors hover:bg-slate-200 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-500 ${r?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:r?"+":"Add"})})]},c.id)})})]})})}function W3({items:e,onAddToCart:t,isMobile:r=!1,scannerOnly:s=!1,viewMode:l="grid"}){const{t:c}=un();return l==="list"?n.jsx(z$,{items:e,onAddToCart:t,isMobile:r,scannerOnly:s}):e.length===0?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):n.jsx("div",{className:`${r?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:n.jsx("div",{className:`grid gap-4 ${r?"grid-cols-2 sm:grid-cols-3":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}`,children:e.map(u=>n.jsx(B$,{item:u,onAddToCart:t,isMobile:r,scannerOnly:s},u.id))})})}function H$({searchQuery:e,onSearchChange:t,onScanBarcode:r,onSearchKeyPress:s,isMobile:l=!1}){const[c,u]=x.useState(!1),f=()=>l?"Search menu...":"Search by product, category, item code, barcode, batch or serial...";return n.jsx("div",{className:`relative ${l?"w-full":"w-full max-w-3xl"}`,children:n.jsxs("div",{className:"relative flex items-center",children:[n.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),onKeyPress:s,placeholder:f(),className:`flex-1 px-4 py-3 pl-12 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 ${c?"shadow-lg":"shadow-sm"}`,onFocus:()=>u(!0),onBlur:()=>u(!1)}),n.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r&&n.jsx("button",{onClick:r,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:n.jsx(Q3,{size:20})}),e&&!r&&n.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function q$({items:e,selectedCategory:t,onCategoryChange:r,searchQuery:s,onSearchChange:l,onSearchKeyPress:c,onAddToCart:u,onScanBarcode:f,scannerOnly:h=!1}){const{t:m}=un(),{user:y,logout:w}=Ws(),{theme:b,toggleTheme:v}=w0(),{posDetails:$,loading:N}=ma(),[C,k]=x.useState(!1),[O,A]=x.useState("grid"),B=x.useRef(null);x.useEffect(()=>{if(!N&&$){const H=$.custom_default_view;H==="List View"?A("list"):H==="Grid View"&&A("grid")}},[$,N]),x.useEffect(()=>{function H(X){B.current&&!B.current.contains(X.target)&&k(!1)}return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[B]);const P=()=>de(null,null,function*(){try{yield w(),window.location.href="/klik_pos/login"}catch(H){console.error("Logout error:",H),window.location.href="/klik_pos/login"}}),T=H=>H.split(" ").map(X=>X.charAt(0).toUpperCase()).join("").substring(0,2),G=(y==null?void 0:y.full_name)||(y==null?void 0:y.name)||"Guest User",z=($==null?void 0:$.name)||"POS Profile",Z=(y==null?void 0:y.role)||"User",Q=T(G);return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[n.jsx(H$,{searchQuery:s,onSearchChange:l,onSearchKeyPress:c,onScanBarcode:f}),n.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-md transition-colors ${O==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:n.jsx(id,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-md transition-colors ${O==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:n.jsx(Jg,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 ml-6 relative",ref:B,children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:G})]}),n.jsx("button",{onClick:()=>k(!C),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:n.jsx("span",{className:"text-white text-sm font-medium pointer-events-none",children:Q})}),C&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-medium text-base",children:Q})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:z}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx(ty,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:G})]}),n.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:Z})]})]})}),n.jsxs("div",{className:"py-1",children:[n.jsxs(sd,{to:"/settings",onClick:()=>k(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(S0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:()=>{v(),k(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[b==="dark"?n.jsx($0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}):n.jsx(k0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),n.jsx("span",{children:b==="dark"?"Light Mode":"Dark Mode"})]}),n.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),n.jsxs("button",{onClick:()=>{P(),k(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[n.jsx(N0,{size:16,className:"mr-3"}),n.jsx("span",{children:"Logout"})]})]})]})]})]}),n.jsx("div",{className:"px-6",children:n.jsx(X3,{selectedCategory:t,onCategoryChange:r})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:N?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):n.jsx(W3,{items:e,onAddToCart:u,scannerOnly:h,viewMode:O})})]})}function Z3(e){const[t,r]=x.useState([]),[s,l]=x.useState(!1),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;de(null,null,function*(){l(!0);try{const m=yield(yield fetch("/api/method/klik_pos.api.payment.get_payment_modes")).json();if(!m.message.success)throw new Error(m.message.error||"Failed to fetch payment modes");r(m.message.data||[]),u(null)}catch(h){u(h.message),r([])}finally{l(!1)}})},[e]),{modes:t,isLoading:s,error:c}}function J3(){const[e,t]=x.useState([]),[r,s]=x.useState(!1),[l,c]=x.useState(null);return x.useEffect(()=>{de(null,null,function*(){s(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.payment.get_opening_entry_payment_summary")).json();if(!h.message.data)throw new Error(h.message.error||"Failed to fetch payment modes");t(h.message.data||[]),c(null)}catch(f){c(f.message),t([])}finally{s(!1)}})},[]),{modes:e,isLoading:r,error:l}}function G$(){const[e,t]=x.useState([]),[r,s]=x.useState(null),[l,c]=x.useState(!1),[u,f]=x.useState(null);return x.useEffect(()=>{de(null,null,function*(){var m,y;c(!0);try{const b=yield(yield fetch("/api/method/klik_pos.api.tax.get_sales_tax_categories")).json();if(!((m=b.message)!=null&&m.success))throw new Error(((y=b.message)==null?void 0:y.error)||"Failed to fetch tax categories");t(b.message.data||[]),s(b.message.default||null)}catch(w){f(w.message)}finally{c(!1)}})},[]),{salesTaxCharges:e,defaultTax:r,isLoading:l,error:u}}function e4(e){return de(this,null,function*(){const t=window.csrf_token,r=yield fetch("/api/method/klik_pos.api.sales_invoice.create_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({data:e}),credentials:"include"}),s=yield r.json();if(console.log("Invoice create result:",s),!r.ok||!s.message||s.message.success===!1){const l=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to create invoice";throw new Error(l)}return s.message})}function V$(e){return de(this,null,function*(){const t=window.csrf_token,r=performance.now();console.log("Starting invoice creation...");const s=yield fetch("/api/method/klik_pos.api.sales_invoice.create_and_submit_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({data:e}),credentials:"include"}),l=yield s.json(),u=performance.now()-r;if(console.log(`Invoice creation completed in ${u.toFixed(2)}ms`),console.log("Invoice create result:",l),!s.ok||!l.message||l.message.success===!1){const f=l._server_messages?JSON.parse(l._server_messages)[0]:"Failed to create invoice";throw new Error(f)}return l.message})}function C0(e){return de(this,null,function*(){var l;const t=window.csrf_token,r=yield fetch("/api/method/klik_pos.api.sales_invoice.return_sales_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_name:e}),credentials:"include"}),s=yield r.json();if(console.log("Return Invoice result:",s),!r.ok||!s.message||s.message.success===!1){const c=s._server_messages?JSON.parse(s._server_messages)[0]:((l=s.message)==null?void 0:l.message)||"Failed to return invoice";throw new Error(c)}return s.message})}function K$(e){return de(this,null,function*(){try{console.log("Fetching invoice details for:",e);const t=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();if(console.log("Invoice details response:",r),!t.ok)throw new Error(r.message||"Failed to get invoice details");return{success:!0,data:r.message}}catch(t){return console.error("Error getting invoice details:",t),{success:!1,error:t.message||"Failed to get invoice details"}}})}function _0(e){return de(this,null,function*(){var l;const t=window.csrf_token,r=yield fetch("/api/method/klik_pos.api.sales_invoice.delete_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield r.json();if(console.log("Delete invoice result:",s),!r.ok||!s.message||s.message.success===!1){const c=s._server_messages?JSON.parse(s._server_messages)[0]:((l=s.message)==null?void 0:l.error)||"Failed to delete invoice";throw new Error(c)}return s.message})}function Y$(e){return de(this,null,function*(){var s;const t=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),r=yield t.json();if(console.log("Draft invoice items result:",r),!t.ok||!r.message){const l=r._server_messages?JSON.parse(r._server_messages)[0]:((s=r.message)==null?void 0:s.error)||"Failed to fetch draft invoice items";throw new Error(l)}if(r.message.success&&r.message.data)return r.message.data;throw new Error(r.message.error||"Failed to fetch draft invoice items")})}function t4(e){return de(this,null,function*(){var l;const t=window.csrf_token,r=yield fetch("/api/method/klik_pos.api.sales_invoice.submit_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield r.json();if(console.log("Submit draft invoice result:",s),!r.ok||!s.message||s.message.success===!1){const c=s._server_messages?JSON.parse(s._server_messages)[0]:((l=s.message)==null?void 0:l.error)||"Failed to submit draft invoice";throw new Error(c)}return s.message})}function r4(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=r4(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Di(){for(var e,t,r=0,s="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=r4(e))&&(s&&(s+=" "),s+=t);return s}function Q$(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Q$(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var od=e=>typeof e=="number"&&!isNaN(e),zi=e=>typeof e=="string",es=e=>typeof e=="function",X$=e=>zi(e)||od(e),tg=e=>zi(e)||es(e)?e:null,W$=(e,t)=>e===!1||od(e)&&e>0?e:t,rg=e=>x.isValidElement(e)||zi(e)||es(e)||od(e);function Z$(e,t,r=300){let{scrollHeight:s,style:l}=e;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${r}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,r)})})}function J$({enter:e,exit:t,appendPosition:r=!1,collapse:s=!0,collapseDuration:l=300}){return function({children:c,position:u,preventExitTransition:f,done:h,nodeRef:m,isIn:y,playToast:w}){let b=r?`${e}--${u}`:e,v=r?`${t}--${u}`:t,$=x.useRef(0);return x.useLayoutEffect(()=>{let N=m.current,C=b.split(" "),k=O=>{O.target===m.current&&(w(),N.removeEventListener("animationend",k),N.removeEventListener("animationcancel",k),$.current===0&&O.type!=="animationcancel"&&N.classList.remove(...C))};N.classList.add(...C),N.addEventListener("animationend",k),N.addEventListener("animationcancel",k)},[]),x.useEffect(()=>{let N=m.current,C=()=>{N.removeEventListener("animationend",C),s?Z$(N,h,l):h()};y||(f?C():($.current=1,N.className+=` ${v}`,N.addEventListener("animationend",C)))},[y]),Ke.createElement(Ke.Fragment,null,c)}}function a1(e,t){return{content:a4(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function a4(e,t,r=!1){return x.isValidElement(e)&&!zi(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):es(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function e8({closeToast:e,theme:t,ariaLabel:r="close"}){return Ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":r},Ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function t8({delay:e,isRunning:t,closeToast:r,type:s="default",hide:l,className:c,controlledProgress:u,progress:f,rtl:h,isIn:m,theme:y}){let w=l||u&&f===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(b.transform=`scaleX(${f})`);let v=Di("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),$=es(c)?c({rtl:h,type:s,defaultClassName:v}):Di(v,c),N={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{m&&r()}};return Ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${s}`}),Ke.createElement("div",F({role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:$,style:b},N)))}var r8=1,n4=()=>`${r8++}`;function a8(e,t,r){let s=1,l=0,c=[],u=[],f=t,h=new Map,m=new Set,y=O=>(m.add(O),()=>m.delete(O)),w=()=>{u=Array.from(h.values()),m.forEach(O=>O())},b=({containerId:O,toastId:A,updateId:B})=>{let P=O?O!==e:e!==1,T=h.has(A)&&B==null;return P||T},v=(O,A)=>{h.forEach(B=>{var P;(A==null||A===B.props.toastId)&&((P=B.toggle)==null||P.call(B,O))})},$=O=>{var A,B;(B=(A=O.props)==null?void 0:A.onClose)==null||B.call(A,O.removalReason),O.isActive=!1},N=O=>{if(O==null)h.forEach($);else{let A=h.get(O);A&&$(A)}w()},C=()=>{l-=c.length,c=[]},k=O=>{var A,B;let{toastId:P,updateId:T}=O.props,G=T==null;O.staleId&&h.delete(O.staleId),O.isActive=!0,h.set(P,O),w(),r(a1(O,G?"added":"updated")),G&&((B=(A=O.props).onOpen)==null||B.call(A))};return{id:e,props:f,observe:y,toggle:v,removeToast:N,toasts:h,clearQueue:C,buildToast:(O,A)=>{if(b(A))return;let{toastId:B,updateId:P,data:T,staleId:G,delay:z}=A,Z=P==null;Z&&l++;let Q=ce(F(ce(F({},f),{style:f.toastStyle,key:s++}),Object.fromEntries(Object.entries(A).filter(([X,ye])=>ye!=null))),{toastId:B,updateId:P,data:T,isIn:!1,className:tg(A.className||f.toastClassName),progressClassName:tg(A.progressClassName||f.progressClassName),autoClose:A.isLoading?!1:W$(A.autoClose,f.autoClose),closeToast(X){h.get(B).removalReason=X,N(B)},deleteToast(){let X=h.get(B);if(X!=null){if(r(a1(X,"removed")),h.delete(B),l--,l<0&&(l=0),c.length>0){k(c.shift());return}w()}}});Q.closeButton=f.closeButton,A.closeButton===!1||rg(A.closeButton)?Q.closeButton=A.closeButton:A.closeButton===!0&&(Q.closeButton=rg(f.closeButton)?f.closeButton:!0);let H={content:O,props:Q,staleId:G};f.limit&&f.limit>0&&l>f.limit&&Z?c.push(H):od(z)?setTimeout(()=>{k(H)},z):k(H)},setProps(O){f=O},setToggle:(O,A)=>{let B=h.get(O);B&&(B.toggle=A)},isToastActive:O=>{var A;return(A=h.get(O))==null?void 0:A.isActive},getSnapshot:()=>u}}var aa=new Map,Mc=[],ag=new Set,n8=e=>ag.forEach(t=>t(e)),s4=()=>aa.size>0;function s8(){Mc.forEach(e=>o4(e.content,e.options)),Mc=[]}var i8=(e,{containerId:t})=>{var r;return(r=aa.get(t||1))==null?void 0:r.toasts.get(e)};function i4(e,t){var r;if(t)return!!((r=aa.get(t))!=null&&r.isToastActive(e));let s=!1;return aa.forEach(l=>{l.isToastActive(e)&&(s=!0)}),s}function o8(e){if(!s4()){Mc=Mc.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||X$(e))aa.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=aa.get(e.containerId);t?t.removeToast(e.id):aa.forEach(r=>{r.removeToast(e.id)})}}var l8=(e={})=>{aa.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function o4(e,t){rg(e)&&(s4()||Mc.push({content:e,options:t}),aa.forEach(r=>{r.buildToast(e,t)}))}function c8(e){var t;(t=aa.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function l4(e,t){aa.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function d8(e){let t=e.containerId||1;return{subscribe(r){let s=a8(t,e,n8);aa.set(t,s);let l=s.observe(r);return s8(),()=>{l(),aa.delete(t)}},setProps(r){var s;(s=aa.get(t))==null||s.setProps(r)},getSnapshot(){var r;return(r=aa.get(t))==null?void 0:r.getSnapshot()}}}function u8(e){return ag.add(e),()=>{ag.delete(e)}}function f8(e){return e&&(zi(e.toastId)||od(e.toastId))?e.toastId:n4()}function ld(e,t){return o4(e,t),t.toastId}function E0(e,t){return ce(F({},t),{type:t&&t.type||e,toastId:f8(t)})}function T0(e){return(t,r)=>ld(t,E0(e,r))}function Le(e,t){return ld(e,E0("default",t))}Le.loading=(e,t)=>ld(e,E0("default",F({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)));function h8(e,{pending:t,error:r,success:s},l){let c;t&&(c=zi(t)?Le.loading(t,l):Le.loading(t.render,F(F({},l),t)));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(m,y,w)=>{if(y==null){Le.dismiss(c);return}let b=ce(F(F({type:m},u),l),{data:w}),v=zi(y)?{render:y}:y;return c?Le.update(c,F(F({},b),v)):Le(v.render,F(F({},b),v)),w},h=es(e)?e():e;return h.then(m=>f("success",s,m)).catch(m=>f("error",r,m)),h}Le.promise=h8;Le.success=T0("success");Le.info=T0("info");Le.error=T0("error");Le.warning=T0("warning");Le.warn=Le.warning;Le.dark=(e,t)=>ld(e,E0("default",F({theme:"dark"},t)));function m8(e){o8(e)}Le.dismiss=m8;Le.clearWaitingQueue=l8;Le.isActive=i4;Le.update=(e,t={})=>{let r=i8(e,t);if(r){let{props:s,content:l}=r,c=ce(F(F({delay:100},s),t),{toastId:t.toastId||e,updateId:n4()});c.toastId!==e&&(c.staleId=e);let u=c.render||l;delete c.render,ld(u,c)}};Le.done=e=>{Le.update(e,{progress:1})};Le.onChange=u8;Le.play=e=>l4(!0,e);Le.pause=e=>l4(!1,e);function g8(e){var t;let{subscribe:r,getSnapshot:s,setProps:l}=x.useRef(d8(e)).current;l(e);let c=(t=x.useSyncExternalStore(r,s,s))==null?void 0:t.slice();function u(f){if(!c)return[];let h=new Map;return e.newestOnTop&&c.reverse(),c.forEach(m=>{let{position:y}=m.props;h.has(y)||h.set(y,[]),h.get(y).push(m)}),Array.from(h,m=>f(m[0],m[1]))}return{getToastToRender:u,isToastActive:i4,count:c==null?void 0:c.length}}function y8(e){let[t,r]=x.useState(!1),[s,l]=x.useState(!1),c=x.useRef(null),u=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:m,onClick:y,closeOnClick:w}=e;c8({id:e.toastId,containerId:e.containerId,fn:r}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{v()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||k(),window.addEventListener("focus",C),window.addEventListener("blur",k)}function v(){window.removeEventListener("focus",C),window.removeEventListener("blur",k)}function $(G){if(e.draggable===!0||e.draggable===G.pointerType){O();let z=c.current;u.canCloseOnClick=!0,u.canDrag=!0,z.style.transition="none",e.draggableDirection==="x"?(u.start=G.clientX,u.removalDistance=z.offsetWidth*(e.draggablePercent/100)):(u.start=G.clientY,u.removalDistance=z.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function N(G){let{top:z,bottom:Z,left:Q,right:H}=c.current.getBoundingClientRect();G.nativeEvent.type!=="touchend"&&e.pauseOnHover&&G.clientX>=Q&&G.clientX<=H&&G.clientY>=z&&G.clientY<=Z?k():C()}function C(){r(!0)}function k(){r(!1)}function O(){u.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",P)}function A(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",P)}function B(G){let z=c.current;if(u.canDrag&&z){u.didMove=!0,t&&k(),e.draggableDirection==="x"?u.delta=G.clientX-u.start:u.delta=G.clientY-u.start,u.start!==G.clientX&&(u.canCloseOnClick=!1);let Z=e.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;z.style.transform=`translate3d(${Z},0)`,z.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function P(){A();let G=c.current;if(u.canDrag&&u.didMove&&G){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){l(!0),e.closeToast(!0),e.collapseAll();return}G.style.transition="transform 0.2s, opacity 0.2s",G.style.removeProperty("transform"),G.style.removeProperty("opacity")}}let T={onPointerDown:$,onPointerUp:N};return f&&h&&(T.onMouseEnter=k,e.stacked||(T.onMouseLeave=C)),w&&(T.onClick=G=>{y&&y(G),u.canCloseOnClick&&m(!0)}),{playToast:C,pauseToast:k,isRunning:t,preventExitTransition:s,toastRef:c,eventHandlers:T}}var p8=typeof window!="undefined"?x.useLayoutEffect:x.useEffect,O0=l=>{var c=l,{theme:e,type:t,isLoading:r}=c,s=Tt(c,["theme","type","isLoading"]);return Ke.createElement("svg",F({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},s))};function x8(e){return Ke.createElement(O0,F({},e),Ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function b8(e){return Ke.createElement(O0,F({},e),Ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function v8(e){return Ke.createElement(O0,F({},e),Ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function w8(e){return Ke.createElement(O0,F({},e),Ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function N8(){return Ke.createElement("div",{className:"Toastify__spinner"})}var ng={info:b8,warning:x8,success:v8,error:w8,spinner:N8},j8=e=>e in ng;function k8({theme:e,type:t,isLoading:r,icon:s}){let l=null,c={theme:e,type:t};return s===!1||(es(s)?l=s(ce(F({},c),{isLoading:r})):x.isValidElement(s)?l=x.cloneElement(s,c):r?l=ng.spinner():j8(t)&&(l=ng[t](c))),l}var S8=e=>{let{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:l,playToast:c}=y8(e),{closeButton:u,children:f,autoClose:h,onClick:m,type:y,hideProgressBar:w,closeToast:b,transition:v,position:$,className:N,style:C,progressClassName:k,updateId:O,role:A,progress:B,rtl:P,toastId:T,deleteToast:G,isIn:z,isLoading:Z,closeOnClick:Q,theme:H,ariaLabel:X}=e,ye=Di("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":Q}),pe=es(N)?N({rtl:P,position:$,type:y,defaultClassName:ye}):Di(ye,N),Oe=k8(e),q=!!B||!h,ae={closeToast:b,type:y,theme:H},me=null;return u===!1||(es(u)?me=u(ae):x.isValidElement(u)?me=x.cloneElement(u,ae):me=e8(ae)),Ke.createElement(v,{isIn:z,done:G,position:$,preventExitTransition:r,nodeRef:s,playToast:c},Ke.createElement("div",F(ce(F({id:T,tabIndex:0,onClick:m,"data-in":z,className:pe},l),{style:C,ref:s}),z&&{role:A,"aria-label":X}),Oe!=null&&Ke.createElement("div",{className:Di("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Z})},Oe),a4(f,e,!t),me,!e.customProgressBar&&Ke.createElement(t8,ce(F({},O&&!q?{key:`p-${O}`}:{}),{rtl:P,theme:H,delay:h,isRunning:t,isIn:z,closeToast:b,hide:w,type:y,className:k,controlledProgress:q,progress:B||0}))))},$8=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),C8=J$($8("bounce",!0)),_8={position:"top-right",transition:C8,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function E8(e){let t=F(F({},_8),e),r=e.stacked,[s,l]=x.useState(!0),c=x.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=g8(t),{className:m,style:y,rtl:w,containerId:b,hotKeys:v}=t;function $(C){let k=Di("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":w});return es(m)?m({position:C,rtl:w,defaultClassName:k}):Di(k,tg(m))}function N(){r&&(l(!0),Le.play())}return p8(()=>{var C;if(r){let k=c.current.querySelectorAll('[data-in="true"]'),O=12,A=(C=t.position)==null?void 0:C.includes("top"),B=0,P=0;Array.from(k).reverse().forEach((T,G)=>{let z=T;z.classList.add("Toastify__toast--stacked"),G>0&&(z.dataset.collapsed=`${s}`),z.dataset.pos||(z.dataset.pos=A?"top":"bot");let Z=B*(s?.2:1)+(s?0:O*G);z.style.setProperty("--y",`${A?Z:Z*-1}px`),z.style.setProperty("--g",`${O}`),z.style.setProperty("--s",`${1-(s?P:0)}`),B+=z.offsetHeight,P+=.025})}},[s,h,r]),x.useEffect(()=>{function C(k){var O;let A=c.current;v(k)&&((O=A.querySelector('[tabIndex="0"]'))==null||O.focus(),l(!1),Le.pause()),k.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(l(!0),Le.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[v]),Ke.createElement("section",{ref:c,className:"Toastify",id:b,onMouseEnter:()=>{r&&(l(!1),Le.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},u((C,k)=>{let O=k.length?F({},y):ce(F({},y),{pointerEvents:"none"});return Ke.createElement("div",{tabIndex:-1,className:$(C),"data-stacked":r,style:O,key:`c-${C}`},k.map(({content:A,props:B})=>Ke.createElement(S8,ce(F({},B),{stacked:r,collapseAll:N,isIn:f(B.toastId,B.containerId),key:`t-${B.key}`}),A)))}))}function T8(e,t){return de(this,null,function*(){return(yield(yield fetch(`/api/method/frappe.www.printview.get_html_and_style?doc=${e.doctype}&name=${e.name}&print_format=${t}&no_letterhead=0`,{method:"GET",headers:{Accept:"application/json"}})).json()).message})}function O8({invoice:e}){var y;const[t,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(!0),{posDetails:f,loading:h}=ma(),m=(y=f==null?void 0:f.print_format)!=null?y:"Sales Invoice";return x.useEffect(()=>{de(null,null,function*(){if(!(h||!f)){u(!0);try{const{html:b,style:v}=yield T8(e,m);r(b),l(v)}catch(b){console.error("Error loading print format:",b)}finally{u(!1)}}})},[e,f,h,m]),c?n.jsx("p",{children:"Loading Print Preview..."}):n.jsxs("div",{className:"print-preview-container p-4 bg-white shadow overflow-auto max-h-[90vh]",children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:s}}),n.jsx("div",{className:"print-preview-content",dangerouslySetInnerHTML:{__html:t}})]})}const qu=({invoice:e})=>n.jsx(O8,{invoice:e}),Gu=e=>{if(console.log("Print function called with:",e),!e){Le.error("No invoice data available for printing");return}const t=document.querySelector(".print-preview-container");if(!t){Le.error("Print preview not found");return}console.log("Print element found:",t);const r=e.name||e.id||"Invoice",s=document.title;document.title=`${r}`,console.log("Setting title to:",r);const l=document.body.style.cssText,c=t.style.cssText,u=document.createElement("div");u.innerHTML=t.innerHTML,u.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    padding: 20px;
    overflow: auto;
  `,document.body.style.cssText=`
    overflow: hidden;
  `;const f=Array.from(document.body.children);f.forEach(w=>{w!==u&&(w.style.display="none")}),document.body.appendChild(u);const h=document.createElement("style");h.textContent=`
    @media print {
      body * {
        visibility: hidden;
      }
      .print-overlay, .print-overlay * {
        visibility: visible;
      }
      .print-overlay {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
  `,u.className="print-overlay",document.head.appendChild(h),console.log("Print overlay created and added");const m=()=>{console.log("Restoring page..."),u.parentNode&&u.parentNode.removeChild(u),h.parentNode&&h.parentNode.removeChild(h),document.body.style.cssText=l,t.style.cssText=c,f.forEach(w=>{w.style.display=""}),document.title=s,console.log("Page restored successfully")},y=()=>{console.log("After print event fired"),m(),window.removeEventListener("afterprint",y)};window.addEventListener("afterprint",y),console.log("Triggering print..."),window.print(),setTimeout(()=>{console.log("Fallback timeout triggered"),m(),window.removeEventListener("afterprint",y)},2e3)};function A8(e){return de(this,null,function*(){const t=window.csrf_token,r=yield fetch("/api/method/klik_pos.api.email.send_invoice_email",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),s=yield r.json();if(console.log("Send email result:",s),!r.ok||!s.message||s.message.status!=="success"){const l=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send email";throw new Error(l)}return s.message})}function R8(e){return de(this,null,function*(){const t=window.csrf_token;console.log("Simple WhatsApp data",e);const r=yield fetch("/api/method/klik_pos.api.whatsapp.deliver_invoice_via_whatsapp",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),s=yield r.json();if(console.log("Send Simple WhatsApp result:",s),!r.ok||!s.message||s.message.status!=="success"){const l=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send WhatsApp message";throw new Error(l)}return s.message})}const n1=e=>{let t;const r=new Set,s=(m,y)=>{const w=typeof m=="function"?m(t):m;if(!Object.is(w,t)){const b=t;t=(y!=null?y:typeof w!="object"||w===null)?w:Object.assign({},t,w),r.forEach(v=>v(t,b))}},l=()=>t,f={setState:s,getState:l,getInitialState:()=>h,subscribe:m=>(r.add(m),()=>r.delete(m))},h=t=e(s,l,f);return f},P8=e=>e?n1(e):n1,M8=e=>e;function D8(e,t=M8){const r=Ke.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Ke.useDebugValue(r),r}const L8=e=>{const t=P8(e),r=s=>D8(t,s);return Object.assign(r,t),r},I8=e=>L8;function U8(e,t){let r;try{r=e()}catch(l){return}return{getItem:l=>{var c;const u=h=>h===null?null:JSON.parse(h,void 0),f=(c=r.getItem(l))!=null?c:null;return f instanceof Promise?f.then(u):u(f)},setItem:(l,c)=>r.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>r.removeItem(l)}}const sg=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return sg(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return sg(s)(r)}}}},F8=(e,t)=>(r,s,l)=>{let c=F({storage:U8(()=>localStorage),partialize:N=>N,version:0,merge:(N,C)=>F(F({},C),N)},t),u=!1;const f=new Set,h=new Set;let m=c.storage;if(!m)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...N)},s,l);const y=()=>{const N=c.partialize(F({},s()));return m.setItem(c.name,{state:N,version:c.version})},w=l.setState;l.setState=(N,C)=>{w(N,C),y()};const b=e((...N)=>{r(...N),y()},s,l);l.getInitialState=()=>b;let v;const $=()=>{var N,C;if(!m)return;u=!1,f.forEach(O=>{var A;return O((A=s())!=null?A:b)});const k=((C=c.onRehydrateStorage)==null?void 0:C.call(c,(N=s())!=null?N:b))||void 0;return sg(m.getItem.bind(m))(c.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==c.version){if(c.migrate){const A=c.migrate(O.state,O.version);return A instanceof Promise?A.then(B=>[!0,B]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var A;const[B,P]=O;if(v=c.merge(P,(A=s())!=null?A:b),r(v,!0),B)return y()}).then(()=>{k==null||k(v,void 0),v=s(),u=!0,h.forEach(O=>O(v))}).catch(O=>{k==null||k(void 0,O)})};return l.persist={setOptions:N=>{c=F(F({},c),N),N.storage&&(m=N.storage)},clearStorage:()=>{m==null||m.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>$(),hasHydrated:()=>u,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(h.add(N),()=>{h.delete(N)})},c.skipHydration||$(),v||b},B8=F8,Vi=I8()(B8((e,t)=>({cartItems:[],appliedCoupons:[],selectedCustomer:null,addToCart:r=>e(s=>{const l=s.cartItems.find(c=>c.id===r.id);return r.available!==void 0&&r.available<=0?(Le.error(`${r.name} is out of stock`),s):l?r.available!==void 0&&l.quantity>=r.available?(Le.error(`Only ${r.available} ${r.uom||"units"} of ${r.name} available`),s):{cartItems:s.cartItems.map(c=>c.id===r.id?ce(F({},c),{quantity:c.quantity+1}):c)}:{cartItems:[...s.cartItems,ce(F({},r),{quantity:1})]}}),updateQuantity:(r,s)=>e(l=>{if(s<=0)return{cartItems:l.cartItems.filter(u=>u.id!==r)};const c=l.cartItems.find(u=>u.id===r);return c&&c.available!==void 0&&s>c.available?(Le.error(`Only ${c.available} ${c.uom||"units"} of ${c.name} available`),l):{cartItems:l.cartItems.map(u=>u.id===r?ce(F({},u),{quantity:s}):u)}}),updateUOM:(r,s,l)=>{console.log(` Cart Store: Updating UOM for item ${r} to ${s} with price ${l}`),e(c=>{const u=c.cartItems.map(f=>f.id===r?(console.log(` Cart Store: Item ${r} updated:`,{before:{uom:f.uom,price:f.price},after:{uom:s,price:l}}),ce(F({},f),{uom:s,price:l})):f);return console.log(" Cart Store: All items after update:",u),{cartItems:u}})},removeItem:r=>e(s=>({cartItems:s.cartItems.filter(l=>l.id!==r)})),clearCart:()=>{ll(),e(()=>({cartItems:[],appliedCoupons:[],selectedCustomer:null}))},applyCoupon:r=>e(s=>s.appliedCoupons.some(l=>l.code===r.code)?s:{appliedCoupons:[...s.appliedCoupons,r]}),removeCoupon:r=>e(s=>({appliedCoupons:s.appliedCoupons.filter(l=>l.code!==r)})),setSelectedCustomer:r=>e(()=>({selectedCustomer:r}))}),{name:"beveren-cart-storage"})),A0="draft-invoice-cache",c4=5*60*1e3;function z8(e,t,r){const s={items:t,timestamp:Date.now(),invoiceId:e,customer:r,originalDraftInvoiceId:e};console.log("cacheDraftInvoiceItems - storing cache:",s),localStorage.setItem(A0,JSON.stringify(s))}function d4(){try{const e=localStorage.getItem(A0);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.timestamp>c4?(ll(),null):t}catch(e){return console.error("Error retrieving cached draft invoice items:",e),ll(),null}}function ll(){localStorage.removeItem(A0)}function H8(){const e=d4();if(!e||e.items.length===0)return!1;const{addToCart:t,updateQuantity:r,setSelectedCustomer:s}=Vi.getState();e.customer&&s(e.customer);for(const l of e.items){const c={id:l.id,name:l.name,category:l.category,price:l.price,image:l.image};t(c),l.quantity>1&&r(l.id,l.quantity)}return!0}function q8(){const e=localStorage.getItem(A0);if(!e)return!1;try{const t=JSON.parse(e);return Date.now()-t.timestamp<=c4}catch(t){return console.error("Error checking cache validity:",t),!1}}function G8(){const e=d4();return(e==null?void 0:e.originalDraftInvoiceId)||null}function V8(){return de(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.whatsapp.get_whatsapp_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),r=yield t.json();if(!t.ok||!r.message)throw new Error("Failed to fetch WhatsApp templates");return r.message}catch(t){throw console.error("Error fetching WhatsApp templates:",t),t}})}function K8(){return de(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),r=yield t.json();if(!t.ok||!r.message)throw new Error("Failed to fetch POS profile details");return r.message.custom_whatsap_template||null}catch(t){return console.error("Error fetching default WhatsApp template:",t),null}})}function Y8(e,t={}){let r=e;const s={"{{customer_name}}":t.customer_name||"there","{{invoice_total}}":t.invoice_total||"0","{{invoice_number}}":t.invoice_number||"","{{company_name}}":t.company_name||"KLiK PoS","{{date}}":t.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([l,c])=>{r=r.replace(new RegExp(l,"g"),String(c))}),r}function s1(){return`Hi {{customer_name}}!

Thank you for shopping with us at {{company_name}}!

Invoice Total: *{{invoice_total}}*

We appreciate your business!`}function Q8(){return de(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.email.get_email_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),r=yield t.json();if(!t.ok||!r.message)throw new Error("Failed to fetch Email templates");return r.message}catch(t){throw console.error("Error fetching Email templates:",t),t}})}function X8(){return de(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),r=yield t.json();if(!t.ok||!r.message)throw new Error("Failed to fetch POS profile details");return r.message.custom_email_template||null}catch(t){return console.error("Error fetching default Email template:",t),null}})}function W8(e,t={}){let r=e;const s={"{{customer_name}}":t.customer_name||"Customer","{{customer}}":t.customer_name||"Customer","{{first_name}}":t.first_name||"","{{last_name}}":t.last_name||"","{{address}}":t.address||"","{{customer_address}}":t.customer_address||"","{{delivery_note}}":t.delivery_note||t.invoice_number||"","{{grand_total}}":t.invoice_total||"0","{{departure_time}}":t.departure_time||"","{{estimated_arrival}}":t.estimated_arrival||"","{{driver_name}}":t.driver_name||"","{{cell_number}}":t.cell_number||"","{{vehicle}}":t.vehicle||"","{{invoice_total}}":t.invoice_total||"0","{{invoice_number}}":t.invoice_number||"","{{company_name}}":t.company_name||"KLiK PoS","{{date}}":t.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([l,c])=>{r=r.replace(new RegExp(l,"g"),String(c))}),r}function i1(){return`Dear {{customer_name}},

Thank you for your purchase. Here are your invoice details:

Invoice Total: {{invoice_total}}

Thank you for your business!

Best regards,
{{company_name}} Team`}const Z8=e=>{const t=e.toLowerCase();return t.includes("cash")?{icon:n.jsx(G3,{size:24}),color:"bg-beveren-600"}:t.includes("card")||t.includes("credit")||t.includes("debit")||t.includes("bank")?{icon:n.jsx(Ha,{size:24}),color:"bg-beveren-600"}:t.includes("phone")||t.includes("mpesa")?{icon:n.jsx(S$,{size:24}),color:"bg-beveren--600"}:t.includes("gift")?{icon:n.jsx(K3,{size:24}),color:"bg-beveren--600"}:t.includes("cheque")||t.includes("check")?{icon:n.jsx(Go,{size:24}),color:"bg-beveren--600"}:{icon:n.jsx(Ha,{size:24}),color:"bg-beveren--600"}};function ry({isOpen:e,onClose:t,cartItems:r,appliedCoupons:s,selectedCustomer:l,onCompletePayment:c,onHoldOrder:u,isMobile:f=!1,isFullPage:h=!1,initialSharingMode:m=null,externalInvoiceData:y=null,itemDiscounts:w={},totalItemDiscount:b=0}){var Ot,Kt,rr,Yt;const[v,$]=x.useState(""),[N,C]=x.useState({}),[k,O]=x.useState(0),[A,B]=x.useState(!1),[P,T]=x.useState(!1),[G,z]=x.useState(!1),[Z,Q]=x.useState(null),[H,X]=x.useState(null),[ye,pe]=x.useState(k.toFixed(2)),[Oe,q]=x.useState(!1),[ae,me]=x.useState(m),[Re,U]=x.useState({email:(l==null?void 0:l.email)||"",phone:(l==null?void 0:l.phone)||"",name:(l==null?void 0:l.name)||""}),[we,L]=x.useState(!1),[te,oe]=x.useState(!1),[R,Y]=x.useState([]),[Se,J]=x.useState(null),[$e,be]=x.useState(""),[Be,tt]=x.useState(!1),[vt,Ce]=x.useState(!1),[Ye,_t]=x.useState([]),[jt,Mt]=x.useState(null),[se,Je]=x.useState(""),[Ft,fe]=x.useState(!1),[Qe,ht]=x.useState(!1),{modes:Zt,isLoading:Gt,error:Ht}=Z3("Test POS Profile"),{salesTaxCharges:he,defaultTax:Pe}=G$(),{posDetails:He,loading:Ze}=ma(),ze=_r(),We=(He==null?void 0:He.business_type)==="B2B",yt=(He==null?void 0:He.business_type)==="B2C",Ct=He==null?void 0:He.print_receipt_on_order_complete,mr=He==null?void 0:He.currency_symbol;x.useEffect(()=>{var re,ke,qe;if(y&&ae){console.log("External invoice data:",y),console.log("Customer address doc:",y.customer_address_doc);const De=((re=y.customer_address_doc)==null?void 0:re.email_id)||y.customer_email||y.email_id||"",lt=y.mobile_no||((ke=y.customer_address_doc)==null?void 0:ke.mobile_no)||((qe=y.customer_address_doc)==null?void 0:qe.phone)||y.customer_phone||"",gt=y.customer_name||y.customer||"";(!De||!lt)&&y.customer?tr(y.customer,De,lt,gt):(U({email:De,phone:lt,name:gt}),console.log("Updated sharing data:",{email:De,phone:lt,name:gt}))}},[y,ae]);const tr=(re,ke,qe,De)=>de(null,null,function*(){try{console.log("Fetching customer details for:",re);const gt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${re}`)).json();if(gt.message){const pt=gt.message;console.log("Customer details fetched:",pt),U({email:ke||pt.email_id||"",phone:qe||pt.mobile_no||"",name:De||pt.customer_name||pt.name||""}),console.log("Updated sharing data with customer details:",{email:ke||pt.email_id||"",phone:qe||pt.mobile_no||"",name:De||pt.customer_name||pt.name||""})}else U({email:ke,phone:qe,name:De})}catch(lt){console.error("Error fetching customer details:",lt),U({email:ke,phone:qe,name:De})}});x.useEffect(()=>{de(null,null,function*(){if(ae==="whatsapp"&&R.length===0){tt(!0);try{const[ke,qe]=yield Promise.all([V8(),K8()]);if(Y(ke),qe){const De=ke.find(lt=>lt.name===qe);De&&(J(De),be(De.template))}else be(s1())}catch(ke){console.error("Error loading WhatsApp templates:",ke),be(s1())}finally{tt(!1)}}})},[ae,R.length]),x.useEffect(()=>{de(null,null,function*(){if(ae==="email"&&Ye.length===0){fe(!0);try{const[ke,qe]=yield Promise.all([Q8(),X8()]);if(_t(ke),qe){const De=ke.find(lt=>lt.name===qe);De&&(Mt(De),Je(De.response_html||De.response))}else Je(i1())}catch(ke){console.error("Error loading Email templates:",ke),Je(i1())}finally{fe(!1)}}})},[ae,Ye.length]);const qr=()=>{const re={customer_name:Re.name||"there",invoice_total:Ue(Ie.grandTotal),invoice_number:(H==null?void 0:H.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return Y8($e,re)},Gr=()=>{var ke,qe;const re={customer_name:Re.name||"Customer",customer:Re.name||"Customer",first_name:((ke=Re.name)==null?void 0:ke.split(" ")[0])||"",last_name:((qe=Re.name)==null?void 0:qe.split(" ").slice(1).join(" "))||"",address:(l==null?void 0:l.address)||"",customer_address:(l==null?void 0:l.address)||"",delivery_note:(H==null?void 0:H.name)||"",grand_total:Ue(Ie.grandTotal),departure_time:new Date().toLocaleTimeString(),estimated_arrival:new Date(Date.now()+18e5).toLocaleTimeString(),driver_name:"Delivery Driver",cell_number:"+1234567890",vehicle:"Delivery Vehicle",invoice_total:Ue(Ie.grandTotal),invoice_number:(H==null?void 0:H.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return W8(se,re)},_a=re=>{const ke=R.find(qe=>qe.name===re);ke&&(J(ke),be(ke.template))},Ea=re=>{const ke=Ye.find(qe=>qe.name===re);ke&&(Mt(ke),Je(ke.response_html||ke.response))},Ie=x.useMemo(()=>{const re=r.reduce((Vr,or)=>{const Fr=or.discountedPrice||or.price;return Vr+Fr*or.quantity},0),ke=s.reduce((Vr,or)=>Vr+or.value,0),qe=Math.max(0,re-ke),De=he.find(Vr=>Vr.id===v),lt=(De==null?void 0:De.rate)||0,gt=(De==null?void 0:De.is_inclusive)||!1;let pt,Or;return gt?(pt=qe*lt/(100+lt),pt=parseFloat(pt.toFixed(2)),Or=qe):(pt=qe*lt/100,pt=parseFloat(pt.toFixed(2)),Or=qe+pt),{subtotal:re,couponDiscount:ke,taxableAmount:qe,taxAmount:pt,grandTotal:Or+k,selectedTax:De,isInclusive:gt}},[r,s,v,he,k]),Er=Object.values(N).reduce((re,ke)=>re+(ke||0),0),Nr=Math.max(0,Ie.grandTotal-Er);if(x.useEffect(()=>{e&&Pe&&!v&&$(Pe)},[e,Pe,v]),x.useEffect(()=>{if(e&&Zt.length>0){const re=Zt.find(ke=>ke.default===1);if(re&&Object.keys(N).length===0){const ke=parseFloat(Ie.grandTotal.toFixed(2));C({[re.mode_of_payment]:ke})}}},[e,Zt,Ie.grandTotal,N,We,yt]),x.useEffect(()=>{if(Zt.length>0&&Object.keys(N).length>0){const re=Zt.find(ke=>ke.default===1);if(re){const ke=Object.entries(N).filter(([De])=>De!==re.mode_of_payment).reduce((De,[,lt])=>De+(lt||0),0),qe=yt?Math.max(0,Ie.grandTotal-ke):0;C(De=>ce(F({},De),{[re.mode_of_payment]:qe}))}}},[Ie.grandTotal,Zt,yt,We]),x.useEffect(()=>{G&&H&&Ct&&(q(!0),setTimeout(()=>{Gu(H),q(!1)},500))},[G,H,Ct]),!e)return null;if(Gt||Ze)return n.jsx("div",{className:"p-6",children:"Loading..."});if(Ht)return n.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",Ht]});const Tr=[...Zt].sort((re,ke)=>re.default===1&&ke.default!==1?-1:re.default!==1&&ke.default===1?1:0).map(re=>{const{icon:ke,color:qe}=Z8(re.type||"Default");return{id:re.mode_of_payment,name:re.mode_of_payment,icon:ke,color:qe,enabled:!0,amount:N[re.mode_of_payment]||0}}),Ta=(re,ke)=>{if(G||A)return;const qe=parseFloat(ke)||0;C(De=>ce(F({},De),{[re]:qe}))},W=re=>{if(G||A)return;const ke=Ie.grandTotal,qe={};Tr.forEach(De=>{qe[De.id]=0}),qe[re]=ke,C(qe)},D=(re,ke)=>{if(G||A)return;const qe=parseFloat(ke)||0,De=Ie.grandTotal;Object.entries(N).filter(([gt])=>gt!==re).reduce((gt,[,pt])=>gt+pt,0);const lt=De-qe;if(lt>0){const gt=Tr.filter(pt=>pt.id!==re);if(gt.length>0){const pt=gt[0];C(Or=>ce(F({},Or),{[re]:qe,[pt.id]:lt}));return}}C(gt=>ce(F({},gt),{[re]:qe}))},V=()=>{if(G||A)return;const re=Ie.isInclusive?Ie.taxableAmount:Ie.taxableAmount+Ie.taxAmount;if(yt){const ke=Math.floor(re/10)*10,qe=ke-re;console.log("B2C Roundoff Debug:",{totalBeforeRoundOff:re,rounded:ke,difference:qe}),O(qe),pe(qe.toFixed(2));const De=Zt.find(lt=>lt.default===1);De&&C(lt=>ce(F({},lt),{[De.mode_of_payment]:ke}))}else{const qe=Math.floor(re)-re;O(qe),pe(qe.toFixed(2))}},Ne=re=>{G||A||$(re)},Me=re=>{pe(re);const ke=parseFloat(re);if(!isNaN(ke)&&(O(ke),yt||We)){const qe=Zt.find(De=>De.default===1);if(qe){const De=(Ie.isInclusive?Ie.taxableAmount:Ie.taxableAmount+Ie.taxAmount)+ke;C(lt=>ce(F({},lt),{[qe.mode_of_payment]:parseFloat(De.toFixed(2))}))}}},Xe=()=>de(null,null,function*(){if(!l||!l.name){Le.error("Kindly select a customer");return}if(yt){if(Object.entries(N).filter(([,lt])=>lt>0).map(([lt,gt])=>({method:lt,amount:gt})).length===0){Le.error("Please enter payment amounts");return}if(Nr>0){Le.error("Please complete the payment before proceeding");return}}B(!0);const re=We?Er:Ie.grandTotal,ke=We?Object.entries(N).filter(([,De])=>De>0):(()=>{const De=Object.entries(N).filter(([,gt])=>gt>0);if(De.length===0)return[];const lt=De.reduce((gt,[,pt])=>gt+pt,0);if(lt>Ie.grandTotal){const gt=lt-Ie.grandTotal,pt=De.length-1,[Or,Vr]=De[pt],or=Math.max(0,Vr-gt);return De.map(([Fr,Rt],jr)=>jr===pt?[Fr,or]:[Fr,Rt])}return De})(),qe={items:r.map(De=>{var lt,gt;return ce(F({},De),{batchNumber:((lt=w[De.id])==null?void 0:lt.batchNumber)||null,serialNumber:((gt=w[De.id])==null?void 0:gt.serialNumber)||null,uom:De.uom||"Nos"})}),customer:l,paymentMethods:ke.map(([De,lt])=>({method:De,amount:lt})),subtotal:Ie.subtotal,SalesTaxCharges:v,taxAmount:Ie.taxAmount,taxType:Ie.isInclusive?"inclusive":"exclusive",couponDiscount:Ie.couponDiscount,roundOffAmount:k,grandTotal:Ie.grandTotal,amountPaid:re,outstandingAmount:Nr,appliedCoupons:s,businessType:He==null?void 0:He.business_type};try{const De=yield V$(qe);z(!0),Q(De),X(De.invoice);const lt=We?"Invoice submitted successfully!":"Payment completed successfully!";Le.success(lt);const gt=G8();if(gt)try{const pt=yield _0(gt)}catch(pt){console.error("Failed to delete original draft invoice:",pt)}else console.log();ll()}catch(De){const lt=We?"Failed to submit invoice":"Failed to process payment";Le.error(lt)}finally{B(!1)}}),ot=re=>{ze(`/invoice/${re.name}`)},at=()=>de(null,null,function*(){if(!l){Le.error("Kindly select a customer");return}T(!0);const re={items:r,customer:l,subtotal:Ie.subtotal,SalesTaxCharges:v,taxAmount:Ie.taxAmount,taxType:Ie.isInclusive?"inclusive":"exclusive",couponDiscount:Ie.couponDiscount,roundOffAmount:k,grandTotal:Ie.grandTotal,appliedCoupons:s,status:"held",businessType:He==null?void 0:He.business_type};try{yield e4(re),ll(),u(re)}catch(ke){Le.error("Failed to hold order")}finally{T(!1)}}),Ue=re=>`${mr} ${re.toLocaleString(void 0,{minimumFractionDigits:2})}`,$t=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ut=()=>A?We?"Submitting Invoice...":"Processing Payment...":We?Er===0?"Submit Invoice (Pay Later)":Nr>0?"Submit Invoice (Partial Payment)":"Submit Invoice (Paid)":"Complete Payment",kt=()=>G||A?!0:yt?Nr>0:!1;return f?n.jsx("div",{className:h?"h-full bg-white dark:bg-gray-900 overflow-y-auto custom-scrollbar":"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto custom-scrollbar",children:n.jsxs("div",{className:"min-h-screen",children:[!h&&n.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:n.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:G?"Invoice Complete":We?"Submit Invoice":"Payment"})}),n.jsx("div",{className:"p-4 space-y-6",children:G?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:n.jsxs("div",{className:"text-green-600 dark:text-green-400 text-center",children:[n.jsx("p",{className:"font-semibold",children:We?"Invoice Submitted Successfully!":"Payment Completed Successfully!"}),n.jsxs("p",{className:"text-sm opacity-75",children:["Total: ",Ue(Ie.grandTotal)]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[Oe&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[n.jsx(Rs,{size:16,className:"animate-spin"}),n.jsx("span",{className:"text-sm",children:"Printing..."})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Print",onClick:()=>{Gu(H)},children:[n.jsx(Ac,{size:18}),n.jsx("span",{children:"Print"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Email",onClick:()=>{const re=encodeURIComponent("Your Invoice"),ke=encodeURIComponent(`Dear ${l==null?void 0:l.name},

Here is your invoice total: ${Ue(Ie.grandTotal)}

Thank you.`);window.open(`mailto:${l==null?void 0:l.email}?subject=${re}&body=${ke}`)},children:[n.jsx(Zm,{size:18}),n.jsx("span",{children:"Email"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/20 text-beveren-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/30 transition-colors",title:"WhatsApp",onClick:()=>{const re=encodeURIComponent(`Here is your invoice total: ${Ue(Ie.grandTotal)}`);window.open(`https://wa.me/${l==null?void 0:l.phone}?text=${re}`,"_blank")},children:[n.jsx(Jm,{size:18}),n.jsx("span",{children:"WhatsApp"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-teal-900/20 text-teal-500 dark:text-teal-400 rounded-lg hover:bg-teal-200 dark:hover:bg-purple-900/30 transition-colors",title:"Text Message",onClick:()=>window.open(`tel:${l==null?void 0:l.phone}`),children:[n.jsx(eg,{size:18}),n.jsx("span",{children:"SMS"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/20 text-p-600 dark:text-purple-400 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/30 transition-colors",title:"View Full Invoice",onClick:()=>ot(H),children:[n.jsx(Fi,{size:18}),n.jsx("span",{children:"View"})]})]}),H&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center",children:"Invoice Preview:"}),n.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-3 bg-gray-50 dark:bg-gray-700 max-h-64 overflow-y-auto",children:n.jsx(qu,{invoice:H})})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{onClick:()=>{t()},className:"w-full py-3 bg-beveren-600 text-white rounded-lg font-medium hover:bg-beveren-700 transition-colors",children:"Start New Order"})})]}):n.jsxs(n.Fragment,{children:[(yt||We)&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),n.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:Tr.map(re=>n.jsxs("div",{className:`${Tr.length<=3?"flex-1 min-w-0":"min-w-[280px] max-w-[280px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${G||A?"bg-gray-50 dark:bg-gray-800":""}`,children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg ${re.color} text-white flex items-center justify-center`,children:n.jsx("div",{className:"scale-75",children:re.icon})}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:re.name})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),n.jsx("input",{type:"number",value:re.amount.toFixed(2)||"",onChange:ke=>Ta(re.id,ke.target.value),placeholder:"0.00",disabled:G||A,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||A?"cursor-not-allowed opacity-50":""}`})]})]},re.id))})]}),n.jsx("div",{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"number",value:ye,onChange:re=>Me(re.target.value),disabled:G||A,className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||A?"cursor-not-allowed opacity-50":""}`}),n.jsx("button",{onClick:V,disabled:G||A,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${G||A?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:n.jsx(Xv,{size:16})})]})]})})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ue(Ie.subtotal)})]}),Ie.couponDiscount>0&&n.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-",Ue(Ie.couponDiscount)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Ot=Ie.selectedTax)==null?void 0:Ot.rate,"%"," ",Ie.isInclusive?"Incl.":"Excl.",")"]}),n.jsx("span",{className:`font-medium ${Ie.isInclusive?"text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:Ie.isInclusive?`(${Ue(Ie.taxAmount)})`:Ue(Ie.taxAmount)})]}),k!==0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ue(k)})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Grand Total"}),n.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Ue(Ie.grandTotal)})]})}),(yt||We)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),n.jsx("span",{className:"font-medium text-beveren-600 dark:text-blue-400",children:Ue(Er)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding"}),n.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:Ue(Nr)})]}),Er>Ie.grandTotal&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),n.jsx("span",{className:"font-medium text-beveren-600 dark:text-beveren-400",children:Ue(Er-Ie.grandTotal)})]})]}),We&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),n.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:Ue(Ie.grandTotal)})]})]}),n.jsxs("div",{className:"space-y-3 pt-6",children:[n.jsx("button",{onClick:Xe,disabled:kt(),className:`w-full py-4 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${We?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:A?n.jsxs(n.Fragment,{children:[n.jsx(Rs,{size:20,className:"animate-spin"}),n.jsx("span",{children:ut()})]}):n.jsx("span",{children:ut()})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.jsx("button",{onClick:at,disabled:G||A||P,className:`py-3 px-4 border border-orange-500 text-orange-600 dark:text-orange-400 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center justify-center space-x-2 ${G||A||P?"cursor-not-allowed opacity-50":""}`,children:P?n.jsxs(n.Fragment,{children:[n.jsx(Rs,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Holding..."})]}):n.jsx("span",{children:"Hold Order"})})})]})]})})]})}):n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:We?"Invoice Submission":"Payment Processing"}),G?n.jsxs("div",{className:"flex items-center space-x-3",children:[Oe&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[n.jsx(Rs,{size:16,className:"animate-spin"}),n.jsx("span",{className:"text-sm",children:"Printing..."})]}),n.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",title:"Print",onClick:()=>{Gu(H),ze("/")},children:n.jsx(Ac,{size:20})}),n.jsx("button",{className:`p-2 rounded-lg ${ae==="email"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"Email",onClick:()=>me(ae==="email"?null:"email"),children:n.jsx(Zm,{size:20})}),n.jsx("button",{className:`p-2 rounded-lg ${ae==="whatsapp"?"bg-blue-100 text-green-700":"text-green-600 hover:bg-green-100"} dark:text-green-400 dark:hover:bg-green-900`,title:"WhatsApp",onClick:()=>me(ae==="whatsapp"?null:"whatsapp"),style:{display:He!=null&&He.custom_enable_whatsapp?"block":"none"},children:n.jsx(Jm,{size:20})}),n.jsx("button",{className:`p-2 rounded-lg ${ae==="sms"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"SMS",onClick:()=>me(ae==="sms"?null:"sms"),style:{display:He!=null&&He.custom_enable_sms?"block":"none"},children:n.jsx(eg,{size:20})}),n.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-100 dark:text-purple-400 dark:hover:bg-purple-900 rounded-lg",title:"View Full",onClick:()=>ot(H),children:n.jsx(Fi,{size:20})})]}):n.jsx("button",{onClick:()=>t(G),disabled:A||P,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx(ha,{size:24})})]}),n.jsxs("div",{className:"flex flex-1 min-h-0",children:[n.jsx("div",{className:"w-2/3 p-6 overflow-y-auto custom-scrollbar space-y-6",children:G&&ae||y&&ae?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:["Share via ",ae]}),n.jsx("button",{onClick:()=>me(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(ha,{size:20})})]}),ae==="email"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),n.jsx("input",{type:"text",value:Re.name,onChange:re=>U(ke=>ce(F({},ke),{name:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:Re.email,onChange:re=>U(ke=>ce(F({},ke),{email:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"customer@email.com"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Message Preview"}),n.jsx("button",{type:"button",onClick:()=>ht(!Qe),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:Qe?n.jsx(Go,{className:"w-4 h-4"}):n.jsx(Jv,{className:"w-4 h-4"})})]}),Qe&&n.jsxs("div",{className:"space-y-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Template"}),Ft?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx(Rs,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):n.jsxs("select",{value:(jt==null?void 0:jt.name)||"",onChange:re=>Ea(re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"",children:"Select a template (optional)"}),Ye.map(re=>{const ke=(He==null?void 0:He.custom_email_template)===re.name;return n.jsxs("option",{value:re.name,children:[re.name,ke?" [Default]":""]},re.name)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),n.jsx("textarea",{value:se,onChange:re=>Je(re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:6,placeholder:"Enter your email message..."})]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Subject: Your Invoice from KLiK PoS"}),n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:n.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Gr()}})})]})]}),n.jsx("button",{onClick:()=>de(null,null,function*(){L(!0);try{yield A8({email:Re.email,customer_name:Re.name,invoice_data:(H==null?void 0:H.name)||"",message:Gr()}),Le.success("Email sent successfully!"),me(null)}catch(re){Le.error("Failed to send email: "+re.message)}finally{L(!1)}}),disabled:!Re.email||we,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:we?"Sending...":"Send Email"})]}),ae==="whatsapp"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),n.jsx("input",{type:"text",value:Re.name,onChange:re=>U(ke=>ce(F({},ke),{name:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:Re.phone,onChange:re=>U(ke=>ce(F({},ke),{phone:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Message Preview"}),n.jsx("button",{type:"button",onClick:()=>Ce(!vt),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:vt?n.jsx(Go,{className:"w-4 h-4"}):n.jsx(Jv,{className:"w-4 h-4"})})]}),vt&&n.jsxs("div",{className:"space-y-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Template"}),Be?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx(Rs,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):n.jsxs("select",{value:(Se==null?void 0:Se.name)||"",onChange:re=>_a(re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"",children:"Select a template (optional)"}),R.map(re=>{const ke=(He==null?void 0:He.custom_whatsap_template)===re.name;return n.jsxs("option",{value:re.name,children:[re.template_name," - ",re.category," (",re.status,")",ke?" [Default]":""]},re.name)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),n.jsx("textarea",{value:$e,onChange:re=>be(re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:4,placeholder:"Enter your WhatsApp message..."})]})]}),n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:n.jsx("div",{className:"whitespace-pre-wrap",children:qr()})})})]}),n.jsx("button",{onClick:()=>de(null,null,function*(){oe(!0);try{yield R8({mobile_no:Re.phone,customer_name:Re.name,invoice_data:(H==null?void 0:H.name)||"",message:qr()}),Le.success("Whatsap message sent successfully!"),me(null)}catch(re){Le.error("Failed to send whatsap message: "+re.message)}finally{oe(!1)}}),disabled:!Re.phone||te,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:te?"Sending...":"Send Whatsap Message"})]}),ae==="sms"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),n.jsx("input",{type:"text",value:Re.name,onChange:re=>U(ke=>ce(F({},ke),{name:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:Re.phone,onChange:re=>U(ke=>ce(F({},ke),{phone:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMS Message Preview"}),n.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-200 dark:border-teal-800",children:n.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[n.jsxs("p",{children:["Hi ",Re.name||"Customer","!"]}),n.jsx("p",{className:"mt-1",children:"Thank you for your purchase at KLiK PoS."}),n.jsxs("p",{className:"mt-1",children:["Invoice Total:"," ",Ue(Ie.grandTotal)]}),n.jsx("p",{className:"mt-1",children:"Thank you!"})]})})]}),n.jsx("button",{onClick:()=>{const re=encodeURIComponent(`Hi ${Re.name||"Customer"}!
Thank you for your purchase at KLiK PoS.
Invoice Total: ${Ue(Ie.grandTotal)}
Thank you!`);window.open(`sms:${Re.phone}?body=${re}`),me(null)},disabled:!Re.phone,className:"w-full py-3 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send SMS"})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),n.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:Tr.map(re=>n.jsxs("div",{className:`${Tr.length<=3?"flex-1 min-w-0":"min-w-[300px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${G||A?"bg-gray-50 dark:bg-gray-800":""}`,children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:`w-8 h-6 rounded-md ${re.color} text-white flex items-center justify-center`,children:n.jsx("div",{className:"scale-75",children:re.icon})}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:re.name})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>W(re.id),disabled:G||A,className:`p-1 rounded text-xs ${G||A?"cursor-not-allowed opacity-50":"hover:bg-beveren-100 text-beveren-600"}`,title:"Auto-fill with grand total",children:n.jsx(Ui,{size:16})})})]}),n.jsx("input",{type:"number",step:"0.01",value:re.amount||"",onChange:ke=>{const qe=ke.target.value,De=qe===""?0:parseFloat(qe);D(re.id,isNaN(De)?"0":De.toString())},onBlur:ke=>{const qe=parseFloat(ke.target.value);if(!isNaN(qe)){const De=parseFloat(qe.toFixed(2));D(re.id,De.toString())}},placeholder:"0.00",disabled:G||A,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm ${G||A?"cursor-not-allowed opacity-50":""}`})]})]},re.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Configuration"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sales & Tax Charges"}),n.jsx("select",{value:v,onChange:re=>Ne(re.target.value),disabled:G||A,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||A?"cursor-not-allowed opacity-50":""}`,children:he.map(re=>n.jsxs("option",{value:re.id,children:[re.name," (",re.rate,"%"," ",re.is_inclusive?"Incl.":"Excl.",")"]},re.id))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tax Amount ",Ie.isInclusive&&"(Included)"]}),n.jsx("div",{className:`px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg font-medium ${Ie.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ie.isInclusive?`(${Ue(Ie.taxAmount)})`:Ue(Ie.taxAmount)})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:We?"Invoice Summary":"Payment Summary"}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"number",value:ye,onChange:re=>Me(re.target.value),disabled:G||A,className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||A?"cursor-not-allowed opacity-50":""}`}),n.jsx("button",{onClick:V,disabled:G||A,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${G||A?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:n.jsx(Xv,{size:16})})]})]})}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ue(Ie.subtotal)})]}),Ie.couponDiscount>0&&n.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[n.jsx("span",{children:"Coupon Discount"}),n.jsxs("span",{children:["-",Ue(Ie.couponDiscount)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Kt=Ie.selectedTax)==null?void 0:Kt.rate,"%"," ",Ie.isInclusive?"Incl.":"Excl.",")"]}),n.jsx("span",{className:`font-medium ${Ie.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ie.isInclusive?`(${Ue(Ie.taxAmount)})`:Ue(Ie.taxAmount)})]}),k!==0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ue(k)})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Grand Total"}),n.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Ue(Ie.grandTotal)})]})}),(yt||We)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),n.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:Ue(Er)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),n.jsx("span",{className:`font-bold ${Nr>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Ue(Nr)})]}),Er>Ie.grandTotal&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),n.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:Ue(Er-Ie.grandTotal)})]})]})]})]})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600 flex-1 overflow-y-auto custom-scrollbar",children:G&&H?n.jsxs("div",{className:"mb-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Print Format Preview:"}),n.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-gray-50 dark:bg-gray-700",children:n.jsx(qu,{invoice:H})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"KLiK PoS"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Invoice"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:$t}),We&&n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1",children:"Payment Pending"})]}),l&&n.jsxs("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-600",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:l.email}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:l.phone})]}),n.jsx("div",{className:"space-y-2 mb-4",children:r.length>0?r.map((re,ke)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:re.name}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[re.quantity," x ",Ue(re.price)]})]}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Ue(re.quantity*re.price)})]},ke)):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(y==null?void 0:y.name)||(l==null?void 0:l.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(y==null?void 0:y.customer)||(l==null?void 0:l.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ue((y==null?void 0:y.grand_total)||Ie.grandTotal)})]})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:n.jsx(qu,{invoice:y||Z||{}})})]})}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:Ue(Ie.subtotal)})]}),Ie.couponDiscount>0&&n.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-",Ue(Ie.couponDiscount)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(rr=Ie.selectedTax)==null?void 0:rr.rate,"%"," ",Ie.isInclusive?"Incl.":"Excl.",")"]}),n.jsx("span",{className:`${Ie.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Ie.isInclusive?`(${Ue(Ie.taxAmount)})`:Ue(Ie.taxAmount)})]}),k!==0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:Ue(k)})]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:n.jsxs("div",{className:"flex justify-between font-bold",children:[n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:Ue(Ie.grandTotal)})]})}),(yt||We)&&Object.entries(N).filter(([,re])=>re>0).length>0&&n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Methods:"}),Object.entries(N).filter(([,re])=>re>0).map(([re,ke])=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:re}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:Ue(ke)})]},re))]}),We&&n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Outstanding Amount:"}),n.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:Ue(Ie.grandTotal)})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Payment to be collected separately"})]}),Ie.selectedTax&&n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:n.jsxs("p",{className:`text-xs ${Ie.isInclusive?"text-blue-500 dark:text-blue-400":"text-orange-500 dark:text-orange-400"}`,children:["Tax is"," ",Ie.isInclusive?"inclusive":"exclusive"," ","of item prices"]})}),G&&((Yt=Z==null?void 0:Z.invoice)==null?void 0:Yt.custom_invoice_qr_code)&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("img",{src:Z.invoice.custom_invoice_qr_code,alt:"Invoice QR Code",className:"mx-auto w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded-lg"})})]}),n.jsxs("div",{className:"text-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Thank you for your business!"}),We&&n.jsx("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:"Invoice will be sent for payment processing"})]})]})})]}),G||y?n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:n.jsxs("div",{className:"flex justify-end space-x-4",children:[G&&n.jsx("button",{onClick:t,className:"bg-beveren-500 px-6 py-2 border border-gray-300 dark:border-gray-600 text-white dark:text-gray-300 rounded-lg font-medium hover:bg-green-700 dark:hover:bg-gray-800 transition-colors",children:"New Order"}),y&&n.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Close"})]})}):n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:at,disabled:G||A||P,className:`px-6 py-2 border  border-gray-300 dark:border-gray-600 text-gray-700 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center space-x-2 ${G||A||P?"cursor-not-allowed opacity-50":""}`,children:P?n.jsxs(n.Fragment,{children:[n.jsx(Rs,{size:16,className:"animate-spin"}),n.jsx("span",{children:"Holding..."})]}):n.jsx("span",{children:"Hold Order"})}),n.jsx("button",{onClick:Xe,disabled:kt(),className:`px-8 py-2 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 ${We?"bg-beveren-500 hover:bg-blue-700 text-white":"bg-beveren-600 hover:bg-beveren-700 text-white"}`,children:A?n.jsxs(n.Fragment,{children:[n.jsx(Rs,{size:16,className:"animate-spin"}),n.jsx("span",{children:ut()})]}):n.jsxs(n.Fragment,{children:[n.jsx(Go,{size:16}),n.jsx("span",{children:ut()})]})})]})})]})})}const o1=()=>{const e=window.csrf_token;return{createCustomer:c=>de(null,null,function*(){var u;try{const h=yield(yield fetch("/api/method/klik_pos.api.customer.create_or_update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_data:c}),credentials:"include"})).json();if(!h.message||!h.message.success)throw new Error(((u=h.message)==null?void 0:u.error)||"Customer creation failed");return h.message}catch(f){throw console.error(" Error creating customer:",f),f}}),updateCustomer:(c,u)=>de(null,null,function*(){var f;try{const m=yield(yield fetch("/api/method/klik_pos.api.customer.update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_id:c,customer_data:u}),credentials:"include"})).json();if(!m.message||!m.message.success)throw new Error(((f=m.message)==null?void 0:f.error)||"Customer update failed");return m.message}catch(h){throw console.error(" Error updating customer:",h),h}}),getCustomerGroups:()=>de(null,null,function*(){var c;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.get_customer_groups",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((c=f.message)==null?void 0:c.error)||"Failed to fetch customer groups");return f.message.data}catch(u){throw console.error(" Error fetching customer groups:",u),u}}),getTerritories:()=>de(null,null,function*(){var c;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.get_territories",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((c=f.message)==null?void 0:c.error)||"Failed to fetch territories");return f.message.data}catch(u){throw console.error(" Error fetching territories:",u),u}})}},J8={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var fm={exports:{}},hm,l1;function eC(){if(l1)return hm;l1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hm=e,hm}var mm,c1;function tC(){if(c1)return mm;c1=1;var e=eC();function t(){}function r(){}return r.resetWarningCache=t,mm=function(){function s(u,f,h,m,y,w){if(w!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function l(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:t};return c.PropTypes=c,c},mm}var d1;function rC(){return d1||(d1=1,fm.exports=tC()()),fm.exports}var aC=rC();const Fe=fl(aC);var gm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var u1;function nC(){return u1||(u1=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var c="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(c=l(c,s(f)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return r.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var u="";for(var f in c)t.call(c,f)&&c[f]&&(u=l(u,f));return u}function l(c,u){return u?c?c+" "+u:c+u:c}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(gm)),gm.exports}var sC=nC();const s0=fl(sC);function iC(e,t,r){switch(r){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function oC(e,t,r){for(var s={},l="",c=0,u=0;u<e.length;){var f=r(e[u],l,s);f!==void 0&&(l+=f,t!==void 0&&(t===u?c=l.length-1:t>u&&(c=l.length))),u++}t===void 0&&(c=l.length);var h={value:l,caret:c};return h}function lC(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=cC(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cC(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ig(e,t){for(var r=0,s=lC(t.split("")),l;!(l=s()).done;){var c=l.value;c===e&&r++}return r}function dC(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=e.length,c=ig("(",e),u=ig(")",e),f=c-u;f>0&&l<t.length;)e+=t[l].replace(r,s),t[l]===")"&&f--,l++;return e}function uC(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=fC(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fC(e,t){if(e){if(typeof e=="string")return h1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(e,t)}}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function hC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",r=arguments.length>2?arguments[2]:void 0;if(!e)return function(l){return{text:l}};var s=ig(t,e);return function(l){if(!l)return{text:"",template:e};for(var c=0,u="",f=uC(e.split("")),h;!(h=f()).done;){var m=h.value;if(m!==t){u+=m;continue}if(u+=l[c],c++,c===l.length&&l.length<s)break}return r&&(u=dC(u,e)),{text:u,template:e}}}function mC(e,t,r){typeof r=="string"&&(r=hC(r));var s=r(e)||{},l=s.text,c=s.template;if(l===void 0&&(l=e),c)if(t===void 0)t=l.length;else{for(var u=0,f=!1,h=-1;u<l.length&&u<c.length;){if(l[u]!==c[u]){if(t===0){f=!0,t=u;break}h=u,t--}u++}f||(t=h+1)}return{text:l,caret:t}}function gC(e){return e.hasAttribute("readonly")}function yC(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var m1={Backspace:8,Delete:46};function pC(e){switch(e.keyCode){case m1.Backspace:return"Backspace";case m1.Delete:return"Delete"}}function xC(e){return e.selectionStart}function u4(e,t){t!==void 0&&(bC()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function bC(){if(typeof navigator!="undefined")return vC.test(navigator.userAgent)}var vC=/Android/i;function wC(e,t,r,s,l){og(t,r,s,void 0,l)}function NC(e,t,r,s,l){if(!gC(t)){var c=pC(e);switch(c){case"Delete":case"Backspace":e.preventDefault();var u=yC(t);return u?(jC(t,u),og(t,r,s,void 0,l)):og(t,r,s,c,l)}}}function jC(e,t){var r=e.value;r=r.slice(0,t.start)+r.slice(t.end),e.value=r,u4(e,t.start)}function og(e,t,r,s,l){var c=oC(e.value,xC(e),t),u=c.value,f=c.caret;if(s){var h=iC(u,f,s);u=h.value,f=h.caret}var m=mC(u,f,r),y=m.text;f=m.caret,e.value=y,u4(e,f),l&&l(u)}var kC=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function g1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(r),!0).forEach(function(s){SC(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $C(e,t){if(e==null)return{};var r=CC(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function CC(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function _C(e){var t=e.ref,r=e.parse,s=e.format,l=e.value,c=e.defaultValue,u=e.controlled,f=u===void 0?!0:u,h=e.onChange,m=e.onKeyDown,y=$C(e,kC),w=x.useRef(),b=x.useCallback(function(C){w.current=C,t&&(typeof t=="function"?t(C):t.current=C)},[t]),v=x.useCallback(function(C){return wC(C,w.current,r,s,h)},[w,r,s,h]),$=x.useCallback(function(C){if(m&&m(C),!C.defaultPrevented)return NC(C,w.current,r,s,h)},[w,r,s,h,m]),N=Ao(Ao({},y),{},{ref:b,onChange:v,onKeyDown:$});return f?Ao(Ao({},N),{},{value:s(y1(l)?"":l).text}):Ao(Ao({},N),{},{defaultValue:s(y1(c)?"":c).text})}function y1(e){return e==null}var EC=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function p1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(r),!0).forEach(function(s){OC(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function OC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AC(e,t){if(e==null)return{};var r=RC(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function RC(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function i0(e,t){var r=e.inputComponent,s=r===void 0?"input":r,l=e.parse,c=e.format,u=e.value,f=e.defaultValue,h=e.onChange,m=e.controlled,y=e.onKeyDown,w=e.type,b=w===void 0?"text":w,v=AC(e,EC),$=_C(TC({ref:t,parse:l,format:c,value:u,defaultValue:f,onChange:h,controlled:m,onKeyDown:y,type:b},v));return Ke.createElement(s,$)}i0=Ke.forwardRef(i0);i0.propTypes={parse:Fe.func.isRequired,format:Fe.func.isRequired,inputComponent:Fe.elementType,type:Fe.string,value:Fe.string,defaultValue:Fe.string,onChange:Fe.func,controlled:Fe.bool,onKeyDown:Fe.func,onCut:Fe.func,onPaste:Fe.func};function x1(e,t){e=e.split("-"),t=t.split("-");for(var r=e[0].split("."),s=t[0].split("."),l=0;l<3;l++){var c=Number(r[l]),u=Number(s[l]);if(c>u)return 1;if(u>c)return-1;if(!isNaN(c)&&isNaN(u))return 1;if(isNaN(c)&&!isNaN(u))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var PC={}.constructor;function Li(e){return e!=null&&e.constructor===PC}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function R0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MC(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DC(s.key),s)}}function P0(e,t,r){return t&&MC(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DC(e){var t=LC(e,"string");return cl(t)=="symbol"?t:t+""}function LC(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(cl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IC="1.2.0",UC="1.7.35",b1=" ext. ",FC=/^\d+$/,Mr=function(){function e(t){R0(this,e),f4(t),this.metadata=t,m4.call(this,t)}return P0(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,s){if(r&&FC.test(r)&&(s=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new v1(this.getCountryMetadata(r),this)}else if(s){if(!this.hasCallingCode(s))throw new Error("Unknown calling code: ".concat(s));this.numberingPlan=new v1(this.getNumberingPlanMetadata(s),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var s=this.countryCallingCodes()[r];if(s)return s.length===1&&s[0].length===3?void 0:s}},{key:"getCountryCodeForCallingCode",value:function(r){var s=this.getCountryCodesForCallingCode(r);if(s)return s[0]}},{key:"getNumberingPlanMetadata",value:function(r){var s=this.getCountryCodeForCallingCode(r);if(s)return this.getCountryMetadata(s);if(this.nonGeographic()){var l=this.nonGeographic()[r];if(l)return l}else{var c=this.countryCallingCodes()[r];if(c&&c.length===1&&c[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),v1=function(){function e(t,r){R0(this,e),this.globalMetadataObject=r,this.metadata=t,m4.call(this,r.metadata)}return P0(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,s=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return s.map(function(l){return new BC(l,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&w1(this.types(),r))return new HC(w1(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?b1:this.metadata[13]||b1}}])}(),BC=function(){function e(t,r){R0(this,e),this._format=t,this.metadata=r}return P0(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!zC.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),zC=/^\(?\$1\)?$/,HC=function(){function e(t,r){R0(this,e),this.type=t,this.metadata=r}return P0(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function w1(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function f4(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Li(e)||!Li(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Li(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+qC(e)+": "+e,"."))}var qC=function(t){return cl(t)};function Zs(e,t){if(t=new Mr(t),t.hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function h4(e,t){return t.countries.hasOwnProperty(e)}function m4(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?x1(t,IC)===-1?this.v2=!0:x1(t,UC)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function M0(e,t){return GC(e,void 0,t)}function GC(e,t,r){var s=r.type(t),l=s&&s.possibleLengths()||r.possibleLengths();if(!l)return"IS_POSSIBLE";var c=e.length,u=l[0];return u===c?"IS_POSSIBLE":u>c?"TOO_SHORT":l[l.length-1]<c?"TOO_LONG":l.indexOf(c,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function VC(e,t,r){if(t===void 0&&(t={}),r=new Mr(r),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}}if(r.possibleLengths())return g4(e.phone||e.nationalNumber,r);if(e.countryCallingCode&&r.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function g4(e,t){switch(M0(e,t)){case"IS_POSSIBLE":return!0;default:return!1}}function ts(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function KC(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=YC(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YC(e,t){if(e){if(typeof e=="string")return N1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N1(e,t):void 0}}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var QC=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function ay(e,t,r){if(t=t||{},!(!e.country&&!e.countryCallingCode)){r=new Mr(r),r.selectNumberingPlan(e.country,e.countryCallingCode);var s=t.v2?e.nationalNumber:e.phone;if(ts(s,r.nationalNumberPattern())){if(ym(s,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||ym(s,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var l=KC(QC),c;!(c=l()).done;){var u=c.value;if(ym(s,u,r))return u}}}}function ym(e,t,r){return t=r.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:ts(e,t.pattern())}function XC(e,t,r){if(t=t||{},r=new Mr(r),r.selectNumberingPlan(e.country,e.countryCallingCode),r.hasTypes())return ay(e,t,r.metadata)!==void 0;var s=t.v2?e.nationalNumber:e.phone;return ts(s,r.nationalNumberPattern())}function WC(e,t,r){var s=new Mr(r),l=s.getCountryCodesForCallingCode(e);return l?l.filter(function(c){return ZC(t,c,r)}):[]}function ZC(e,t,r){var s=new Mr(r);return s.selectNumberingPlan(t),s.numberingPlan.possibleLengths().indexOf(e.length)>=0}var ny=2,JC=17,e7=3,sa="0-9---",t7="--",r7="/",a7=".",n7=" ",s7="()\\[\\]",i7="~",cn="".concat(t7).concat(r7).concat(a7).concat(n7).concat(s7).concat(i7),D0="+",o7=new RegExp("(["+sa+"])");function y4(e,t,r,s){if(t){var l=new Mr(s);l.selectNumberingPlan(t,r);var c=new RegExp(l.IDDPrefix());if(e.search(c)===0){e=e.slice(e.match(c)[0].length);var u=e.match(o7);if(!(u&&u[1]!=null&&u[1].length>0&&u[1]==="0"))return e}}}function lg(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),s=r.exec(e);if(s){var l,c,u=s.length-1,f=u>0&&s[u];if(t.nationalPrefixTransformRule()&&f)l=e.replace(r,t.nationalPrefixTransformRule()),u>1&&(c=s[1]);else{var h=s[0];l=e.slice(h.length),f&&(c=s[1])}var m;if(f){var y=e.indexOf(s[1]),w=e.slice(0,y);w===t.numberingPlan.nationalPrefix()&&(m=t.numberingPlan.nationalPrefix())}else m=s[0];return{nationalNumber:l,nationalPrefix:m,carrierCode:c}}}return{nationalNumber:e}}function cg(e,t){var r=lg(e,t),s=r.carrierCode,l=r.nationalNumber;if(l!==e){if(!l7(e,l,t))return{nationalNumber:e};if(t.possibleLengths()&&!c7(l,t))return{nationalNumber:e}}return{nationalNumber:l,carrierCode:s}}function l7(e,t,r){return!(ts(e,r.nationalNumberPattern())&&!ts(t,r.nationalNumberPattern()))}function c7(e,t){switch(M0(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function p4(e,t,r,s){var l=t?Zs(t,s):r;if(e.indexOf(l)===0){s=new Mr(s),s.selectNumberingPlan(t,r);var c=e.slice(l.length),u=cg(c,s),f=u.nationalNumber,h=cg(e,s),m=h.nationalNumber;if(!ts(m,s.nationalNumberPattern())&&ts(f,s.nationalNumberPattern())||M0(m,s)==="TOO_LONG")return{countryCallingCode:l,number:c}}return{number:e}}function sy(e,t,r,s){if(!e)return{};var l;if(e[0]!=="+"){var c=y4(e,t,r,s);if(c&&c!==e)l=!0,e="+"+c;else{if(t||r){var u=p4(e,t,r,s),f=u.countryCallingCode,h=u.number;if(f)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:f,number:h}}return{number:e}}}if(e[1]==="0")return{};s=new Mr(s);for(var m=2;m-1<=e7&&m<=e.length;){var y=e.slice(1,m);if(s.hasCallingCode(y))return s.selectNumberingPlan(y),{countryCallingCodeSource:l?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:y,number:e.slice(m)};m++}return{}}function x4(e){return e.replace(new RegExp("[".concat(cn,"]+"),"g")," ").trim()}var b4=/(\$\d)/;function v4(e,t,r){var s=r.useInternationalFormat,l=r.withNationalPrefix;r.carrierCode,r.metadata;var c=e.replace(new RegExp(t.pattern()),s?t.internationalFormat():l&&t.nationalPrefixFormattingRule()?t.format().replace(b4,t.nationalPrefixFormattingRule()):t.format());return s?x4(c):c}var d7=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function u7(e,t,r){var s=new Mr(r);if(s.selectNumberingPlan(e,t),s.defaultIDDPrefix())return s.defaultIDDPrefix();if(d7.test(s.IDDPrefix()))return s.IDDPrefix()}var f7=";ext=",Ro=function(t){return"([".concat(sa,"]{1,").concat(t,"})")};function w4(e){var t="20",r="15",s="9",l="6",c="[ \\t,]*",u="[:\\.]?[ \\t,-]*",f="#?",h="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",m="(?:[x#~]|int|)",y="[- ]+",w="[ \\t]*",b="(?:,{2}|;)",v=f7+Ro(t),$=c+h+u+Ro(t)+f,N=c+m+u+Ro(s)+f,C=y+Ro(l)+"#",k=w+b+u+Ro(r)+f,O=w+"(?:,)+"+u+Ro(s)+f;return v+"|"+$+"|"+N+"|"+C+"|"+k+"|"+O}var h7="["+sa+"]{"+ny+"}",m7="["+D0+"]{0,1}(?:["+cn+"]*["+sa+"]){3,}["+cn+sa+"]*",g7=new RegExp("^["+D0+"]{0,1}(?:["+cn+"]*["+sa+"]){1,2}$","i"),y7=m7+"(?:"+w4()+")?",p7=new RegExp("^"+h7+"$|^"+y7+"$","i");function x7(e){return e.length>=ny&&p7.test(e)}function b7(e){return g7.test(e)}function v7(e){var t=e.number,r=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(r?";ext="+r:"")}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function w7(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=N7(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7(e,t){if(e){if(typeof e=="string")return j1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j1(e,t):void 0}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(s){j7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function j7(e,t,r){return(t=k7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=S7(e,"string");return Dc(t)=="symbol"?t:t+""}function S7(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Dc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $1={formatExtension:function(t,r,s){return"".concat(t).concat(s.ext()).concat(r)}};function $7(e,t,r,s){if(r?r=S1(S1({},$1),r):r=$1,s=new Mr(s),e.country&&e.country!=="001"){if(!s.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));s.country(e.country)}else if(e.countryCallingCode)s.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var l=s.countryCallingCode(),c=r.v2?e.nationalNumber:e.phone,u;switch(t){case"NATIONAL":return c?(u=o0(c,e.carrierCode,"NATIONAL",s,r),pm(u,e.ext,s,r.formatExtension)):"";case"INTERNATIONAL":return c?(u=o0(c,null,"INTERNATIONAL",s,r),u="+".concat(l," ").concat(u),pm(u,e.ext,s,r.formatExtension)):"+".concat(l);case"E.164":return"+".concat(l).concat(c);case"RFC3966":return v7({number:"+".concat(l).concat(c),ext:e.ext});case"IDD":if(!r.fromCountry)return;var f=_7(c,e.carrierCode,l,r.fromCountry,s);return pm(f,e.ext,s,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function o0(e,t,r,s,l){var c=C7(s.formats(),e);return c?v4(e,c,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(c.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&l&&l.nationalPrefix===!1),carrierCode:t,metadata:s}):e}function C7(e,t){for(var r=w7(e),s;!(s=r()).done;){var l=s.value;if(l.leadingDigitsPatterns().length>0){var c=l.leadingDigitsPatterns()[l.leadingDigitsPatterns().length-1];if(t.search(c)!==0)continue}if(ts(t,l.pattern()))return l}}function pm(e,t,r,s){return t?s(e,t,r):e}function _7(e,t,r,s,l){var c=Zs(s,l.metadata);if(c===r){var u=o0(e,t,"NATIONAL",l);return r==="1"?r+" "+u:u}var f=u7(s,void 0,l.metadata);if(f)return"".concat(f," ").concat(r," ").concat(o0(e,null,"INTERNATIONAL",l))}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(s){E7(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function E7(e,t,r){return(t=N4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O7(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,N4(s.key),s)}}function A7(e,t,r){return t&&O7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N4(e){var t=R7(e,"string");return Lc(t)=="symbol"?t:t+""}function R7(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Lc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j4=function(){function e(t,r,s){if(T7(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(Li(r)&&Li(r.countries)){s=r;var l=t;if(!D7.test(l))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var c=sy(l,void 0,void 0,s),u=c.countryCallingCode,f=c.number;if(r=f,t=u,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");f4(s);var h=M7(t,s),m=h.country,y=h.countryCallingCode;this.country=m,this.countryCallingCode=y,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return s}}return A7(e,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:WC(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return VC(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return XC(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new Mr(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return ay(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,s){return $7(this,r,s?_1(_1({},s),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])}(),P7=function(t){return/^[A-Z]{2}$/.test(t)};function M7(e,t){var r,s,l=new Mr(t);return P7(e)?(r=e,l.selectNumberingPlan(r),s=l.countryCallingCode()):s=e,{country:r,countryCallingCode:s}}var D7=/^\+\d+$/;function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function L7(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function I7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U7(e,t,r){return t=Uc(t),F7(e,iy()?Reflect.construct(t,r||[],Uc(e).constructor):t.apply(e,r))}function F7(e,t){if(t&&(dg(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7(e)}function B7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ic(e,t)}function ug(e){var t=typeof Map=="function"?new Map:void 0;return ug=function(s){if(s===null||!q7(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(s))return t.get(s);t.set(s,l)}function l(){return H7(s,arguments,Uc(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Ic(l,s)},ug(e)}function H7(e,t,r){if(iy())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var l=new(e.bind.apply(e,s));return r&&Ic(l,r.prototype),l}function iy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iy=function(){return!!e})()}function q7(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function Ic(e,t){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ic(e,t)}function Uc(e){return Uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uc(e)}var Qn=function(e){function t(r){var s;return I7(this,t),s=U7(this,t,[r]),Object.setPrototypeOf(s,t.prototype),s.name=s.constructor.name,s}return z7(t,e),L7(t)}(ug(Error)),E1=new RegExp("(?:"+w4()+")$","i");function G7(e){var t=e.search(E1);if(t<0)return{};for(var r=e.slice(0,t),s=e.match(E1),l=1;l<s.length;){if(s[l])return{number:r,ext:s[l]};l++}}function V7(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=K7(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(e,t){if(e){if(typeof e=="string")return T1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T1(e,t):void 0}}function T1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Y7={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function k4(e){return Y7[e]}function l0(e){for(var t="",r=V7(e.split("")),s;!(s=r()).done;){var l=s.value,c=k4(l);c&&(t+=c)}return t}function Q7(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=X7(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7(e,t){if(e){if(typeof e=="string")return O1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O1(e,t):void 0}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function fg(e){for(var t="",r=Q7(e.split("")),s;!(s=r()).done;){var l=s.value;t+=S4(l,t)||""}return t}function S4(e,t,r){if(e==="+"){if(t){typeof r=="function"&&r("end");return}return"+"}return k4(e)}function W7(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Z7(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return A1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A1(e,t):void 0}}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function $4(e,t){var r=t.countries;t.defaultCountry;var s=t.metadata;s=new Mr(s);for(var l=W7(r),c;!(c=l()).done;){var u=c.value;if(s.country(u),s.leadingDigits()){if(e&&e.search(s.leadingDigits())===0)return u}else if(ay({phone:e,country:u},void 0,s.metadata))return u}}function C4(e,t){var r=t.nationalNumber,s=t.defaultCountry,l=t.metadata,c=l.getCountryCodesForCallingCode(e);if(c)return c.length===1?c[0]:$4(r,{countries:c,defaultCountry:s,metadata:l.metadata})}var _4="+",J7="[\\-\\.\\(\\)]?",R1="(["+sa+"]|"+J7+")",e_="^\\"+_4+R1+"*["+sa+"]"+R1+"*$",t_=new RegExp(e_,"g"),hg=sa,r_="["+hg+"]+((\\-)*["+hg+"])*",a_="a-zA-Z",n_="["+a_+"]+((\\-)*["+hg+"])*",s_="^("+r_+"\\.)*"+n_+"\\.?$",i_=new RegExp(s_,"g"),P1="tel:",mg=";phone-context=",o_=";isub=";function l_(e){var t=e.indexOf(mg);if(t<0)return null;var r=t+mg.length;if(r>=e.length)return"";var s=e.indexOf(";",r);return s>=0?e.substring(r,s):e.substring(r)}function c_(e){return e===null?!0:e.length===0?!1:t_.test(e)||i_.test(e)}function d_(e,t){var r=t.extractFormattedPhoneNumber,s=l_(e);if(!c_(s))throw new Qn("NOT_A_NUMBER");var l;if(s===null)l=r(e)||"";else{l="",s.charAt(0)===_4&&(l+=s);var c=e.indexOf(P1),u;c>=0?u=c+P1.length:u=0;var f=e.indexOf(mg);l+=e.substring(u,f)}var h=l.indexOf(o_);if(h>0&&(l=l.substring(0,h)),l!=="")return l}var u_=250,f_=new RegExp("["+D0+sa+"]"),h_=new RegExp("[^"+sa+"#]+$");function m_(e,t,r){if(t=t||{},r=new Mr(r),t.defaultCountry&&!r.hasCountry(t.defaultCountry))throw t.v2?new Qn("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var s=y_(e,t.v2,t.extract),l=s.number,c=s.ext,u=s.error;if(!l){if(t.v2)throw u==="TOO_SHORT"?new Qn("TOO_SHORT"):new Qn("NOT_A_NUMBER");return{}}var f=x_(l,t.defaultCountry,t.defaultCallingCode,r),h=f.country,m=f.nationalNumber,y=f.countryCallingCode,w=f.countryCallingCodeSource,b=f.carrierCode;if(!r.hasSelectedNumberingPlan()){if(t.v2)throw new Qn("INVALID_COUNTRY");return{}}if(!m||m.length<ny){if(t.v2)throw new Qn("TOO_SHORT");return{}}if(m.length>JC){if(t.v2)throw new Qn("TOO_LONG");return{}}if(t.v2){var v=new j4(y,m,r.metadata);return h&&(v.country=h),b&&(v.carrierCode=b),c&&(v.ext=c),v.__countryCallingCodeSource=w,v}var $=(t.extended?r.hasSelectedNumberingPlan():h)?ts(m,r.nationalNumberPattern()):!1;return t.extended?{country:h,countryCallingCode:y,carrierCode:b,valid:$,possible:$?!0:!!(t.extended===!0&&r.possibleLengths()&&g4(m,r)),phone:m,ext:c}:$?p_(h,m,c):{}}function g_(e,t,r){if(e){if(e.length>u_){if(r)throw new Qn("TOO_LONG");return}if(t===!1)return e;var s=e.search(f_);if(!(s<0))return e.slice(s).replace(h_,"")}}function y_(e,t,r){var s=d_(e,{extractFormattedPhoneNumber:function(u){return g_(u,r,t)}});if(!s)return{};if(!x7(s))return b7(s)?{error:"TOO_SHORT"}:{};var l=G7(s);return l.ext?l:{number:s}}function p_(e,t,r){var s={country:e,phone:t};return r&&(s.ext=r),s}function x_(e,t,r,s){var l=sy(fg(e),t,r,s.metadata),c=l.countryCallingCodeSource,u=l.countryCallingCode,f=l.number,h;if(u)s.selectNumberingPlan(u);else if(f&&(t||r))s.selectNumberingPlan(t,r),t&&(h=t),u=r||Zs(t,s.metadata);else return{};if(!f)return{countryCallingCodeSource:c,countryCallingCode:u};var m=cg(fg(f),s),y=m.nationalNumber,w=m.carrierCode,b=C4(u,{nationalNumber:y,defaultCountry:t,metadata:s});return b&&(h=b,b==="001"||s.country(h)),{country:h,countryCallingCode:u,countryCallingCodeSource:c,nationalNumber:y,carrierCode:w}}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function D1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(s){b_(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function b_(e,t,r){return(t=v_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v_(e){var t=w_(e,"string");return Fc(t)=="symbol"?t:t+""}function w_(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Fc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N_(e,t,r){return m_(e,D1(D1({},t),{},{v2:!0}),r)}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(s){k_(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function k_(e,t,r){return(t=S_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S_(e){var t=$_(e,"string");return Bc(t)=="symbol"?t:t+""}function $_(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Bc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C_(e,t){return O_(e)||T_(e,t)||E_(e,t)||__()}function __(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_(e,t){if(e){if(typeof e=="string")return I1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I1(e,t):void 0}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function T_(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,l,c,u,f=[],h=!0,m=!1;try{if(c=(r=r.call(e)).next,t!==0)for(;!(h=(s=c.call(r)).done)&&(f.push(s.value),f.length!==t);h=!0);}catch(y){m=!0,l=y}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw l}}return f}}function O_(e){if(Array.isArray(e))return e}function A_(e){var t=Array.prototype.slice.call(e),r=C_(t,4),s=r[0],l=r[1],c=r[2],u=r[3],f,h,m;if(typeof s=="string")f=s;else throw new TypeError("A text for parsing must be a string.");if(!l||typeof l=="string")u?(h=c,m=u):(h=void 0,m=c),l&&(h=j_({defaultCountry:l},h));else if(Li(l))c?(h=l,m=c):m=l;else throw new Error("Invalid second argument: ".concat(l));return{text:f,options:h,metadata:m}}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(s){R_(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function R_(e,t,r){return(t=P_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e){var t=M_(e,"string");return zc(t)=="symbol"?t:t+""}function M_(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(zc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_(e,t,r){t&&t.defaultCountry&&!h4(t.defaultCountry,r)&&(t=F1(F1({},t),{},{defaultCountry:void 0}));try{return N_(e,t,r)}catch(s){if(!(s instanceof Qn))throw s}}function L_(){var e=A_(arguments),t=e.text,r=e.options,s=e.metadata;return D_(t,r,s)}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function I_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U_(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,B_(s.key),s)}}function F_(e,t,r){return t&&U_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B_(e){var t=z_(e,"string");return Hc(t)=="symbol"?t:t+""}function z_(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var H_=function(){function e(t){var r=t.onCountryChange,s=t.onCallingCodeChange;I_(this,e),this.onCountryChange=r,this.onCallingCodeChange=s}return F_(e,[{key:"reset",value:function(r){var s=r.country,l=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(s,l)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(r){for(var s=0,l=Object.keys(r);s<l.length;s++){var c=l[s];this[c]=r[c]}}},{key:"initCountryAndCallingCode",value:function(r,s){this.setCountry(r),this.setCallingCode(s)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,s){this.international=!0,this.initCountryAndCallingCode(r,s)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function q_(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=G_(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_(e,t){if(e){if(typeof e=="string")return B1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B1(e,t):void 0}}function B1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var rn="x",xm=new RegExp(rn);function Vu(e,t){if(t<1)return"";for(var r="";t>1;)t&1&&(r+=e),t>>=1,e+=e;return r+e}function z1(e,t){return e[t]===")"&&t++,V_(e.slice(0,t))}function V_(e){for(var t=[],r=0;r<e.length;)e[r]==="("?t.push(r):e[r]===")"&&t.pop(),r++;var s=0,l="";t.push(e.length);for(var c=0,u=t;c<u.length;c++){var f=u[c];l+=e.slice(s,f),s=f+1}return l}function K_(e,t,r){for(var s=q_(r.split("")),l;!(l=s()).done;){var c=l.value;if(e.slice(t+1).search(xm)<0)return;t=e.search(xm),e=e.replace(xm,c)}return[e,t]}function Y_(e,t,r){var s=r.metadata,l=r.shouldTryNationalPrefixFormattingRule,c=r.getSeparatorAfterNationalPrefix,u=new RegExp("^(?:".concat(t.pattern(),")$"));if(u.test(e.nationalSignificantNumber))return X_(e,t,{metadata:s,shouldTryNationalPrefixFormattingRule:l,getSeparatorAfterNationalPrefix:c})}function Q_(e,t){return M0(e,t)==="IS_POSSIBLE"}function X_(e,t,r){var s=r.metadata,l=r.shouldTryNationalPrefixFormattingRule,c=r.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,l(t)){var u=H1(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:c,metadata:s});if(u)return u}return H1(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:c,metadata:s})}function H1(e,t,r){var s=r.metadata,l=r.useNationalPrefixFormattingRule,c=r.getSeparatorAfterNationalPrefix,u=v4(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:l,metadata:s});if(l||(e.nationalPrefix?u=e.nationalPrefix+c(t)+u:e.complexPrefixBeforeNationalSignificantNumber&&(u=e.complexPrefixBeforeNationalSignificantNumber+" "+u)),W_(u,e))return u}function W_(e,t){return l0(e)===t.getNationalDigits()}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Z_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J_(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tE(s.key),s)}}function eE(e,t,r){return t&&J_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tE(e){var t=rE(e,"string");return qc(t)=="symbol"?t:t+""}function rE(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(qc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aE=function(){function e(){Z_(this,e)}return eE(e,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var s=this.context[0],l=s.branches,c=s.instructions;if(l)return{op:"|",args:l.concat([bm(c)])};if(c.length===0)throw new Error("Pattern is required");return c.length===1?c[0]:c}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var s=r.match(iE);if(!s){if(sE.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var l=s[1],c=r.slice(0,s.index),u=r.slice(s.index+l.length);switch(l){case"(?:":c&&this.parsePattern(c),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(c&&this.parsePattern(c),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var f=this.getContext(),h=f.branches;h.push(bm(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:h});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(c&&this.parsePattern(c),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(bm(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":c&&this.parsePattern(c),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:nE(c)});break;default:throw new Error("Unknown operator: ".concat(l))}u&&this.parsePattern(u)}}])}();function nE(e){for(var t=[],r=0;r<e.length;){if(e[r]==="-"){if(r===0||r===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var s=e[r-1].charCodeAt(0)+1,l=e[r+1].charCodeAt(0)-1,c=s;c<=l;)t.push(String.fromCharCode(c)),c++}else t.push(e[r]);r++}return t}var sE=/[\(\)\[\]\?\:\|]/,iE=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function bm(e){return e.length===1?e[0]:e}function q1(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=oE(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oE(e,t){if(e){if(typeof e=="string")return G1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G1(e,t):void 0}}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function lE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,uE(s.key),s)}}function dE(e,t,r){return t&&cE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uE(e){var t=fE(e,"string");return Gc(t)=="symbol"?t:t+""}function fE(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Gc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hE=function(){function e(t){lE(this,e),this.matchTree=new aE().parse(t)}return dE(e,[{key:"match",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.allowOverflow;if(!r)throw new Error("String is required");var c=gg(r.split(""),this.matchTree,!0);if(c&&c.match&&delete c.matchedChars,!(c&&c.overflow&&!l))return c}}])}();function gg(e,t,r){if(typeof t=="string"){var s=e.join("");return t.indexOf(s)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:s.indexOf(t)===0?r&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var l=e.slice(),c=0;c<t.length;){var u=t[c],f=gg(l,u,r&&c===t.length-1);if(f){if(f.overflow)return f;if(f.match){if(l=l.slice(f.matchedChars.length),l.length===0)return c===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(f.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}else return;c++}return r?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-l.length)}}switch(t.op){case"|":for(var h,m=q1(t.args),y;!(y=m()).done;){var w=y.value,b=gg(e,w,r);if(b){if(b.overflow)return b;if(b.match)return{match:!0,matchedChars:b.matchedChars};if(b.partialMatch)h=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(b,null,2)))}}return h?{partialMatch:!0}:void 0;case"[]":for(var v=q1(t.args),$;!($=v()).done;){var N=$.value;if(e[0]===N)return e.length===1?{match:!0,matchedChars:e}:r?{overflow:!0}:{match:!0,matchedChars:[N]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function V1(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=mE(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mE(e,t){if(e){if(typeof e=="string")return K1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K1(e,t):void 0}}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function gE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xE(s.key),s)}}function pE(e,t,r){return t&&yE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xE(e){var t=bE(e,"string");return Vc(t)=="symbol"?t:t+""}function bE(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Vc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yg="9",vE=15,wE=Vu(yg,vE),NE=/[- ]/,jE=function(){return/\[([^\[\]])*\]/g},kE=function(){return/\d(?=[^,}][^,}])/g},SE=new RegExp("["+cn+"]*\\$1["+cn+"]*(\\$\\d["+cn+"]*)*$"),Y1=3,$E=function(){function e(t){t.state;var r=t.metadata;gE(this,e),this.metadata=r,this.resetFormat()}return pE(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,s){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),s.nationalSignificantNumber&&this.narrowDownMatchingFormats(s)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,s){var l=this;if(Q_(s.nationalSignificantNumber,this.metadata))for(var c=V1(this.matchingFormats),u;!(u=c()).done;){var f=u.value,h=Y_(s,f,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(y){return l.shouldTryNationalPrefixFormattingRule(y,{international:s.international,nationalPrefix:s.nationalPrefix})},getSeparatorAfterNationalPrefix:function(y){return l.getSeparatorAfterNationalPrefix(y)}});if(h)return this.resetFormat(),this.chosenFormat=f,this.setNationalNumberTemplate(h.replace(/\d/g,rn),s),this.populatedNationalNumberTemplate=h,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(rn),h}return this.formatNationalNumberWithNextDigits(r,s)}},{key:"formatNationalNumberWithNextDigits",value:function(r,s){var l=this.chosenFormat,c=this.chooseFormat(s);if(c)return c===l?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(s.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var s=this,l=r.nationalSignificantNumber,c=r.nationalPrefix,u=r.international,f=l,h=f.length-Y1;h<0&&(h=0),this.matchingFormats=this.matchingFormats.filter(function(m){return s.formatSuits(m,u,c)&&s.formatMatches(m,f,h)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,s,l){return!(l&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!s&&!l&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,s,l){var c=r.leadingDigitsPatterns().length;if(c===0)return!0;l=Math.min(l,c-1);var u=r.leadingDigitsPatterns()[l];if(s.length<Y1)try{return new hE(u).match(s,{allowOverflow:!0})!==void 0}catch(f){return console.error(f),!0}return new RegExp("^(".concat(u,")")).test(s)}},{key:"getFormatFormat",value:function(r,s){return s?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var s=this,l=function(){var m=f.value;return s.chosenFormat===m?0:SE.test(s.getFormatFormat(m,r.international))?s.createTemplateForFormat(m,r)?(s.chosenFormat=m,0):(s.matchingFormats=s.matchingFormats.filter(function(y){return y!==m}),1):1},c,u=V1(this.matchingFormats.slice()),f;!(f=u()).done&&(c=l(),c!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,s){if(!(r.pattern().indexOf("|")>=0)){var l=this.getTemplateForFormat(r,s);if(l)return this.setNationalNumberTemplate(l,s),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&NE.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,s){var l=r.IDDPrefix,c=r.missingPlus;return l?s&&s.spacing===!1?l:l+" ":c?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var s=-1,l=0,c=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";l<c.length+r.getDigitsWithoutInternationalPrefix().length;)s=this.template.indexOf(rn,s+1),l++;return z1(this.template,s+1)}}},{key:"setNationalNumberTemplate",value:function(r,s){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,s.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(s).replace(/[\d\+]/g,rn)+Vu(rn,s.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,s){var l=s.nationalSignificantNumber,c=s.international,u=s.nationalPrefix,f=s.complexPrefixBeforeNationalSignificantNumber,h=r.pattern();h=h.replace(jE(),"\\d").replace(kE(),"\\d");var m=wE.match(h)[0];if(!(l.length>m.length)){var y=new RegExp("^"+h+"$"),w=l.replace(/\d/g,yg);y.test(w)&&(m=w);var b=this.getFormatFormat(r,c),v;if(this.shouldTryNationalPrefixFormattingRule(r,{international:c,nationalPrefix:u})){var $=b.replace(b4,r.nationalPrefixFormattingRule());if(l0(r.nationalPrefixFormattingRule())===(u||"")+l0("$1")&&(b=$,v=!0,u))for(var N=u.length;N>0;)b=b.replace(/\d/,rn),N--}var C=m.replace(new RegExp(h),b).replace(new RegExp(yg,"g"),rn);return v||(f?C=Vu(rn,f.length)+" "+C:u&&(C=Vu(rn,u.length)+this.getSeparatorAfterNationalPrefix(r)+C)),c&&(C=x4(C)),C}}},{key:"formatNextNationalNumberDigits",value:function(r){var s=K_(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!s){this.resetFormat();return}return this.populatedNationalNumberTemplate=s[0],this.populatedNationalNumberTemplatePosition=s[1],z1(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,s){var l=s.international,c=s.nationalPrefix;if(r.nationalPrefixFormattingRule()){var u=r.usesNationalPrefix();if(u&&c||!u&&!l)return!0}}}])}();function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function E4(e,t){return TE(e)||EE(e,t)||_E(e,t)||CE()}function CE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _E(e,t){if(e){if(typeof e=="string")return Q1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q1(e,t):void 0}}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function EE(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,l,c,u,f=[],h=!0,m=!1;try{if(c=(r=r.call(e)).next,t!==0)for(;!(h=(s=c.call(r)).done)&&(f.push(s.value),f.length!==t);h=!0);}catch(y){m=!0,l=y}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw l}}return f}}function TE(e){if(Array.isArray(e))return e}function OE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PE(s.key),s)}}function RE(e,t,r){return t&&AE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PE(e){var t=ME(e,"string");return Kc(t)=="symbol"?t:t+""}function ME(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Kc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DE="["+cn+sa+"]+",LE=new RegExp("^"+DE+"$","i"),IE="(?:["+D0+"]["+cn+sa+"]*|["+cn+sa+"]+)",UE=new RegExp("[^"+cn+sa+"]+.*$"),FE=/[^\d\[\]]/,BE=function(){function e(t){var r=t.defaultCountry,s=t.defaultCallingCode,l=t.metadata,c=t.onNationalSignificantNumberChange;OE(this,e),this.defaultCountry=r,this.defaultCallingCode=s,this.metadata=l,this.onNationalSignificantNumberChange=c}return RE(e,[{key:"input",value:function(r,s){var l=qE(r),c=E4(l,2),u=c[0],f=c[1],h=l0(u),m;return f&&(s.digits||(s.startInternationalNumber(),h||(m=!0))),h&&this.inputDigits(h,s),{digits:h,justLeadingPlus:m}}},{key:"inputDigits",value:function(r,s){var l=s.digits,c=l.length<3&&l.length+r.length>=3;if(s.appendDigits(r),c&&this.extractIddPrefix(s),this.isWaitingForCountryCallingCode(s)){if(!this.extractCountryCallingCode(s))return}else s.appendNationalSignificantNumberDigits(r);s.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(s.getNationalDigits(),function(u){return s.update(u)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var s=r.international,l=r.callingCode;return s&&!l}},{key:"extractCountryCallingCode",value:function(r){var s=sy("+"+r.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),l=s.countryCallingCode,c=s.number;if(l)return r.setCallingCode(l),r.update({nationalSignificantNumber:c}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var s=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=s&&FE.test(s)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,s){if(this.hasSelectedNumberingPlan){var l=lg(r,this.metadata),c=l.nationalPrefix,u=l.nationalNumber,f=l.carrierCode;if(u!==r)return this.onExtractedNationalNumber(c,f,u,r,s),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,s,l){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,l);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var c=lg(r,this.metadata),u=c.nationalPrefix,f=c.nationalNumber,h=c.carrierCode;if(f!==s)return this.onExtractedNationalNumber(u,h,f,r,l),!0}}},{key:"onExtractedNationalNumber",value:function(r,s,l,c,u){var f,h,m=c.lastIndexOf(l);if(m>=0&&m===c.length-l.length){h=!0;var y=c.slice(0,m);y!==r&&(f=y)}u({nationalPrefix:r,carrierCode:s,nationalSignificantNumber:l,nationalSignificantNumberMatchesInput:h,complexPrefixBeforeNationalSignificantNumber:f}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(s){return r.update(s)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var s=r.international,l=r.IDDPrefix,c=r.digits;if(r.nationalSignificantNumber,!(s||l)){var u=y4(c,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(u!==void 0&&u!==c)return r.update({IDDPrefix:c.slice(0,c.length-u.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var s=p4(r.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),l=s.countryCallingCode;if(s.number,l)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:l}),!0}}},{key:"startInternationalNumber",value:function(r,s){var l=s.country,c=s.callingCode;r.startInternationalNumber(l,c),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(s){return r.update(s)})}}])}();function zE(e){var t=e.search(IE);if(!(t<0)){e=e.slice(t);var r;return e[0]==="+"&&(r=!0,e=e.slice(1)),e=e.replace(UE,""),r&&(e="+"+e),e}}function HE(e){var t=zE(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function qE(e){var t=HE(e),r=E4(t,2),s=r[0],l=r[1];return LE.test(s)||(s=""),[s,l]}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function GE(e,t){return QE(e)||YE(e,t)||KE(e,t)||VE()}function VE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KE(e,t){if(e){if(typeof e=="string")return X1(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X1(e,t):void 0}}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function YE(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,l,c,u,f=[],h=!0,m=!1;try{if(c=(r=r.call(e)).next,t!==0)for(;!(h=(s=c.call(r)).done)&&(f.push(s.value),f.length!==t);h=!0);}catch(y){m=!0,l=y}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw l}}return f}}function QE(e){if(Array.isArray(e))return e}function XE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JE(s.key),s)}}function ZE(e,t,r){return t&&WE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JE(e){var t=eT(e,"string");return Yc(t)=="symbol"?t:t+""}function eT(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Yc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gl=function(){function e(t,r){XE(this,e),this.metadata=new Mr(r);var s=this.getCountryAndCallingCode(t),l=GE(s,2),c=l[0],u=l[1];this.defaultCountry=c,this.defaultCallingCode=u,this.reset()}return ZE(e,[{key:"getCountryAndCallingCode",value:function(r){var s,l;return r&&(Li(r)?(s=r.defaultCountry,l=r.defaultCallingCode):s=r),s&&!this.metadata.hasCountry(s)&&(s=void 0),[s,l]}},{key:"input",value:function(r){var s=this.parser.input(r,this.state),l=s.digits,c=s.justLeadingPlus;if(c)this.formattedOutput="+";else if(l){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var u;if(this.metadata.hasSelectedNumberingPlan()&&(u=this.formatter.format(l,this.state)),u===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var f=this.state.getNationalDigits();f&&(u=this.formatter.format(f,this.state))}this.formattedOutput=u?this.getFullNumber(u):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new H_({onCountryChange:function(l){r.country=l},onCallingCodeChange:function(l,c){r.metadata.selectNumberingPlan(c,l),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new $E({state:this.state,metadata:this.metadata}),this.parser=new BE({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var s=this;if(this.isInternational()){var l=function(f){return s.formatter.getInternationalPrefixBeforeCountryCallingCode(s.state,{spacing:!!f})+f},c=this.state.callingCode;return l(c?r?"".concat(c," ").concat(r):c:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,s=r.nationalSignificantNumber,l=r.complexPrefixBeforeNationalSignificantNumber,c=r.nationalPrefix,u=s,f=l||c;return f&&(u=f+u),u}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(r?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,rn)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,s=this.metadata.getCountryCodesForCallingCode(r);return s&&s.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(C4(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,s=r.digits,l=r.callingCode,c=r.country,u=r.nationalSignificantNumber;if(s){if(this.isInternational())return l?"+"+l+u:"+"+s;if(c||l){var f=c?this.metadata.countryCallingCode():l;return"+"+f+u}}}},{key:"getNumber",value:function(){var r=this.state,s=r.nationalSignificantNumber,l=r.carrierCode,c=r.callingCode,u=this._getCountry();if(s&&!(!u&&!c)){if(u&&u===this.defaultCountry){var f=new Mr(this.metadata.metadata);f.selectNumberingPlan(u);var h=f.numberingPlan.callingCode(),m=this.metadata.getCountryCodesForCallingCode(h);if(m.length>1){var y=$4(s,{countries:m,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});y&&(u=y)}}var w=new j4(u||c,s,this.metadata.metadata);return l&&(w.carrierCode=l),w}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function W1(e){return new Mr(e).getCountries()}function tT(e,t,r){return r||(r=t,t=void 0),new gl(t,r).input(e)}function T4(e){var t=e.inputFormat,r=e.country,s=e.metadata;return t==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Zs(r,s)):""}function pg(e,t){return t&&(e=e.slice(t.length),e[0]===" "&&(e=e.slice(1))),e}function rT(e,t,r){if(!(r&&r.ignoreRest)){var s=function(c){if(r)switch(c){case"end":r.ignoreRest=!0;break}};return S4(e,t,s)}}function O4(e){var t=e.onKeyDown,r=e.inputFormat;return x.useCallback(function(s){if(s.keyCode===nT&&r==="INTERNATIONAL"&&s.target instanceof HTMLInputElement&&aT(s.target)===sT.length){s.preventDefault();return}t&&t(s)},[t,r])}function aT(e){return e.selectionStart}var nT=8,sT="+",iT=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xg.apply(this,arguments)}function oT(e,t){if(e==null)return{};var r=lT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lT(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function cT(e){function t(r,s){var l=r.onKeyDown,c=r.country,u=r.inputFormat,f=r.metadata,h=f===void 0?e:f;r.international,r.withCountryCallingCode;var m=oT(r,iT),y=x.useCallback(function(b){var v=new gl(c,h),$=T4({inputFormat:u,country:c,metadata:h}),N=v.input($+b),C=v.getTemplate();return $&&(N=pg(N,$),C&&(C=pg(C,$))),{text:N,template:C}},[c,h]),w=O4({onKeyDown:l,inputFormat:u});return Ke.createElement(i0,xg({},m,{ref:s,parse:rT,format:y,onKeyDown:w}))}return t=Ke.forwardRef(t),t.propTypes={value:Fe.string.isRequired,onChange:Fe.func.isRequired,onKeyDown:Fe.func,country:Fe.string,inputFormat:Fe.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:Fe.object},t}const dT=cT();var uT=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bg.apply(this,arguments)}function fT(e,t){if(e==null)return{};var r=hT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hT(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function mT(e){function t(r,s){var l=r.value,c=r.onChange,u=r.onKeyDown,f=r.country,h=r.inputFormat,m=r.metadata,y=m===void 0?e:m,w=r.inputComponent,b=w===void 0?"input":w;r.international,r.withCountryCallingCode;var v=fT(r,uT),$=T4({inputFormat:h,country:f,metadata:y}),N=x.useCallback(function(k){var O=fg(k.target.value);if(O===l){var A=Z1($,O,f,y);A.indexOf(k.target.value)===0&&(O=O.slice(0,-1))}c(O)},[$,l,c,f,y]),C=O4({onKeyDown:u,inputFormat:h});return Ke.createElement(b,bg({},v,{ref:s,value:Z1($,l,f,y),onChange:N,onKeyDown:C}))}return t=Ke.forwardRef(t),t.propTypes={value:Fe.string.isRequired,onChange:Fe.func.isRequired,onKeyDown:Fe.func,country:Fe.string,inputFormat:Fe.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:Fe.object,inputComponent:Fe.elementType},t}const gT=mT();function Z1(e,t,r,s){return pg(tT(e+t,r,s),e)}function yT(e){return J1(e[0])+J1(e[1])}function J1(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var pT=["value","onChange","options","disabled","readOnly"],xT=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function bT(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=vT(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,t){if(e){if(typeof e=="string")return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},c0.apply(this,arguments)}function A4(e,t){if(e==null)return{};var r=wT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function wT(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function R4(e){var t=e.value,r=e.onChange,s=e.options,l=e.disabled,c=e.readOnly,u=A4(e,pT),f=x.useCallback(function(h){var m=h.target.value;r(m==="ZZ"?void 0:m)},[r]);return x.useMemo(function(){return M4(s,t)},[s,t]),Ke.createElement("select",c0({},u,{disabled:l||c,readOnly:c,value:t||"ZZ",onChange:f}),s.map(function(h){var m=h.value,y=h.label,w=h.divider;return Ke.createElement("option",{key:w?"|":m||"ZZ",value:w?"|":m||"ZZ",disabled:!!w,style:w?NT:void 0},y)}))}R4.propTypes={value:Fe.string,onChange:Fe.func.isRequired,options:Fe.arrayOf(Fe.shape({value:Fe.string,label:Fe.string,divider:Fe.bool})).isRequired,disabled:Fe.bool,readOnly:Fe.bool};var NT={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function P4(e){var t=e.value,r=e.options,s=e.className,l=e.iconComponent;e.getIconAspectRatio;var c=e.arrowComponent,u=c===void 0?jT:c,f=e.unicodeFlags,h=A4(e,xT),m=x.useMemo(function(){return M4(r,t)},[r,t]);return Ke.createElement("div",{className:"PhoneInputCountry"},Ke.createElement(R4,c0({},h,{value:t,options:r,className:s0("PhoneInputCountrySelect",s)})),m&&(f&&t?Ke.createElement("div",{className:"PhoneInputCountryIconUnicode"},yT(t)):Ke.createElement(l,{"aria-hidden":!0,country:t,label:m.label,aspectRatio:f?1:void 0})),Ke.createElement(u,null))}P4.propTypes={iconComponent:Fe.elementType,arrowComponent:Fe.elementType,unicodeFlags:Fe.bool};function jT(){return Ke.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function M4(e,t){for(var r=bT(e),s;!(s=r()).done;){var l=s.value;if(!l.divider&&kT(l.value,t))return l}}function kT(e,t){return e==null?t==null:e===t}var ST=["country","countryName","flags","flagUrl"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vg.apply(this,arguments)}function $T(e,t){if(e==null)return{};var r=CT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function CT(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function oy(e){var t=e.country,r=e.countryName,s=e.flags,l=e.flagUrl,c=$T(e,ST);return s&&s[t]?s[t]({title:r}):Ke.createElement("img",vg({},c,{alt:r,role:r?void 0:"presentation",src:l.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}oy.propTypes={country:Fe.string.isRequired,countryName:Fe.string.isRequired,flags:Fe.objectOf(Fe.elementType),flagUrl:Fe.string.isRequired};var _T=["aspectRatio"],ET=["title"],TT=["title"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},d0.apply(this,arguments)}function ly(e,t){if(e==null)return{};var r=OT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function OT(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function L0(e){var t=e.aspectRatio,r=ly(e,_T);return t===1?Ke.createElement(L4,r):Ke.createElement(D4,r)}L0.propTypes={title:Fe.string.isRequired,aspectRatio:Fe.number};function D4(e){var t=e.title,r=ly(e,ET);return Ke.createElement("svg",d0({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),Ke.createElement("title",null,t),Ke.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},Ke.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),Ke.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),Ke.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),Ke.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),Ke.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),Ke.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),Ke.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}D4.propTypes={title:Fe.string.isRequired};function L4(e){var t=e.title,r=ly(e,TT);return Ke.createElement("svg",d0({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),Ke.createElement("title",null,t),Ke.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},Ke.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),Ke.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),Ke.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),Ke.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),Ke.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),Ke.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),Ke.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}L4.propTypes={title:Fe.string.isRequired};function AT(e){if(e.length<2||e[0]!=="+")return!1;for(var t=1;t<e.length;){var r=e.charCodeAt(t);if(!(r>=48&&r<=57))return!1;t++}return!0}function I4(e){AT(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function RT(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=PT(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PT(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function MT(e,t){if(!t)return e;for(var r=[],s=[],l=r,c=function(){var m=f.value;if(m==="|")l.push({divider:!0});else if(m==="..."||m==="")l=s;else{var y;m===""?y=void 0:y=m;var w=e.indexOf(e.filter(function(v){return v.value===y})[0]),b=e[w];e.splice(w,1),l.push(b)}},u=RT(t),f;!(f=u()).done;)c();return r.concat(e).concat(s)}function DT(e,t){if(e&&(e=e.filter(function(r){switch(r){case"":case"|":case"...":case"":return!0;default:return I0(r,t)}}),e.length>0))return e}function I0(e,t){return h4(e,t)?!0:(console.error("Country not found: ".concat(e)),!1)}function U4(e,t){return e&&(e=e.filter(function(r){return I0(r,t)}),e.length===0&&(e=void 0)),e}var LT=["country","label","aspectRatio"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wg.apply(this,arguments)}function IT(e,t){if(e==null)return{};var r=UT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function UT(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function F4(e){var t=e.flags,r=e.flagUrl,s=e.flagComponent,l=e.internationalIcon;function c(u){var f=u.country,h=u.label,m=u.aspectRatio,y=IT(u,LT),w=l===L0?m:void 0;return Ke.createElement("div",wg({},y,{className:s0("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":w===1,"PhoneInputCountryIcon--border":f})}),f?Ke.createElement(s,{country:f,countryName:h,flags:t,flagUrl:r,className:"PhoneInputCountryIconImg"}):Ke.createElement(l,{title:h,aspectRatio:w,className:"PhoneInputCountryIconImg"}))}return c.propTypes={country:Fe.string,label:Fe.string.isRequired,aspectRatio:Fe.number},c}F4({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:oy,internationalIcon:L0});function FT(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=BT(e))||t){r&&(e=r);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BT(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function zT(e,t){for(var r=FT(e),s;!(s=r()).done;){var l=s.value;l&&HT(l,t)}}function HT(e,t){typeof e=="function"?e(t):e.current=t}var B4=Fe.shape({country_calling_codes:Fe.object.isRequired,countries:Fe.object.isRequired}),z4=Fe.objectOf(Fe.string);function Zn(e,t){var r="+"+Zs(e,t);return r}function qT(e){var t=e.value,r=e.phoneNumber,s=e.defaultCountry,l=e.getAnyCountry,c=e.countries,u=e.required,f=e.metadata,h;return r&&r.country?h=r.country:s&&(!t||Vo(t,s,f))&&(h=s),c&&c.indexOf(h)<0&&(h=void 0),!h&&u&&c&&c.length>0&&(h=l()),h}function GT(e){var t=e.countries,r=e.countryNames,s=e.addInternationalOption,l=e.compareStringsLocales,c=e.compareStrings;c||(c=ZT);var u=t.map(function(f){return{value:f,label:r[f]||f}});return u.sort(function(f,h){return c(f.label,h.label,l)}),s&&u.unshift({label:r.ZZ}),u}function H4(e,t){return L_(e||"",t)}function VT(e){return e.formatNational().replace(/\D/g,"")}function KT(e,t){var r=t.prevCountry,s=t.newCountry,l=t.metadata,c=t.useNationalFormat;if(r===s)return e;if(!e)return c?"":s?Zn(s,l):"";if(s){if(e[0]==="+"){if(c)return e.indexOf("+"+Zs(s,l))===0?JT(e,s,l):"";if(r){var u=Zn(s,l);return e.indexOf(u)===0?e:u}else{var f=Zn(s,l);return e.indexOf(f)===0?e:f}}}else if(e[0]!=="+")return zo(e,r,l)||"";return e}function zo(e,t,r){if(e){if(e[0]==="+"){if(e==="+")return;var s=new gl(t,r);return s.input(e),s.getNumberValue()}if(t){var l=G4(e,t,r);return"+".concat(Zs(t,r)).concat(l||"")}}}function YT(e,t,r){var s=G4(e,t,r);if(s){var l=s.length-QT(t,r);if(l>0)return e.slice(0,e.length-l)}return e}function QT(e,t){return t=new Mr(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function q4(e,t){var r=t.country,s=t.countries,l=t.defaultCountry,c=t.latestCountrySelectedByUser,u=t.required,f=t.metadata;if(e==="+")return r;var h=WT(e,f);if(h)return!s||s.indexOf(h)>=0?h:void 0;if(r){if(Vo(e,r,f)){if(c&&Vo(e,c,f))return c;if(l&&Vo(e,l,f))return l;if(!u)return}else if(!u)return}return r}function XT(e,t){var r=t.prevPhoneDigits,s=t.country,l=t.defaultCountry,c=t.latestCountrySelectedByUser,u=t.countryRequired,f=t.getAnyCountry,h=t.countries,m=t.international,y=t.limitMaxLength,w=t.countryCallingCodeEditable,b=t.metadata;if(m&&w===!1&&s){var v=Zn(s,b);if(e.indexOf(v)!==0){var $,N=e&&e[0]!=="+";return N?(e=v+e,$=zo(e,s,b)):e=v,{phoneDigits:e,value:$,country:s}}}m===!1&&s&&e&&e[0]==="+"&&(e=a2(e,s,b)),e&&s&&y&&(e=YT(e,s,b)),e&&e[0]!=="+"&&(!s||m)&&(e="+"+e),!e&&r&&r[0]==="+"&&(m?s=void 0:s=l),e==="+"&&r&&r[0]==="+"&&r.length>1&&(s=void 0);var C;return e&&(e[0]==="+"&&(e==="+"||s&&Zn(s,b).indexOf(e)===0)?C=void 0:C=zo(e,s,b)),C&&(s=q4(C,{country:s,countries:h,defaultCountry:l,latestCountrySelectedByUser:c,required:!1,metadata:b}),m===!1&&s&&e&&e[0]==="+"&&(e=a2(e,s,b),C=zo(e,s,b))),!s&&u&&(s=l||f()),{phoneDigits:e,country:s,value:C}}function a2(e,t,r){if(e.indexOf(Zn(t,r))===0){var s=new gl(t,r);s.input(e);var l=s.getNumber();return l?l.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function WT(e,t){var r=new gl(null,t);return r.input(e),r.getCountry()}function ZT(e,t,r){return String.prototype.localeCompare?e.localeCompare(t,r):e<t?-1:e>t?1:0}function JT(e,t,r){if(t){var s="+"+Zs(t,r);if(e.length<s.length){if(s.indexOf(e)===0)return""}else if(e.indexOf(s)===0)return e.slice(s.length)}for(var l=0,c=Object.keys(r.country_calling_codes);l<c.length;l++){var u=c[l];if(e.indexOf(u)===1)return e.slice(1+u.length)}return""}function G4(e,t,r){var s=new gl(t,r);s.input(e);var l=s.getNumber();return l&&l.nationalNumber}function Vo(e,t,r){for(var s=Zn(t,r),l=0;l<e.length&&l<s.length;){if(e[l]!==s[l])return!1;l++}return!0}function V4(e){var t=e.value,r=e.phoneNumber,s=e.defaultCountry,l=e.international,c=e.useNationalFormat,u=e.metadata;return(l===!1||c)&&r&&r.country?VT(r):!t&&l&&s?Zn(s,u):t}function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(s){eO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eO(e,t,r){return t=tO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e){var t=rO(e,"string");return Qc(t)=="symbol"?t:t+""}function rO(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Qc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aO(e,t,r){var s=e.metadata,l=e.countries,c=e.defaultCountry,u=e.value,f=e.reset,h=e.international,m=e.displayInitialValueAsLocalNumber,y=e.initialValueFormat,w=t.defaultCountry,b=t.value,v=t.reset;r.country;var $=r.value,N=r.hasUserSelectedACountry,C=r.latestCountrySelectedByUser,k=function(H){return V4($u($u({},H),{},{international:h,useNationalFormat:m||y==="national",metadata:s}))};if(f!==v)return{phoneDigits:k({value:void 0,defaultCountry:c}),value:void 0,country:c,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(c!==w){var O=!c||I0(c,s),A=!$||h&&$===k({value:void 0,defaultCountry:w}),B=!u&&A;if(!N&&O&&B)return{country:c,phoneDigits:k({value:void 0,defaultCountry:c}),value:void 0}}if(!s2(u,b)&&!s2(u,$)){var P,T;if(u){u&&I4(u),P=H4(u,s);var G=U4(l,s);P&&P.country?(!G||G.indexOf(P.country)>=0)&&(T=P.country):(T=q4(u,{country:void 0,countries:G,metadata:s}),T||c&&u.indexOf(Zn(c,s))===0&&(T=c))}var z;if(u){if(C){var Z=T?C===T:Vo(u,C,s);Z?T||(T=C):z={latestCountrySelectedByUser:void 0}}}else z={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return $u($u({},z),{},{phoneDigits:k({phoneNumber:P,value:u,defaultCountry:c}),value:u,country:u?T:c})}}function s2(e,t){return e===null&&(e=void 0),t===null&&(t=void 0),e===t}var nO=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function K4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(s){tn(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ko.apply(this,arguments)}function sO(e,t){if(e==null)return{};var r=iO(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function iO(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function oO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Q4(s.key),s)}}function lO(e,t,r){return t&&o2(e.prototype,t),r&&o2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cO(e,t,r){return t=u0(t),dO(e,Y4()?Reflect.construct(t,r||[],u0(e).constructor):t.apply(e,r))}function dO(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uO(e)}function uO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Y4=function(){return!!e})()}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(e)}function fO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ng(e,t)}function Ng(e,t){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},Ng(e,t)}function tn(e,t,r){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4(e){var t=hO(e,"string");return dl(t)=="symbol"?t:t+""}function hO(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(dl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mO=function(e){function t(r){var s;oO(this,t),s=cO(this,t,[r]),tn(s,"setInputRef",function(C){zT([s.props.inputRef,s.inputRef],C)}),tn(s,"isCountrySupportedWithError",function(C){var k=s.props.metadata;return I0(C,k)}),tn(s,"onCountryChange",function(C){var k=s.props,O=k.international,A=k.metadata,B=k.onChange,P=k.focusInputOnCountrySelection,T=s.state,G=T.phoneDigits,z=T.country,Z=KT(G,{prevCountry:z,newCountry:C,metadata:A,useNationalFormat:!O}),Q=zo(Z,C,A);P&&s.inputRef.current.focus(),s.setState({country:C,latestCountrySelectedByUser:C,hasUserSelectedACountry:!0,phoneDigits:Z,value:Q},function(){B(Q)})}),tn(s,"onChange",function(C){var k=s.props,O=k.defaultCountry,A=k.onChange,B=k.addInternationalOption,P=k.international,T=k.limitMaxLength,G=k.countryCallingCodeEditable,z=k.metadata,Z=s.state,Q=Z.countries,H=Z.phoneDigits,X=Z.country,ye=Z.latestCountrySelectedByUser,pe=XT(C,{prevPhoneDigits:H,country:X,countryRequired:!B,defaultCountry:O,latestCountrySelectedByUser:ye,getAnyCountry:function(){return s.getFirstSupportedCountry({countries:Q})},countries:Q,international:P,limitMaxLength:T,countryCallingCodeEditable:G,metadata:z}),Oe=pe.phoneDigits,q=pe.country,ae=pe.value,me={phoneDigits:Oe,value:ae,country:q};ye&&ae&&!Vo(ae,ye,z)&&(me.latestCountrySelectedByUser=void 0),G===!1&&!ae&&Oe===s.state.phoneDigits&&(me.forceRerender={}),s.setState(me,function(){return A(ae)})}),tn(s,"_onFocus",function(){return s.setState({isFocused:!0})}),tn(s,"_onBlur",function(){return s.setState({isFocused:!1})}),tn(s,"onFocus",function(C){s._onFocus();var k=s.props.onFocus;k&&k(C)}),tn(s,"onBlur",function(C){var k=s.props.onBlur;s._onBlur(),k&&k(C)}),tn(s,"onCountryFocus",function(C){s._onFocus();var k=s.props.countrySelectProps;if(k){var O=k.onFocus;O&&O(C)}}),tn(s,"onCountryBlur",function(C){s._onBlur();var k=s.props.countrySelectProps;if(k){var O=k.onBlur;O&&O(C)}}),s.inputRef=Ke.createRef();var l=s.props,c=l.value;l.labels;var u=l.international,f=l.addInternationalOption,h=l.displayInitialValueAsLocalNumber,m=l.initialValueFormat,y=l.metadata,w=s.props,b=w.defaultCountry,v=w.countries;b&&(s.isCountrySupportedWithError(b)||(b=void 0)),c&&I4(c),v=U4(v,y);var $=H4(c,y);s.CountryIcon=F4(s.props);var N=qT({value:c,phoneNumber:$,defaultCountry:b,required:!f,countries:v||W1(y),getAnyCountry:function(){return s.getFirstSupportedCountry({countries:v})},metadata:y});return s.state={props:s.props,country:N,countries:v,phoneDigits:V4({value:c,phoneNumber:$,defaultCountry:b,international:u,useNationalFormat:h||m==="national",metadata:y}),value:c},s}return fO(t,e),lO(t,[{key:"componentDidMount",value:function(){var s=this.props.onCountryChange,l=this.props.defaultCountry,c=this.state.country;s&&(l&&(this.isCountrySupportedWithError(l)||(l=void 0)),c!==l&&s(c))}},{key:"componentDidUpdate",value:function(s,l){var c=this.props.onCountryChange,u=this.state.country;c&&u!==l.country&&c(u)}},{key:"getCountrySelectOptions",value:function(s){var l=s.countries,c=this.props,u=c.international,f=c.countryCallingCodeEditable,h=c.countryOptionsOrder,m=c.addInternationalOption,y=c.labels,w=c.locales,b=c.metadata;return this.useMemoCountrySelectOptions(function(){return MT(GT({countries:l||W1(b),countryNames:y,addInternationalOption:u&&f===!1?!1:m,compareStringsLocales:w}),DT(h,b))},[l,h,m,y,b])}},{key:"useMemoCountrySelectOptions",value:function(s,l){return(!this.countrySelectOptionsMemoDependencies||!yO(l,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=s(),this.countrySelectOptionsMemoDependencies=l),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(s){var l=s.countries,c=this.getCountrySelectOptions({countries:l});return c[0].value}},{key:"render",value:function(){var s=this.props,l=s.name,c=s.disabled,u=s.readOnly,f=s.autoComplete,h=s.style,m=s.className;s.inputRef;var y=s.inputComponent,w=s.numberInputProps,b=s.smartCaret,v=s.countrySelectComponent,$=s.countrySelectProps,N=s.containerComponent,C=s.containerComponentProps;s.defaultCountry,s.countries,s.countryOptionsOrder;var k=s.labels;s.flags,s.flagComponent,s.flagUrl,s.addInternationalOption,s.internationalIcon,s.displayInitialValueAsLocalNumber,s.initialValueFormat,s.onCountryChange,s.limitMaxLength,s.countryCallingCodeEditable,s.focusInputOnCountrySelection,s.reset;var O=s.metadata,A=s.international;s.locales;var B=sO(s,nO),P=this.state,T=P.country,G=P.countries,z=P.phoneDigits,Z=P.isFocused,Q=b?dT:gT,H=this.getCountrySelectOptions({countries:G});return Ke.createElement(N,Ko({style:h,className:s0(m,"PhoneInput",{"PhoneInput--focus":Z,"PhoneInput--disabled":c,"PhoneInput--readOnly":u})},C),Ke.createElement(v,Ko({name:l?"".concat(l,"Country"):void 0,"aria-label":k.country},$,{value:T,options:H,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:c||$&&$.disabled,readOnly:u||$&&$.readOnly,iconComponent:this.CountryIcon})),Ke.createElement(Q,Ko({ref:this.setInputRef,type:"tel",autoComplete:f},w,B,{inputFormat:A===!0?"INTERNATIONAL":A===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:A?!0:void 0,withCountryCallingCode:A?!0:void 0,name:l,metadata:O,country:T,value:z||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:c,readOnly:u,inputComponent:y,className:s0("PhoneInputInput",w&&w.className,B.className)})))}}],[{key:"getDerivedStateFromProps",value:function(s,l){return K4({props:s},aO(s,l.props,l))}}])}(Ke.PureComponent),X4=Ke.forwardRef(function(e,t){return Ke.createElement(mO,Ko({},gO(e),{inputRef:t}))});X4.propTypes={value:Fe.string,onChange:Fe.func.isRequired,onFocus:Fe.func,onBlur:Fe.func,disabled:Fe.bool,readOnly:Fe.bool,autoComplete:Fe.string,initialValueFormat:Fe.oneOf(["national"]),displayInitialValueAsLocalNumber:Fe.bool,defaultCountry:Fe.string,countries:Fe.arrayOf(Fe.string),labels:z4,locales:Fe.oneOfType([Fe.string,Fe.arrayOf(Fe.string)]),flagUrl:Fe.string,flags:Fe.objectOf(Fe.elementType),flagComponent:Fe.elementType,addInternationalOption:Fe.bool,internationalIcon:Fe.elementType,countryOptionsOrder:Fe.arrayOf(Fe.string),style:Fe.object,className:Fe.string,countrySelectComponent:Fe.elementType,countrySelectProps:Fe.object,inputComponent:Fe.elementType,numberInputProps:Fe.object,containerComponent:Fe.elementType,containerComponentProps:Fe.object,smartCaret:Fe.bool,international:Fe.bool,limitMaxLength:Fe.bool,countryCallingCodeEditable:Fe.bool,metadata:B4,onCountryChange:Fe.func,focusInputOnCountrySelection:Fe.bool};var l2={autoComplete:"tel",countrySelectComponent:P4,flagComponent:oy,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:L0,inputComponent:"input",containerComponent:"div",reset:Fe.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function gO(e){e=K4({},e);for(var t in l2)e[t]===void 0&&(e[t]=l2[t]);return e}function yO(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;){if(e[r]!==t[r])return!1;r++}return!0}const pO={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var xO=["metadata","labels"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jg.apply(this,arguments)}function bO(e,t){if(e==null)return{};var r=vO(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function vO(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function W4(e){var t=Ke.forwardRef(function(r,s){var l=r.metadata,c=l===void 0?e:l,u=r.labels,f=u===void 0?pO:u,h=bO(r,xO);return Ke.createElement(X4,jg({},h,{ref:s,metadata:c,labels:f}))});return t.propTypes={metadata:B4,labels:z4},t}W4();const c2=W4(J8),wO=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),NO=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var vm,d2;function jO(){if(d2)return vm;d2=1;class e{constructor(){this.data=wO,this.labelMap={},this.valueMap={},this.data.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label})}getValue(s){return this.labelMap[s.toLowerCase()]}getLabel(s){return this.valueMap[s.toLowerCase()]}getLabels(){return this.data.map(s=>s.label)}getValues(){return this.data.map(s=>s.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(s,l){return this.data.forEach(c=>{c.value===s&&(c.label=l,this.valueMap[c.value.toLowerCase()]=c.label)}),this}setEmpty(s){return this.data.unshift({value:"",label:s}),this.valueMap[""]=s,this.labelMap[s]="",this}native(){return this.nativeData=NO,this.nativeData.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label}),this}}return vm=()=>{if(!(this instanceof e))return new e},vm}var kO=jO();const SO=fl(kO);function ul({customer:e,onClose:t,onSave:r,isFullPage:s=!1,prefilledName:l="",prefilledData:c={}}){const{createCustomer:u,updateCustomer:f}=o1(),h=!!e,[m,y]=x.useState(!1),[w,b]=x.useState(null),{posDetails:v}=ma(),$=SO().getData(),[N,C]=x.useState({customer_type:"individual",name:"",contactName:"",email:"",phone:"",address:{addressType:"Billing",street:"",buildingNumber:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},status:"active",vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",customer_group:"All Customer Groups",territory:"All Territories"});x.useEffect(()=>{if(v&&!h){let R="individual";v.business_type==="B2B"?R="company":(v.business_type==="B2C"||v.business_type==="B2B & B2C")&&(R="individual"),C(Y=>ce(F({},Y),{customer_type:R}))}},[v,h]);const[k,O]=x.useState({}),[A,B]=x.useState([]),[P,T]=x.useState(!0),[G,z]=x.useState([]),[Z,Q]=x.useState(!0),{getCustomerGroups:H,getTerritories:X}=o1(),ye=x.useRef(!1);x.useEffect(()=>{de(null,null,function*(){try{const Y=yield H();B(Y),T(!1);const Se=yield X();z(Se),Q(!1)}catch(Y){console.error("Error fetching customer groups or territories:",Y),T(!1),Q(!1)}})},[H,X]),x.useEffect(()=>{var R,Y,Se,J,$e,be,Be;if(e&&!ye.current){const tt={customer_type:e.type||"individual",name:e.name,contactName:e.contactPerson||"",email:e.email,phone:e.phone,address:{addressType:((R=e.address)==null?void 0:R.addressType)||"Billing",street:((Y=e.address)==null?void 0:Y.street)||"",buildingNumber:((Se=e.address)==null?void 0:Se.buildingNumber)||"",city:((J=e.address)==null?void 0:J.city)||"",state:(($e=e.address)==null?void 0:$e.state)||"",zipCode:((be=e.address)==null?void 0:be.zipCode)||"",country:((Be=e.address)==null?void 0:Be.country)||"Saudi Arabia"},status:e.status,vatNumber:e.taxId||"",registrationScheme:e.registrationScheme||"",registrationNumber:e.registrationNumber||"",preferredPaymentMethod:e.preferredPaymentMethod||"Cash",customer_group:e.customer_group||"All Customer Groups",territory:e.territory||"All Territories"};C(tt),ye.current=!0}else c&&Object.keys(c).length>0&&!ye.current?(C(tt=>ce(F({},tt),{name:c.name||tt.name,email:c.email||tt.email,phone:c.phone||tt.phone})),ye.current=!0):l&&!ye.current&&(C(tt=>ce(F({},tt),{name:l})),ye.current=!0)},[e==null?void 0:e.id,e==null?void 0:e.name,l,c,e]),x.useEffect(()=>{ye.current=!1},[e==null?void 0:e.id]);const pe=(v==null?void 0:v.business_type)==="B2B",Oe=(v==null?void 0:v.business_type)==="B2C",q=(v==null?void 0:v.business_type)==="B2B & B2C",ae=()=>pe?[{value:"company",label:"Company",icon:$c,desc:"Business customer"}]:Oe?[{value:"individual",label:"Individual",icon:za,desc:"Personal customer"}]:q?[{value:"individual",label:"Individual",icon:za,desc:"Personal customer"},{value:"company",label:"Company",icon:$c,desc:"Business customer"}]:[{value:"individual",label:"Individual",icon:za,desc:"Personal customer"},{value:"company",label:"Company",icon:$c,desc:"Business customer"}],me=()=>{const R={},Y=Se=>Se.trim()?Se.replace(/\D/g,"").length>=10:!1;if(N.customer_type==="company"?(N.name.trim()||(R.name="Customer name is required"),N.contactName.trim()||(R.contactName="Contact name is required"),!N.email.trim()&&!N.phone.trim()&&(R.contact="Either email or phone number must be provided"),N.phone.trim()&&!Y(N.phone)&&(R.phone="Phone number must have at least 10 digits including country code")):N.customer_type==="individual"&&(!N.email.trim()&&!N.phone.trim()?R.contact="Either email or phone number must be provided":N.phone.trim()&&!Y(N.phone)&&(R.phone="Phone number must have at least 10 digits including country code")),N.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)&&(R.email="Please enter a valid email address"),N.customer_type==="company"&&(v!=null&&v.is_zatca_enabled)&&(!N.vatNumber.trim()&&!N.registrationNumber.trim()&&(R.vatOrRegistration="Either VAT number or Registration number must be provided"),N.registrationScheme&&N.registrationScheme!==""&&!N.registrationNumber.trim()&&(R.registrationNumber="Registration number is required when registration scheme is selected"),N.vatNumber.trim()&&(/^[3]\d{13}[3]$/.test(N.vatNumber.trim())||(R.vatNumber="VAT number must be 15 digits, start with 3 and end with 3 (ZATCA format)"))),N.customer_type==="company"&&v&&v.is_zatca_enabled===!0&&(N.address.street.trim()||(R.street="Street address is required for company"),N.address.buildingNumber.trim()?N.address.buildingNumber.trim().length!==4&&(R.buildingNumber="Building number must be exactly 4 digits"):R.buildingNumber="Building number is required for company",N.address.city.trim()||(R.city="City is required for company"),N.address.state.trim()||(R.state="State/Province is required for company"),N.address.zipCode.trim()||(R.zipCode="Zip code is required for company")),O(R),Object.keys(R).length>0){const Se=Object.keys(R)[0];return Se&&Le.error(R[Se]),!1}return!0},Re=R=>de(null,null,function*(){if(R.preventDefault(),b(null),!!me()){y(!0);try{const Y=F({name:N.name,customer_type:N.customer_type==="individual"?"Individual":"Company",email:N.email,phone:N.phone,address:N.address,preferredPaymentMethod:N.preferredPaymentMethod,customer_group:N.customer_group,territory:N.territory},N.customer_type==="company"&&{contactName:N.contactName,vatNumber:N.vatNumber||void 0,registrationScheme:N.registrationScheme||void 0,registrationNumber:N.registrationNumber||void 0});if(h&&(e!=null&&e.id)){const Se=yield f(e.id,Y);r(ce(F({},Se),{id:e.id}))}else{const Se=yield u(Y);r(ce(F({},Se),{id:Se.customer_name,name:N.name,type:N.customer_type,email:N.email,phone:N.phone,address:N.address,preferredPaymentMethod:N.preferredPaymentMethod,customer_group:N.customer_group,territory:N.territory}))}t()}catch(Y){console.error("Customer save error:",Y),b(Y instanceof Error?Y.message:"Failed to save customer. Please try again.")}finally{y(!1)}}}),U=[{value:"Commercial Registration number(CRN)",label:"Commercial Registration number(CRN)"},{value:"MOMRAH(MOM)",label:"MOMRAH(MOM)"},{value:"MHRSD(MLS)",label:"MHRSD(MLS)"},{value:"700(700)",label:"700(700)"},{value:"MISA(SAG)",label:"MISA(SAG)"},{value:"Other OD(OTH)",label:"Other OD(OTH)"}],we=[{value:"Cash",label:"Cash"},{value:"Bank Card",label:"Bank Card"},{value:"Bank Payment",label:"Bank Payment"},{value:"Credit",label:"Credit"}],L=[{value:"Billing",label:"Billing"},{value:"Shipping",label:"Shipping"},{value:"Office",label:"Office"},{value:"Personal",label:"Personal"},{value:"Plant",label:"Plant"},{value:"Postal",label:"Postal"},{value:"Shop",label:"Shop"},{value:"Subsidiary",label:"Subsidiary"},{value:"Warehouse",label:"Warehouse"},{value:"Current",label:"Current"},{value:"Permanent",label:"Permanent"},{value:"Other",label:"Other"}],te=ae(),oe=()=>{const R=Y=>Y.trim()?Y.replace(/\D/g,"").length>=10:!1;if(N.customer_type==="individual"){const Y=N.email.trim()!=="",Se=R(N.phone);return Y||Se}else if(N.customer_type==="company"){const Y=N.name.trim()!==""&&N.contactName.trim()!==""&&(N.email.trim()!==""||R(N.phone)),Se=!(v!=null&&v.is_zatca_enabled)||N.address.street.trim()!==""&&N.address.buildingNumber.trim()!==""&&N.address.buildingNumber.trim().length===4&&N.address.city.trim()!==""&&N.address.state.trim()!==""&&N.address.zipCode.trim()!=="",J=Y&&Se;if(v&&v.is_zatca_enabled===!0){const $e=N.vatNumber.trim()!==""||N.registrationNumber.trim()!=="";return J&&$e}return J}return!1};return n.jsx("div",{className:s?"h-full":"fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:s?"h-full bg-white dark:bg-gray-800 flex flex-col":"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[!s&&n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?"Edit Customer":"Add New Customer"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:n.jsx(ha,{size:24})})]}),n.jsxs("form",{onSubmit:Re,className:s?"flex-1 flex flex-col":"flex flex-col h-full",children:[n.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[n.jsxs("div",{children:[(v==null?void 0:v.business_type)==="B2B & B2C"?n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:te.map(R=>{const Y=R.icon;return n.jsxs("label",{className:`relative flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${N.customer_type===R.value?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600"}`,children:[n.jsx("input",{type:"radio",name:"customerType",value:R.value,checked:N.customer_type===R.value,onChange:Se=>{C(J=>ce(F({},J),{customer_type:Se.target.value}))},className:"sr-only"}),n.jsx(Y,{size:24,className:`mb-2 ${N.customer_type===R.value?"text-beveren-600":"text-gray-400"}`}),n.jsx("span",{className:`font-medium text-sm ${N.customer_type===R.value?"text-beveren-900 dark:text-beveren-100":"text-gray-900 dark:text-white"}`,children:R.label}),n.jsx("span",{className:`text-xs text-center mt-1 ${N.customer_type===R.value?"text-beveren-700 dark:text-beveren-300":"text-gray-500 dark:text-gray-400"}`,children:R.desc})]},R.value)})})]}):n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),n.jsx("div",{className:"bg-beveren-50 dark:bg-beveren-900/20 border-2 border-beveren-500 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[N.customer_type==="company"?n.jsx($c,{size:24,className:"text-beveren-600 mr-3"}):n.jsx(za,{size:24,className:"text-beveren-600 mr-3"}),n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium text-beveren-900 dark:text-beveren-100",children:[N.customer_type==="company"?"Company":"Individual"," ","Customer"]}),n.jsx("p",{className:"text-sm text-beveren-700 dark:text-beveren-300 mt-1",children:N.customer_type==="company"?"Business customer (B2B)":"Personal customer (B2C)"})]})]})})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx(za,{size:20,className:"mr-2"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Customer Name",N.customer_type==="company"&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"name",value:N.name,onChange:R=>C(Y=>ce(F({},Y),{name:R.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${k.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),k.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.name})]}),N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Country"}),n.jsx("input",{list:"country-list",id:"country",value:N.address.country,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{country:R.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),n.jsx("datalist",{id:"country-list",children:$.map(R=>n.jsx("option",{value:R.label},R.value))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"customer_group",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Group"}),n.jsx("select",{id:"customer_group",value:N.customer_group,onChange:R=>C(Y=>ce(F({},Y),{customer_group:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:P,children:P?n.jsx("option",{children:"Loading..."}):A.map(R=>n.jsx("option",{value:R.name,children:R.customer_group_name},R.name))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"territory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Territory"}),n.jsxs("select",{id:"territory",value:N.territory,onChange:R=>C(Y=>ce(F({},Y),{territory:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:Z,children:[n.jsx("option",{value:"All Territories",children:"All Territories"}),G.map(R=>n.jsx("option",{value:R.name,children:R.territory_name||R.name},R.name))]}),Z&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading territories..."})]})]})]}),N.customer_type==="individual"&&n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mt-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx(il,{size:20,className:"mr-2"}),"Contact Information",n.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",value:N.email,onChange:R=>C(Y=>ce(F({},Y),{email:R.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${k.email||k.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),k.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.email})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),n.jsx(c2,{id:"phone",international:!0,defaultCountry:"SA",value:N.phone,onChange:R=>C(Y=>ce(F({},Y),{phone:R||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),k.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.phone})]})})]}),k.contact&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.contact})]})]}),N.customer_type==="company"&&n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx(il,{size:20,className:"mr-2"}),"Contact Information",N.customer_type==="company"&&n.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"contactName",value:N.contactName,onChange:R=>C(Y=>ce(F({},Y),{contactName:R.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${k.contactName?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name"}),k.contactName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.contactName})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",value:N.email,onChange:R=>C(Y=>ce(F({},Y),{email:R.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${k.email||k.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),k.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.email})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),n.jsx(c2,{id:"phone",international:!0,defaultCountry:"SA",value:N.phone,onChange:R=>C(Y=>ce(F({},Y),{phone:R||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),k.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.phone})]}),k.contact&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.contact})]}),N.customer_type==="company"&&v&&v.is_zatca_enabled===!0&&n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx(Ha,{size:20,className:"mr-2"}),"ZATCA Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),n.jsx("select",{id:"paymentMethod",value:N.preferredPaymentMethod,onChange:R=>C(Y=>ce(F({},Y),{preferredPaymentMethod:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:we.map(R=>n.jsx("option",{value:R.value,children:R.label},R.value))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),n.jsx("input",{type:"text",id:"vatNumber",value:N.vatNumber,onChange:R=>C(Y=>ce(F({},Y),{vatNumber:R.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${k.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter VAT number"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"registrationScheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Scheme"}),n.jsxs("select",{id:"registrationScheme",value:N.registrationScheme,onChange:R=>C(Y=>ce(F({},Y),{registrationScheme:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:[n.jsx("option",{value:"",children:"Select Registration Scheme"}),U.map(R=>n.jsx("option",{value:R.value,children:R.label},R.value))]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Number"," ",N.registrationScheme&&N.registrationScheme!==""?"*":""]}),n.jsx("input",{type:"text",id:"registrationNumber",value:N.registrationNumber,onChange:R=>C(Y=>ce(F({},Y),{registrationNumber:R.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${k.registrationNumber||k.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter registration number"}),k.registrationNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.registrationNumber})]})]}),k.vatOrRegistration&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.vatOrRegistration})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx(j0,{size:20,className:"mr-2"}),"Address",N.customer_type==="company"?"":" (Optional)"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Type"}),n.jsx("select",{id:"addressType",value:N.address.addressType,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{addressType:R.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:L.map(R=>n.jsx("option",{value:R.value,children:R.label},R.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&n.jsx("span",{className:"text-red-500",children:" *"})]}),n.jsx("input",{type:"text",id:"street",value:N.address.street,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{street:R.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.street?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter street address"}),k.street&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.street})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"buildingNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Building Number (4 digits)",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&n.jsx("span",{className:"text-red-500",children:" *"})]}),n.jsx("input",{type:"text",id:"buildingNumber",value:N.address.buildingNumber,onChange:R=>{const Y=R.target.value.replace(/\D/g,"");Y.length<=4&&C(Se=>ce(F({},Se),{address:ce(F({},Se.address),{buildingNumber:Y})}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.buildingNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"1234",maxLength:4}),k.buildingNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.buildingNumber})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&n.jsx("span",{className:"text-red-500",children:" *"})]}),n.jsx("input",{type:"text",id:"city",value:N.address.city,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{city:R.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.city?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter city"}),k.city&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.city})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State/Province",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&n.jsx("span",{className:"text-red-500",children:" *"})]}),n.jsx("input",{type:"text",id:"state",value:N.address.state,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{state:R.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.state?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter state/province"}),k.state&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.state})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Zip Code",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&n.jsx("span",{className:"text-red-500",children:" *"})]}),n.jsx("input",{type:"text",id:"zipCode",value:N.address.zipCode,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{zipCode:R.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${k.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter zip code"}),k.zipCode&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.zipCode})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),n.jsx("input",{list:"country-list",id:"country",value:N.address.country,onChange:R=>C(Y=>ce(F({},Y),{address:ce(F({},Y.address),{country:R.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),n.jsx("datalist",{id:"country-list",children:$.map(R=>n.jsx("option",{value:R.label},R.value))})]})]})]})]}),w&&n.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:w})]}),n.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:m||!oe(),className:`px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 ${m||!oe()?"opacity-50 cursor-not-allowed":""}`,children:m?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin",children:""}),n.jsx("span",{children:h?"Updating...":"Creating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(p$,{size:18}),n.jsx("span",{children:h?"Update Customer":"Save Customer"})]})})})})]})]})})}function cy(e){const[t,r]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState(null),[f,h]=x.useState(0),[m,y]=x.useState(!1),[w,b]=x.useState(0),v=(C,k=!1)=>de(null,null,function*(){l(!0);try{const O=new URLSearchParams;C&&O.set("search",C),O.set("limit","100"),O.set("start",String(k?f:0));const A=`?${O.toString()}`,P=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customers${A}`)).json();if(!P.message.success)throw new Error(P.error||"Failed to fetch customers");const G=P.message.data.map(Q=>{var H,X,ye,pe,Oe,q,ae,me;return{id:Q.name,type:Q.customer_type==="Company"?"company":"individual",name:Q.customer_name||`Customer ${Q.name.slice(0,5)}`,email:((H=Q.contact)==null?void 0:H.email_id)||"",phone:((X=Q.contact)==null?void 0:X.mobile_no)||((ye=Q.contact)==null?void 0:ye.phone)||"",address:{street:((pe=Q.address)==null?void 0:pe.address_line1)||"",city:((Oe=Q.address)==null?void 0:Oe.city)||"",state:((q=Q.address)==null?void 0:q.state)||"",zipCode:((ae=Q.address)==null?void 0:ae.pincode)||"",country:((me=Q.address)==null?void 0:me.country)||""},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:Q.custom_total_spent||0,totalOrders:Q.custom_total_orders||0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),lastVisit:Q.custom_last_visit||void 0,avatar:void 0,defaultCurrency:Q.default_currency,companyCurrency:Q.company_currency}});r(Q=>k?[...Q,...G]:G);const z=P.message.total_count||0;b(z);const Z=(k?f:0)+G.length;h(Z),y(Z<z)}catch(O){u(O)}finally{l(!1)}});return x.useEffect(()=>{h(0),y(!1),b(0);const C=setTimeout(()=>{v(e,!1)},e?300:0);return()=>clearTimeout(C)},[e]),{customers:t,isLoading:s,error:c,refetch:v,addCustomer:C=>{r(k=>[C,...k])},hasMore:m,totalCount:w,loadMore:()=>de(null,null,function*(){m&&(yield v(e,!0))})}}function $O(e){const[t,r]=x.useState(null),[s,l]=x.useState(!1),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;de(null,null,function*(){var h,m,y,w,b,v,$,N,C,k;l(!0);try{const A=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${e}`)).json();if(!A.message||A.message.success===!1)throw new Error(((h=A.message)==null?void 0:h.error)||"Failed to fetch customer");const B=A.message,P={id:B.name,type:B.customer_type==="Company"?"company":"individual",name:B.customer_name||`Customer ${B.name.slice(0,5)}`,email:((m=B.contact_data)==null?void 0:m.email_id)||B.email_id||"",phone:((y=B.contact_data)==null?void 0:y.mobile_no)||((w=B.contact_data)==null?void 0:w.phone)||B.mobile_no||"",address:{addressType:"Billing",street:((b=B.address_data)==null?void 0:b.address_line1)||"",buildingNumber:((v=B.address_data)==null?void 0:v.address_line2)||"",city:(($=B.address_data)==null?void 0:$.city)||"",state:((N=B.address_data)==null?void 0:N.state)||"",zipCode:((C=B.address_data)==null?void 0:C.pincode)||"",country:((k=B.address_data)==null?void 0:k.country)||"Saudi Arabia"},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:B.payment_method||"Cash",notes:"",tags:[],status:"active",createdAt:B.creation||new Date().toISOString(),lastVisit:void 0,avatar:void 0,defaultCurrency:void 0,companyCurrency:void 0,customer_group:B.customer_group||"All Customer Groups",territory:B.territory||"All Territories",contactPerson:B.contact_data?`${B.contact_data.first_name||""} ${B.contact_data.last_name||""}`.trim()||B.customer_name:B.customer_name||"",companyName:B.customer_type==="Company"?B.customer_name:void 0,taxId:B.vat_number||"",industry:B.industry||"",employeeCount:B.employee_count||"",registrationScheme:B.registration_scheme||"",registrationNumber:B.registration_number||""};r(P)}catch(O){O instanceof Error?u(O.message):u("Unknown error")}finally{l(!1)}})},[e]),{customer:t,isLoading:s,error:c}}function CO(e){return de(this,null,function*(){const r=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(e)}`)).json();if(r!=null&&r.message&&Array.isArray(r.message))return r.message;throw new Error("Invalid response format")})}function _O(e){return de(this,null,function*(){try{const t=yield fetch(`/api/method/klik_pos.api.item.get_serial_nos_for_item?item_code=${encodeURIComponent(e)}`);if(!t.ok)return[];const r=yield t.json();return Array.isArray(r==null?void 0:r.message)?r.message.map(s=>s.serial_no).filter(Boolean):[]}catch(t){return[]}})}function Z4(e){const[t,r]=x.useState(null),[s,l]=x.useState(!1),[c,u]=x.useState(null),f=()=>de(null,null,function*(){var h,m;if(!e){r(null);return}l(!0),u(null);try{const y=yield fetch(`/api/method/klik_pos.api.customer.get_customer_statistics?customer_id=${encodeURIComponent(e)}`);if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const w=yield y.json();if((h=w==null?void 0:w.message)!=null&&h.success)r(w.message.data);else throw new Error(((m=w==null?void 0:w.message)==null?void 0:m.error)||"Failed to fetch customer statistics")}catch(y){console.error("Error fetching customer statistics:",y),u(y.message||"Failed to fetch customer statistics"),r(null)}finally{l(!1)}});return x.useEffect(()=>{f()},[e]),{statistics:t,isLoading:s,error:c,refetch:f}}const EO=({item:e,onUpdateQuantity:t,isMobile:r})=>{const[s,l]=x.useState(e.quantity.toString()),[c,u]=x.useState(!1);x.useEffect(()=>{c||l(e.quantity.toString())},[e.quantity,c]);const f=y=>{const w=y.target.value;l(w)},h=()=>{u(!1);const y=Number(s);isNaN(y)||y<=0?(l(e.quantity.toString()),y<=0&&t(e.id,0)):(l(y.toString()),t(e.id,y))},m=()=>{u(!0)};return n.jsx("input",{type:"number",step:"0.01",min:"0",value:s,onChange:f,onFocus:m,onBlur:h,className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})},TO=({item:e,onUOMChange:t,isMobile:r})=>{const[s,l]=x.useState(["Nos"]),[c,u]=x.useState(e.uom||"Nos"),[f,h]=x.useState(""),[m,y]=x.useState(!1);x.useEffect(()=>{de(null,null,function*(){try{const $=yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({doctype:"UOM",fields:["name"],filters:{},limit_page_length:500})});if(!$.ok)throw new Error("Failed to fetch UOMs");const N=yield $.json();if(N!=null&&N.message){const C=N.message.map(k=>k.name).sort();l(C)}else l(["Nos","Box","Kilogram","Liter","Meter","Dozen"])}catch($){console.error("Error loading UOMs:",$),l(["Nos","Box","Kilogram","Liter","Meter","Dozen"])}})},[]),x.useEffect(()=>{u(e.uom||"Nos")},[e.uom]);const w=s.filter(v=>v.toLowerCase().includes(f.toLowerCase())),b=v=>de(null,null,function*(){var $;u(v),y(!1),h("");try{const N=e.item_code||e.id;if(N){console.log(` API Call: get_item_uoms_and_prices for ${N}`);const C=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${N}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(C.ok){const k=yield C.json();if(console.log(" API Response:",k.message),($=k==null?void 0:k.message)!=null&&$.uoms){const O=k.message.uoms.find(A=>A.uom===v);O?t(e.id,v,O.price):(console.log(` No UOM data found for ${v}`),console.log("Available UOMs:",k.message.uoms.map(A=>A.uom)))}else console.log(" No UOMs data in API response")}else console.log(" API call failed:",C.status,C.statusText)}else console.log(" No item_code or id found for item:",e)}catch(N){console.error(" Error fetching UOM pricing:",N)}});return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>y(!m),className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[n.jsx("span",{children:c}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&n.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[n.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:n.jsx("input",{type:"text",placeholder:"Search UOM...",value:f,onChange:v=>h(v.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),n.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length>0?w.map(v=>n.jsx("button",{type:"button",onClick:()=>b(v),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${v===c?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:v},v)):n.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No UOMs found"})})]})]})},OO=({itemId:e,itemCode:t,options:r,value:s,onChange:l,isMobile:c})=>{const[u,f]=x.useState(!1),[h,m]=x.useState(""),y=r.filter(b=>b.batch_id.toLowerCase().includes(h.toLowerCase())),w=b=>{var $;const v=(($=r.find(N=>N.batch_id===b))==null?void 0:$.qty)||0;l(b,v),f(!1),m("")};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>f(!u),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[n.jsx("span",{className:"truncate",children:s||"Select Batch"}),n.jsx("svg",{className:`w-3 h-3 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&n.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[n.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:n.jsx("input",{type:"text",placeholder:"Filter batch...",value:h,onChange:b=>m(b.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),n.jsx("div",{className:"max-h-36 overflow-y-auto",children:y.length>0?y.map(b=>n.jsxs("button",{type:"button",onClick:()=>w(b.batch_id),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===b.batch_id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:[b.batch_id," - ",b.qty]},b.batch_id)):n.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})},AO=({itemId:e,itemCode:t,options:r,value:s,onChange:l,isMobile:c})=>{const[u,f]=x.useState(!1),[h,m]=x.useState(""),y=r.filter(b=>b.toLowerCase().includes(h.toLowerCase())),w=b=>{l(b),f(!1),m("")};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>f(!u),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[n.jsx("span",{className:"truncate",children:s||"Select Serial"}),n.jsx("svg",{className:`w-3 h-3 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&n.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[n.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:n.jsx("input",{type:"text",placeholder:"Filter serial...",value:h,onChange:b=>m(b.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),n.jsx("div",{className:"max-h-36 overflow-y-auto",children:y.length>0?y.map(b=>n.jsx("button",{type:"button",onClick:()=>w(b),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===b?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:b},b)):n.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})};function J4({cartItems:e,onUpdateQuantity:t,onRemoveItem:r,onClearCart:s,appliedCoupons:l,onApplyCoupon:c,onRemoveCoupon:u,isMobile:f=!1}){const[h,m]=x.useState(!1),{selectedCustomer:y,setSelectedCustomer:w,updateUOM:b}=Vi(),[v,$]=x.useState(!1);x.useEffect(()=>{},[y]);const[N,C]=x.useState(""),[k,O]=x.useState(!1),[A,B]=x.useState(!1),[P,T]=x.useState(!1);x.useRef(null);const{customers:G,isLoading:z,refetch:Z}=cy(N),{refreshStockOnly:Q,updateBatchQuantitiesForItems:H}=x0();_r();const{posDetails:X,loading:ye}=ma(),{statistics:pe}=Z4((y==null?void 0:y.id)||null),[Oe,q]=x.useState(""),[ae,me]=x.useState({});X==null||X.currency;const Re=X==null?void 0:X.currency_symbol,U=x.useCallback((he,Pe,He)=>{console.log(" Cart Update Started:"),console.log(`  Item ID: ${he}`),console.log(`  New UOM: ${Pe}`),console.log(`  New Price: $${He}`);const Ze=e.find(ze=>ze.id===he);Ze&&console.log("  Before Update:",{name:Ze.name,uom:Ze.uom,price:Ze.price,quantity:Ze.quantity}),b(he,Pe,He),setTimeout(()=>{const ze=e.find(We=>We.id===he);console.log(" Cart Update Complete:"),console.log("  After Update:",{name:ze==null?void 0:ze.name,uom:ze==null?void 0:ze.uom,price:ze==null?void 0:ze.price,quantity:ze==null?void 0:ze.quantity}),Ze&&ze&&(console.log(" Price Comparison:"),console.log(`  Old: ${Ze.uom} = $${Ze.price}`),console.log(`  New: ${ze.uom} = $${ze.price}`),console.log(`  Difference: $${(ze.price-Ze.price).toFixed(2)}`))},100)},[b,e]),[we,L]=x.useState({}),[te,oe]=x.useState({}),[R,Y]=x.useState({}),[Se,J]=x.useState({}),[$e,be]=x.useState(new Set),Be=he=>{const Pe=we[he.id]||{discountPercentage:0,discountAmount:0};let He=he.price;return Pe.discountPercentage>0&&(He=he.price*(1-Pe.discountPercentage/100)),Pe.discountAmount>0&&(He=Math.max(0,He-Pe.discountAmount)),Math.max(0,He)},tt=e.reduce((he,Pe)=>{const He=Be(Pe);return he+He*Pe.quantity},0),vt=e.reduce((he,Pe)=>{const He=Pe.price*Pe.quantity,Ze=Be(Pe)*Pe.quantity;return he+(He-Ze)},0),Ce=l.reduce((he,Pe)=>he+Pe.value,0),Ye=Math.max(0,tt-Ce),_t=he=>{if(he.key==="Enter"&&N.trim()!=="")if(Mt.length===0){const Pe=N.trim();let He={};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Pe))He={email:Pe};else if(/^[\d\s\+\-\(\)]+$/.test(Pe)&&Pe.replace(/[\s\+\-\(\)]/g,"").length>=7){let Ze=Pe;const ze=Pe.replace(/[\s\+\-\(\)]/g,"");!ze.startsWith("966")&&!ze.startsWith("+966")?ze.startsWith("0")?Ze="+966"+ze.substring(1):Ze="+966"+ze:ze.startsWith("966")&&!ze.startsWith("+966")&&(Ze="+"+ze),He={phone:Ze}}else console.log("Detected name:",Pe),He={name:Pe};me(He),q(Pe),B(!0),O(!1)}else Mt.length===1&&!v&&Je(Mt[0])},jt=(he,Pe,He)=>{L(Ze=>ce(F({},Ze),{[he]:ce(F({},Ze[he]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:150}),{[Pe]:typeof He=="string"?He:Math.max(0,He)})}))},Mt=N.trim()===""?G:G.filter(he=>he.name.toLowerCase().includes(N.toLowerCase())||he.email.toLowerCase().includes(N.toLowerCase())||he.phone.includes(N)||he.tags.some(Pe=>Pe.toLowerCase().includes(N.toLowerCase()))),se=()=>y?!0:(Le.error("Kindly choose customer"),!1),Je=he=>{w(he),C(he.name),O(!1),$(!1)},Ft=he=>de(null,null,function*(){var Pe;if(he&&he.customer_name)try{const He=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(he.customer_name)}`);if(!He.ok)throw new Error(`HTTP ${He.status}: ${He.statusText}`);const Ze=yield He.json();if(Ze.message){const ze=Ze.message,We={id:ze.name,name:ze.customer_name||ze.name,email:ze.email_id||"",phone:ze.mobile_no||"",type:ze.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:ze.custom_loyalty_points||0,totalSpent:ze.custom_total_spent||0,totalOrders:ze.custom_total_orders||0,preferredPaymentMethod:"Cash",tags:((Pe=ze.custom_tags)==null?void 0:Pe.split(",").filter(Boolean))||[],status:ze.custom_status||"active",createdAt:ze.creation||new Date().toISOString()};w(We),C(""),Z&&Z()}}catch(He){console.error("Error fetching customer details:",He);const Ze={id:he.customer_name||"",name:he.customer_name||"",email:"",phone:"",type:"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",tags:[],status:"active",createdAt:new Date().toISOString()};w(Ze),C("")}B(!1),q(""),me({})}),fe=he=>de(null,null,function*(){console.log("OrderSummary: Payment completed, invoice created - modal stays open for preview")}),Qe=he=>de(null,null,function*(){T(!1),he?(console.log("OrderSummary: Payment was completed - clearing cart for next order"),Zt()):console.log("OrderSummary: Payment was not completed - keeping cart items");try{(yield Q())?console.log("OrderSummary: Stock refreshed successfully - cashier can now see updated availability"):(console.log("OrderSummary: No stock updates needed"),Le.info("Stock is up to date"));const He=e.map(Ze=>Ze.item_code||Ze.id);if(He.length>0){console.log("OrderSummary: Updating batch quantities for cart items:",He);try{yield H(He),console.log("OrderSummary: Batch quantities updated successfully")}catch(Ze){console.error("OrderSummary: Failed to update batch quantities:",Ze)}}}catch(Pe){console.error("OrderSummary: Failed to refresh stock:",Pe);const He=(Pe==null?void 0:Pe.message)||"Unknown error";Le.error(`Failed to update stock: ${He}`)}}),ht=he=>de(null,null,function*(){if(!y){Le.error("Kindly select a customer");return}try{T(!1);const Pe=yield e4(he);Pe&&Pe.success?(Zt(),Le.success("Draft invoice created and order held successfully!")):Le.error("Failed to create draft invoice")}catch(Pe){console.error("Error creating draft invoice:",Pe),Le.error("Failed to create draft invoice: "+Pe.message)}}),Zt=()=>{e.length!==0&&(s?s():[...e].forEach(Pe=>{r&&r(Pe.id)}),l.forEach(he=>{u(he.code)}),L({}),w(null),C(""))},Gt=he=>{switch(he.type){case"company":return n.jsx($c,{size:14,className:"text-purple-600"});case"walk-in":return n.jsx(za,{size:14,className:"text-gray-600"});default:return n.jsx(za,{size:14,className:"text-blue-600"})}},Ht=he=>{const Pe=new Set($e);Pe.has(he)?Pe.delete(he):Pe.add(he),be(Pe)};return x.useEffect(()=>{if(G.length===1&&!y&&!z){const he=G[0];w(he),C(he.name),O(!1)}},[G,y,z]),x.useEffect(()=>{if(X!=null&&X.default_customer&&!y&&!ye&&!v){const he=X.default_customer;console.log("Default customer details:",he);const Pe={id:he.id,name:he.name,email:he.email,phone:he.phone,customer_type:he.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),defaultCurrency:he.default_currency};w(Pe),C(Pe.name),O(!1)}},[X,y,ye,v]),x.useEffect(()=>{const he=()=>de(null,null,function*(){const Pe=F({},te),He=F({},R);for(const Ze of e){const ze=Ze.item_code||Ze.id;if(ze&&ze!=="undefined"){if(!Pe[ze])try{const We=yield CO(Ze.id);Array.isArray(We)&&(Pe[ze]=We)}catch(We){console.error("Error fetching batches",We)}if(!He[ze])try{const We=yield _O(ze);Array.isArray(We)&&(He[ze]=We)}catch(We){console.error("Error fetching serials",We)}}else console.log(`OrderSummary: Skipping initial info loading for key "${ze}"`)}oe(Pe),Y(He)});e.length&&he()},[e]),x.useEffect(()=>{const he=Ze=>{const{updatedItems:ze}=Ze.detail;oe(We=>{const yt=F({},We);return ze.forEach(({itemCode:Ct,batches:mr})=>{Ct&&Ct!=="undefined"?yt[Ct]=mr:console.log(`OrderSummary: Skipping invalid itemCode: "${Ct}"`)}),delete yt.undefined,delete yt[void 0],yt})};window.addEventListener("batchQuantitiesUpdated",he);const Pe=Ze=>{var Ct,mr;const{itemCode:ze,batchId:We}=Ze.detail,yt=e.find(tr=>(tr.item_code||tr.id)===ze);if(yt){const tr=((mr=(Ct=te[yt.item_code||yt.id])==null?void 0:Ct.find(qr=>qr.batch_id===We))==null?void 0:mr.qty)||0;L(qr=>ce(F({},qr),{[yt.id]:ce(F({},qr[yt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:We,availableQuantity:tr})}))}else J(tr=>ce(F({},tr),{[ze]:ce(F({},tr[ze]||{}),{batchId:We})}))},He=Ze=>{const{itemCode:ze,serialNo:We}=Ze.detail,yt=e.find(Ct=>(Ct.item_code||Ct.id)===ze);yt?(L(Ct=>ce(F({},Ct),{[yt.id]:ce(F({},Ct[yt.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:We})})),Y(Ct=>{const mr=yt.item_code||yt.id,tr=new Set(Ct[mr]||[]);return tr.has(We)?Ct:ce(F({},Ct),{[mr]:[...tr,We]})})):J(Ct=>ce(F({},Ct),{[ze]:ce(F({},Ct[ze]||{}),{serialNo:We})}))};return window.addEventListener("cart:setBatchForItem",Pe),window.addEventListener("cart:setSerialForItem",He),()=>{window.removeEventListener("batchQuantitiesUpdated",he),window.removeEventListener("cart:setBatchForItem",Pe),window.removeEventListener("cart:setSerialForItem",He)}},[e,te]),x.useEffect(()=>{if(!e.length)return;const he=F({},Se);e.forEach(Pe=>{var ze,We;const He=Pe.item_code||Pe.id,Ze=he[He];if(Ze){if(Ze.batchId){const yt=((We=(ze=te[He])==null?void 0:ze.find(Ct=>Ct.batch_id===Ze.batchId))==null?void 0:We.qty)||0;L(Ct=>ce(F({},Ct),{[Pe.id]:ce(F({},Ct[Pe.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:Ze.batchId,availableQuantity:yt})}))}Ze.serialNo&&(L(yt=>ce(F({},yt),{[Pe.id]:ce(F({},yt[Pe.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:Ze.serialNo})})),Y(yt=>{const Ct=new Set(yt[He]||[]);return Ct.has(Ze.serialNo)?yt:ce(F({},yt),{[He]:[...Ct,Ze.serialNo]})})),delete he[He]}}),Object.keys(he).length!==Object.keys(Se).length&&J(he)},[e,te,Se]),n.jsxs("div",{className:`h-full flex flex-col bg-white dark:bg-gray-800 ${f?"":"border-l"} border-gray-200 dark:border-gray-700`,children:[!f&&n.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:N,onChange:he=>{C(he.target.value),O(he.target.value.length>0)},onKeyDown:_t,onFocus:()=>O(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),k&&Mt.length>0&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:Mt.slice(0,8).map(he=>n.jsx("button",{onClick:()=>Je(he),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[Gt(he),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:he.name}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[he.phone,"  ",he.email]})]})]})},he.id))})]}),n.jsx("button",{onClick:()=>B(!0),className:"ml-2 p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",title:"Add New Customer",children:n.jsx(t1,{size:16})})]}),y&&n.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[Gt(y),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:y.name}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&n.jsx("span",{children:y.phone}),y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&n.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&n.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!y.phone||y.phone==="N/A"||y.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&n.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),n.jsx("button",{onClick:()=>{w(null),C(""),$(!0)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(ha,{size:14})})]})})]})}),f&&n.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:N,onChange:he=>{C(he.target.value),O(he.target.value.length>0)},onKeyPress:_t,onFocus:()=>O(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),k&&Mt.length>0&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:Mt.slice(0,8).map(he=>n.jsx("button",{onClick:()=>Je(he),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[Gt(he),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:he.name}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[he.email,"  ",he.phone]})]})]})},he.id))})]}),n.jsx("button",{onClick:()=>B(!0),className:"p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:n.jsx(t1,{size:16})})]}),y&&n.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[Gt(y),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:y.name}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&n.jsx("span",{children:y.phone}),y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&((pe==null?void 0:pe.total_orders)||0)>0&&n.jsx("span",{className:"mx-2",children:""}),((pe==null?void 0:pe.total_orders)||0)>0&&n.jsxs("span",{children:[(pe==null?void 0:pe.total_orders)||0," orders"]}),(!y.phone||y.phone==="N/A"||y.phone.trim()==="")&&((pe==null?void 0:pe.total_orders)||0)===0&&n.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),n.jsx("button",{onClick:()=>{w(null),C(""),$(!0)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(ha,{size:14})})]})})]}),n.jsx("div",{className:`${f?"flex-1 overflow-y-auto custom-scrollbar p-4":"flex-1 overflow-y-auto p-6 cart-scroll"}`,children:n.jsx("div",{className:"space-y-4",children:e.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]}):e.map(he=>{const Pe=Be(he),He=he.price*he.quantity,Ze=Pe*he.quantity,ze=we[he.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:""};return n.jsxs("div",{className:`${f?"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden":""}`,children:[n.jsxs("div",{className:`flex items-center ${f?"p-3":"py-2"}`,children:[n.jsx("div",{className:"flex-shrink-0 mr-2",children:n.jsx("button",{onClick:()=>Ht(he.id),className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-500 transition-all duration-200",title:"Show/Hide Details",children:n.jsx("svg",{className:`${f?"w-3 h-3":"w-4 h-4"} text-beveren-500 dark:text-gray-400 transform transition-transform duration-200 ${$e.has(he.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),he.image&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:he.image,alt:he.name,className:`${f?"w-16 h-16":"w-12 h-12"} rounded-lg object-cover`,crossOrigin:"anonymous"})}),n.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[n.jsx("h4",{className:`font-semibold text-gray-900 dark:text-white ${f?"text-base":"text-sm"} truncate`,children:he.name}),n.jsx("p",{className:`text-gray-500 dark:text-gray-400 capitalize font-medium ${f?"text-sm":"text-xs"}`,children:he.category}),n.jsx("div",{className:`${f?"text-base":"text-sm"}`,children:Pe<he.price?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-gray-400 line-through text-xs",children:[Re,he.price.toFixed(2)]}),n.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[Re,Pe.toFixed(2)]})]}):n.jsxs("div",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[Re,he.price.toFixed(2)]})})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center ml-10 space-x-1 min-w-[70px] justify-center",children:[n.jsx("button",{onClick:()=>t(he.id,he.quantity-1),className:`${f?"w-8 h-8":"w-5 h-5"} rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,children:n.jsx(ey,{size:f?16:14,className:"text-gray-600 dark:text-gray-400"})}),n.jsx("span",{className:`${f?"w-10":"w-8"} text-center font-semibold text-gray-900 dark:text-white text-sm`,children:he.quantity}),n.jsx("button",{onClick:()=>t(he.id,he.quantity+1),className:`${f?"w-8 h-8":"w-7 h-7"} rounded-full bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 flex items-center justify-center hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors`,children:n.jsx(Oc,{size:f?16:14,className:"text-blue-600 dark:text-blue-400"})})]}),n.jsx("div",{className:"flex-shrink-0 text-right min-w-[80px] px-2",children:Ze<He?n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-400 line-through text-xs",children:[Re,He.toFixed(2)]}),n.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${f?"text-base":"text-sm"}`,children:[Re,Ze.toFixed(2)]})]}):n.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${f?"text-base":"text-sm"}`,children:[Re,Ze.toFixed(2)]})}),n.jsx("div",{className:"flex-shrink-0 ml-2",children:n.jsx("button",{onClick:()=>r?r(he.id):t(he.id,0),className:`${f?"w-8 h-8":"w-6 h-6"} rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 flex items-center justify-center hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 dark:hover:border-red-800 hover:text-red-600 dark:hover:text-red-400 transition-colors`,title:"Remove item",children:n.jsx(ha,{size:f?16:12})})})]}),$e.has(he.id)&&n.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 ${f?"px-3 pb-3":"px-6 py-3 ml-7"} bg-gray-25 dark:bg-gray-750`,children:[n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Quantity"}),n.jsx(EO,{item:he,onUpdateQuantity:t,isMobile:f})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"UOM"}),n.jsx(TO,{item:he,onUOMChange:U,isMobile:f})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount Amount"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:ze.discountAmount||"",onChange:We=>jt(he.id,"discountAmount",parseFloat(We.target.value)||0),placeholder:"0.00",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:ze.discountPercentage||"",onChange:We=>jt(he.id,"discountPercentage",parseFloat(We.target.value)||0),placeholder:"0.0",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Batch"}),n.jsx(OO,{itemId:he.id,itemCode:he.item_code||he.id,options:te[he.item_code||he.id]||[],value:ze.batchNumber||"",onChange:(We,yt)=>{jt(he.id,"batchNumber",We),jt(he.id,"availableQuantity",yt)},isMobile:f})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Serial No"}),n.jsx(AO,{itemId:he.id,itemCode:he.item_code||he.id,options:R[he.item_code||he.id]||[],value:ze.serialNumber||"",onChange:We=>jt(he.id,"serialNumber",We),isMobile:f})]})]})]}),(ze.discountPercentage>0||ze.discountAmount>0)&&n.jsxs("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[n.jsx("div",{className:"text-xs text-green-800 dark:text-green-300 font-medium",children:"Discount Applied:"}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400",children:[ze.discountPercentage>0&&`${ze.discountPercentage}% off`,ze.discountPercentage>0&&ze.discountAmount>0&&" + ",ze.discountAmount>0&&`${ze.discountAmount.toFixed(2)} off`]}),n.jsxs("span",{className:"text-xs font-semibold text-green-800 dark:text-green-300",children:["Save $",(He-Ze).toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600 flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>Ht(he.id),className:`px-3 py-1 ${f?"text-sm":"text-xs"} text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium`,children:"Collapse"}),n.jsx("button",{onClick:()=>{Le.success("Item details updated successfully!")},className:`px-3 py-1 ${f?"text-sm":"text-xs"} bg-beveren-600 text-white rounded-md hover:bg-beveren-700 transition-colors font-medium`,children:"Update"})]})]})]},he.id)})})}),e.length>0&&n.jsxs("div",{className:`${f?"flex-shrink-0 p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shadow-lg":"p-4 border-t border-gray-100 dark:border-gray-700"} space-y-3`,children:[n.jsxs("div",{className:`grid grid-cols-2 gap-3 ${f?"mb-3":""}`,children:[n.jsx("button",{onClick:()=>{if(!se())return;const he={items:e.map(Pe=>({id:Pe.id,quantity:Pe.quantity,price:Be(Pe)})),customer:{id:y.id},subtotal:tt,total:Ye,appliedCoupons:l,itemDiscounts:we,totalItemDiscount:vt,totalSavings:vt+Ce,status:"held"};ht(he)},className:"px-3 py-2 border border-beveren-600 text-beveren-600 dark:text-beveren-400 rounded-lg font-medium hover:bg-beveren-600 hover:text-white transition-colors text-sm",children:"Hold"}),n.jsx("button",{onClick:Zt,className:"px-3 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:"Clear Cart"})]}),n.jsxs("button",{onClick:()=>{se()&&T(!0)},className:`w-full bg-beveren-600 text-white rounded-xl font-semibold hover:bg-beveren-700 transition-colors ${f?"py-3 text-base":"py-2 text-sm"}`,children:["Checkout ",Re,Ye.toFixed(2)]})]}),A&&n.jsx(ul,{customer:null,onClose:()=>{B(!1),q(""),me({})},onSave:Ft,prefilledName:Oe,prefilledData:ae}),P&&n.jsx(ry,{isOpen:P,onClose:Qe,cartItems:e.map(he=>ce(F({},he),{discountedPrice:Be(he),itemDiscount:we[he.id]||{},originalPrice:he.price,finalAmount:Be(he)*he.quantity})),appliedCoupons:l,selectedCustomer:y,onCompletePayment:fe,onHoldOrder:ht,isMobile:f,itemDiscounts:we,totalItemDiscount:vt})]})}const RO={USD:"$",SAR:".",AED:".",EUR:"",GBP:"",JPY:"",CAD:"C$",AUD:"A$",CHF:"CHF",CNY:"",INR:"",KRW:"",MXN:"$",NZD:"NZ$",SGD:"S$",THB:"",TRY:"",ZAR:"R",BRL:"R$",RUB:"",SEK:"kr",NOK:"kr",DKK:"kr",PLN:"z",CZK:"K",HUF:"Ft",ILS:"",EGP:"",QAR:".",KWD:".",BHD:".",OMR:".",JOD:".",LBP:".",PKR:"",BDT:"",LKR:"",NPR:"",AFN:"",IRR:"",IQD:".",SYP:"",YER:"",MAD:".",TND:".",DZD:".",LYD:".",ETB:"Br",KES:"KSh",UGX:"USh",TZS:"TSh",ZMW:"ZK",BWP:"P",SZL:"L",LSL:"L",NAD:"N$",MUR:"",SCR:"",MVR:"",NIO:"C$",GTQ:"Q",HNL:"L",SVC:"$",BZD:"BZ$",JMD:"J$",TTD:"TT$",BBD:"Bds$",XCD:"$",AWG:"",ANG:"",SRD:"$",GYD:"G$",VEF:"Bs",COP:"$",PEN:"S/",BOB:"Bs",CLP:"$",ARS:"$",UYU:"$U",PYG:"",FKP:"",FJD:"FJ$",PGK:"K",SBD:"SI$",VUV:"Vt",WST:"WS$",TOP:"T$",PHP:"",IDR:"Rp",MYR:"RM",VND:"",LAK:"",KHR:"",MMK:"K",BND:"B$"},ew=e=>e?RO[e.toUpperCase()]||e:"$",dt=(e,t)=>!e&&e!==0?"0.00":`${ew(t||"USD")} ${e.toFixed(2)}`;function rs(){const e=_r(),t=Va(),r=[{icon:id,path:"/pos",label:"POS"},{icon:Y3,path:"/invoice",label:"Invoice"},{icon:Ys,path:"/customers",label:"Customers"},{icon:Bo,path:"/dashboard",label:"Dashboard"},{icon:sl,path:"/closing_shift",label:"Closing"}],s=l=>l==="/pos"?t.pathname==="/"||t.pathname==="/pos":t.pathname.startsWith(l);return n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 safe-area-pb",children:n.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:r.map((l,c)=>n.jsxs("button",{onClick:()=>e(l.path),className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 transition-colors ${s(l.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:[n.jsx(l.icon,{size:20,className:`mb-1 ${s(l.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`}),n.jsx("span",{className:`text-xs font-medium truncate ${s(l.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:l.label})]},c))})})}function PO({items:e,selectedCategory:t,onCategoryChange:r,searchQuery:s,onSearchChange:l,onScanBarcode:c,scannerOnly:u=!1}){const{t:f}=un(),{user:h,logout:m}=Ws(),{theme:y,toggleTheme:w}=w0(),{posDetails:b,loading:v}=ma(),{cartItems:$,addToCart:N}=Vi(),C=_r(),[k,O]=x.useState(!1),[A,B]=x.useState("grid"),P=x.useRef(null);x.useEffect(()=>{if(!v&&b){const ye=b.custom_default_view;ye==="List View"?B("list"):ye==="Grid View"&&B("grid")}},[b,v]),x.useEffect(()=>{function ye(pe){P.current&&!P.current.contains(pe.target)&&O(!1)}return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[P]);const T=()=>de(null,null,function*(){try{yield m(),window.location.href="/klik_pos/login"}catch(ye){console.error("Logout error:",ye),window.location.href="/klik_pos/login"}}),G=ye=>ye.split(" ").map(pe=>pe.charAt(0).toUpperCase()).join("").substring(0,2),z=(h==null?void 0:h.full_name)||(h==null?void 0:h.name)||"Guest User",Z=(b==null?void 0:b.name)||"POS Profile";h!=null&&h.role;const Q=G(z),H=$.reduce((ye,pe)=>ye+pe.quantity,0),X=$.reduce((ye,pe)=>ye+pe.price*pe.quantity,0);return n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[n.jsxs("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),n.jsx("span",{className:"font-bold text-beveren-600 dark:text-beveren-400",children:"KLiK PoS"}),u&&n.jsx("div",{className:"bg-blue-600/90 text-white px-2 py-1 rounded-md text-xs font-medium",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),n.jsx("span",{children:"Scan Only"})]})})]}),n.jsxs("div",{className:"flex items-center space-x-2 relative",ref:P,children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:Z}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:z})]}),n.jsx("button",{onClick:()=>O(!k),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:n.jsx("span",{className:"text-white text-xs font-medium pointer-events-none",children:Q})}),k&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-medium text-sm",children:Q})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:Z}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx(ty,{size:12,className:"text-gray-400 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:z})]}),n.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:(h==null?void 0:h.role)||"User"})]})]})}),n.jsxs("div",{className:"py-1",children:[n.jsxs(sd,{to:"/settings",onClick:()=>O(!1),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(S0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:()=>{w(),O(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[y==="dark"?n.jsx($0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}):n.jsx(k0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),n.jsx("span",{children:y==="dark"?"Light Mode":"Dark Mode"})]}),n.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),n.jsxs("button",{onClick:()=>{T(),O(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[n.jsx(N0,{size:14,className:"mr-3"}),n.jsx("span",{children:"Logout"})]})]})]})]})]}),n.jsx("div",{className:"px-4 pb-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:f("SEARCH_PRODUCTS"),value:s,onChange:ye=>l(ye.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),c&&n.jsx("button",{onClick:c,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:n.jsx(Q3,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>B("grid"),className:`p-2 rounded-md transition-colors ${A==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:n.jsx(id,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>B("list"),className:`p-2 rounded-md transition-colors ${A==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:n.jsx(Jg,{className:"w-4 h-4"})})]})]})}),n.jsx("div",{className:"px-4 pb-2",children:n.jsx(X3,{selectedCategory:t,onCategoryChange:r,isMobile:!0})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:v?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):n.jsx(W3,{items:e,onAddToCart:N,isMobile:!0,scannerOnly:u,viewMode:A})}),H>0&&n.jsx("button",{onClick:()=>C("/cart"),className:"fixed bottom-20 right-6 bg-beveren-600 text-white rounded-full p-4 shadow-lg hover:bg-beveren-700 transition-colors z-30",children:n.jsxs("div",{className:"relative",children:[n.jsx(Rc,{className:"w-6 h-6"}),n.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:H})]})}),H>0&&n.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 z-40",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[H," items"]}),n.jsx("div",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:dt(X,(b==null?void 0:b.currency)||"USD")}),n.jsx("button",{onClick:()=>C("/cart"),className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors font-medium",children:"View Cart"})]})}),n.jsx(rs,{})]})}function MO({message:e="Loading..."}){return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-beveren-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:e})]})})}function u2({onBarcodeDetected:e,onClose:t,isOpen:r}){const[s,l]=x.useState(""),[c,u]=x.useState(!1),[f,h]=x.useState(""),[m,y]=x.useState(""),[w,b]=x.useState(!1),v=x.useRef(null),$=x.useRef(null),N=x.useRef(null),C=x.useRef(null);x.useEffect(()=>{"BarcodeDetector"in window?b(!0):console.warn("BarcodeDetector not supported in this browser")},[]);const k=T=>{T.key==="Enter"&&s.trim()&&(T.preventDefault(),h(s.trim()),u(!0),setTimeout(()=>{e(s.trim()),l(""),u(!1),h(""),t()},1e3))};x.useEffect(()=>(r?O():(A(),B()),()=>{A(),B()}),[r]);const O=()=>de(null,null,function*(){try{y("");const T=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});v.current&&(v.current.srcObject=T,$.current=T,v.current.onloadedmetadata=()=>{P()})}catch(T){console.error("Camera error:",T),y("Camera access denied or not available. Please use manual input.")}}),A=()=>{$.current&&($.current.getTracks().forEach(T=>T.stop()),$.current=null),v.current&&(v.current.srcObject=null)},B=()=>{C.current&&(clearInterval(C.current),C.current=null)},P=()=>de(null,null,function*(){if(!w){y("Barcode detection not supported in this browser. Please use manual input.");return}try{const T=new window.BarcodeDetector({formats:["code_128","code_39","ean_13","ean_8","upc_a","upc_e","qr_code"]});C.current=setInterval(()=>de(null,null,function*(){if(v.current&&N.current&&v.current.videoWidth>0){const G=N.current,z=G.getContext("2d");if(z){G.width=v.current.videoWidth,G.height=v.current.videoHeight,z.drawImage(v.current,0,0,G.width,G.height);try{const Z=yield T.detect(G);if(Z.length>0){const Q=Z[0].rawValue;console.log("Barcode detected:",Q),B(),h(Q),u(!0),setTimeout(()=>{e(Q),u(!1),h(""),t()},1e3)}}catch(Z){console.error("Barcode detection error:",Z)}}}}),200)}catch(T){console.error("BarcodeDetector error:",T),y("Barcode detection failed. Please use manual input.")}});return r?n.jsxs("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center z-50",children:[n.jsx("canvas",{ref:N,style:{display:"none"}}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scan Barcode"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(ha,{size:24})})]}),c&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ui,{className:"text-green-600 dark:text-green-400 mr-2",size:20}),n.jsxs("span",{className:"text-green-800 dark:text-green-200 font-medium",children:["Barcode detected: ",f]})]}),n.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm mt-1",children:"Adding item to cart..."})]}),m&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zg,{className:"text-red-600 dark:text-red-400 mr-2",size:20}),n.jsx("span",{className:"text-red-800 dark:text-red-200 font-medium",children:m})]})}),!w&&n.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:n.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[n.jsx("strong",{children:"Limited Support:"})," Camera barcode detection not fully supported in this browser. Manual input recommended."]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:[n.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsx("div",{className:"border-2 border-green-400 border-dashed rounded-lg w-64 h-32 flex items-center justify-center",children:n.jsxs("div",{className:"text-green-400 text-center",children:[n.jsx(V3,{size:32,className:"mx-auto mb-2 opacity-75"}),n.jsx("p",{className:"text-sm",children:"Point at barcode"})]})})}),n.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded text-sm",children:w?n.jsxs("span",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Scanning..."]}):n.jsxs("span",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-2"}),"Camera Active"]})})]}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w?"Hold the barcode steady in the scanning area":"Camera active - use manual input below for barcode entry"}),n.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:n.jsx("input",{type:"text",value:s,onChange:T=>l(T.target.value),onKeyPress:k,placeholder:"Or type barcode manually...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]}),n.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["BarcodeDetector support: ",w?" Enabled":" Not available"]})]})]}):null}function DO(e){const[t,r]=x.useState(!1),[s,l]=x.useState(null),{products:c}=x0();return{scanBarcode:h=>de(null,null,function*(){if(!h.trim())return l("Please enter a valid barcode"),!1;r(!0),l(null);try{const m=c.find(y=>y.id===h||y.name.toLowerCase().includes(h.toLowerCase()));if(m)return e(m),!0;try{const w=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(h)}`)).json();if(w.message&&w.message.item_code){const b={id:w.message.item_code,name:w.message.item_name||w.message.item_code,category:w.message.item_group||"General",price:w.message.price||0,available:w.message.available||0,image:w.message.image,sold:0};return e(b),!0}else return l("Product not found for this barcode"),!1}catch(y){return console.error("API error:",y),l("Product not found for this barcode"),!1}}catch(m){return console.error("Barcode scanning error:",m),l("Error processing barcode"),!1}finally{r(!1)}}),isScanning:t,error:s,clearError:()=>l(null)}}function yl(e){const[t,r]=x.useState(!1);return x.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&r(s.matches);const l=()=>r(s.matches);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t,e]),t}function LO(){const[e,t]=x.useState("all"),[r,s]=x.useState(""),[l,c]=x.useState([]),[u,f]=x.useState(!1),[h,m]=x.useState(null),[y,w]=x.useState(null),{cartItems:b,addToCart:v,updateQuantity:$,removeItem:N,clearCart:C}=Vi(),{products:k,isLoading:O,error:A,refetch:B}=x0(),{posDetails:P}=ma(),T=(P==null?void 0:P.custom_use_scanner_fully)||!1,G=(P==null?void 0:P.hide_unavailable_items)||!1,z=(P==null?void 0:P.custom_scale_barcodes_start_with)||"";x.useEffect(()=>{console.log("[ScaleDebug] scalePrefix:",z)},[z]);const Z=yl("(max-width: 1024px)"),Q=R=>{if(!(R.available<=0)){if(T){console.log("Scanner-only mode enabled. Items can only be added via barcode scanning.");return}ye(R)}},H=x.useCallback(R=>{if(!z||!R.startsWith(z))return{isScale:!1};const Y=R.substring(0,7),Se=R.substring(7);if(!/^\d{1,5}$/.test(Se))return{isScale:!1};let J="";Se.startsWith("0000")?J="0.00"+Se.substring(4):Se.startsWith("000")?J="0.0"+Se.substring(3):Se.startsWith("00")?J="0."+Se.substring(2):Se.startsWith("0")?J=Se.substring(1,2)+"."+Se.substring(2):J=Se.substring(0,2)+"."+Se.substring(2);const $e=parseFloat(J);return Number.isNaN($e)||$e<=0?{isScale:!1}:{isScale:!0,baseBarcode:Y,quantity:$e}},[z]),X=x.useCallback((R,Y)=>{const Se=b.find(J=>J.id===R.id);Se?$(R.id,Se.quantity+Y):(v({id:R.id,name:R.name,category:R.category,price:R.price,image:R.image,available:R.available,uom:R.uom,item_code:R.id}),$(R.id,Y))},[b,$,v]),ye=R=>{const Y=b.find(Se=>Se.id===R.id);Y?$(R.id,Y.quantity+1):v({id:R.id,name:R.name,category:R.category,price:R.price,image:R.image,available:R.available,uom:R.uom,item_code:R.id}),T&&console.log(` Added ${R.name} to cart via barcode scanning`)},pe=(R,Y)=>{Y<=0?N(R):$(R,Y)},Oe=R=>{N(R)},q=()=>{C()},ae=R=>{l.some(Y=>Y.code===R.code)||c([...l,R])},me=R=>{c(l.filter(Y=>Y.code!==R))},{scanBarcode:Re}=DO(ye),U=x.useCallback(R=>de(null,null,function*(){(yield Re(R))&&f(!1)}),[Re]),we=R=>{if(s(R),T&&R.length>=8&&/^[0-9]+$/.test(R)&&console.log("Potential barcode input detected:",R),!!z&&R&&/^[0-9]+$/.test(R)&&R.startsWith(z)&&R.length>=7){const Se=R.substring(0,7),J=k.find($e=>$e.id===Se||$e.barcode&&$e.barcode===Se);m(J?J.id:null),console.log("[ScaleDebug] typing:",{query:R,base:Se,matchedId:J==null?void 0:J.id,pinnedItemId:J?J.id:null})}else h&&(console.log("[ScaleDebug] clearing pinned due to not scale typing:",{query:R}),m(null));w(null)},L=R=>{if(R.key==="Enter"&&r.trim()){if(R.preventDefault(),/^[0-9]+$/.test(r)&&z&&r.startsWith(z)){const Y=H(r.trim());if(Y.isScale){const Se=Y.baseBarcode,J=Y.quantity,$e=k.find(Be=>Be.id===Se||Be.barcode&&Be.barcode===Se);if($e){console.log("[ScaleDebug] enter scale add:",{base:Se,qty:J,itemId:$e.id}),X($e,J),s(""),m(null);return}console.log("[ScaleDebug] enter scale fallback via handleBarcodeDetected:",{base:Se,qty:J}),U(Se);const be=k.find(Be=>Be.id===Se);be&&(console.log("[ScaleDebug] enter scale fallback update qty:",{fallbackId:be.id,qty:J}),X(be,J)),s(""),m(null);return}}if(T&&/^[0-9]+$/.test(r)){console.log("Processing as barcode:",r),U(r.trim()),s(""),m(null);return}console.log("Processing as product search:",r),de(null,null,function*(){var Y;try{const J=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(r.trim())}`)).json();if(console.log("Batch/Serial lookup result:",J),(Y=J==null?void 0:J.message)!=null&&Y.item_code){const $e={id:J.message.item_code,name:J.message.item_name||J.message.item_code,category:J.message.item_group||"General",price:J.message.price||0,available:J.message.available||0,image:J.message.image,sold:0};X($e,1);const be=J.message.matched_type,Be=J.message.matched_value;be==="batch"?window.dispatchEvent(new CustomEvent("cart:setBatchForItem",{detail:{itemCode:$e.id,batchId:Be}})):be==="serial"&&window.dispatchEvent(new CustomEvent("cart:setSerialForItem",{detail:{itemCode:$e.id,serialNo:Be}})),s(""),m(null)}}catch(Se){}})}};x.useEffect(()=>{if(!T)return;const R=setTimeout(()=>{if(r.length>=8&&/^[0-9]+$/.test(r)){const Y=H(r.trim());if(Y.isScale){const Se=Y.baseBarcode,J=Y.quantity,$e=k.find(be=>be.id===Se||be.barcode&&be.barcode===Se);if($e){console.log("[ScaleDebug] auto scale add:",{base:Se,qty:J,itemId:$e.id}),X($e,J),s(""),m(null);return}}console.log("Auto-processing potential barcode:",r),U(r.trim()),s(""),m(null)}},500);return()=>clearTimeout(R)},[r,U,T,k,H,X]),x.useEffect(()=>{if(!r||!!z&&/^[0-9]+$/.test(r)&&r.startsWith(z)&&r.length>=7)return;let Y=!1;const Se=setTimeout(()=>de(null,null,function*(){var J;try{const be=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(r.trim())}`)).json();!Y&&((J=be==null?void 0:be.message)!=null&&J.item_code)&&w(be.message.item_code)}catch($e){Y||w(null)}}),250);return()=>{Y=!0,clearTimeout(Se)}},[r,z]);const te=k.filter(R=>{var Be;if(G&&R.available<=0)return!1;const Y=e==="all"||R.category===e,Se=!!z&&r&&/^[0-9]+$/.test(r)&&r.startsWith(z)&&r.length>=7,J=h&&Se||Se?r.substring(0,7):r;Se&&console.log("[ScaleDebug] filter using base:",{searchQuery:r,base:J,pinnedItemId:h});const $e=J===""||R.name.toLowerCase().includes(J.toLowerCase())||R.category.toLowerCase().includes(J.toLowerCase())||R.id.toLowerCase().includes(J.toLowerCase())||((Be=R.description)==null?void 0:Be.toLowerCase().includes(J.toLowerCase()))||R.barcode&&R.barcode.toLowerCase().includes(J.toLowerCase()),be=Y&&$e;if(h&&Se){const tt=be||R.id===h;return!be&&tt&&console.log("[ScaleDebug] keeping pinned in results:",{itemId:R.id,pinnedItemId:h}),tt}return y?be||R.id===y:be});if(O)return n.jsx(MO,{message:"Loading products..."});const oe=T&&!Z&&n.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-600/90 text-white px-3 py-1.5 rounded-lg shadow-lg backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),n.jsx("span",{className:"text-sm font-medium",children:"Scanner Only"})]})});if(A){const R=Y=>Y.includes("HTTP 403")||Y.includes("403")?"Access denied. Please check your permissions or contact your administrator.":Y.includes("HTTP 401")||Y.includes("401")?"Authentication required. Please log in again.":Y.includes("HTTP 404")||Y.includes("404")?"Product service not available. Please contact your administrator.":Y.includes("HTTP 500")||Y.includes("500")?"Server error. Please try again later.":Y.includes("Network error")||Y.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":Y.includes("Authentication required")?"Please log in to access products.":Y;return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx("div",{className:"text-red-500 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Failed to Load Products"}),n.jsx("p",{className:"text-gray-600 mb-4",children:R(A)}),n.jsx("button",{onClick:B,className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:"Try Again"})]})})}return Z?n.jsxs(n.Fragment,{children:[n.jsx(PO,{items:te,selectedCategory:e,onCategoryChange:t,searchQuery:r,onSearchChange:s,onScanBarcode:()=>f(!0),scannerOnly:T}),n.jsx(u2,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:U})]}):n.jsxs(n.Fragment,{children:[oe,n.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 pb-8",children:[n.jsx("div",{className:"flex-1 overflow-hidden ml-20",children:n.jsx(q$,{items:te,selectedCategory:e,onCategoryChange:t,searchQuery:r,onSearchChange:we,onSearchKeyPress:L,onAddToCart:Q,onScanBarcode:()=>f(!0),scannerOnly:T})}),n.jsx("div",{className:"w-[30%] min-w-[380px] max-w-[500px] bg-white shadow-lg overflow-y-auto",children:n.jsx(J4,{cartItems:b,onUpdateQuantity:pe,onRemoveItem:Oe,onClearCart:q,appliedCoupons:l,onApplyCoupon:ae,onRemoveCoupon:me})})]}),n.jsx(u2,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:U})]})}function IO(){const[e,t]=x.useState(!1),[r,s]=x.useState(null),[l,c]=x.useState(!1);return{createOpeningEntry:f=>de(null,null,function*(){t(!0),s(null),c(!1);const h=window.csrf_token;console.log("Opening",f);try{const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_opening_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h},body:JSON.stringify({opening_balance:f}),credentials:"include"}),y=yield m.json();if(m.ok&&y.message)c(!0);else throw new Error(y._server_messages||"Failed to create opening entry")}catch(m){console.error("Error creating POS Opening Entry:",m),s(m.message||"Unexpected error occurred")}finally{t(!1)}}),isCreating:e,error:r,success:l}}const UO=({isOpen:e,onClose:t,onSuccess:r,currentUser:s})=>{const[l,c]=x.useState("form"),[u,f]=x.useState(""),[h,m]=x.useState([]),[y,w]=x.useState(""),{createOpeningEntry:b,isCreating:v,error:$,success:N}=IO(),{profiles:C,loading:k}=d9(),{posDetails:O}=ma(),{modes:A,isLoading:B,error:P}=Z3(u),T=X=>{switch(X.toLowerCase()){case"cash":return n.jsx(G3,{className:"w-5 h-5 text-green-600"});case"bank":return n.jsx(Ha,{className:"w-5 h-5 text-blue-600"});default:return n.jsx(I$,{className:"w-5 h-5 text-gray-600"})}};x.useEffect(()=>{C&&C.length>0&&!u&&f(C[0])},[C,u]);const G=X=>{f(X),m([])};x.useEffect(()=>{if(A&&A.length>0){const ye=[...A].sort((pe,Oe)=>pe.default===1&&Oe.default!==1?-1:pe.default!==1&&Oe.default===1?1:0).map(pe=>({mode_of_payment:pe.mode_of_payment,opening_amount:0,type:pe.type||"General",account:pe.default_account||pe.account}));m(ye)}},[A]),x.useEffect(()=>{P&&w(P)},[P]);const z=(X,ye)=>{const pe=[...h];pe[X].opening_amount=ye,m(pe)},Z=()=>de(null,null,function*(){try{c("creating"),w("");const X=h.map(ye=>({mode_of_payment:ye.mode_of_payment,opening_amount:ye.opening_amount||0}));console.log("Opening balance data:",X),yield b(X)}catch(X){console.error("Error creating opening entry:",X),w(X.message||"Failed to create opening entry"),c("form")}}),Q=h.reduce((X,ye)=>X+(ye.opening_amount||0),0);if(x.useEffect(()=>{N&&l==="creating"&&(c("success"),setTimeout(()=>{r()},1500))},[N,l,r]),x.useEffect(()=>{$&&l==="creating"&&(w($),c("form"))},[$,l]),x.useEffect(()=>{e&&(c("form"),w(""),f(""),m([]))},[e]),!e)return null;const H=u&&B;return n.jsx("div",{className:"fixed inset-0 bg-beveren-300 bg-opacity-10 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full max-h-[90vh] overflow-hidden",children:["        ",n.jsxs("div",{className:"bg-beveren-600 text-white px-6 py-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"POS Opening Entry"}),n.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",disabled:v,children:n.jsx(ha,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 relative",children:[l==="form"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"POS Profile"}),n.jsxs("select",{value:u,onChange:X=>G(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:k||H,children:[(!C||C.length===0)&&n.jsx("option",{value:"",children:k?"Loading profiles...":"No profiles available"}),C&&Array.isArray(C)&&C.map((X,ye)=>{console.log("Rendering profile option:",X);const pe=typeof X=="string"?X:X==null?void 0:X.name,Oe=typeof X=="string"?X:(X==null?void 0:X.name)||`Profile ${ye+1}`;return n.jsx("option",{value:pe,children:Oe},pe||ye)})]})]}),H&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment methods..."})]}),!H&&h.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Opening Balances"}),n.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:h.map((X,ye)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[T(X.type),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm text-gray-900",children:X.mode_of_payment}),n.jsx("div",{className:"text-xs text-gray-500",children:X.type})]}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:X.opening_amount||"",onChange:pe=>z(ye,parseFloat(pe.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00",disabled:k})]},X.mode_of_payment))}),n.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[n.jsx("span",{children:"Total Opening Balance:"}),n.jsx("span",{className:"text-green-600",children:dt(Q,(O==null?void 0:O.currency)||"USD")})]})})]}),y&&n.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:[n.jsx(Zg,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),n.jsx("div",{children:y})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:k||v||H,children:"Cancel"}),n.jsx("button",{onClick:Z,disabled:k||v||H||!u||h.length===0,className:"flex-1 px-4 py-2 bg-beveren-700 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:k?"Loading...":v?"Creating...":H?"Loading...":"Start POS Session"})]})]}),l==="creating"&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Opening Entry"}),n.jsx("p",{className:"text-gray-600",children:"Please wait while we set up your POS session..."})]}),l==="success"&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(A9,{className:"w-8 h-8 text-green-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"POS Session Started!"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Opening entry created successfully. Redirecting to POS..."}),n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]}),k&&l==="form"&&!H&&n.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})]})})};function FO(){const{isRTL:e}=un(),[t,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(null),[f,h]=x.useState(!0),[m,y]=x.useState(null),[w,b]=x.useState(!1),{cartItems:v}=Vi(),{hasOpenEntry:$,isLoading:N,error:C,refetch:k}=AS();x.useEffect(()=>{de(null,null,function*(){try{h(!0),y(null),Yn.initializeSession();const P=yield Yn.getCurrentUserProfile();if(P)u({name:P.name,email:P.email||P.name,full_name:P.full_name||P.first_name+" "+(P.last_name||""),role:P.role_profile_name||"User",user_image:P.user_image});else{const T=yield Yn.getCurrentUser();T?u({name:T,email:T,full_name:T,role:"User"}):y("No user session found")}}catch(P){console.error("Error fetching current user:",P),y(P.message||"Failed to fetch user")}finally{h(!1)}})},[]),x.useEffect(()=>{s&&!w&&setTimeout(()=>{q8()&&(console.log("Loading cached draft invoice items to cart"),H8()),b(!0)},1e3)},[s,w]),x.useEffect(()=>{!N&&!C?$===!0?(l(!0),r(!1)):$===!1&&(l(!1),r(!0)):C&&(console.error("Error checking POS opening status:",C),l(!1),r(!0))},[$,N,C]);const O=()=>{r(!1),l(!0),b(!1),k()},A=()=>{r(!1)};return N?n.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),n.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):n.jsxs("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} pb-12`,children:[s&&n.jsx(LO,{}),!s&&!t&&n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"POS Not Ready"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please start a POS session to continue."}),n.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start POS Session"})]})}),n.jsx(UO,{isOpen:t,onClose:A,onSuccess:O,currentUser:c==null?void 0:c.name})]})}const BO={todaySales:{totalRevenue:324.98,totalTransactions:5,averageOrderValue:64.99,totalItems:12},weekSales:{totalRevenue:1847.32,totalTransactions:28,averageOrderValue:65.98,totalItems:89},monthSales:{totalRevenue:8234.56,totalTransactions:124,averageOrderValue:66.41,totalItems:387},giftCardUsage:{totalRedeemed:125,totalTransactions:4,averageDiscount:31.25},salesByDay:[{day:"Mon",sales:1234.56},{day:"Tue",sales:1456.78},{day:"Wed",sales:1678.9},{day:"Thu",sales:1890.12},{day:"Fri",sales:2012.34},{day:"Sat",sales:1789.45},{day:"Sun",sales:1567.23}]};function dy(e=""){const[t,r]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState(!1),[f,h]=x.useState(null),[m,y]=x.useState(!0),[w,b]=x.useState(0),[v,$]=x.useState(0),[N,C]=x.useState(0),k=100,O=x.useCallback((P=0,T=!1)=>de(null,null,function*(){var G;T?u(!0):l(!0);try{const z=P*k;console.log(`Fetching sales invoices - page: ${P}, start: ${z}, limit: ${k}, search: ${e}`);const Z=e?`&search=${encodeURIComponent(e)}`:"",Q=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${k}&start=${z}${Z}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Sales invoices response:",{status:Q.status,statusText:Q.statusText,ok:Q.ok}),!Q.ok)throw new Error(`HTTP ${Q.status}: ${Q.statusText}`);const H=yield Q.json();if(!H.message||!H.message.success)throw new Error(((G=H.message)==null?void 0:G.error)||H.error||"Failed to fetch invoices");const X=H.message.data,ye=X.length,pe=H.message.total_count||0;y(ye===k),C(pe);const Oe=X.map(q=>({id:q.name,date:q.posting_date||new Date().toISOString().split("T")[0],time:q.posting_time||"00:00:00",cashier:q.cashier_name,cashierId:q.owner||"",customer:q.customer_name||"",customerId:q.customer||"",items:q.items||[],subtotal:(Number(q.base_grand_total)||0)-(Number(q.total_taxes_and_charges)||0)+(Number(q.discount_amount)||0),giftCardDiscount:Number(q.discount_amount)||0,giftCardCode:String(q.discount_code)||"",taxAmount:Number(q.total_taxes_and_charges)||0,totalAmount:Number(q.base_grand_total)||0,paymentMethod:q.mode_of_payment||"-",amountPaid:Number(q.base_rounded_total)||0,changeGiven:Number(q.change_amount)||0,status:q.status||"Completed",refundAmount:q.status==="Refunded"&&Number(q.base_grand_total)||0,custom_zatca_submit_status:q.custom_zatca_submit_status||"Draft",currency:q.currency||"USD",notes:q.remarks||"",posProfile:q.pos_profile||"",custom_pos_opening_entry:q.custom_pos_opening_entry||""}));T?(r(q=>[...q,...Oe]),$(q=>q+ye)):(r(Oe),$(ye)),b(P),h(null)}catch(z){h(z.message||"Unknown error occurred")}finally{l(!1),u(!1)}}),[e]),A=x.useCallback(()=>{!c&&m&&O(w+1,!0)},[w,c,m,O]),B=x.useCallback(()=>{b(0),$(0),y(!0),O(0,!1)},[O]);return x.useEffect(()=>{O(0,!1)},[O]),x.useEffect(()=>{e!==void 0&&(b(0),$(0),y(!0),O(0,!1))},[e,O]),{invoices:t,isLoading:s,isLoadingMore:c,error:f,hasMore:m,totalLoaded:v,totalCount:N,loadMore:A,refetch:B}}function tw(){const[e,t]=x.useState(null),[r,s]=x.useState(!0),[l,c]=x.useState(null),u=()=>de(null,null,function*(){var f,h;s(!0);try{const m=yield fetch("/api/method/klik_pos.api.user.get_current_user_info",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),y=yield m.json();if(m.ok&&((f=y.message)!=null&&f.success))t(y.message.data),c(null);else throw new Error(((h=y.message)==null?void 0:h.error)||"Failed to fetch user info")}catch(m){console.error("Error loading user info:",m),c(m.message||"Unknown error")}finally{s(!1)}});return x.useEffect(()=>{u()},[]),{userInfo:e,isLoading:r,error:l,refetch:u}}function zO(){var U,we;const e=_r(),t=yl("(max-width: 1024px)"),{posDetails:r}=ma(),{invoices:s,isLoading:l}=dy(),{userInfo:c,isLoading:u}=tw(),[f,h]=x.useState("today");ew((r==null?void 0:r.currency)||"USD");const m=(c==null?void 0:c.is_admin_user)||!1,y=(c==null?void 0:c.full_name)||"Unknown",[w,b]=x.useState("all"),[v,$]=x.useState("all"),[N,C]=x.useState(!1),[k,O]=x.useState("bar"),A=BO,B=[...new Set(s.map(L=>L.cashier))];if(x.useEffect(()=>{c&&!m&&b(y)},[c,m,y]),u||l)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading dashboard..."})]})});const T=(()=>{switch(f){case"today":return A.todaySales;case"week":return A.weekSales;case"month":return A.monthSales;default:return A.todaySales}})(),G=s.filter(L=>{const te=w==="all"||L.cashier===w,oe=v==="all"||L.paymentMethod===v,R=new Date().toISOString().split("T")[0],Y=f==="today"&&L.date===R||f==="week"&&new Date(L.date)>=new Date(Date.now()-7*24*60*60*1e3)||f==="month"&&new Date(L.date)>=new Date(Date.now()-30*24*60*60*1e3),Se=m||!(r!=null&&r.name)||L.posProfile===r.name;return te&&oe&&Y&&Se}),z={totalRevenue:G.reduce((L,te)=>L+te.totalAmount,0),totalTransactions:G.length,averageOrderValue:G.length>0?G.reduce((L,te)=>L+te.totalAmount,0)/G.length:0,totalItems:G.reduce((L,te)=>L+te.items.length,0)},Q=(()=>{if(f!=="today")return[];const L=new Date().toISOString().split("T")[0],te=G.filter(R=>R.date===L),oe={};for(let R=9;R<=20;R++){const Y=`${R.toString().padStart(2,"0")}:00`;oe[Y]=0}return te.forEach(R=>{const Y=R.time.split(":");if(Y.length>=2){const Se=`${Y[0].padStart(2,"0")}:00`;oe.hasOwnProperty(Se)&&(oe[Se]+=R.totalAmount)}}),Object.entries(oe).map(([R,Y])=>({hour:R,sales:Y}))})(),X=(()=>{const L={};G.forEach(oe=>{const R=oe.paymentMethod||"Cash";L[R]||(L[R]={amount:0,transactions:0}),L[R].amount+=oe.totalAmount,L[R].transactions+=1});const te=Object.values(L).reduce((oe,R)=>oe+R.amount,0);return Object.entries(L).map(([oe,R])=>({method:oe,amount:R.amount,percentage:te>0?R.amount/te*100:0,transactions:R.transactions}))})(),pe=(()=>{const L={};G.forEach(Y=>{const Se=Y.custom_zatca_submit_status||"Draft";L[Se]=(L[Se]||0)+1});const te=Object.values(L).reduce((Y,Se)=>Y+Se,0),oe={pending:"#f59e0b",reported:"#3b82f6","not reported":"#9ca3af",cleared:"#16a34a","not cleared":"#ef4444",draft:"#6b7280"},R=Object.entries(L).map(([Y,Se])=>{const J=Y.toLowerCase(),$e=oe[J]||"#9ca3af";return{status:Y,count:Se,percentage:te>0?Se/te*100:0,color:$e}});return{total:te,segments:R.sort((Y,Se)=>Se.count-Y.count)}})(),q=(()=>{const L={};return G.forEach(oe=>{const R=oe.cashier||"Unknown";L[R]||(L[R]={name:R,sales:0,transactions:0}),L[R].sales+=oe.totalAmount,L[R].transactions+=1}),Object.values(L).sort((oe,R)=>R.sales-oe.sales)[0]||null})(),me=(()=>{const L={};return G.forEach(te=>{te.items.forEach(oe=>{const R=oe.item_code||oe.item_name||"Unknown";L[R]||(L[R]={name:oe.item_name||oe.item_code||"Unknown",sales:0,revenue:0}),L[R].sales+=oe.qty||0,L[R].revenue+=(oe.rate||0)*(oe.qty||0)})}),Object.entries(L).map(([te,oe])=>F({id:te},oe)).sort((te,oe)=>oe.revenue-te.revenue).slice(0,5)})(),Re=G.sort((L,te)=>new Date(te.date+" "+te.time).getTime()-new Date(L.date+" "+L.time).getTime()).slice(0,5);return t?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>C(!N),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Wm,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Filters"})]})})]})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[N&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),n.jsxs("select",{value:f,onChange:L=>h(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),n.jsxs("select",{value:w,onChange:L=>b(L.target.value),disabled:!m,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${m?"":"opacity-50 cursor-not-allowed"}`,children:[n.jsx("option",{value:"all",children:"All Cashiers"}),B.map(L=>n.jsx("option",{value:L,children:L},L))]}),!m&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),n.jsxs("select",{value:v,onChange:L=>$(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Methods"}),n.jsx("option",{value:"Cash",children:"Cash"}),n.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>{h("today"),b("all"),$("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:dt(w!=="all"||v!=="all"?z.totalRevenue:T.totalRevenue,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),n.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Tc,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?z.totalTransactions:T.totalTransactions}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Is,{className:"w-4 h-4 text-blue-500 mr-1"}),n.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"+8.2%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Rc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:dt(w!=="all"||v!=="all"?z.averageOrderValue:T.averageOrderValue,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),n.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Bo,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?z.totalItems:T.totalItems}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(e1,{className:"w-4 h-4 text-red-500 mr-1"}),n.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Qv,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[f==="today"&&Q.length>0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>O("bar"),className:`px-2 py-1 text-xs rounded transition-colors ${k==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Bar"}),n.jsx("button",{onClick:()=>O("line"),className:`px-2 py-1 text-xs rounded transition-colors ${k==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Line"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nl,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Peak: ",((U=Q.reduce((L,te)=>te.sales>L.sales?te:L,Q[0]))==null?void 0:U.hour)||"N/A"]})]})]})]}),n.jsx("div",{className:"h-48 flex items-end justify-between space-x-1",children:Q.map((L,te)=>{const oe=Math.max(...Q.map(Y=>Y.sales)),R=oe>0?L.sales/oe*180:4;return n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative w-full",children:[k==="bar"?n.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${R}px`,minHeight:"4px"},title:`${L.hour}: ${dt(L.sales,(r==null?void 0:r.currency)||"USD")}`}):n.jsx("div",{className:"relative w-full h-full",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[te>0&&n.jsx("line",{x1:"0",y1:`${100-Q[te-1].sales/oe*100}`,x2:"100",y2:`${100-L.sales/oe*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),n.jsx("circle",{cx:"100",cy:`${100-L.sales/oe*100}`,r:"2",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),n.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:dt(L.sales,(r==null?void 0:r.currency)||"USD")})]}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:L.hour})]},te)})}),n.jsx("div",{className:"mt-3 text-center",children:n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",n.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:dt(Q.reduce((L,te)=>L+te.sales,0),(r==null?void 0:r.currency)||"USD")})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),n.jsx(Wv,{className:"w-5 h-5 text-gray-400"})]}),n.jsxs("div",{className:"space-y-4",children:[X.map((L,te)=>{const oe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=oe[te%oe.length];return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-4 h-4 ${R} rounded`}),n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:L.method})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:dt(L.amount,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[L.percentage.toFixed(1),"%  ",L.transactions," txns"]})]})]},L.method)}),X.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:X.map((L,te)=>{const oe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=oe[te%oe.length];return n.jsx("div",{className:R,style:{width:`${L.percentage}%`}},L.method)})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(r==null?void 0:r.is_zatca_enabled)&&pe.total>0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),n.jsx(Bo,{className:"w-5 h-5 text-gray-400"})]}),n.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 mb-4",children:pe.segments.map((L,te)=>{const oe=Math.max(...pe.segments.map(Y=>Y.count)),R=oe>0?L.count/oe*180:4;return n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${R}px`,minHeight:"4px",backgroundColor:L.color},title:`${L.status}: ${L.count} (${Math.round(L.percentage)}%)`}),n.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:L.count})]}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center leading-tight",children:L.status})]},L.status)})}),n.jsx("div",{className:"space-y-2",children:pe.segments.map(L=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:L.color}}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L.status})]}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[L.count," (",Math.round(L.percentage),"%)"]})]},L.status))}),n.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",n.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:pe.total})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gift Card Usage"}),n.jsx(K3,{className:"w-5 h-5 text-orange-600"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Redeemed"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:dt(A.giftCardUsage.totalRedeemed,(r==null?void 0:r.currency)||"USD")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:A.giftCardUsage.totalTransactions})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Discount"}),n.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:dt(A.giftCardUsage.averageDiscount,(r==null?void 0:r.currency)||"USD")})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(A.giftCardUsage.totalTransactions/T.totalTransactions*100).toFixed(1),"% of all transactions"]})})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),n.jsx(Ys,{className:"w-5 h-5 text-beveren-600"})]}),q?n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[n.jsx("span",{className:"text-white font-bold text-xl",children:q.name.split(" ").map(L=>L[0]).join("")}),n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs",children:""})})]}),n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:q.name}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[q.transactions," transactions"]}),n.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:dt(q.sales,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[z.totalRevenue>0?(q.sales/z.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Weekly Trend"}),n.jsx(Wg,{className:"w-5 h-5 text-gray-400"})]}),n.jsx("div",{className:"h-24 flex items-end justify-between space-x-1 mb-4",children:A.salesByDay.map((L,te)=>n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${L.sales/Math.max(...A.salesByDay.map(oe=>oe.sales))*60}px`,minHeight:"4px"},title:`${L.day}: ${dt(L.sales,(r==null?void 0:r.currency)||"USD")}`}),n.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-1 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:dt(L.sales,(r==null?void 0:r.currency)||"USD")})]}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:L.day})]},te))}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Best day: ",n.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:"Friday"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),n.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),n.jsxs("div",{className:"space-y-3",children:[me.map((L,te)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:te+1})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:L.name}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[L.sales," sold"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:dt(L.revenue,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[dt(L.sales>0?L.revenue/L.sales:0,(r==null?void 0:r.currency)||"USD")," avg"]})]})]},L.id)),me.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),n.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),n.jsxs("div",{className:"space-y-3",children:[Re.map(L=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:L.paymentMethod==="Cash"?n.jsx("span",{className:"text-lg",children:""}):n.jsx(Ha,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:L.id}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[L.customer,"  ",L.time]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:dt(L.totalAmount,L.currency||(r==null?void 0:r.currency)||"USD")}),n.jsx("div",{className:`text-xs ${L.status==="Completed"?"text-green-600 dark:text-green-400":L.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:L.status})]})]},L.id)),Re.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]}),n.jsx(rs,{})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[n.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"})}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsxs("button",{onClick:()=>C(!N),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Wm,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Filters"})]}),n.jsxs("button",{className:"hidden sm:flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[n.jsx(e0,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]})]})]})})}),n.jsxs("div",{className:"flex-1 px-6 py-8 mt-16",children:[N&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6 sm:mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),n.jsxs("select",{value:f,onChange:L=>h(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),n.jsxs("select",{value:w,onChange:L=>b(L.target.value),disabled:!m,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${m?"":"opacity-50 cursor-not-allowed"}`,children:[n.jsx("option",{value:"all",children:"All Cashiers"}),B.map(L=>n.jsx("option",{value:L,children:L},L))]}),!m&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),n.jsxs("select",{value:v,onChange:L=>$(L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Methods"}),n.jsx("option",{value:"Cash",children:"Cash"}),n.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>{h("today"),b("all"),$("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:dt(w!=="all"||v!=="all"?z.totalRevenue:T.totalRevenue,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),n.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Tc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?z.totalTransactions:T.totalTransactions}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),n.jsx("span",{className:"text-sm text-orange-600 dark:text-blue-400",children:"+8.2%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Rc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-blue-400"})})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:dt(w!=="all"||v!=="all"?z.averageOrderValue:T.averageOrderValue,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),n.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Bo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?z.totalItems:T.totalItems}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(e1,{className:"w-4 h-4 text-red-500 mr-1"}),n.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:n.jsx(Qv,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[f==="today"&&Q.length>0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>O("bar"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${k==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Bar"}),n.jsx("button",{onClick:()=>O("line"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${k==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Line"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nl,{className:"w-5 h-5 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Peak: ",((we=Q.reduce((L,te)=>te.sales>L.sales?te:L,Q[0]))==null?void 0:we.hour)||"N/A"]})]})]})]}),n.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between space-x-1",children:Q.map((L,te)=>{const oe=Math.max(...Q.map(Y=>Y.sales)),R=oe>0?L.sales/oe*180:4;return n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative w-full",children:[k==="bar"?n.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${R}px`,minHeight:"4px"},title:`${L.hour}: ${dt(L.sales,(r==null?void 0:r.currency)||"USD")}`}):n.jsx("div",{className:"relative w-full h-full",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[te>0&&n.jsx("line",{x1:"0",y1:`${100-Q[te-1].sales/oe*100}`,x2:"100",y2:`${100-L.sales/oe*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),n.jsx("circle",{cx:"100",cy:`${100-L.sales/oe*100}`,r:"3",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),n.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:dt(L.sales,(r==null?void 0:r.currency)||"USD")})]}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:L.hour})]},te)})}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",n.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:dt(Q.reduce((L,te)=>L+te.sales,0),(r==null?void 0:r.currency)||"USD")})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),n.jsx(Wv,{className:"w-5 h-5 text-gray-400"})]}),n.jsxs("div",{className:"space-y-4",children:[X.map((L,te)=>{const oe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=oe[te%oe.length];return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-4 h-4 ${R} rounded`}),n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:L.method})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:dt(L.amount,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[L.percentage.toFixed(1),"%  ",L.transactions," txns"]})]})]},L.method)}),X.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:X.map((L,te)=>{const oe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=oe[te%oe.length];return n.jsx("div",{className:R,style:{width:`${L.percentage}%`}},L.method)})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(r==null?void 0:r.is_zatca_enabled)&&pe.total>0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),n.jsx(Bo,{className:"w-5 h-5 text-gray-400"})]}),n.jsx("div",{className:"h-64 flex items-end justify-between space-x-3 mb-6",children:pe.segments.map((L,te)=>{const oe=Math.max(...pe.segments.map(Y=>Y.count)),R=oe>0?L.count/oe*200:4;return n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${R}px`,minHeight:"4px",backgroundColor:L.color},title:`${L.status}: ${L.count} (${Math.round(L.percentage)}%)`}),n.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:L.count})]}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-tight",children:L.status})]},L.status)})}),n.jsx("div",{className:"space-y-3",children:pe.segments.map(L=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:L.color}}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L.status})]}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[L.count," (",Math.round(L.percentage),"%)"]})]},L.status))}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",n.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:pe.total})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),n.jsx(Ys,{className:"w-5 h-5 text-beveren-600"})]}),q?n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[n.jsx("span",{className:"text-white font-bold text-xl",children:q.name.split(" ").map(L=>L[0]).join("")}),n.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs",children:""})})]}),n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:q.name}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[q.transactions," transactions"]}),n.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:dt(q.sales,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[z.totalRevenue>0?(q.sales/z.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),n.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),n.jsxs("div",{className:"space-y-4",children:[me.map((L,te)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:te+1})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:L.name}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[L.sales," sold"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:dt(L.revenue,(r==null?void 0:r.currency)||"USD")}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[dt(L.sales>0?L.revenue/L.sales:0,(r==null?void 0:r.currency)||"USD")," avg"]})]})]},L.id)),me.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),n.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),n.jsxs("div",{className:"space-y-4",children:[Re.map(L=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:L.paymentMethod==="Cash"?n.jsx("span",{className:"text-lg",children:""}):n.jsx(Ha,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:L.id}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[L.customer,"  ",L.time]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:dt(L.totalAmount,L.currency||(r==null?void 0:r.currency)||"USD")}),n.jsx("div",{className:`text-xs ${L.status==="Completed"?"text-green-600 dark:text-green-400":L.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:L.status})]})]},L.id)),Re.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]})]})})}function rw(e){const[t,r]=x.useState(null),[s,l]=x.useState(!1),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;de(null,null,function*(){var h;l(!0);try{console.log("Fetching invoice details for:",e);const m=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Invoice details response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const y=yield m.json();if(console.log("Invoice details data:",y),!y.message||!y.message.success)throw new Error(((h=y.message)==null?void 0:h.error)||y.error||"Failed to fetch invoice");r(y.message.data)}catch(m){console.error("Error fetching invoice details:",m),m instanceof Error?u(m.message):u("Unknown error")}finally{l(!1)}})},[e]),{invoice:t,isLoading:s,error:c}}function Xc({invoice:e,isOpen:t,onClose:r,onRefund:s,onCancel:l}){if(!t||!e)return null;const{invoice:c,isLoading:u,error:f}=rw(e.id||null);if(u)return n.jsx("div",{children:"Loading invoice..."});if(f)return n.jsxs("div",{children:["Error loading invoice: ",f]});const h=c||e,m=w=>{switch(w){case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},y=w=>de(null,null,function*(){try{const b=yield C0(w);console.log(b),Le.success(`Invoice returned: ${b.return_invoice}`)}catch(b){Le.error(b.message||"Failed to return invoice")}});return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:r}),n.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m(h.status)}`,children:h.status})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(e0,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(Ac,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(ha,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Information"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(Cu,{icon:n.jsx(Wg,{}),label:"Date & Time",value:`${h.posting_date} at ${h.posting_time}`}),n.jsx(Cu,{icon:n.jsx(za,{}),label:"Customer",value:h.customer}),n.jsx(Cu,{icon:n.jsx(za,{}),label:"Cashier",value:h.cashier}),n.jsx(Cu,{icon:n.jsx(Ha,{}),label:"Payment Method",value:h.paymentMethod})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Items"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item"}),n.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item Code"}),n.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Quantity"}),n.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Total"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:h.items.map((w,b)=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:w.item_name}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:w.category})]})}),n.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:n.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs font-mono text-gray-800 dark:text-gray-200",children:w.item_code})}),n.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:w.qty}),n.jsxs("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:["$",w.rate.toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["$",w.amount.toFixed(2)]})]},b))})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[h.giftCardCode&&n.jsx(HO,{code:h.giftCardCode,discount:h.giftCardDiscount}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_u,{label:"Subtotal",value:h.total}),h.giftCardDiscount>0&&n.jsx(_u,{label:"Gift Card Discount",value:-h.giftCardDiscount,color:"green"}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:n.jsx(_u,{label:"Total",value:h.grand_total,bold:!0})}),h.status==="Refunded"&&n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:n.jsx(_u,{label:"Refunded Amount",value:h.refundAmount,color:"red",bold:!0})})]})]}),n.jsxs("div",{className:"space-y-3",children:[h.status==="Paid"&&n.jsx(wm,{onClick:()=>y(h.name),icon:n.jsx(n0,{}),color:"orange",text:"Process Returns"}),h.status==="Pending"&&n.jsx(wm,{onClick:()=>l(h.id),icon:n.jsx(Fo,{}),color:"red",text:"Cancel Order"}),n.jsx(wm,{icon:n.jsx(Ac,{}),text:"Print Receipt"})]}),h.notes&&n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4",children:[n.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"Notes"}),n.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:h.notes})]})]})]})})]})]})})}function Cu({icon:e,label:t,value:r}){return n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-gray-400",children:e}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r})]})]})}function _u({label:e,value:t,color:r,bold:s}){const l=`flex justify-between ${r?`text-${r}-600 dark:text-${r}-400`:""}`,c=s?"font-bold":"font-semibold";return n.jsxs("div",{className:l,children:[n.jsx("span",{className:s?"text-lg font-bold":"",children:e}),n.jsxs("span",{className:c,children:["$",Math.abs(t)]})]})}function HO({code:e,discount:t}){return n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(T$,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),n.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Gift Card Applied"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Code"}),n.jsx("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:e})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Discount"}),n.jsxs("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:["-$",t]})]})]})]})}function wm({onClick:e,icon:t,text:r,color:s}){const l=s==="red"?"bg-red-600 hover:bg-red-700":s==="orange"?"bg-orange-600 hover:bg-orange-700":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700";return n.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl transition-colors ${l} text-white`,children:[t,n.jsx("span",{children:r})]})}function qO(e,t,r){return de(this,null,function*(){try{const s=yield fetch("/api/method/klik_pos.api.sales_invoice.returned_qty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e,sales_invoice:t,item:r})}),l=yield s.json();if(!s.ok)throw new Error(l.message||"Failed to get returned quantity");return{success:!0,data:l.message}}catch(s){return console.error("Error getting returned quantity:",s),{success:!1,error:s.message||"Failed to get returned quantity"}}})}function Nm(e,t,r,s){return de(this,null,function*(){try{const l=new URLSearchParams(F(F(F({customer:e},t&&{start_date:t}),r&&{end_date:r}),s&&{shipping_address:s})),c=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_customer_invoices_for_return?${l}`),u=yield c.json();if(!c.ok||!u.message.success)throw new Error(u.message.error||"Failed to fetch customer invoices");return{success:!0,data:u.message.data}}catch(l){return console.error("Error fetching customer invoices for return:",l),{success:!1,error:l.message||"Failed to fetch customer invoices"}}})}function GO(e,t){return de(this,null,function*(){const r=window.csrf_token;try{const s=yield fetch("/api/method/klik_pos.api.sales_invoice.create_partial_return",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":r},body:JSON.stringify({invoice_name:e,return_items:t}),credentials:"include"}),l=yield s.json();if(console.log("Partial return response:",l),!s.ok)throw new Error(l.message||"Failed to create partial return");const c=l.message||l;if(!c.success)throw new Error(c.message||"Failed to create partial return");return{success:!0,returnInvoice:c.return_invoice,message:c.message}}catch(s){return console.error("Error creating partial return:",s),{success:!1,error:s.message||"Failed to create partial return"}}})}function VO(e){return de(this,null,function*(){const t=window.csrf_token;try{const r=yield fetch("/api/method/klik_pos.api.sales_invoice.create_multi_invoice_return",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Frappe-CSRF-Token":t},body:new URLSearchParams({return_data:JSON.stringify(e)}).toString(),credentials:"include"}),s=yield r.json();if(console.log("Multi-invoice return response:",s),!r.ok)throw new Error(s.message||"Failed to create multi-invoice return");const l=s.message||s;if(!l.success)throw new Error(l.message||"Failed to create multi-invoice return");return{success:!0,createdReturns:l.created_returns,message:l.message}}catch(r){return console.error("Error creating multi-invoice return:",r),{success:!1,error:r.message||"Failed to create multi-invoice return"}}})}function U0({invoice:e,isOpen:t,onClose:r,onSuccess:s}){const[l,c]=x.useState([]),[u,f]=x.useState(!1),[h,m]=x.useState(!0);x.useEffect(()=>{t&&e&&y()},[t,e]);const y=()=>de(null,null,function*(){var k;m(!0);try{let O=e;if(!e.items||e.items.length===0){const P=yield K$(e.name||e.id);if(P.success&&P.data)O=P.data.data||P.data;else throw console.error("Failed to fetch invoice details:",P.error),new Error(P.error||"Failed to fetch invoice details from backend")}const A=[],B=O.items||O.items_list||O.sales_invoice_items||[];if(!Array.isArray(B))throw console.error("Items is not an array:",B),new Error("Invoice items not found in expected format");for(const P of B){console.log("Processing item:",P);const T=yield qO(O.customer,O.name||O.id,P.item_code||P.id),G=T.success&&((k=T.data)==null?void 0:k.total_returned_qty)||0,z=P.item_code||P.id,Z=P.item_name||P.name,Q=P.qty||P.quantity,H=P.rate||P.unitPrice,X=P.amount||P.total;console.log("Extracted values:",{itemCode:z,itemName:Z,qty:Q,rate:H,amount:X,returnedQty:G}),A.push({item_code:z,item_name:Z,qty:Q,rate:H,amount:X,returned_qty:G,available_qty:Q-G,return_qty:Q-G})}c(A)}catch(O){console.error("Error initializing return items:",O),Le.error("Failed to load return data")}finally{m(!1)}}),w=(k,O)=>{c(A=>A.map(B=>{if(B.item_code===k){const P=Math.max(0,Math.min(O,B.available_qty));return ce(F({},B),{return_qty:P})}return B}))},b=()=>{c(k=>k.map(O=>ce(F({},O),{return_qty:O.available_qty})))},v=()=>{c(k=>k.map(O=>ce(F({},O),{return_qty:0})))},$=()=>de(null,null,function*(){const k=l.filter(A=>A.return_qty&&A.return_qty>0);if(k.length===0){Le.error("Please select at least one item to return");return}f(!0);const O=e.id||e.name;try{const A=yield GO(O,k);A.success?(Le.success("Return created successfully"),s(A.returnInvoice),r()):Le.error(A.error||"Failed to create return")}catch(A){console.error("Error creating return:",A),Le.error("Failed to create return")}finally{f(!1)}}),N=l.reduce((k,O)=>k+(O.return_qty||0)*O.rate,0),C=l.some(k=>(k.return_qty||0)>0);return t?n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:n.jsx(Bi,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Return Items"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice: ",(e==null?void 0:e.name)||(e==null?void 0:e.id),"  Customer: ",e==null?void 0:e.customer]})]})]}),n.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(ha,{className:"w-6 h-6"})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading return data..."})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:b,className:"px-4 py-2 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors text-sm font-medium",children:"Return All Available"}),n.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear All"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),n.jsxs("p",{className:"text-xl font-bold text-black-600 dark:text-orange-400",children:["$",N.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sold Qty"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Returned"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Qty"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Amount"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:l.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:n.jsx(r0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.item_name}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",k.item_code]})]})]})}),n.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-900 dark:text-white",children:k.qty}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:k.returned_qty})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:`text-sm font-medium ${k.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:k.available_qty})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>w(k.item_code,(k.return_qty||0)-1),disabled:!k.return_qty||k.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:n.jsx(ey,{className:"w-4 h-4"})}),n.jsx("input",{type:"number",min:"0",max:k.available_qty,value:k.return_qty||0,onChange:O=>w(k.item_code,parseInt(O.target.value)||0),className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",disabled:k.available_qty===0}),n.jsx("button",{onClick:()=>w(k.item_code,(k.return_qty||0)+1),disabled:k.available_qty===0||(k.return_qty||0)>=k.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:n.jsx(Oc,{className:"w-4 h-4"})})]})}),n.jsxs("td",{className:"px-4 py-4 text-right text-sm text-gray-900 dark:text-white",children:["$",k.rate.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:["$",((k.return_qty||0)*k.rate).toFixed(2)]})]},k.item_code))})]})})}),l.every(k=>k.available_qty===0)&&n.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Pc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Items Available for Return"}),n.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"All items from this invoice have already been returned."})]})]})})]})}),n.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:C&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ui,{className:"w-4 h-4 text-green-500"}),n.jsxs("span",{children:[l.filter(k=>(k.return_qty||0)>0).length," item(s) selected for return"]})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),n.jsx("button",{onClick:$,disabled:!C||u||h,className:`px-6 py-2 rounded-lg font-medium transition-colors ${C&&!u&&!h?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:u?"Processing...":"Create Return"})]})]})})]})}):null}function KO(){const[e,t]=x.useState(!1),[r,s]=x.useState(null),[l,c]=x.useState(!1);return{createClosingEntry:f=>de(null,null,function*(){t(!0),s(null),c(!1);const h=window.csrf_token;try{console.log("Creating closing entry with:",f);const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_closing_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h,Accept:"application/json"},body:JSON.stringify({closing_balance:f}),credentials:"include"});if(console.log("Closing entry response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const y=yield m.json();if(console.log("Closing entry data:",y),y.message)c(!0);else throw new Error(y._server_messages||"Failed to create closing entry")}catch(m){console.error("Error creating POS Closing Entry:",m),s(m.message||"Unexpected error occurred")}finally{t(!1)}}),isCreating:e,error:r,success:l}}function YO(e,t){const r=x.createContext(t),s=c=>{const m=c,{children:u}=m,f=Tt(m,["children"]),h=x.useMemo(()=>f,Object.values(f));return n.jsx(r.Provider,{value:h,children:u})};s.displayName=e+"Provider";function l(c){const u=x.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[s,l]}function aw(e,t=[]){let r=[];function s(c,u){const f=x.createContext(u),h=r.length;r=[...r,u];const m=w=>{var O;const k=w,{scope:b,children:v}=k,$=Tt(k,["scope","children"]),N=((O=b==null?void 0:b[e])==null?void 0:O[h])||f,C=x.useMemo(()=>$,Object.values($));return n.jsx(N.Provider,{value:C,children:v})};m.displayName=c+"Provider";function y(w,b){var N;const v=((N=b==null?void 0:b[e])==null?void 0:N[h])||f,$=x.useContext(v);if($)return $;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[m,y]}const l=()=>{const c=r.map(u=>x.createContext(u));return function(f){const h=(f==null?void 0:f[e])||c;return x.useMemo(()=>({[`__scope${e}`]:ce(F({},f),{[e]:h})}),[f,h])}};return l.scopeName=e,[s,QO(l,...t)]}function QO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=s.reduce((f,{useScope:h,scopeName:m})=>{const w=h(c)[`__scope${m}`];return F(F({},f),w)},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function f2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nw(...e){return t=>{let r=!1;const s=e.map(l=>{const c=f2(l,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<s.length;l++){const c=s[l];typeof c=="function"?c():f2(e[l],null)}}}}function as(...e){return x.useCallback(nw(...e),e)}function Jn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e==null||e(l),r===!1||!l.defaultPrevented)return t==null?void 0:t(l)}}var Wc=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},XO=G2[" useId ".trim().toString()]||(()=>{}),WO=0;function jm(e){const[t,r]=x.useState(XO());return Wc(()=>{r(s=>s!=null?s:String(WO++))},[e]),e||(t?`radix-${t}`:"")}var ZO=G2[" useInsertionEffect ".trim().toString()]||Wc;function JO({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[l,c,u]=eA({defaultProp:t,onChange:r}),f=e!==void 0,h=f?e:l;{const y=x.useRef(e!==void 0);x.useEffect(()=>{const w=y.current;w!==f&&console.warn(`${s} is changing from ${w?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const m=x.useCallback(y=>{var w;if(f){const b=tA(y)?y(e):y;b!==e&&((w=u.current)==null||w.call(u,b))}else c(y)},[f,e,c,u]);return[h,m]}function eA({defaultProp:e,onChange:t}){const[r,s]=x.useState(e),l=x.useRef(r),c=x.useRef(t);return ZO(()=>{c.current=t},[t]),x.useEffect(()=>{var u;l.current!==r&&((u=c.current)==null||u.call(c,r),l.current=r)},[r,l]),[r,s,c]}function tA(e){return typeof e=="function"}function sw(e){const t=rA(e),r=x.forwardRef((s,l)=>{const m=s,{children:c}=m,u=Tt(m,["children"]),f=x.Children.toArray(c),h=f.find(nA);if(h){const y=h.props.children,w=f.map(b=>b===h?x.Children.count(y)>1?x.Children.only(null):x.isValidElement(y)?y.props.children:null:b);return n.jsx(t,ce(F({},u),{ref:l,children:x.isValidElement(y)?x.cloneElement(y,void 0,w):null}))}return n.jsx(t,ce(F({},u),{ref:l,children:c}))});return r.displayName=`${e}.Slot`,r}function rA(e){const t=x.forwardRef((r,s)=>{const u=r,{children:l}=u,c=Tt(u,["children"]);if(x.isValidElement(l)){const f=iA(l),h=sA(c,l.props);return l.type!==x.Fragment&&(h.ref=s?nw(s,f):f),x.cloneElement(l,h)}return x.Children.count(l)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iw=Symbol("radix.slottable");function aA(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=iw,t}function nA(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iw}function sA(e,t){const r=F({},t);for(const s in t){const l=e[s],c=t[s];/^on[A-Z]/.test(s)?l&&c?r[s]=(...f)=>{const h=c(...f);return l(...f),h}:l&&(r[s]=l):s==="style"?r[s]=F(F({},l),c):s==="className"&&(r[s]=[l,c].filter(Boolean).join(" "))}return F(F({},e),r)}function iA(e){var s,l;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ns=oA.reduce((e,t)=>{const r=sw(`Primitive.${t}`),s=x.forwardRef((l,c)=>{const m=l,{asChild:u}=m,f=Tt(m,["asChild"]),h=u?r:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,ce(F({},f),{ref:c}))});return s.displayName=`Primitive.${t}`,ce(F({},e),{[t]:s})},{});function lA(e,t){e&&zg.flushSync(()=>e.dispatchEvent(t))}function Zc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function cA(e,t=globalThis==null?void 0:globalThis.document){const r=Zc(e);x.useEffect(()=>{const s=l=>{l.key==="Escape"&&r(l)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var dA="DismissableLayer",kg="dismissableLayer.update",uA="dismissableLayer.pointerDownOutside",fA="dismissableLayer.focusOutside",h2,ow=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lw=x.forwardRef((e,t)=>{var z;const G=e,{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f}=G,h=Tt(G,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),m=x.useContext(ow),[y,w]=x.useState(null),b=(z=y==null?void 0:y.ownerDocument)!=null?z:globalThis==null?void 0:globalThis.document,[,v]=x.useState({}),$=as(t,Z=>w(Z)),N=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=N.indexOf(C),O=y?N.indexOf(y):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,B=O>=k,P=gA(Z=>{const Q=Z.target,H=[...m.branches].some(X=>X.contains(Q));!B||H||(l==null||l(Z),u==null||u(Z),Z.defaultPrevented||f==null||f())},b),T=yA(Z=>{const Q=Z.target;[...m.branches].some(X=>X.contains(Q))||(c==null||c(Z),u==null||u(Z),Z.defaultPrevented||f==null||f())},b);return cA(Z=>{O===m.layers.size-1&&(s==null||s(Z),!Z.defaultPrevented&&f&&(Z.preventDefault(),f()))},b),x.useEffect(()=>{if(y)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(h2=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),m2(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=h2)}},[y,b,r,m]),x.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),m2())},[y,m]),x.useEffect(()=>{const Z=()=>v({});return document.addEventListener(kg,Z),()=>document.removeEventListener(kg,Z)},[]),n.jsx(ns.div,ce(F({},h),{ref:$,style:F({pointerEvents:A?B?"auto":"none":void 0},e.style),onFocusCapture:Jn(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Jn(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Jn(e.onPointerDownCapture,P.onPointerDownCapture)}))});lw.displayName=dA;var hA="DismissableLayerBranch",mA=x.forwardRef((e,t)=>{const r=x.useContext(ow),s=x.useRef(null),l=as(t,s);return x.useEffect(()=>{const c=s.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),n.jsx(ns.div,ce(F({},e),{ref:l}))});mA.displayName=hA;function gA(e,t=globalThis==null?void 0:globalThis.document){const r=Zc(e),s=x.useRef(!1),l=x.useRef(()=>{});return x.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let h=function(){cw(uA,r,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=h,t.addEventListener("click",l.current,{once:!0})):h()}else t.removeEventListener("click",l.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function yA(e,t=globalThis==null?void 0:globalThis.document){const r=Zc(e),s=x.useRef(!1);return x.useEffect(()=>{const l=c=>{c.target&&!s.current&&cw(fA,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function m2(){const e=new CustomEvent(kg);document.dispatchEvent(e)}function cw(e,t,r,{discrete:s}){const l=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&l.addEventListener(e,t,{once:!0}),s?lA(l,c):l.dispatchEvent(c)}var km="focusScope.autoFocusOnMount",Sm="focusScope.autoFocusOnUnmount",g2={bubbles:!1,cancelable:!0},pA="FocusScope",dw=x.forwardRef((e,t)=>{const N=e,{loop:r=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:c}=N,u=Tt(N,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[f,h]=x.useState(null),m=Zc(l),y=Zc(c),w=x.useRef(null),b=as(t,C=>h(C)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let C=function(B){if(v.paused||!f)return;const P=B.target;f.contains(P)?w.current=P:Ds(w.current,{select:!0})},k=function(B){if(v.paused||!f)return;const P=B.relatedTarget;P!==null&&(f.contains(P)||Ds(w.current,{select:!0}))},O=function(B){if(document.activeElement===document.body)for(const T of B)T.removedNodes.length>0&&Ds(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",k);const A=new MutationObserver(O);return f&&A.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",k),A.disconnect()}}},[s,f,v.paused]),x.useEffect(()=>{if(f){p2.add(v);const C=document.activeElement;if(!f.contains(C)){const O=new CustomEvent(km,g2);f.addEventListener(km,m),f.dispatchEvent(O),O.defaultPrevented||(xA(jA(uw(f)),{select:!0}),document.activeElement===C&&Ds(f))}return()=>{f.removeEventListener(km,m),setTimeout(()=>{const O=new CustomEvent(Sm,g2);f.addEventListener(Sm,y),f.dispatchEvent(O),O.defaultPrevented||Ds(C!=null?C:document.body,{select:!0}),f.removeEventListener(Sm,y),p2.remove(v)},0)}}},[f,m,y,v]);const $=x.useCallback(C=>{if(!r&&!s||v.paused)return;const k=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,O=document.activeElement;if(k&&O){const A=C.currentTarget,[B,P]=bA(A);B&&P?!C.shiftKey&&O===P?(C.preventDefault(),r&&Ds(B,{select:!0})):C.shiftKey&&O===B&&(C.preventDefault(),r&&Ds(P,{select:!0})):O===A&&C.preventDefault()}},[r,s,v.paused]);return n.jsx(ns.div,ce(F({tabIndex:-1},u),{ref:b,onKeyDown:$}))});dw.displayName=pA;function xA(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ds(s,{select:t}),document.activeElement!==r)return}function bA(e){const t=uw(e),r=y2(t,e),s=y2(t.reverse(),e);return[r,s]}function uw(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function y2(e,t){for(const r of e)if(!vA(r,{upTo:t}))return r}function vA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wA(e){return e instanceof HTMLInputElement&&"select"in e}function Ds(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&wA(e)&&t&&e.select()}}var p2=NA();function NA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=x2(e,t),e.unshift(t)},remove(t){var r;e=x2(e,t),(r=e[0])==null||r.resume()}}}function x2(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function jA(e){return e.filter(t=>t.tagName!=="A")}var kA="Portal",fw=x.forwardRef((e,t)=>{var h;const f=e,{container:r}=f,s=Tt(f,["container"]),[l,c]=x.useState(!1);Wc(()=>c(!0),[]);const u=r||l&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?SS.createPortal(n.jsx(ns.div,ce(F({},s),{ref:t})),u):null});fw.displayName=kA;function SA(e,t){return x.useReducer((r,s)=>{const l=t[r][s];return l!=null?l:r},e)}var F0=e=>{const{present:t,children:r}=e,s=$A(t),l=typeof r=="function"?r({present:s.isPresent}):x.Children.only(r),c=as(s.ref,CA(l));return typeof r=="function"||s.isPresent?x.cloneElement(l,{ref:c}):null};F0.displayName="Presence";function $A(e){const[t,r]=x.useState(),s=x.useRef(null),l=x.useRef(e),c=x.useRef("none"),u=e?"mounted":"unmounted",[f,h]=SA(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Eu(s.current);c.current=f==="mounted"?m:"none"},[f]),Wc(()=>{const m=s.current,y=l.current;if(y!==e){const b=c.current,v=Eu(m);e?h("MOUNT"):v==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(y&&b!==v?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,h]),Wc(()=>{var m;if(t){let y;const w=(m=t.ownerDocument.defaultView)!=null?m:window,b=$=>{const C=Eu(s.current).includes(CSS.escape($.animationName));if($.target===t&&C&&(h("ANIMATION_END"),!l.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",y=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},v=$=>{$.target===t&&(c.current=Eu(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{w.clearTimeout(y),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(m=>{s.current=m?getComputedStyle(m):null,r(m)},[])}}function Eu(e){return(e==null?void 0:e.animationName)||"none"}function CA(e){var s,l;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $m=0;function _A(){x.useEffect(()=>{var t,r;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:b2()),document.body.insertAdjacentElement("beforeend",(r=e[1])!=null?r:b2()),$m++,()=>{$m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),$m--}},[])}function b2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sn=function(){return Sn=Object.assign||function(t){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Sn.apply(this,arguments)};function hw(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(r[s[l]]=e[s[l]]);return r}function EA(e,t,r){if(r||arguments.length===2)for(var s=0,l=t.length,c;s<l;s++)(c||!(s in t))&&(c||(c=Array.prototype.slice.call(t,0,s)),c[s]=t[s]);return e.concat(c||Array.prototype.slice.call(t))}var Ku="right-scroll-bar-position",Yu="width-before-scroll-bar",TA="with-scroll-bars-hidden",OA="--removed-body-scroll-bar-size";function Cm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function AA(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var l=r.value;l!==s&&(r.value=s,r.callback(s,l))}}}})[0];return r.callback=t,r.facade}var RA=typeof window!="undefined"?x.useLayoutEffect:x.useEffect,v2=new WeakMap;function PA(e,t){var r=AA(null,function(s){return e.forEach(function(l){return Cm(l,s)})});return RA(function(){var s=v2.get(r);if(s){var l=new Set(s),c=new Set(e),u=r.current;l.forEach(function(f){c.has(f)||Cm(f,null)}),c.forEach(function(f){l.has(f)||Cm(f,u)})}v2.set(r,e)},[e]),r}function MA(e){return e}function DA(e,t){t===void 0&&(t=MA);var r=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var u=t(c,s);return r.push(u),function(){r=r.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(s=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){s=!0;var u=[];if(r.length){var f=r;r=[],f.forEach(c),u=r}var h=function(){var y=u;u=[],y.forEach(c)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),r}}}};return l}function LA(e){e===void 0&&(e={});var t=DA(null);return t.options=Sn({async:!0,ssr:!1},e),t}var mw=function(e){var t=e.sideCar,r=hw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,Sn({},r))};mw.isSideCarExport=!0;function IA(e,t){return e.useMedium(t),mw}var gw=LA(),_m=function(){},B0=x.forwardRef(function(e,t){var r=x.useRef(null),s=x.useState({onScrollCapture:_m,onWheelCapture:_m,onTouchMoveCapture:_m}),l=s[0],c=s[1],u=e.forwardProps,f=e.children,h=e.className,m=e.removeScrollBar,y=e.enabled,w=e.shards,b=e.sideCar,v=e.noRelative,$=e.noIsolation,N=e.inert,C=e.allowPinchZoom,k=e.as,O=k===void 0?"div":k,A=e.gapMode,B=hw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=b,T=PA([r,t]),G=Sn(Sn({},B),l);return x.createElement(x.Fragment,null,y&&x.createElement(P,{sideCar:gw,removeScrollBar:m,shards:w,noRelative:v,noIsolation:$,inert:N,setCallbacks:c,allowPinchZoom:!!C,lockRef:r,gapMode:A}),u?x.cloneElement(x.Children.only(f),Sn(Sn({},G),{ref:T})):x.createElement(O,Sn({},G,{className:h,ref:T}),f))});B0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};B0.classNames={fullWidth:Yu,zeroRight:Ku};var UA=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function FA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UA();return t&&e.setAttribute("nonce",t),e}function BA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=FA())&&(BA(t,r),zA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qA=function(){var e=HA();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},yw=function(){var e=qA(),t=function(r){var s=r.styles,l=r.dynamic;return e(s,l),null};return t},GA={left:0,top:0,right:0,gap:0},Em=function(e){return parseInt(e||"",10)||0},VA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[Em(r),Em(s),Em(l)]},KA=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return GA;var t=VA(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},YA=yw(),Yo="data-scroll-locked",QA=function(e,t,r,s){var l=e.left,c=e.top,u=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TA,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ku,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Yu,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(OA,": ").concat(f,`px;
  }
`)},w2=function(){var e=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(e)?e:0},XA=function(){x.useEffect(function(){return document.body.setAttribute(Yo,(w2()+1).toString()),function(){var e=w2()-1;e<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,e.toString())}},[])},WA=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,l=s===void 0?"margin":s;XA();var c=x.useMemo(function(){return KA(l)},[l]);return x.createElement(YA,{styles:QA(c,!t,l,r?"":"!important")})},Sg=!1;if(typeof window!="undefined")try{var Tu=Object.defineProperty({},"passive",{get:function(){return Sg=!0,!0}});window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch(e){Sg=!1}var Po=Sg?{passive:!1}:!1,ZA=function(e){return e.tagName==="TEXTAREA"},pw=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZA(e)&&r[t]==="visible")},JA=function(e){return pw(e,"overflowY")},eR=function(e){return pw(e,"overflowX")},N2=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var l=xw(e,s);if(l){var c=bw(e,s),u=c[1],f=c[2];if(u>f)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},tR=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},rR=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},xw=function(e,t){return e==="v"?JA(t):eR(t)},bw=function(e,t){return e==="v"?tR(t):rR(t)},aR=function(e,t){return e==="h"&&t==="rtl"?-1:1},nR=function(e,t,r,s,l){var c=aR(e,window.getComputedStyle(t).direction),u=c*s,f=r.target,h=t.contains(f),m=!1,y=u>0,w=0,b=0;do{if(!f)break;var v=bw(e,f),$=v[0],N=v[1],C=v[2],k=N-C-c*$;($||k)&&xw(e,f)&&(w+=k,b+=$);var O=f.parentNode;f=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(y&&Math.abs(w)<1||!y&&Math.abs(b)<1)&&(m=!0),m},Ou=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j2=function(e){return[e.deltaX,e.deltaY]},k2=function(e){return e&&"current"in e?e.current:e},sR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oR=0,Mo=[];function lR(e){var t=x.useRef([]),r=x.useRef([0,0]),s=x.useRef(),l=x.useState(oR++)[0],c=x.useState(yw)[0],u=x.useRef(e);x.useEffect(function(){u.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=EA([e.lockRef.current],(e.shards||[]).map(k2),!0).filter(Boolean);return N.forEach(function(C){return C.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=x.useCallback(function(N,C){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var k=Ou(N),O=r.current,A="deltaX"in N?N.deltaX:O[0]-k[0],B="deltaY"in N?N.deltaY:O[1]-k[1],P,T=N.target,G=Math.abs(A)>Math.abs(B)?"h":"v";if("touches"in N&&G==="h"&&T.type==="range")return!1;var z=N2(G,T);if(!z)return!0;if(z?P=G:(P=G==="v"?"h":"v",z=N2(G,T)),!z)return!1;if(!s.current&&"changedTouches"in N&&(A||B)&&(s.current=P),!P)return!0;var Z=s.current||P;return nR(Z,C,N,Z==="h"?A:B)},[]),h=x.useCallback(function(N){var C=N;if(!(!Mo.length||Mo[Mo.length-1]!==c)){var k="deltaY"in C?j2(C):Ou(C),O=t.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&sR(P.delta,k)})[0];if(O&&O.should){C.cancelable&&C.preventDefault();return}if(!O){var A=(u.current.shards||[]).map(k2).filter(Boolean).filter(function(P){return P.contains(C.target)}),B=A.length>0?f(C,A[0]):!u.current.noIsolation;B&&C.cancelable&&C.preventDefault()}}},[]),m=x.useCallback(function(N,C,k,O){var A={name:N,delta:C,target:k,should:O,shadowParent:cR(k)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(B){return B!==A})},1)},[]),y=x.useCallback(function(N){r.current=Ou(N),s.current=void 0},[]),w=x.useCallback(function(N){m(N.type,j2(N),N.target,f(N,e.lockRef.current))},[]),b=x.useCallback(function(N){m(N.type,Ou(N),N.target,f(N,e.lockRef.current))},[]);x.useEffect(function(){return Mo.push(c),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Po),document.addEventListener("touchmove",h,Po),document.addEventListener("touchstart",y,Po),function(){Mo=Mo.filter(function(N){return N!==c}),document.removeEventListener("wheel",h,Po),document.removeEventListener("touchmove",h,Po),document.removeEventListener("touchstart",y,Po)}},[]);var v=e.removeScrollBar,$=e.inert;return x.createElement(x.Fragment,null,$?x.createElement(c,{styles:iR(l)}):null,v?x.createElement(WA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dR=IA(gw,lR);var vw=x.forwardRef(function(e,t){return x.createElement(B0,Sn({},e,{ref:t,sideCar:dR}))});vw.classNames=B0.classNames;var uR=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Do=new WeakMap,Au=new WeakMap,Ru={},Tm=0,ww=function(e){return e&&(e.host||ww(e.parentNode))},fR=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=ww(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hR=function(e,t,r,s){var l=fR(t,Array.isArray(e)?e:[e]);Ru[r]||(Ru[r]=new WeakMap);var c=Ru[r],u=[],f=new Set,h=new Set(l),m=function(w){!w||f.has(w)||(f.add(w),m(w.parentNode))};l.forEach(m);var y=function(w){!w||h.has(w)||Array.prototype.forEach.call(w.children,function(b){if(f.has(b))y(b);else try{var v=b.getAttribute(s),$=v!==null&&v!=="false",N=(Do.get(b)||0)+1,C=(c.get(b)||0)+1;Do.set(b,N),c.set(b,C),u.push(b),N===1&&$&&Au.set(b,!0),C===1&&b.setAttribute(r,"true"),$||b.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return y(t),f.clear(),Tm++,function(){u.forEach(function(w){var b=Do.get(w)-1,v=c.get(w)-1;Do.set(w,b),c.set(w,v),b||(Au.has(w)||w.removeAttribute(s),Au.delete(w)),v||w.removeAttribute(r)}),Tm--,Tm||(Do=new WeakMap,Do=new WeakMap,Au=new WeakMap,Ru={})}},mR=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),l=uR(e);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),hR(s,l,r,"aria-hidden")):function(){return null}},z0="Dialog",[Nw,jw]=aw(z0),[gR,fn]=Nw(z0),kw=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=x.useRef(null),h=x.useRef(null),[m,y]=JO({prop:s,defaultProp:l!=null?l:!1,onChange:c,caller:z0});return n.jsx(gR,{scope:t,triggerRef:f,contentRef:h,contentId:jm(),titleId:jm(),descriptionId:jm(),open:m,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(w=>!w),[y]),modal:u,children:r})};kw.displayName=z0;var Sw="DialogTrigger",$w=x.forwardRef((e,t)=>{const u=e,{__scopeDialog:r}=u,s=Tt(u,["__scopeDialog"]),l=fn(Sw,r),c=as(t,l.triggerRef);return n.jsx(ns.button,ce(F({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":hy(l.open)},s),{ref:c,onClick:Jn(e.onClick,l.onOpenToggle)}))});$w.displayName=Sw;var uy="DialogPortal",[yR,Cw]=Nw(uy,{forceMount:void 0}),_w=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:l}=e,c=fn(uy,t);return n.jsx(yR,{scope:t,forceMount:r,children:x.Children.map(s,u=>n.jsx(F0,{present:r||c.open,children:n.jsx(fw,{asChild:!0,container:l,children:u})}))})};_w.displayName=uy;var f0="DialogOverlay",Ew=x.forwardRef((e,t)=>{const r=Cw(f0,e.__scopeDialog),u=e,{forceMount:s=r.forceMount}=u,l=Tt(u,["forceMount"]),c=fn(f0,e.__scopeDialog);return c.modal?n.jsx(F0,{present:s||c.open,children:n.jsx(xR,ce(F({},l),{ref:t}))}):null});Ew.displayName=f0;var pR=sw("DialogOverlay.RemoveScroll"),xR=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:r}=c,s=Tt(c,["__scopeDialog"]),l=fn(f0,r);return n.jsx(vw,{as:pR,allowPinchZoom:!0,shards:[l.contentRef],children:n.jsx(ns.div,ce(F({"data-state":hy(l.open)},s),{ref:t,style:F({pointerEvents:"auto"},s.style)}))})}),Hi="DialogContent",Tw=x.forwardRef((e,t)=>{const r=Cw(Hi,e.__scopeDialog),u=e,{forceMount:s=r.forceMount}=u,l=Tt(u,["forceMount"]),c=fn(Hi,e.__scopeDialog);return n.jsx(F0,{present:s||c.open,children:c.modal?n.jsx(bR,ce(F({},l),{ref:t})):n.jsx(vR,ce(F({},l),{ref:t}))})});Tw.displayName=Hi;var bR=x.forwardRef((e,t)=>{const r=fn(Hi,e.__scopeDialog),s=x.useRef(null),l=as(t,r.contentRef,s);return x.useEffect(()=>{const c=s.current;if(c)return mR(c)},[]),n.jsx(Ow,ce(F({},e),{ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jn(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Jn(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Jn(e.onFocusOutside,c=>c.preventDefault())}))}),vR=x.forwardRef((e,t)=>{const r=fn(Hi,e.__scopeDialog),s=x.useRef(!1),l=x.useRef(!1);return n.jsx(Ow,ce(F({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,f;(u=e.onCloseAutoFocus)==null||u.call(e,c),c.defaultPrevented||(s.current||(f=r.triggerRef.current)==null||f.focus(),c.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:c=>{var h,m;(h=e.onInteractOutside)==null||h.call(e,c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;((m=r.triggerRef.current)==null?void 0:m.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}}))}),Ow=x.forwardRef((e,t)=>{const y=e,{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:c}=y,u=Tt(y,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),f=fn(Hi,r),h=x.useRef(null),m=as(t,h);return _A(),n.jsxs(n.Fragment,{children:[n.jsx(dw,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:c,children:n.jsx(lw,ce(F({role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":hy(f.open)},u),{ref:m,onDismiss:()=>f.onOpenChange(!1)}))}),n.jsxs(n.Fragment,{children:[n.jsx(NR,{titleId:f.titleId}),n.jsx(kR,{contentRef:h,descriptionId:f.descriptionId})]})]})}),fy="DialogTitle",Aw=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:r}=c,s=Tt(c,["__scopeDialog"]),l=fn(fy,r);return n.jsx(ns.h2,ce(F({id:l.titleId},s),{ref:t}))});Aw.displayName=fy;var Rw="DialogDescription",Pw=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:r}=c,s=Tt(c,["__scopeDialog"]),l=fn(Rw,r);return n.jsx(ns.p,ce(F({id:l.descriptionId},s),{ref:t}))});Pw.displayName=Rw;var Mw="DialogClose",Dw=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:r}=c,s=Tt(c,["__scopeDialog"]),l=fn(Mw,r);return n.jsx(ns.button,ce(F({type:"button"},s),{ref:t,onClick:Jn(e.onClick,()=>l.onOpenChange(!1))}))});Dw.displayName=Mw;function hy(e){return e?"open":"closed"}var Lw="DialogTitleWarning",[wR,Iw]=YO(Lw,{contentName:Hi,titleName:fy,docsSlug:"dialog"}),NR=({titleId:e})=>{const t=Iw(Lw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jR="DialogDescriptionWarning",kR=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Iw(jR).contentName}}.`;return x.useEffect(()=>{var c;const l=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},SR=kw,$R=$w,CR=_w,_R=Ew,ER=Tw,TR=Aw,OR=Pw,Uw=Dw,Fw="AlertDialog",[AR,DM]=aw(Fw,[jw]),ss=jw(),Bw=e=>{const l=e,{__scopeAlertDialog:t}=l,r=Tt(l,["__scopeAlertDialog"]),s=ss(t);return n.jsx(SR,ce(F(F({},s),r),{modal:!0}))};Bw.displayName=Fw;var RR="AlertDialogTrigger",PR=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:r}=c,s=Tt(c,["__scopeAlertDialog"]),l=ss(r);return n.jsx($R,ce(F(F({},l),s),{ref:t}))});PR.displayName=RR;var MR="AlertDialogPortal",zw=e=>{const l=e,{__scopeAlertDialog:t}=l,r=Tt(l,["__scopeAlertDialog"]),s=ss(t);return n.jsx(CR,F(F({},s),r))};zw.displayName=MR;var DR="AlertDialogOverlay",Hw=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:r}=c,s=Tt(c,["__scopeAlertDialog"]),l=ss(r);return n.jsx(_R,ce(F(F({},l),s),{ref:t}))});Hw.displayName=DR;var Qo="AlertDialogContent",[LR,IR]=AR(Qo),UR=aA("AlertDialogContent"),qw=x.forwardRef((e,t)=>{const m=e,{__scopeAlertDialog:r,children:s}=m,l=Tt(m,["__scopeAlertDialog","children"]),c=ss(r),u=x.useRef(null),f=as(t,u),h=x.useRef(null);return n.jsx(wR,{contentName:Qo,titleName:Gw,docsSlug:"alert-dialog",children:n.jsx(LR,{scope:r,cancelRef:h,children:n.jsxs(ER,ce(F(F({role:"alertdialog"},c),l),{ref:f,onOpenAutoFocus:Jn(l.onOpenAutoFocus,y=>{var w;y.preventDefault(),(w=h.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:y=>y.preventDefault(),onInteractOutside:y=>y.preventDefault(),children:[n.jsx(UR,{children:s}),n.jsx(BR,{contentRef:u})]}))})})});qw.displayName=Qo;var Gw="AlertDialogTitle",Vw=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:r}=c,s=Tt(c,["__scopeAlertDialog"]),l=ss(r);return n.jsx(TR,ce(F(F({},l),s),{ref:t}))});Vw.displayName=Gw;var Kw="AlertDialogDescription",Yw=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:r}=c,s=Tt(c,["__scopeAlertDialog"]),l=ss(r);return n.jsx(OR,ce(F(F({},l),s),{ref:t}))});Yw.displayName=Kw;var FR="AlertDialogAction",Qw=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:r}=c,s=Tt(c,["__scopeAlertDialog"]),l=ss(r);return n.jsx(Uw,ce(F(F({},l),s),{ref:t}))});Qw.displayName=FR;var Xw="AlertDialogCancel",Ww=x.forwardRef((e,t)=>{const f=e,{__scopeAlertDialog:r}=f,s=Tt(f,["__scopeAlertDialog"]),{cancelRef:l}=IR(Xw,r),c=ss(r),u=as(t,l);return n.jsx(Uw,ce(F(F({},c),s),{ref:u}))});Ww.displayName=Xw;var BR=({contentRef:e})=>{const t=`\`${Qo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qo}\` by passing a \`${Kw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},zR=Bw,HR=zw,qR=Hw,GR=qw,VR=Qw,KR=Ww,YR=Vw,QR=Yw;function Zw(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=Zw(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Jw(){for(var e,t,r=0,s="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=Zw(e))&&(s&&(s+=" "),s+=t);return s}const my="-",XR=e=>{const t=ZR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{const f=u.split(my);return f[0]===""&&f.length!==1&&f.shift(),eN(f,t)||WR(u)},getConflictingClassGroupIds:(u,f)=>{const h=r[u]||[];return f&&s[u]?[...h,...s[u]]:h}}},eN=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),l=s?eN(e.slice(1),s):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(my);return(u=t.validators.find(({validator:f})=>f(c)))==null?void 0:u.classGroupId},S2=/^\[(.+)\]$/,WR=e=>{if(S2.test(e)){const t=S2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ZR=e=>{const{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(const l in r)$g(r[l],s,l,t);return s},$g=(e,t,r,s)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:$2(t,l);c.classGroupId=r;return}if(typeof l=="function"){if(JR(l)){$g(l(s),t,r,s);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,u])=>{$g(u,$2(t,c),r,s)})})},$2=(e,t)=>{let r=e;return t.split(my).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},JR=e=>e.isThemeGetter,eP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const l=(c,u)=>{r.set(c,u),t++,t>e&&(t=0,s=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return l(c,u),u},set(c,u){r.has(c)?r.set(c,u):l(c,u)}}},Cg="!",_g=":",tP=_g.length,rP=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=l=>{const c=[];let u=0,f=0,h=0,m;for(let $=0;$<l.length;$++){let N=l[$];if(u===0&&f===0){if(N===_g){c.push(l.slice(h,$)),h=$+tP;continue}if(N==="/"){m=$;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const y=c.length===0?l:l.substring(h),w=aP(y),b=w!==y,v=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:v}};if(t){const l=t+_g,c=s;s=u=>u.startsWith(l)?c(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const l=s;s=c=>r({className:c,parseClassName:l})}return s},aP=e=>e.endsWith(Cg)?e.substring(0,e.length-1):e.startsWith(Cg)?e.substring(1):e,nP=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let c=[];return s.forEach(u=>{u[0]==="["||t[u]?(l.push(...c.sort(),u),c=[]):c.push(u)}),l.push(...c.sort()),l}},sP=e=>F({cache:eP(e.cacheSize),parseClassName:rP(e),sortModifiers:nP(e)},XR(e)),iP=/\s+/,oP=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:c}=t,u=[],f=e.trim().split(iP);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:w,modifiers:b,hasImportantModifier:v,baseClassName:$,maybePostfixModifierPosition:N}=r(y);if(w){h=y+(h.length>0?" "+h:h);continue}let C=!!N,k=s(C?$.substring(0,N):$);if(!k){if(!C){h=y+(h.length>0?" "+h:h);continue}if(k=s($),!k){h=y+(h.length>0?" "+h:h);continue}C=!1}const O=c(b).join(":"),A=v?O+Cg:O,B=A+k;if(u.includes(B))continue;u.push(B);const P=l(k,C);for(let T=0;T<P.length;++T){const G=P[T];u.push(A+G)}h=y+(h.length>0?" "+h:h)}return h};function lP(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tN(t))&&(s&&(s+=" "),s+=r);return s}const tN=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=tN(e[s]))&&(r&&(r+=" "),r+=t);return r};function cP(e,...t){let r,s,l,c=u;function u(h){const m=t.reduce((y,w)=>w(y),e());return r=sP(m),s=r.cache.get,l=r.cache.set,c=f,f(h)}function f(h){const m=s(h);if(m)return m;const y=oP(h,r);return l(h,y),y}return function(){return c(lP.apply(null,arguments))}}const Pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dP=/^\d+\/\d+$/,uP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lo=e=>dP.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),Ps=e=>!!e&&Number.isInteger(Number(e)),Om=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Vn=e=>uP.test(e),yP=()=>!0,pP=e=>fP.test(e)&&!hP.test(e),nN=()=>!1,xP=e=>mP.test(e),bP=e=>gP.test(e),vP=e=>!st(e)&&!it(e),wP=e=>pl(e,oN,nN),st=e=>rN.test(e),Ci=e=>pl(e,lN,pP),Am=e=>pl(e,$P,Lt),C2=e=>pl(e,sN,nN),NP=e=>pl(e,iN,bP),Pu=e=>pl(e,cN,xP),it=e=>aN.test(e),Nc=e=>xl(e,lN),jP=e=>xl(e,CP),_2=e=>xl(e,sN),kP=e=>xl(e,oN),SP=e=>xl(e,iN),Mu=e=>xl(e,cN,!0),pl=(e,t,r)=>{const s=rN.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},xl=(e,t,r=!1)=>{const s=aN.exec(e);return s?s[1]?t(s[1]):r:!1},sN=e=>e==="position"||e==="percentage",iN=e=>e==="image"||e==="url",oN=e=>e==="length"||e==="size"||e==="bg-size",lN=e=>e==="length",$P=e=>e==="number",CP=e=>e==="family-name",cN=e=>e==="shadow",_P=()=>{const e=Pr("color"),t=Pr("font"),r=Pr("text"),s=Pr("font-weight"),l=Pr("tracking"),c=Pr("leading"),u=Pr("breakpoint"),f=Pr("container"),h=Pr("spacing"),m=Pr("radius"),y=Pr("shadow"),w=Pr("inset-shadow"),b=Pr("text-shadow"),v=Pr("drop-shadow"),$=Pr("blur"),N=Pr("perspective"),C=Pr("aspect"),k=Pr("ease"),O=Pr("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...B(),it,st],T=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],z=()=>[it,st,h],Z=()=>[Lo,"full","auto",...z()],Q=()=>[Ps,"none","subgrid",it,st],H=()=>["auto",{span:["full",Ps,it,st]},Ps,it,st],X=()=>[Ps,"auto",it,st],ye=()=>["auto","min","max","fr",it,st],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Oe=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...z()],ae=()=>[Lo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],me=()=>[e,it,st],Re=()=>[...B(),_2,C2,{position:[it,st]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],we=()=>["auto","cover","contain",kP,wP,{size:[it,st]}],L=()=>[Om,Nc,Ci],te=()=>["","none","full",m,it,st],oe=()=>["",Lt,Nc,Ci],R=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Lt,Om,_2,C2],J=()=>["","none",$,it,st],$e=()=>["none",Lt,it,st],be=()=>["none",Lt,it,st],Be=()=>[Lt,it,st],tt=()=>[Lo,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vn],breakpoint:[Vn],color:[yP],container:[Vn],"drop-shadow":[Vn],ease:["in","out","in-out"],font:[vP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vn],shadow:[Vn],spacing:["px",Lt],text:[Vn],"text-shadow":[Vn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lo,st,it,C]}],container:["container"],columns:[{columns:[Lt,st,it,f]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[Ps,"auto",it,st]}],basis:[{basis:[Lo,"full","auto",f,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,Lo,"auto","initial","none",st]}],grow:[{grow:["",Lt,it,st]}],shrink:[{shrink:["",Lt,it,st]}],order:[{order:[Ps,"first","last","none",it,st]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...Oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Oe()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...Oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...Oe(),"baseline"]}],"place-self":[{"place-self":["auto",...Oe()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[f,"screen",...ae()]}],"min-w":[{"min-w":[f,"screen","none",...ae()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",r,Nc,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,it,Am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Om,st]}],"font-family":[{font:[jP,st,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,it,st]}],"line-clamp":[{"line-clamp":[Lt,"none",it,Am]}],leading:[{leading:[c,...z()]}],"list-image":[{"list-image":["none",it,st]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",it,st]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:me()}],"text-color":[{text:me()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",it,Ci]}],"text-decoration-color":[{decoration:me()}],"underline-offset":[{"underline-offset":[Lt,"auto",it,st]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it,st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it,st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Re()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:we()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ps,it,st],radial:["",it,st],conic:[Ps,it,st]},SP,NP]}],"bg-color":[{bg:me()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:me()}],"gradient-via":[{via:me()}],"gradient-to":[{to:me()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...R(),"hidden","none"]}],"divide-style":[{divide:[...R(),"hidden","none"]}],"border-color":[{border:me()}],"border-color-x":[{"border-x":me()}],"border-color-y":[{"border-y":me()}],"border-color-s":[{"border-s":me()}],"border-color-e":[{"border-e":me()}],"border-color-t":[{"border-t":me()}],"border-color-r":[{"border-r":me()}],"border-color-b":[{"border-b":me()}],"border-color-l":[{"border-l":me()}],"divide-color":[{divide:me()}],"outline-style":[{outline:[...R(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,it,st]}],"outline-w":[{outline:["",Lt,Nc,Ci]}],"outline-color":[{outline:me()}],shadow:[{shadow:["","none",y,Mu,Pu]}],"shadow-color":[{shadow:me()}],"inset-shadow":[{"inset-shadow":["none",w,Mu,Pu]}],"inset-shadow-color":[{"inset-shadow":me()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:me()}],"ring-offset-w":[{"ring-offset":[Lt,Ci]}],"ring-offset-color":[{"ring-offset":me()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":me()}],"text-shadow":[{"text-shadow":["none",b,Mu,Pu]}],"text-shadow-color":[{"text-shadow":me()}],opacity:[{opacity:[Lt,it,st]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":me()}],"mask-image-linear-to-color":[{"mask-linear-to":me()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":me()}],"mask-image-t-to-color":[{"mask-t-to":me()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":me()}],"mask-image-r-to-color":[{"mask-r-to":me()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":me()}],"mask-image-b-to-color":[{"mask-b-to":me()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":me()}],"mask-image-l-to-color":[{"mask-l-to":me()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":me()}],"mask-image-x-to-color":[{"mask-x-to":me()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":me()}],"mask-image-y-to-color":[{"mask-y-to":me()}],"mask-image-radial":[{"mask-radial":[it,st]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":me()}],"mask-image-radial-to-color":[{"mask-radial-to":me()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":me()}],"mask-image-conic-to-color":[{"mask-conic-to":me()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Re()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:we()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",it,st]}],filter:[{filter:["","none",it,st]}],blur:[{blur:J()}],brightness:[{brightness:[Lt,it,st]}],contrast:[{contrast:[Lt,it,st]}],"drop-shadow":[{"drop-shadow":["","none",v,Mu,Pu]}],"drop-shadow-color":[{"drop-shadow":me()}],grayscale:[{grayscale:["",Lt,it,st]}],"hue-rotate":[{"hue-rotate":[Lt,it,st]}],invert:[{invert:["",Lt,it,st]}],saturate:[{saturate:[Lt,it,st]}],sepia:[{sepia:["",Lt,it,st]}],"backdrop-filter":[{"backdrop-filter":["","none",it,st]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,it,st]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,it,st]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,it,st]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,it,st]}],"backdrop-invert":[{"backdrop-invert":["",Lt,it,st]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,it,st]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,it,st]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,it,st]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",it,st]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",it,st]}],ease:[{ease:["linear","initial",k,it,st]}],delay:[{delay:[Lt,it,st]}],animate:[{animate:["none",O,it,st]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,it,st]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:$e()}],"rotate-x":[{"rotate-x":$e()}],"rotate-y":[{"rotate-y":$e()}],"rotate-z":[{"rotate-z":$e()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[it,st,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tt()}],"translate-x":[{"translate-x":tt()}],"translate-y":[{"translate-y":tt()}],"translate-z":[{"translate-z":tt()}],"translate-none":["translate-none"],accent:[{accent:me()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:me()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it,st]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it,st]}],fill:[{fill:["none",...me()]}],"stroke-w":[{stroke:[Lt,Nc,Ci,Am]}],stroke:[{stroke:["none",...me()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},EP=cP(_P);function Js(...e){return EP(Jw(e))}const E2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,T2=Jw,TP=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return T2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:c}=t,u=Object.keys(l).map(m=>{const y=r==null?void 0:r[m],w=c==null?void 0:c[m];if(y===null)return null;const b=E2(y)||E2(w);return l[m][b]}),f=r&&Object.entries(r).reduce((m,y)=>{let[w,b]=y;return b===void 0||(m[w]=b),m},{}),h=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let $=y,{class:w,className:b}=$,v=Tt($,["class","className"]);return Object.entries(v).every(N=>{let[C,k]=N;return Array.isArray(k)?k.includes(F(F({},c),f)[C]):F(F({},c),f)[C]===k})?[...m,w,b]:m},[]);return T2(e,u,h,r==null?void 0:r.class,r==null?void 0:r.className)},dN=TP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function OP(t){var e=Tt(t,[]);return n.jsx(zR,F({"data-slot":"alert-dialog"},e))}function AP(t){var e=Tt(t,[]);return n.jsx(HR,F({"data-slot":"alert-dialog-portal"},e))}function RP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx(qR,F({"data-slot":"alert-dialog-overlay",className:Js("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function PP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsxs(AP,{children:[n.jsx(RP,{}),n.jsx(GR,F({"data-slot":"alert-dialog-content",className:Js("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},t))]})}function MP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx("div",F({"data-slot":"alert-dialog-header",className:Js("flex flex-col gap-2 text-center sm:text-left",e)},t))}function DP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx("div",F({"data-slot":"alert-dialog-footer",className:Js("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function LP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx(YR,F({"data-slot":"alert-dialog-title",className:Js("text-lg font-semibold",e)},t))}function IP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx(QR,F({"data-slot":"alert-dialog-description",className:Js("text-muted-foreground text-sm",e)},t))}function UP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx(VR,F({className:Js(dN(),e)},t))}function FP(r){var s=r,{className:e}=s,t=Tt(s,["className"]);return n.jsx(KR,F({className:Js(dN({variant:"outline"}),e)},t))}function gy({isOpen:e,onClose:t,onConfirm:r,title:s="Are you sure?",message:l="This action cannot be undone.",confirmText:c="Continue",cancelText:u="Cancel",confirmButtonClass:f="bg-red-600 hover:bg-red-700 text-white"}){return n.jsx(OP,{open:e,onOpenChange:t,children:n.jsxs(PP,{children:[n.jsxs(MP,{children:[n.jsx(LP,{children:s}),n.jsx(IP,{children:l})]}),n.jsxs(DP,{children:[n.jsx(FP,{onClick:t,children:u}),n.jsx(UP,{onClick:r,className:f,children:c})]})]})})}const H0=()=>new Date,yy=e=>{if(!e)return!1;const t=new Date(e),r=H0();return t.getUTCFullYear()===r.getUTCFullYear()&&t.getUTCMonth()===r.getUTCMonth()&&t.getUTCDate()===r.getUTCDate()},py=e=>{if(!e)return!1;const t=new Date(e),r=H0(),s=new Date(r);s.setUTCDate(r.getUTCDate()-r.getUTCDay()),s.setUTCHours(0,0,0,0);const l=new Date(s);return l.setUTCDate(s.getUTCDate()+6),l.setUTCHours(23,59,59,999),t>=s&&t<=l},xy=e=>{if(!e)return!1;const t=new Date(e),r=H0();return t.getUTCFullYear()===r.getUTCFullYear()&&t.getUTCMonth()===r.getUTCMonth()},by=e=>{if(!e)return!1;const t=new Date(e),r=H0();return t.getUTCFullYear()===r.getUTCFullYear()};function BP(){const e=_r(),t=yl("(max-width: 1024px)"),[r,s]=x.useState(""),[l,c]=x.useState("all"),[u,f]=x.useState("today"),[h,m]=x.useState("all"),[y,w]=x.useState(null),[b,v]=x.useState(!1),[$,N]=x.useState(!1),[C,k]=x.useState({}),[O,A]=x.useState(!1),[B,P]=x.useState(null),[T,G]=x.useState(!1),[z,Z]=x.useState(null),{createClosingEntry:Q,isCreating:H}=KO(),[X,ye]=x.useState(!1),[pe,Oe]=x.useState(null),{invoices:q,isLoading:ae,error:me}=dy(),{modes:Re}=J3(),{posDetails:U}=ma(),we=(U==null?void 0:U.custom_hide_expected_amount)||!1,L=se=>{if(u==="all")return!0;if(u==="today")return yy(se);if(u==="yesterday"){const Je=new Date;Je.setUTCDate(Je.getUTCDate()-1);const Ft=new Date(se);return Ft.getUTCFullYear()===Je.getUTCFullYear()&&Ft.getUTCMonth()===Je.getUTCMonth()&&Ft.getUTCDate()===Je.getUTCDate()}return u==="week"?py(se):u==="month"?xy(se):u==="year"?by(se):!0},te=se=>{const Je="px-2 py-1 rounded-full text-xs font-medium";switch((se==null?void 0:se.toLowerCase())||""){case"paid":return`${Je} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Je} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Je} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Je} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Je} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Je} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Je} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Je} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Je} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Je} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Je} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Je} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Je} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},oe=x.useMemo(()=>ae?[]:me?[]:q.filter(se=>{const Je=r===""||se.id.toLowerCase().includes(r.toLowerCase())||se.customer.toLowerCase().includes(r.toLowerCase())||se.cashier&&se.cashier.toLowerCase().includes(r.toLowerCase()),Ft=l==="all"||se.status===l,fe=h==="all"||se.paymentMethod===h,Qe=L(se.date),ht=!(U!=null&&U.name)||se.posProfile===U.name,Zt=!(U!=null&&U.current_opening_entry)||se.custom_pos_opening_entry&&se.custom_pos_opening_entry===U.current_opening_entry;return console.log({matchesPOSProfile:ht,matchesOpeningEntry:Zt,invoice:se,posDetails:U}),Je&&fe&&Ft&&Qe&&ht&&Zt}),[q,r,l,u,h,ae,me,U]),R=x.useMemo(()=>{const se=Re.reduce((Je,Ft)=>(Je[Ft.name]={name:Ft.name,openingAmount:Ft.openingAmount||0,amount:0,transactions:0},Je),{});return oe.forEach(Je=>{Je.paymentMethod&&se[Je.paymentMethod]&&(se[Je.paymentMethod].amount+=Je.totalAmount||0,se[Je.paymentMethod].transactions+=1)}),se},[Re,oe]),Y=Object.values(R).reduce((se,Je)=>se+Je.amount,0);if(ae)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(me)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),n.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:me.message}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const Se=se=>{e(`/invoice/${se.id}`)},J=se=>{if(se.status!=="Draft"){Le.error("Only draft invoices can be deleted");return}Oe(se),ye(!0)},$e=()=>de(null,null,function*(){if(pe)try{yield _0(pe.id),Le.success(`Draft invoice ${pe.id} deleted successfully`),ye(!1),Oe(null),window.location.reload()}catch(se){Le.error(se.message||"Failed to delete invoice")}}),be=()=>{ye(!1),Oe(null)},Be=se=>{tt(se),v(!1)},tt=se=>de(null,null,function*(){try{const Je=yield C0(se);Le.success(`Invoice returned: ${Je.return_invoice}`)}catch(Je){Le.error(Je.message||"Failed to return invoice")}}),vt=se=>{if(!se||!se.items)return console.log("No invoice or items found for:",se==null?void 0:se.id),!1;const Je=se.items.some(Ft=>{const fe=Ft.qty||Ft.quantity||0,Qe=Ft.returned_qty||0,ht=Qe<fe;return console.log(`Item ${Ft.item_code}: sold=${fe}, returned=${Qe}, canReturn=${ht}`),ht});return console.log(`Invoice ${se.id} has returnable items: ${Je}`),Je},Ce=se=>{Z(se),G(!0)},Ye=()=>{G(!1),Z(null),window.location.reload()},_t=se=>{console.log("Cancelling invoice:",se),v(!1)},jt=(se,Je)=>{k(Ft=>ce(F({},Ft),{[se]:parseFloat(Je)||0}))},Mt=()=>de(null,null,function*(){console.log("Closing shift with amounts:",C);try{yield Q(C),N(!1),e("/")}catch(se){console.error("Error closing shift:",se)}});return t?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Closing Shift"}),n.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[n.jsx(Cc,{className:"w-4 h-4"}),n.jsx("span",{children:"Close"})]})]})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[!we&&n.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Object.values(R).map(se=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:se.name}),se.name.toLowerCase().includes("cash")?n.jsx("div",{className:"text-2xl",children:""}):n.jsx(Ha,{className:"w-8 h-8 text-beveren-600"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(se.amount,(U==null?void 0:U.currency)||"USD")}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[se.transactions," transactions"]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y>0?(se.amount/Y*100).toFixed(1):0,"% of total"]})]})]},se.name))}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:se=>s(se.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),n.jsxs("select",{value:u,onChange:se=>f(se.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"yesterday",children:"Yesterday"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"year",children:"This Year"})]}),n.jsxs("select",{value:l,onChange:se=>c(se.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Unpaid",children:"Unpaid"}),n.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),n.jsx("option",{value:"Paid",children:"Paid"}),n.jsx("option",{value:"Overdue",children:"Overdue"}),n.jsx("option",{value:"Return",children:"Return"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:h,onChange:se=>m(se.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Payments"}),Re.map(se=>n.jsx("option",{value:se.name,children:se.name},se.name))]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",oe.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(U==null?void 0:U.is_zatca_enabled)&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:oe.map(se=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:se.id}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[se.date," ",se.time]})]})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:se.customer}),se.giftCardCode&&n.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Gift: ",se.giftCardCode]})]}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:dt(se.totalAmount,se.currency)}),se.giftCardDiscount>0&&n.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",dt(se.giftCardDiscount,se.currency)," gift"]})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:te(se.status),children:se.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:te(se.custom_zatca_submit_status),children:se.custom_zatca_submit_status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Se(se),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[n.jsx(Fi,{className:"w-4 h-4"}),n.jsx("span",{children:"View"})]}),se.status==="Draft"&&n.jsxs("button",{onClick:()=>J(se),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[n.jsx(Cc,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(se.status)&&vt(se)&&n.jsxs("button",{onClick:()=>Ce(se),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[n.jsx(Bi,{className:"w-4 h-4"}),n.jsx("span",{children:"Return"})]})]})})]},se.id))})]})})]})]}),$&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(ha,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"space-y-4",children:Object.values(R).map(se=>n.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[se.name.toLowerCase().includes("cash")?n.jsx("div",{className:"text-xl",children:""}):n.jsx(Ha,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:se.name})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:dt(se.openingAmount,(U==null?void 0:U.currency)||"USD")})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:C[se.name]||"",onChange:Je=>jt(se.name,Je.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},se.name))}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),n.jsx("button",{onClick:Mt,disabled:H,className:`px-6 py-2 rounded-lg font-medium transition-colors ${H?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:H?"Closing...":"Close Shift"})]})]})}),n.jsx(Xc,{invoice:y,isOpen:b,onClose:()=>v(!1),onRefund:Be,onCancel:_t}),n.jsx(rs,{})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[n.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Closing Shift"})}),n.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[n.jsx(Cc,{className:"w-4 h-4"}),n.jsx("span",{children:"Close"})]})]})})}),n.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 space-y-6",children:[!we&&n.jsx(n.Fragment,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(R).map(se=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:se.name}),se.name.toLowerCase().includes("cash")?n.jsx("div",{className:"text-2xl",children:""}):n.jsx(Ha,{className:"w-8 h-8 text-orange-600"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(se.amount,(U==null?void 0:U.currency)||"USD")}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[se.transactions," transactions"]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y>0?(se.amount/Y*100).toFixed(1):0,"% of total"]})]})]},se.name))})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:se=>s(se.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),n.jsxs("select",{value:u,onChange:se=>f(se.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"yesterday",children:"Yesterday"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"year",children:"This Year"})]}),n.jsxs("select",{value:l,onChange:se=>c(se.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Unpaid",children:"Unpaid"}),n.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),n.jsx("option",{value:"Paid",children:"Paid"}),n.jsx("option",{value:"Overdue",children:"Overdue"}),n.jsx("option",{value:"Return",children:"Return"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:h,onChange:se=>m(se.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Payments"}),Re.map(se=>n.jsx("option",{value:se.name,children:se.name},se.name))]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",oe.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(U==null?void 0:U.is_zatca_enabled)&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:oe.map(se=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:se.id}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[se.date," ",se.time]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:se.customer})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:se.cashier}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:se.paymentMethod})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:dt(se.totalAmount,se.currency)}),se.giftCardDiscount>0&&n.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",dt(se.giftCardDiscount,se.currency)," gift card"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:te(se.status),children:se.status})}),(U==null?void 0:U.is_zatca_enabled)&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:te(se.custom_zatca_submit_status),children:se.custom_zatca_submit_status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Se(se),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[n.jsx(Fi,{className:"w-4 h-4"}),n.jsx("span",{children:"View"})]}),se.status==="Draft"&&n.jsxs("button",{onClick:()=>J(se),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[n.jsx(Cc,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(se.status)&&vt(se)&&n.jsxs("button",{onClick:()=>Ce(se),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[n.jsx(Bi,{className:"w-4 h-4"}),n.jsx("span",{children:"Return"})]})]})})]},se.id))})]})})]})]}),$&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(ha,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"space-y-4",children:Object.values(R).map(se=>n.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[se.name.toLowerCase().includes("cash")?n.jsx("div",{className:"text-xl",children:""}):n.jsx(Ha,{className:"w-5 h-5 text-beveren-600"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:se.name})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:dt(se.openingAmount,(U==null?void 0:U.currency)||"USD")})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:C[se.name]||"",onChange:Je=>jt(se.name,Je.target.value),className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},se.name))}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),n.jsx("button",{onClick:Mt,disabled:H,className:`px-6 py-2 rounded-lg font-medium transition-colors ${H?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:H?"Closing...":"Close Shift"})]})]})}),n.jsx(Xc,{invoice:y,isOpen:b,onClose:()=>v(!1),onRefund:Be,onCancel:_t}),n.jsx(U0,{invoice:z,isOpen:T,onClose:()=>G(!1),onSuccess:Ye}),n.jsx(gy,{isOpen:X,onClose:be,onConfirm:$e,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${pe==null?void 0:pe.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})})}function zP(){const{user:e,logout:t}=Ws(),{theme:r,toggleTheme:s}=w0(),{language:l,setLanguage:c,t:u}=un(),f=_r(),[h,m]=x.useState("profile"),y=T=>T.split(" ").map(G=>G.charAt(0).toUpperCase()).join("").substring(0,2),w=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||"Guest User",b=(e==null?void 0:e.email)||(e==null?void 0:e.name)||"No email",v=(e==null?void 0:e.role)||"User",$=y(w),N=()=>de(null,null,function*(){try{yield t(),f("/login")}catch(T){console.error("Logout error:",T),f("/login")}}),C=[{id:"profile",title:"Profile Information",icon:za,description:"View and manage your profile details"},{id:"appearance",title:"Appearance",icon:i$,description:"Customize the app's look and feel"},{id:"language",title:"Language & Region",icon:Zv,description:"Set your preferred language and region"},{id:"account",title:"Account Settings",icon:S0,description:"Manage your account and security"}],k=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-beveren-600 to-beveren-700 rounded-xl p-6 text-white",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-2xl font-bold",children:$})}),n.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-beveren-600 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:n.jsx(V3,{size:16})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold",children:w}),n.jsx("p",{className:"text-beveren-100 text-lg",children:b}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx(N$,{size:16,className:"text-beveren-200"}),n.jsx("span",{className:"text-beveren-100 font-medium",children:v})]})]})]})}),n.jsx("div",{className:"grid gap-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.full_name)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:b})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User ID"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:v})]}),(e==null?void 0:e.first_name)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.first_name})]}),(e==null?void 0:e.last_name)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.last_name})]})]})]})})]}),O=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Theme Settings"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[r==="dark"?n.jsx(k0,{size:20,className:"text-gray-700 dark:text-gray-300"}):n.jsx($0,{size:20,className:"text-gray-700 dark:text-gray-300"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r==="dark"?"Dark Mode":"Light Mode"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r==="dark"?"Using dark theme for better low-light viewing":"Using light theme for optimal daytime viewing"})]})]}),n.jsxs("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",r),s()},className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",type:"button",children:["Switch to ",r==="dark"?"Light":"Dark"]})]})})]})}),A=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Language Preferences"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Zv,{size:20,className:"text-gray-700 dark:text-gray-300"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Current Language: ",l==="en"?"English":"Arabic"]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface language and text direction"})]})]}),n.jsxs("button",{onClick:()=>c(l==="en"?"ar":"en"),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:["Switch to ",l==="en"?"Arabic":"English"]})]})})]})}),B=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(N0,{size:20,className:"text-red-600 dark:text-red-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sign Out"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account and return to login"})]})]}),n.jsx("button",{onClick:N,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]})})]})}),P=()=>{switch(h){case"profile":return k();case"appearance":return O();case"language":return A();case"account":return B();default:return k()}};return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center space-x-4 mb-4",children:n.jsxs("button",{onClick:()=>f("/pos"),className:"flex items-center space-x-2 text-gray-600 hover:text-beveren-600 dark:text-gray-300 dark:hover:text-beveren-400 transition-colors group",type:"button",children:[n.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-beveren-50 dark:bg-gray-800 dark:group-hover:bg-beveren-900 transition-colors",children:n.jsx(Gi,{size:20})}),n.jsx("span",{className:"font-medium",children:"Back to POS"})]})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Manage your account preferences and settings"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:n.jsx("nav",{className:"space-y-2",children:C.map(T=>{const G=T.icon;return n.jsxs("button",{onClick:()=>m(T.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${h===T.id?"bg-beveren-50 text-beveren-700 border border-beveren-200 dark:bg-beveren-900 dark:text-beveren-300 dark:border-beveren-700":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(G,{size:18}),n.jsx("span",{className:"font-medium",children:T.title})]}),n.jsx(_9,{size:16,className:"text-gray-400 dark:text-gray-500"})]},T.id)})})})}),n.jsx("div",{className:"lg:col-span-3",children:P()})]})]})})}function HP(){const{t:e,language:t,setLanguage:r}=un(),{user:s,logout:l}=Ws(),{theme:c,toggleTheme:u}=w0(),{posDetails:f}=ma(),[h,m]=x.useState(!1),y=x.useRef(null);x.useEffect(()=>{function k(O){y.current&&!y.current.contains(O.target)&&m(!1)}return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[y]);const w=()=>de(null,null,function*(){try{yield l(),window.location.href="/klik_pos/login"}catch(k){console.error("Logout error:",k),window.location.href="/klik_pos/login"}});new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});const b=k=>k.split(" ").map(O=>O.charAt(0).toUpperCase()).join("").substring(0,2),v=(s==null?void 0:s.full_name)||(s==null?void 0:s.name)||"Guest User",$=(f==null?void 0:f.name)||"POS Profile",N=(s==null?void 0:s.role)||"User",C=b(v);return n.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 relative z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center flex-1 max-w-md",children:n.jsxs("div",{className:"relative w-full",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search menu",className:"w-full pl-10 pr-4 py-2 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:$}),n.jsx("p",{className:"text-sm text-gray-500",children:v})]}),n.jsxs("div",{className:"relative",ref:y,children:[n.jsx("button",{onClick:()=>{console.log("Avatar clicked, current showUserMenu:",h),m(!h)},className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:n.jsx("span",{className:"text-white font-medium text-sm pointer-events-none",children:C})}),h&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-medium text-base",children:C})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:$}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx(ty,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white truncate",children:v})]}),n.jsx("p",{className:"text-xs text-beveren-600 font-medium mt-1",children:N})]})]})}),n.jsxs("div",{className:"py-1",children:[n.jsxs(sd,{to:"/settings",onClick:()=>m(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(S0,{size:16,className:"mr-3 text-gray-500"}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:()=>{u(),m(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[c==="dark"?n.jsx($0,{size:16,className:"mr-3 text-gray-500"}):n.jsx(k0,{size:16,className:"mr-3 text-gray-500"}),n.jsx("span",{children:c==="dark"?"Light Mode":"Dark Mode"})]}),n.jsxs("button",{onClick:()=>{r(t==="en"?"ar":"en"),m(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[n.jsx("span",{className:"mr-3 text-gray-500",children:""}),n.jsx("span",{children:t==="en"?"Switch to Arabic":"Switch to English"})]}),n.jsx("div",{className:"border-t border-gray-100 my-1"}),n.jsxs("button",{onClick:()=>{w(),m(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",type:"button",children:[n.jsx(N0,{size:16,className:"mr-3"}),n.jsx("span",{children:"Logout"})]})]})]})]})]}),n.jsx("div",{className:"flex-1 max-w-md"})]})})})}function Rm({method:e,title:t,icon:r,selected:s,onSelect:l,total:c}){const{t:u}=un(),[f,h]=x.useState(!1),m=()=>{l(),h(!0)},y=()=>{switch(r){case"cash":return n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"card":return n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"wallet":return n.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"})});default:return null}};return n.jsxs("div",{onClick:m,className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${s?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`mx-auto mb-3 ${s?"text-green-600":"text-gray-400"}`,children:y()}),n.jsx("h3",{className:"font-semibold text-gray-800",children:t})]}),s&&f&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e==="cash"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u("AMOUNT_RECEIVED")}),n.jsx("input",{type:"number",defaultValue:c,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[u("CHANGE"),":  0.00"]})]}),e==="card"&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-2",children:u("INSERT_OR_TAP_CARD")}),n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mx-auto"})})]}),e==="wallet"&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded mx-auto mb-2 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"QR Code"})}),n.jsx("div",{className:"text-sm text-gray-600",children:u("SCAN_WITH_STC_PAY")})]})]})]})}function qP({qrCodeURL:e,caption:t}){return n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:e||"/placeholder.svg",alt:"ZATCA QR Code",className:"w-32 h-32 mx-auto border border-gray-200 rounded"}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t})]})}function GP(){const t=Lg().invoiceId,{t:r,isRTL:s}=un(),[l,c]=x.useState(null),[u,f]=x.useState(null),[h,m]=x.useState(!0);x.useEffect(()=>{y()},[t]);const y=()=>de(null,null,function*(){try{const v={invoiceId:t,dateTime:new Date().toISOString(),items:[{itemCode:"ITEM001",nameEn:"Wireless Headphones",nameAr:" ",qty:1,unitPrice:299,lineTotal:299}],subtotal:299,vat:14.95,total:313.95,qrCodeURL:"/placeholder.svg?height=128&width=128"};c(v)}catch(v){console.error("Failed to load invoice data:",v)}finally{m(!1)}}),w=v=>{f(v)},b=()=>de(null,null,function*(){if(!(!u||!l))try{console.log("Processing payment:",u,l.invoiceId)}catch(v){console.error("Payment failed:",v)}});return h?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"})}):l?n.jsxs("div",{className:`min-h-screen bg-gray-50 ${s?"rtl":"ltr"}`,children:[n.jsx(HP,{}),n.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("INVOICE_SUMMARY")}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[r("INVOICE_ID"),": ",l.invoiceId]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[r("DATE_TIME"),": ",new Date(l.dateTime).toLocaleString()]})]}),n.jsx("div",{className:"border-t pt-4",children:l.items.map((v,$)=>n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:s?v.nameAr:v.nameEn}),n.jsxs("div",{className:"text-sm text-gray-600",children:[v.qty,"   ",v.unitPrice.toFixed(2)]})]}),n.jsxs("div",{className:"font-semibold",children:[" ",v.lineTotal.toFixed(2)]})]},$))}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"flex justify-between py-1",children:[n.jsx("span",{children:r("SUBTOTAL")}),n.jsxs("span",{children:[" ",l.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between py-1",children:[n.jsxs("span",{children:[r("VAT")," (5%)"]}),n.jsxs("span",{children:[" ",l.vat.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[n.jsx("span",{children:r("TOTAL")}),n.jsxs("span",{children:[" ",l.total.toFixed(2)]})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx(qP,{qrCodeURL:l.qrCodeURL,caption:r("SCAN_TO_VERIFY")})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("PAYMENT_METHODS")}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Rm,{method:"cash",title:r("CASH"),icon:"cash",selected:u==="cash",onSelect:()=>w("cash"),total:l.total}),n.jsx(Rm,{method:"card",title:r("CARD"),icon:"card",selected:u==="card",onSelect:()=>w("card"),total:l.total}),n.jsx(Rm,{method:"wallet",title:r("DIGITAL_WALLET"),icon:"wallet",selected:u==="wallet",onSelect:()=>w("wallet"),total:l.total})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("button",{className:"text-green-700 hover:text-green-800 font-medium",children:r("BACK_TO_CART")}),n.jsx("button",{onClick:b,disabled:!u,className:"flex-1 bg-green-700 text-white py-3 px-6 rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r("CONFIRM_PAYMENT")})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"text-center",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:r("INVOICE_NOT_FOUND")})})})}function uN(){var z,Z,Q;const e=_r(),t=yl("(max-width: 1024px)"),[r,s]=x.useState(""),[l,c]=x.useState(!1),[u,f]=x.useState(null),[h,m]=x.useState({}),[y,w]=x.useState(null),{customers:b,isLoading:v,error:$,totalCount:N,loadMore:C}=cy(r);x.useEffect(()=>{de(null,null,function*(){var H;try{const ye=yield(yield fetch("/api/method/klik_pos.api.customer.get_global_totals")).json();(H=ye==null?void 0:ye.message)!=null&&H.success&&w({total_customers:ye.message.total_customers,total_invoices:ye.message.total_invoices})}catch(X){}})},[]);const k=x.useMemo(()=>v?[]:$?[]:b.sort((X,ye)=>{const pe=X.createdAt?new Date(X.createdAt).getTime():0;return(ye.createdAt?new Date(ye.createdAt).getTime():0)-pe}),[b,r,v,$]),O=x.useMemo(()=>{if(v)return{total:0,totalOrders:0};const H=b.length,X=b.reduce((ye,pe)=>ye+(pe.totalOrders||0),0);return{total:H,totalOrders:X}},[b,v]);if(v&&b.length===0)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customers..."})]})});if($)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customers"}),n.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:$.message}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const A=(H,X)=>{let ye="USD";if(X&&X.trim()&&X.length===3)try{new Intl.NumberFormat("en-US",{style:"currency",currency:X}),ye=X}catch(pe){console.warn(`Invalid currency code: ${X}, falling back to AED`),ye="USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:ye}).format(H)},B=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=H=>H.split(" ").map(X=>X.charAt(0).toUpperCase()).join("").substring(0,2),T=H=>{const X=H.target.value;s(X)},G=H=>{if(H.key==="Enter"&&r.trim()&&(H.preventDefault(),!k.find(ye=>{var pe;return ye.name.toLowerCase()===r.toLowerCase()||((pe=ye.email)==null?void 0:pe.toLowerCase())===r.toLowerCase()||ye.phone===r}))){const ye=r.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ye)?m({email:ye}):/^[\d\s+\-()]+$/.test(ye)&&ye.replace(/[\s+\-()]/g,"").length>=7?m({phone:ye}):m({name:ye}),c(!0),s("")}};return t?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Customers"}),n.jsxs("button",{onClick:()=>c(!0),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(Oc,{size:16}),n.jsx("span",{children:"Add"})]})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:n.jsxs("div",{className:"mx-auto w-full",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ys,{className:"text-orange-500",size:24}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[b.length," of ",(Z=(z=y==null?void 0:y.total_customers)!=null?z:N)!=null?Z:b.length]})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs font-bold",children:""})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(Q=y==null?void 0:y.total_invoices)!=null?Q:O.totalOrders})]})]})})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:r,onChange:T,onKeyPress:G,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}),v&&b.length>0&&n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]})})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(H=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${H.id}`),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-medium text-sm",children:P(H.name)})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:H.name}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",H.id]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[n.jsx(il,{size:14,className:"mr-2 text-gray-400"}),H.email]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[n.jsx(a0,{size:14,className:"mr-2 text-gray-400"}),H.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[H.totalOrders," orders"]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:A(H.totalSpent,H.defaultCurrency||H.companyCurrency)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:H.lastVisit?B(H.lastVisit):"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx("button",{onClick:X=>{X.stopPropagation(),e(`/customers/${H.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:n.jsx(Fi,{size:16})}),n.jsx("button",{onClick:X=>{X.stopPropagation(),f(H),c(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:n.jsx(ol,{size:16})})]})})]},H.id))})]})}),k.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ys,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:r?"Try adjusting your search criteria.":"Get started by adding your first customer."})]}),N>b.length&&n.jsx("div",{className:"p-4 text-center",children:n.jsxs("button",{onClick:C,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:["Load More (",b.length,"/",N,")"]})})]})]})}),l&&n.jsxs(n.Fragment,{children:[console.log("Opening modal with prefilled data:",h),n.jsx(ul,{customer:u,onClose:()=>{c(!1),f(null),m({})},onSave:H=>{console.log("Saving customer:",H),!u&&H.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(c(!1),f(null),m({}))},prefilledData:h})]}),n.jsx(rs,{})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[n.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),n.jsxs("button",{onClick:()=>c(!0),className:"bg-beveren-600 text-white px-6 py-3 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2",children:[n.jsx(Oc,{size:20}),n.jsx("span",{children:"Add Customer"})]})]})})}),n.jsx("div",{className:"flex-1 px-6 py-8 mt-16 lg:ml-20 max-w-none",children:n.jsxs("div",{className:"mx-auto w-full",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ys,{className:"text-orange-500",size:24}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[b.length," of ",N||b.length]})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs font-bold",children:""})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:O.totalOrders})]})]})})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:r,onChange:T,onKeyPress:G,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(H=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${H.id}`),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-medium text-sm",children:P(H.name)})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:H.name}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",H.id]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[n.jsx(il,{size:14,className:"mr-2 text-gray-400"}),H.email]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[n.jsx(a0,{size:14,className:"mr-2 text-gray-400"}),H.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:H.totalOrders>0?`${H.totalOrders} orders`:"No orders"}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:H.totalSpent>0?A(H.totalSpent,H.defaultCurrency||H.companyCurrency):"No purchases"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:H.lastVisit?B(H.lastVisit):"Never"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx("button",{onClick:X=>{X.stopPropagation(),e(`/customers/${H.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:n.jsx(Fi,{size:16})}),n.jsx("button",{onClick:X=>{X.stopPropagation(),f(H),c(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:n.jsx(ol,{size:16})})]})})]},H.id))})]})})})]})}),l&&n.jsxs(n.Fragment,{children:[console.log("Opening modal with prefilled data:",h),n.jsx(ul,{customer:u,onClose:()=>{c(!1),f(null),m({})},onSave:H=>{console.log("Saving customer (desktop):",H),!u&&H.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(c(!1),f(null),m({}))},prefilledData:h})]})]})}function VP(){const e=_r(),{cartItems:t,appliedCoupons:r,updateQuantity:s,removeItem:l,clearCart:c,applyCoupon:u,removeCoupon:f}=Vi();return n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:n.jsx(Gi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),n.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"})]}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," ",t.length===1?"item":"items"]})]})}),n.jsx("div",{className:"flex-1 pb-20",children:n.jsx(J4,{cartItems:t,onUpdateQuantity:s,onRemoveItem:l,onClearCart:c,appliedCoupons:r,onApplyCoupon:u,onRemoveCoupon:f,isMobile:!0})}),n.jsx(rs,{})]})}function KP(){const e=_r();return n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:n.jsx(Gi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),n.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),n.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Customers"})]})})}),n.jsx("div",{className:"flex-1 pb-20 overflow-hidden",children:n.jsx(uN,{})}),n.jsx(rs,{})]})}function YP(){const e=_r(),t=s=>{console.log("Saving customer:",s),e(-1)},r=()=>{e(-1)};return n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:n.jsx(Gi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),n.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),n.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Add Customer"})]})})}),n.jsx("div",{className:"flex-1 pb-20",children:n.jsx("div",{className:"h-full bg-white dark:bg-gray-800",children:n.jsx(ul,{onClose:r,onSave:t,isFullPage:!0})})}),n.jsx(rs,{})]})}function QP(){const e=_r(),{cartItems:t,appliedCoupons:r,selectedCustomer:s,clearCart:l}=Vi(),{refreshStockOnly:c,updateBatchQuantitiesForItems:u}=x0(),f=y=>de(null,null,function*(){y?(console.log("MobilePaymentPage: Payment was completed - clearing cart for next order"),l(),ll()):console.log("MobilePaymentPage: Payment was not completed - keeping cart items");try{yield c(),console.log("Stock refreshed after payment modal close");const w=t.map(b=>b.item_code||b.id);w.length>0&&(console.log("MobilePaymentPage: Updating batch quantities for cart items:",w),yield u(w),console.log("MobilePaymentPage: Batch quantities updated successfully"))}catch(w){console.error("Failed to refresh stock:",w)}e(-1)}),h=y=>de(null,null,function*(){console.log("Payment completed:",y),console.log("MobilePaymentPage: Payment completed - cart will be cleared when page is closed")}),m=y=>{console.log("Order held:",y),l(),e("/pos")};return n.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:n.jsx(Gi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),n.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),n.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Payment"})]})})}),n.jsx("div",{className:"flex-1 pb-20",children:n.jsx(ry,{isOpen:!0,onClose:f,cartItems:t,appliedCoupons:r,selectedCustomer:s,onCompletePayment:h,onHoldOrder:m,isMobile:!0,isFullPage:!0})}),n.jsx(rs,{})]})}const ka=({element:e})=>{const{isAuthenticated:t,loading:r}=Ws(),s=Va();return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),n.jsx("p",{className:"text-beveren-600 mt-4",children:"Verifying access..."})]})}):t?e:n.jsx(B6,{to:"/login",state:{from:s},replace:!0})};var q0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},G0=typeof window=="undefined"||"Deno"in globalThis;function an(){}function XP(e,t){return typeof e=="function"?e(t):e}function WP(e){return typeof e=="number"&&e>=0&&e!==1/0}function ZP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Eg(e,t){return typeof e=="function"?e(t):e}function JP(e,t){return typeof e=="function"?e(t):e}function O2(e,t){const{type:r="all",exact:s,fetchStatus:l,predicate:c,queryKey:u,stale:f}=e;if(u){if(s){if(t.queryHash!==vy(u,t.options))return!1}else if(!ed(t.queryKey,u))return!1}if(r!=="all"){const h=t.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function A2(e,t){const{exact:r,status:s,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(r){if(Jc(t.options.mutationKey)!==Jc(c))return!1}else if(!ed(t.options.mutationKey,c))return!1}return!(s&&t.state.status!==s||l&&!l(t))}function vy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jc)(e)}function Jc(e){return JSON.stringify(e,(t,r)=>Tg(r)?Object.keys(r).sort().reduce((s,l)=>(s[l]=r[l],s),{}):r)}function ed(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ed(e[r],t[r])):!1}function fN(e,t){if(e===t)return e;const r=R2(e)&&R2(t);if(r||Tg(e)&&Tg(t)){const s=r?e:Object.keys(e),l=s.length,c=r?t:Object.keys(t),u=c.length,f=r?[]:{},h=new Set(s);let m=0;for(let y=0;y<u;y++){const w=r?y:c[y];(!r&&h.has(w)||r)&&e[w]===void 0&&t[w]===void 0?(f[w]=void 0,m++):(f[w]=fN(e[w],t[w]),f[w]===e[w]&&e[w]!==void 0&&m++)}return l===u&&m===l?e:f}return t}function R2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tg(e){if(!P2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!P2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function P2(e){return Object.prototype.toString.call(e)==="[object Object]"}function eM(e){return new Promise(t=>{setTimeout(t,e)})}function tM(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?fN(e,t):t}function rM(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function aM(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var wy=Symbol();function hN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ti,zs,Xo,L2,nM=(L2=class extends q0{constructor(){super();Xt(this,Ti);Xt(this,zs);Xt(this,Xo);At(this,Xo,t=>{if(!G0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Te(this,zs)||this.setEventListener(Te(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,zs))==null||t.call(this),At(this,zs,void 0))}setEventListener(t){var r;At(this,Xo,t),(r=Te(this,zs))==null||r.call(this),At(this,zs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Te(this,Ti)!==t&&(At(this,Ti,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Te(this,Ti)=="boolean"?Te(this,Ti):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ti=new WeakMap,zs=new WeakMap,Xo=new WeakMap,L2),mN=new nM,Wo,Hs,Zo,I2,sM=(I2=class extends q0{constructor(){super();Xt(this,Wo,!0);Xt(this,Hs);Xt(this,Zo);At(this,Zo,t=>{if(!G0&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){Te(this,Hs)||this.setEventListener(Te(this,Zo))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,Hs))==null||t.call(this),At(this,Hs,void 0))}setEventListener(t){var r;At(this,Zo,t),(r=Te(this,Hs))==null||r.call(this),At(this,Hs,t(this.setOnline.bind(this)))}setOnline(t){Te(this,Wo)!==t&&(At(this,Wo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Te(this,Wo)}},Wo=new WeakMap,Hs=new WeakMap,Zo=new WeakMap,I2),h0=new sM;function iM(){let e,t;const r=new Promise((l,c)=>{e=l,t=c});r.status="pending",r.catch(()=>{});function s(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{s({status:"fulfilled",value:l}),e(l)},r.reject=l=>{s({status:"rejected",reason:l}),t(l)},r}function oM(e){return Math.min(1e3*Bb(2,e),3e4)}function gN(e){return(e!=null?e:"online")==="online"?h0.isOnline():!0}var yN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Pm(e){return e instanceof yN}function pN(e){let t=!1,r=0,s=!1,l;const c=iM(),u=N=>{var C;s||(b(new yN(N)),(C=e.abort)==null||C.call(e))},f=()=>{t=!0},h=()=>{t=!1},m=()=>mN.isFocused()&&(e.networkMode==="always"||h0.isOnline())&&e.canRun(),y=()=>gN(e.networkMode)&&e.canRun(),w=N=>{var C;s||(s=!0,(C=e.onSuccess)==null||C.call(e,N),l==null||l(),c.resolve(N))},b=N=>{var C;s||(s=!0,(C=e.onError)==null||C.call(e,N),l==null||l(),c.reject(N))},v=()=>new Promise(N=>{var C;l=k=>{(s||m())&&N(k)},(C=e.onPause)==null||C.call(e)}).then(()=>{var N;l=void 0,s||(N=e.onContinue)==null||N.call(e)}),$=()=>{if(s)return;let N;const C=r===0?e.initialPromise:void 0;try{N=C!=null?C:e.fn()}catch(k){N=Promise.reject(k)}Promise.resolve(N).then(w).catch(k=>{var T,G,z;if(s)return;const O=(T=e.retry)!=null?T:G0?0:3,A=(G=e.retryDelay)!=null?G:oM,B=typeof A=="function"?A(r,k):A,P=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,k);if(t||!P){b(k);return}r++,(z=e.onFail)==null||z.call(e,r,k),eM(B).then(()=>m()?void 0:v()).then(()=>{t?b(k):$()})})};return{promise:c,cancel:u,continue:()=>(l==null||l(),c),cancelRetry:f,continueRetry:h,canStart:y,start:()=>(y()?$():v().then($),c)}}var lM=e=>setTimeout(e,0);function cM(){let e=[],t=0,r=f=>{f()},s=f=>{f()},l=lM;const c=f=>{t?e.push(f):l(()=>{r(f)})},u=()=>{const f=e;e=[],f.length&&l(()=>{s(()=>{f.forEach(h=>{r(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{r=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{l=f}}}var ra=cM(),Oi,U2,xN=(U2=class{constructor(){Xt(this,Oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),WP(this.gcTime)&&At(this,Oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:G0?1/0:5*60*1e3)}clearGcTimeout(){Te(this,Oi)&&(clearTimeout(Te(this,Oi)),At(this,Oi,void 0))}},Oi=new WeakMap,U2),Jo,Ai,Ua,Ri,Jr,td,Pi,nn,Kn,F2,dM=(F2=class extends xN{constructor(t){var r;super();Xt(this,nn);Xt(this,Jo);Xt(this,Ai);Xt(this,Ua);Xt(this,Ri);Xt(this,Jr);Xt(this,td);Xt(this,Pi);At(this,Pi,!1),At(this,td,t.defaultOptions),this.setOptions(t.options),this.observers=[],At(this,Ri,t.client),At(this,Ua,Te(this,Ri).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,At(this,Jo,fM(this.options)),this.state=(r=t.state)!=null?r:Te(this,Jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Te(this,Jr))==null?void 0:t.promise}setOptions(t){this.options=F(F({},Te(this,td)),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Te(this,Ua).remove(this)}setData(t,r){const s=tM(this.state.data,t,this.options);return Wr(this,nn,Kn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Wr(this,nn,Kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,l;const r=(s=Te(this,Jr))==null?void 0:s.promise;return(l=Te(this,Jr))==null||l.cancel(t),r?r.then(an).catch(an):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Te(this,Jo))}isActive(){return this.observers.some(t=>JP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Eg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ZP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Te(this,Jr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Te(this,Jr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Te(this,Ua).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Te(this,Jr)&&(Te(this,Pi)?Te(this,Jr).cancel({revert:!0}):Te(this,Jr).cancelRetry()),this.scheduleGc()),Te(this,Ua).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wr(this,nn,Kn).call(this,{type:"invalidate"})}fetch(t,r){var m,y,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Te(this,Jr))return Te(this,Jr).continueRetry(),Te(this,Jr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(v=>v.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,l=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(At(this,Pi,!0),s.signal)})},c=()=>{const b=hN(this.options,r),$=(()=>{const N={client:Te(this,Ri),queryKey:this.queryKey,meta:this.meta};return l(N),N})();return At(this,Pi,!1),this.options.persister?this.options.persister(b,$,this):b($)},f=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Te(this,Ri),state:this.state,fetchFn:c};return l(b),b})();(m=this.options.behavior)==null||m.onFetch(f,this),At(this,Ai,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=f.fetchOptions)==null?void 0:y.meta))&&Wr(this,nn,Kn).call(this,{type:"fetch",meta:(w=f.fetchOptions)==null?void 0:w.meta});const h=b=>{var v,$,N,C;Pm(b)&&b.silent||Wr(this,nn,Kn).call(this,{type:"error",error:b}),Pm(b)||(($=(v=Te(this,Ua).config).onError)==null||$.call(v,b,this),(C=(N=Te(this,Ua).config).onSettled)==null||C.call(N,this.state.data,b,this)),this.scheduleGc()};return At(this,Jr,pN({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:s.abort.bind(s),onSuccess:b=>{var v,$,N,C;if(b===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(k){h(k);return}($=(v=Te(this,Ua).config).onSuccess)==null||$.call(v,b,this),(C=(N=Te(this,Ua).config).onSettled)==null||C.call(N,b,this.state.error,this),this.scheduleGc()},onError:h,onFail:(b,v)=>{Wr(this,nn,Kn).call(this,{type:"failed",failureCount:b,error:v})},onPause:()=>{Wr(this,nn,Kn).call(this,{type:"pause"})},onContinue:()=>{Wr(this,nn,Kn).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Te(this,Jr).start()}},Jo=new WeakMap,Ai=new WeakMap,Ua=new WeakMap,Ri=new WeakMap,Jr=new WeakMap,td=new WeakMap,Pi=new WeakMap,nn=new WeakSet,Kn=function(t){const r=s=>{var l,c;switch(t.type){case"failed":return ce(F({},s),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return ce(F({},s),{fetchStatus:"paused"});case"continue":return ce(F({},s),{fetchStatus:"fetching"});case"fetch":return ce(F(F({},s),uM(s.data,this.options)),{fetchMeta:(l=t.meta)!=null?l:null});case"success":return At(this,Ai,void 0),F(ce(F({},s),{data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(c=t.dataUpdatedAt)!=null?c:Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const u=t.error;return Pm(u)&&u.revert&&Te(this,Ai)?ce(F({},Te(this,Ai)),{fetchStatus:"idle"}):ce(F({},s),{error:u,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"});case"invalidate":return ce(F({},s),{isInvalidated:!0});case"setState":return F(F({},s),t.state)}};this.state=r(this.state),ra.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Te(this,Ua).notify({query:this,type:"updated",action:t})})},F2);function uM(e,t){return F({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gN(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function fM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nn,B2,hM=(B2=class extends q0{constructor(t={}){super();Xt(this,Nn);this.config=t,At(this,Nn,new Map)}build(t,r,s){var f;const l=r.queryKey,c=(f=r.queryHash)!=null?f:vy(l,r);let u=this.get(c);return u||(u=new dM({client:t,queryKey:l,queryHash:c,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(l)}),this.add(u)),u}add(t){Te(this,Nn).has(t.queryHash)||(Te(this,Nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Te(this,Nn).get(t.queryHash);r&&(t.destroy(),r===t&&Te(this,Nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ra.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Te(this,Nn).get(t)}getAll(){return[...Te(this,Nn).values()]}find(t){const r=F({exact:!0},t);return this.getAll().find(s=>O2(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>O2(t,s)):r}notify(t){ra.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ra.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ra.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nn=new WeakMap,B2),jn,ta,Mi,kn,Ls,z2,mM=(z2=class extends xN{constructor(t){super();Xt(this,kn);Xt(this,jn);Xt(this,ta);Xt(this,Mi);this.mutationId=t.mutationId,At(this,ta,t.mutationCache),At(this,jn,[]),this.state=t.state||gM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Te(this,jn).includes(t)||(Te(this,jn).push(t),this.clearGcTimeout(),Te(this,ta).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){At(this,jn,Te(this,jn).filter(r=>r!==t)),this.scheduleGc(),Te(this,ta).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Te(this,jn).length||(this.state.status==="pending"?this.scheduleGc():Te(this,ta).remove(this))}continue(){var t,r;return(r=(t=Te(this,Mi))==null?void 0:t.continue())!=null?r:this.execute(this.state.variables)}execute(t){return de(this,null,function*(){var c,u,f,h,m,y,w,b,v,$,N,C,k,O,A,B,P,T,G,z,Z;const r=()=>{Wr(this,kn,Ls).call(this,{type:"continue"})};At(this,Mi,pN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,H)=>{Wr(this,kn,Ls).call(this,{type:"failed",failureCount:Q,error:H})},onPause:()=>{Wr(this,kn,Ls).call(this,{type:"pause"})},onContinue:r,retry:(c=this.options.retry)!=null?c:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Te(this,ta).canRun(this)}));const s=this.state.status==="pending",l=!Te(this,Mi).canStart();try{if(s)r();else{Wr(this,kn,Ls).call(this,{type:"pending",variables:t,isPaused:l}),yield(f=(u=Te(this,ta).config).onMutate)==null?void 0:f.call(u,t,this);const H=yield(m=(h=this.options).onMutate)==null?void 0:m.call(h,t);H!==this.state.context&&Wr(this,kn,Ls).call(this,{type:"pending",context:H,variables:t,isPaused:l})}const Q=yield Te(this,Mi).start();return yield(w=(y=Te(this,ta).config).onSuccess)==null?void 0:w.call(y,Q,t,this.state.context,this),yield(v=(b=this.options).onSuccess)==null?void 0:v.call(b,Q,t,this.state.context),yield(N=($=Te(this,ta).config).onSettled)==null?void 0:N.call($,Q,null,this.state.variables,this.state.context,this),yield(k=(C=this.options).onSettled)==null?void 0:k.call(C,Q,null,t,this.state.context),Wr(this,kn,Ls).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw yield(A=(O=Te(this,ta).config).onError)==null?void 0:A.call(O,Q,t,this.state.context,this),yield(P=(B=this.options).onError)==null?void 0:P.call(B,Q,t,this.state.context),yield(G=(T=Te(this,ta).config).onSettled)==null?void 0:G.call(T,void 0,Q,this.state.variables,this.state.context,this),yield(Z=(z=this.options).onSettled)==null?void 0:Z.call(z,void 0,Q,t,this.state.context),Q}finally{Wr(this,kn,Ls).call(this,{type:"error",error:Q})}}finally{Te(this,ta).runNext(this)}})}},jn=new WeakMap,ta=new WeakMap,Mi=new WeakMap,kn=new WeakSet,Ls=function(t){const r=s=>{switch(t.type){case"failed":return ce(F({},s),{failureCount:t.failureCount,failureReason:t.error});case"pause":return ce(F({},s),{isPaused:!0});case"continue":return ce(F({},s),{isPaused:!1});case"pending":return ce(F({},s),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return ce(F({},s),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return ce(F({},s),{data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=r(this.state),ra.batch(()=>{Te(this,jn).forEach(s=>{s.onMutationUpdate(t)}),Te(this,ta).notify({mutation:this,type:"updated",action:t})})},z2);function gM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xn,sn,rd,H2,yM=(H2=class extends q0{constructor(t={}){super();Xt(this,Xn);Xt(this,sn);Xt(this,rd);this.config=t,At(this,Xn,new Set),At(this,sn,new Map),At(this,rd,0)}build(t,r,s){const l=new mM({mutationCache:this,mutationId:++pu(this,rd)._,options:t.defaultMutationOptions(r),state:s});return this.add(l),l}add(t){Te(this,Xn).add(t);const r=Du(t);if(typeof r=="string"){const s=Te(this,sn).get(r);s?s.push(t):Te(this,sn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Te(this,Xn).delete(t)){const r=Du(t);if(typeof r=="string"){const s=Te(this,sn).get(r);if(s)if(s.length>1){const l=s.indexOf(t);l!==-1&&s.splice(l,1)}else s[0]===t&&Te(this,sn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Du(t);if(typeof r=="string"){const s=Te(this,sn).get(r),l=s==null?void 0:s.find(c=>c.state.status==="pending");return!l||l===t}else return!0}runNext(t){var s,l;const r=Du(t);if(typeof r=="string"){const c=(s=Te(this,sn).get(r))==null?void 0:s.find(u=>u!==t&&u.state.isPaused);return(l=c==null?void 0:c.continue())!=null?l:Promise.resolve()}else return Promise.resolve()}clear(){ra.batch(()=>{Te(this,Xn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Te(this,Xn).clear(),Te(this,sn).clear()})}getAll(){return Array.from(Te(this,Xn))}find(t){const r=F({exact:!0},t);return this.getAll().find(s=>A2(r,s))}findAll(t={}){return this.getAll().filter(r=>A2(t,r))}notify(t){ra.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ra.batch(()=>Promise.all(t.map(r=>r.continue().catch(an))))}},Xn=new WeakMap,sn=new WeakMap,rd=new WeakMap,H2);function Du(e){var t;return(t=e.options.scope)==null?void 0:t.id}function M2(e){return{onFetch:(t,r)=>{var y,w,b,v,$;const s=t.options,l=(b=(w=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:b.direction,c=((v=t.state.data)==null?void 0:v.pages)||[],u=(($=t.state.data)==null?void 0:$.pageParams)||[];let f={pages:[],pageParams:[]},h=0;const m=()=>de(null,null,function*(){var A;let N=!1;const C=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},k=hN(t.options,t.fetchOptions),O=(B,P,T)=>de(null,null,function*(){if(N)return Promise.reject();if(P==null&&B.pages.length)return Promise.resolve(B);const z=(()=>{const X={client:t.client,queryKey:t.queryKey,pageParam:P,direction:T?"backward":"forward",meta:t.options.meta};return C(X),X})(),Z=yield k(z),{maxPages:Q}=t.options,H=T?aM:rM;return{pages:H(B.pages,Z,Q),pageParams:H(B.pageParams,P,Q)}});if(l&&c.length){const B=l==="backward",P=B?pM:D2,T={pages:c,pageParams:u},G=P(s,T);f=yield O(T,G,B)}else{const B=e!=null?e:c.length;do{const P=h===0?(A=u[0])!=null?A:s.initialPageParam:D2(s,f);if(h>0&&P==null)break;f=yield O(f,P),h++}while(h<B)}return f});t.options.persister?t.fetchFn=()=>{var N,C;return(C=(N=t.options).persister)==null?void 0:C.call(N,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=m}}}function D2(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function pM(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var xr,qs,Gs,el,tl,Vs,rl,al,q2,xM=(q2=class{constructor(e={}){Xt(this,xr);Xt(this,qs);Xt(this,Gs);Xt(this,el);Xt(this,tl);Xt(this,Vs);Xt(this,rl);Xt(this,al);At(this,xr,e.queryCache||new hM),At(this,qs,e.mutationCache||new yM),At(this,Gs,e.defaultOptions||{}),At(this,el,new Map),At(this,tl,new Map),At(this,Vs,0)}mount(){pu(this,Vs)._++,Te(this,Vs)===1&&(At(this,rl,mN.subscribe(e=>de(this,null,function*(){e&&(yield this.resumePausedMutations(),Te(this,xr).onFocus())}))),At(this,al,h0.subscribe(e=>de(this,null,function*(){e&&(yield this.resumePausedMutations(),Te(this,xr).onOnline())}))))}unmount(){var e,t;pu(this,Vs)._--,Te(this,Vs)===0&&((e=Te(this,rl))==null||e.call(this),At(this,rl,void 0),(t=Te(this,al))==null||t.call(this),At(this,al,void 0))}isFetching(e){return Te(this,xr).findAll(ce(F({},e),{fetchStatus:"fetching"})).length}isMutating(e){return Te(this,qs).findAll(ce(F({},e),{status:"pending"})).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Te(this,xr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Te(this,xr).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Eg(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Te(this,xr).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),l=Te(this,xr).get(s.queryHash),c=l==null?void 0:l.state.data,u=XP(t,c);if(u!==void 0)return Te(this,xr).build(this,s).setData(u,ce(F({},r),{manual:!0}))}setQueriesData(e,t,r){return ra.batch(()=>Te(this,xr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Te(this,xr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Te(this,xr);ra.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Te(this,xr);return ra.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(F({type:"active"},e),t)))}cancelQueries(e,t={}){const r=F({revert:!0},t),s=ra.batch(()=>Te(this,xr).findAll(e).map(l=>l.cancel(r)));return Promise.all(s).then(an).catch(an)}invalidateQueries(e,t={}){return ra.batch(()=>{var r,s;return Te(this,xr).findAll(e).forEach(l=>{l.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(ce(F({},e),{type:(s=(r=e==null?void 0:e.refetchType)!=null?r:e==null?void 0:e.type)!=null?s:"active"}),t)})}refetchQueries(e,t={}){var l;const r=ce(F({},t),{cancelRefetch:(l=t.cancelRefetch)!=null?l:!0}),s=ra.batch(()=>Te(this,xr).findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(an)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(an)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Te(this,xr).build(this,t);return r.isStaleByTime(Eg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(an).catch(an)}fetchInfiniteQuery(e){return e.behavior=M2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(an).catch(an)}ensureInfiniteQueryData(e){return e.behavior=M2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return h0.isOnline()?Te(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Te(this,xr)}getMutationCache(){return Te(this,qs)}getDefaultOptions(){return Te(this,Gs)}setDefaultOptions(e){At(this,Gs,e)}setQueryDefaults(e,t){Te(this,el).set(Jc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Te(this,el).values()],r={};return t.forEach(s=>{ed(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){Te(this,tl).set(Jc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Te(this,tl).values()],r={};return t.forEach(s=>{ed(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t=ce(F(F(F({},Te(this,Gs).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=vy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:ce(F(F(F({},Te(this,Gs).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){Te(this,xr).clear(),Te(this,qs).clear()}},xr=new WeakMap,qs=new WeakMap,Gs=new WeakMap,el=new WeakMap,tl=new WeakMap,Vs=new WeakMap,rl=new WeakMap,al=new WeakMap,q2),bM=x.createContext(void 0),vM=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(bM.Provider,{value:e,children:t}));function wM(){window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&typeof e.reason=="object"&&e.reason.message&&e.reason.message.includes("fetch")&&console.error("Network/API error detected:",e.reason),e.preventDefault()})}function NM(){return yl("(max-width: 1024px)")?null:n.jsx("footer",{className:"fixed bottom-0 left-20 right-0 bg-beveren-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-10",children:n.jsxs("div",{className:"w-full py-2 flex justify-between items-center px-4",children:[n.jsx("div",{className:"text-sm text-beveren-600 dark:text-beveren-400 font-bold",children:"KLiK PoS"}),n.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," Powered by"," ",n.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline text-beveren-600 dark:text-beveren-400",children:"Beveren Software"})]})]})})}function jM(){const e=_r(),t=Va(),r=[{icon:id,path:"/pos",label:"POS"},{icon:Y3,path:"/invoice",label:"InvoiceHistory"},{icon:Ys,path:"/customers",label:"Customers"},{icon:Bo,path:"/dashboard",label:"Dashboard"},{icon:Cc,path:"/closing_shift",label:"Closing Shift"}],s=l=>l==="/pos"?t.pathname==="/"||t.pathname==="/pos":t.pathname.startsWith(l);return n.jsxs("div",{className:"hidden lg:flex fixed h-screen w-20 top-0 left-0 bg-white dark:bg-gray-800 shadow-lg flex-col border-r border-gray-200 dark:border-gray-700 z-50",children:[n.jsx("div",{className:"h-20 flex items-center justify-center border-gray-100 dark:border-gray-700 cursor-pointer active:scale-90 transition-transform duration-150",onClick:()=>e("/"),children:n.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-12 h-12 rounded-full object-cover"})}),n.jsx("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:r.map((l,c)=>n.jsx("button",{onClick:()=>e(l.path),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all cursor-pointer active:scale-90 duration-150 ${s(l.path)?"bg-beveren-100 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-beveren-600 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:l.label,children:n.jsx(l.icon,{size:20})},c))})]})}const kM=new xM;function SM(){return x.useEffect(()=>{wM()},[]),n.jsx(vM,{client:kM,children:n.jsx(_S,{children:n.jsx(u9,{children:n.jsx(OS,{children:n.jsxs(PS,{children:[n.jsx(jM,{}),n.jsx(z6,{}),n.jsx(NM,{}),n.jsx(E8,{position:"top-center",autoClose:3e3,"aria-label":"Notification"})]})})})})})}function $M(){const e=_r(),{isAuthenticated:t,loading:r}=Ws();return x.useEffect(()=>{r||(t?e("/pos",{replace:!0}):e("/login",{replace:!0}))},[t,r,e]),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),n.jsx("p",{className:"text-beveren-600 mt-4",children:"Loading..."})]})})}function Og({customer:e,isOpen:t,onClose:r,onSuccess:s,customers:l=[]}){const[c,u]=x.useState([]),[f,h]=x.useState(!1),[m,y]=x.useState(!1),[w,b]=x.useState(90),[v,$]=x.useState(""),[N,C]=x.useState(new Set),[k,O]=x.useState("select-customer"),[A,B]=x.useState(e||""),[P,T]=x.useState(""),[G,z]=x.useState([]),[Z,Q]=x.useState([]),[H,X]=x.useState([]),[ye,pe]=x.useState([]),[Oe,q]=x.useState("");x.useEffect(()=>{t&&(e?(O("select-items"),B(e)):(O("select-customer"),B("")),z([]),u([]),C(new Set),X([]),T(""),q(""),e&&(me(),ae()))},[t,e]);const ae=()=>de(null,null,function*(){try{const $e=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${A}`)).json();$e.message&&Array.isArray($e.message)?pe($e.message):pe([])}catch(J){console.error("Error loading customer addresses:",J),pe([])}}),me=()=>de(null,null,function*(){try{const J=new Date().toISOString().split("T")[0],$e=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0],be=yield Nm(A,$e,J,Oe);if(be.success&&be.data){const Be=new Map;be.data.forEach(vt=>{vt.items.forEach(Ce=>{Ce.available_qty>0&&Be.set(Ce.item_code,Ce.item_name)})});const tt=Array.from(Be.entries()).map(([vt,Ce])=>({item_code:vt,item_name:Ce}));Q(tt),X(tt)}else Q([]),X([])}catch(J){console.error("Error loading available items:",J),Q([]),X([])}}),Re=()=>de(null,null,function*(){if(G.length===0){Le.error("Please select at least one item to return");return}O("filter-invoices"),y(!0);try{const J=new Date().toISOString().split("T")[0],$e=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0],be=yield Nm(A,$e,J,Oe);if(be.success&&be.data){const Be=be.data.filter(tt=>tt.items.some(vt=>G.some(Ce=>Ce.item_code===vt.item_code&&vt.available_qty>0))).map(tt=>ce(F({},tt),{items:tt.items.filter(vt=>G.some(Ce=>Ce.item_code===vt.item_code&&vt.available_qty>0)).map(vt=>ce(F({},vt),{return_qty:vt.available_qty}))}));u(Be),O("select-invoices")}else Le.error(be.error||"Failed to load customer invoices"),u([])}catch(J){console.error("Error loading customer invoices:",J),Le.error("Failed to load customer invoices"),u([])}finally{y(!1)}}),U=(J,$e,be)=>{z(be?Be=>[...Be,{item_code:J,item_name:$e}]:Be=>Be.filter(tt=>tt.item_code!==J))},we=(J,$e,be)=>{u(Be=>Be.map(tt=>{if(tt.name===J){const vt=tt.items.map(Ce=>{if(Ce.item_code===$e){const Ye=Math.max(0,Math.min(be,Ce.available_qty));return ce(F({},Ce),{return_qty:Ye})}return Ce});return ce(F({},tt),{items:vt})}return tt}))},L=J=>{C($e=>{const be=new Set($e);return be.has(J)?(be.delete(J),u(Be=>Be.map(tt=>{if(tt.name===J){const vt=tt.items.map(Ce=>ce(F({},Ce),{return_qty:0}));return ce(F({},tt),{items:vt})}return tt}))):be.add(J),be})},te=J=>{u($e=>$e.map(be=>{if(be.name===J){const Be=be.items.map(tt=>ce(F({},tt),{return_qty:tt.available_qty}));return ce(F({},be),{items:Be})}return be})),C($e=>new Set($e).add(J))},oe=c.filter(J=>J.name.toLowerCase().includes(v.toLowerCase())||J.items.some($e=>$e.item_name.toLowerCase().includes(v.toLowerCase())||$e.item_code.toLowerCase().includes(v.toLowerCase()))),R=c.some(J=>J.items.some($e=>($e.return_qty||0)>0)),Y=c.reduce((J,$e)=>J+$e.items.reduce((be,Be)=>be+(Be.return_qty||0)*Be.rate,0),0),Se=()=>de(null,null,function*(){const J=c.filter(be=>N.has(be.name)).map(be=>({invoice_name:be.name,return_items:be.items.filter(Be=>(Be.return_qty||0)>0)})).filter(be=>be.return_items.length>0);if(J.length===0){Le.error("Please select at least one item to return");return}const $e={customer:e,invoice_returns:J};h(!0);try{const be=yield VO($e);be.success?(Le.success(be.message||"Returns created successfully"),s(be.createdReturns||[]),r()):Le.error(be.error||"Failed to create returns")}catch(be){console.error("Error creating returns:",be),Le.error("Failed to create returns")}finally{h(!1)}});return t?n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-7xl h-[95vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:n.jsx(Bi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Multi-Invoice Return"}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Customer: ",A||"Not selected"]})]})]}),n.jsx("button",{onClick:r,className:"p-1.5 sm:p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(ha,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),n.jsx("div",{className:"mt-3 sm:mt-4 flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[!e&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${k==="select-customer"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${k==="select-customer"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:"1"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Customer"})]}),n.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"})]}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${k==="select-items"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${k==="select-items"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"1":"2"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Items"})]}),n.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${k==="filter-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${k==="filter-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"2":"3"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Filter Invoices"})]}),n.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),n.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${k==="select-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[n.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${k==="select-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"3":"4"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Invoices"})]})]})})]}),k==="select-customer"&&n.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Customer"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a customer to process multi-invoice returns"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:P,onChange:J=>T(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[n.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-60 sm:max-h-none",children:l&&l.length>0?l.filter(J=>{var $e,be;return(($e=J.customer_name)==null?void 0:$e.toLowerCase().includes(P.toLowerCase()))||((be=J.name)==null?void 0:be.toLowerCase().includes(P.toLowerCase()))}).map(J=>n.jsxs("button",{onClick:()=>de(null,null,function*(){const $e=J.name||J.customer_name||"";B($e),O("select-items");try{const be=new Date().toISOString().split("T")[0],Be=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0],vt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${$e}`)).json();vt.message&&Array.isArray(vt.message)?pe(vt.message):pe([]);const Ce=yield Nm($e,Be,be,Oe);if(Ce.success&&Ce.data){const Ye=new Map;Ce.data.forEach(jt=>{jt.items.forEach(Mt=>{Mt.available_qty>0&&Ye.set(Mt.item_code,Mt.item_name)})});const _t=Array.from(Ye.entries()).map(([jt,Mt])=>({item_code:jt,item_name:Mt}));Q(_t),X(_t)}else Q([]),X([])}catch(be){console.error("Error loading customer data:",be),Q([]),X([]),pe([])}}),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:J.customer_name||J.name||"Unknown Customer"}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:J.name||J.customer_name||"No ID"})]},J.name||J.customer_name||Math.random())):P.trim()?n.jsx("div",{className:"text-center py-8",children:n.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',P,'"']})}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),l&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:P.trim()?`${l.filter(J=>{var $e,be;return(($e=J.customer_name)==null?void 0:$e.toLowerCase().includes(P.toLowerCase()))||((be=J.name)==null?void 0:be.toLowerCase().includes(P.toLowerCase()))}).length} of ${l.length} customers`:`${l.length} customers total`})})]})]}),k==="select-items"&&n.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Items to Return"}),n.jsx("p",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400",children:"Choose which items you want to return from customer invoices"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days to Look Back"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nl,{className:"w-4 h-4 text-gray-400"}),n.jsx("input",{type:"number",min:"1",max:"365",value:w||"",onChange:J=>{const $e=J.target.value;if($e==="")b(0);else{const be=parseInt($e);!isNaN(be)&&be>0&&b(be)}},onBlur:J=>{(!w||w<1)&&b(90)},className:"w-20 sm:w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"}),n.jsx("button",{onClick:me,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Refresh items with new days setting",children:n.jsx(Bi,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Address (Optional)"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(j0,{className:"w-4 h-4 text-gray-400"}),n.jsx("input",{list:"address-list",value:Oe,onChange:J=>{q(J.target.value),setTimeout(()=>me(),100)},className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                                  focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800
                                  text-gray-900 dark:text-white`}),n.jsx("datalist",{id:"address-list",children:ye.map(J=>n.jsxs("option",{value:J.name,children:[J.address_line1,", ",J.city]},J.name))})]})]}),G.length>0&&n.jsxs("button",{onClick:Re,disabled:m,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 ${m?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-orange-700"}`,children:[n.jsx(Wm,{className:"w-4 h-4"}),n.jsx("span",{children:m?"Loading...":`Find Invoices (${G.length} items)`})]})]})}),f?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading available items..."})]}):Z.length>0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Available Items (Last ",w," days)"]}),n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[G.length," of ",Z.length," selected"]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onChange:J=>{const $e=J.target.value.toLowerCase(),be=Z.filter(Be=>Be.item_name.toLowerCase().includes($e)||Be.item_code.toLowerCase().includes($e));X(be)}})]}),G.length>0&&n.jsx("button",{onClick:()=>z([]),className:"px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700 transition-colors",children:"Clear All"})]})}),n.jsx("div",{className:"overflow-x-auto flex-1 min-h-0",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:G.length===H.length&&H.length>0,onChange:J=>{J.target.checked?z(H):z([])},className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),n.jsx("span",{className:"text-xs text-gray-400",children:"All"})]})}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Name"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Code"}),n.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:H.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[n.jsx("td",{className:"px-3 py-2",children:n.jsx("input",{type:"checkbox",checked:G.some($e=>$e.item_code===J.item_code),onChange:$e=>U(J.item_code,J.item_name,$e.target.checked),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J.item_name})}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:J.item_code})}),n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.some($e=>$e.item_code===J.item_code)?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:G.some($e=>$e.item_code===J.item_code)?"Selected":"Available"})})]},J.item_code))})]})}),G.length>0&&n.jsx("div",{className:"mt-4 flex items-center justify-center",children:n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[n.jsx("span",{className:"font-medium",children:G.length})," items selected for return"]})})]}):n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center min-h-0",children:[n.jsx(r0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Items Found"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No items found in customer invoices from the last ",w," days."]}),n.jsx("button",{onClick:me,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Refresh Items"})]})]}),k==="filter-invoices"&&n.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Filtering Invoices"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Finding invoices from the last ",w," days containing selected items..."]})]}),n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Filtering invoices..."})]})})]}),k==="select-invoices"&&n.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search invoices or items...",value:v,onChange:J=>$(J.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[n.jsx("button",{onClick:()=>O("select-items"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium",children:" Back to Items"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),n.jsxs("p",{className:"text-xl font-bold text-beveren-600 dark:text-beveren-400",children:["$",Y.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[oe.length," invoice(s) found  ",N.size," selected"]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected Items: ",G.map(J=>J.item_name).join(", ")]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{maxHeight:"calc(95vh - 320px)"},children:k==="select-invoices"&&n.jsx(n.Fragment,{children:m?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):oe.length===0?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(sl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Invoices Found"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No invoices found containing the selected items in the last ",w," days."]}),n.jsx("button",{onClick:()=>O("select-items"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:" Back to Items Selection"})]})}):n.jsx("div",{className:"space-y-6",children:oe.map(J=>n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:N.has(J.name),onChange:()=>L(J.name),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:J.name}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:J.posting_date}),n.jsxs("span",{children:["$",J.grand_total.toFixed(2)]}),n.jsx("span",{className:"capitalize",children:J.status})]})]})]}),n.jsx("button",{onClick:()=>te(J.name),className:"px-3 py-1 text-sm bg-beveren-100 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 rounded hover:bg-beveren-200 dark:hover:bg-beveren-900/40 transition-colors",children:"Return All Available"})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Sold"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Returned"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Available"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Return Qty"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:J.items.map($e=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(r0,{className:"w-4 h-4 text-blue-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:$e.item_name}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:$e.item_code})]})]})}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900 dark:text-white",children:$e.qty}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600 dark:text-red-400",children:$e.returned_qty}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("span",{className:`text-sm font-medium ${$e.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:$e.available_qty})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[n.jsx("button",{onClick:()=>we(J.name,$e.item_code,($e.return_qty||0)-1),disabled:!$e.return_qty||$e.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:n.jsx(ey,{className:"w-3 h-3"})}),n.jsx("input",{type:"number",min:"0",max:$e.available_qty,value:$e.return_qty||0,onChange:be=>we(J.name,$e.item_code,parseInt(be.target.value)||0),className:"w-12 px-1 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs",disabled:$e.available_qty===0}),n.jsx("button",{onClick:()=>we(J.name,$e.item_code,($e.return_qty||0)+1),disabled:$e.available_qty===0||($e.return_qty||0)>=$e.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:n.jsx(Oc,{className:"w-3 h-3"})})]})}),n.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:["$",(($e.return_qty||0)*$e.rate).toFixed(2)]})]},$e.item_code))})]})})]},J.name))})})}),k==="select-invoices"&&n.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:R&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ui,{className:"w-4 h-4 text-orange-500"}),n.jsx("span",{children:"Items selected for return from multiple invoices"})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),n.jsx("button",{onClick:Se,disabled:!R||f,className:`px-6 sm:px-8 py-3 rounded-lg font-semibold text-base sm:text-lg transition-colors shadow-lg ${R&&!f?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:f?"Processing...":"Create Returns"})]})]})})]})}):null}function bN(e){return de(this,null,function*(){try{const t=yield Y$(e);if(!t||!t.items||!Array.isArray(t.items))throw new Error("No items found in draft invoice");const r=[];for(const l of t.items){const c={id:l.item_code,name:l.item_name,category:"General",price:l.rate,image:"",quantity:l.qty};r.push(c)}const s=t.customer?{id:t.customer,name:t.customer_name||t.customer,type:"individual",email:t.customer_email||"",phone:t.customer_mobile_no||"",address:{addressType:"Billing",street:t.customer_address_line1||"",city:t.customer_city||"",state:t.customer_state||"",zipCode:t.customer_pincode||"",country:t.customer_country||"Saudi Arabia"},status:"active",preferredPaymentMethod:"Cash",loyaltyPoints:0,totalSpent:0,totalOrders:0,tags:[],createdAt:new Date().toISOString()}:null;return z8(e,r,s),!0}catch(t){return console.error("Error caching draft invoice items:",t),Le.error(t.message||"Failed to cache draft invoice items"),!1}})}function CM(){const e=_r(),t=yl("(max-width: 1024px)"),[r,s]=x.useState("all"),[l,c]=x.useState(""),[u,f]=x.useState("all"),[h,m]=x.useState("all"),[y,w]=x.useState("all"),[b,v]=x.useState("list"),[$,N]=x.useState(null),[C,k]=x.useState(!1),[O,A]=x.useState(!1),[B,P]=x.useState(!1),[T,G]=x.useState(""),[z,Z]=x.useState(""),[Q,H]=x.useState(!1),[X,ye]=x.useState(null),[pe,Oe]=x.useState(!1),[q,ae]=x.useState(null),[me,Re]=x.useState(!1),[U,we]=x.useState(null),[L,te]=x.useState(!1),[oe,R]=x.useState(null),{invoices:Y,isLoading:Se,isLoadingMore:J,error:$e,hasMore:be,totalLoaded:Be,totalCount:tt,loadMore:vt}=dy(l),{modes:Ce}=J3(),{customers:Ye}=cy(),{posDetails:_t}=ma(),{userInfo:jt,isLoading:Mt}=tw(),se=(jt==null?void 0:jt.is_admin_user)||!1,Je=(jt==null?void 0:jt.full_name)||"";x.useEffect(()=>{!se&&Je&&y==="all"&&w(Je)},[se,Je,y]),x.useEffect(()=>{const D=V=>{V.key==="Escape"&&(L&&Gr(),O&&A(!1),B&&P(!1))};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[L,O,B]);const Ft=[{id:"all",name:"All Invoices",icon:sl,color:"text-gray-600"},{id:"Draft",name:"Draft",icon:B9,color:"text-gray-500"},{id:"Unpaid",name:"Unpaid",icon:nl,color:"text-yellow-600"},{id:"Partly Paid",name:"Partly Paid",icon:Pc,color:"text-orange-600"},{id:"Paid",name:"Paid",icon:Ui,color:"text-green-600"},{id:"Overdue",name:"Overdue",icon:Fo,color:"text-red-600"},{id:"Return",name:"Returns",icon:n0,color:"text-purple-600"},{id:"Cancelled",name:"Cancelled",icon:Fo,color:"text-red-500"}],fe=D=>{if(u==="all")return!0;if(u==="today")return yy(D);if(u==="yesterday"){const V=new Date;V.setUTCDate(V.getUTCDate()-1);const Ne=new Date(D);return Ne.getUTCFullYear()===V.getUTCFullYear()&&Ne.getUTCMonth()===V.getUTCMonth()&&Ne.getUTCDate()===V.getUTCDate()}return u==="week"?py(D):u==="month"?xy(D):u==="year"?by(D):!0},Qe=D=>{const V="px-2 py-1 rounded-full text-xs font-medium";switch((D==null?void 0:D.toLowerCase())||""){case"paid":return`${V} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${V} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${V} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${V} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${V} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${V} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${V} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${V} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${V} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${V} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${V} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${V} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${V} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},ht=x.useMemo(()=>Se?[]:$e?[]:Y.filter(D=>{const V=r==="all"||D.status===r,Ne=h==="all"||D.paymentMethod===h,Me=y==="all"||D.cashier===y,Xe=fe(D.date);return Ne&&Me&&V&&Xe}),[Y,r,u,h,y,Se,$e]),Zt=x.useMemo(()=>[...new Set(Y.map(D=>D.cashier).filter(Boolean))],[Y]),Gt=x.useMemo(()=>{if(!Ye)return[];const D=Ye.filter(Ne=>Ne&&(Ne.customer_name||Ne.name));if(!z.trim())return D;const V=z.toLowerCase();return D.filter(Ne=>{var ot,at;const Me=((ot=Ne.customer_name)==null?void 0:ot.toLowerCase())||"",Xe=((at=Ne.name)==null?void 0:at.toLowerCase())||"";return Me.includes(V)||Xe.includes(V)})},[Ye,z]),Ht=D=>D==="all"?Y.length:Y.filter(V=>V.status===D).length;if(Se&&Y.length===0||Mt)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if($e)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),n.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:$e.message}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const he=()=>n.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search invoices...",value:l,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),Se&&Y.length>0&&n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]}),n.jsxs("select",{value:u,onChange:D=>f(D.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"yesterday",children:"Yesterday"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"year",children:"This Year"})]}),n.jsxs("select",{value:y,onChange:D=>w(D.target.value),disabled:!se,className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${se?"":"opacity-50 cursor-not-allowed"}`,children:[n.jsx("option",{value:"all",children:"All Cashiers"}),Zt.map(D=>n.jsx("option",{value:D,children:D},D))]}),!se&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"}),n.jsxs("select",{value:h,onChange:D=>m(D.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Payments"}),Ce.map(D=>n.jsx("option",{value:D.name,children:D.name},D.name))]})]}),be&&n.jsx("div",{className:"mt-3 text-center",children:n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Search works on all invoices in the database. Load more invoices to see additional results."})})]}),Pe=()=>n.jsxs("div",{className:"w-full max-w-none grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ht.length}),be&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Showing ",Be," of ",tt]})]}),n.jsx(sl,{className:"w-8 h-8 text-orange-600"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(ht.reduce((D,V)=>D+V.totalAmount,0),(_t==null?void 0:_t.currency)||"USD")})]}),n.jsx(Tc,{className:"w-8 h-8 text-orange-600"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Amount"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(ht.filter(D=>D.status==="Paid").reduce((D,V)=>D+V.totalAmount,0),(_t==null?void 0:_t.currency)||"USD")})]}),n.jsx(Ui,{className:"w-8 h-8 text-orange-600"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(ht.filter(D=>["Unpaid","Partly Paid","Overdue"].includes(D.status)).reduce((D,V)=>D+V.totalAmount,0),(_t==null?void 0:_t.currency)||"USD")})]}),n.jsx(Pc,{className:"w-8 h-8 text-orange-600"})]})})]}),He=()=>{var D;return n.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[r==="all"?"All Invoices":(D=Ft.find(V=>V.id===r))==null?void 0:D.name," (",ht.length,")"]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-md transition-colors ${b==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:n.jsx(Jg,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>v("cards"),className:`p-2 rounded-md transition-colors ${b==="cards"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:n.jsx(id,{className:"w-4 h-4"})})]})]}),b==="list"?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(_t==null?void 0:_t.is_zatca_enabled)&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ht.map(V=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.id}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[V.date," ",V.time]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:V.customer})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:V.cashier}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:V.paymentMethod})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:dt(V.totalAmount,V.currency)}),V.giftCardDiscount>0&&n.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",dt(V.giftCardDiscount,V.currency)," gift card"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:Qe(V.status),children:V.status})}),(_t==null?void 0:_t.is_zatca_enabled)&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:Qe(V.custom_zatca_submit_status),children:V.custom_zatca_submit_status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Ze(V),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[n.jsx(Fi,{className:"w-4 h-4"}),n.jsx("span",{children:"View"})]}),V.status==="Draft"&&n.jsxs("button",{onClick:()=>mr(V),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center space-x-1",children:[n.jsx(ol,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(V.status)&&ze(V)&&n.jsxs("button",{onClick:()=>Nr(V),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[n.jsx(Bi,{className:"w-4 h-4"}),n.jsx("span",{children:"Return"})]}),V.status==="Draft"&&n.jsxs("button",{onClick:()=>We(V),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[n.jsx(t0,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]})]})})]},V.id))})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:ht.map(V=>n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.id}),n.jsx("span",{className:Qe(V.status),children:V.status})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:V.customer})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:dt(V.totalAmount,V.currency)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:V.date})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cashier:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:V.cashier})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsx("button",{onClick:()=>Ze(V),className:"flex-1 text-xs px-3 py-2 bg-beveren-600 text-white rounded hover:bg-beveren-700 transition-colors",children:"View"}),V.status==="Draft"&&n.jsxs("button",{onClick:()=>mr(V),className:"flex-1 text-xs px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1",children:[n.jsx(ol,{className:"w-3 h-3"}),n.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(V.status)&&ze(V)&&n.jsx("button",{onClick:()=>Nr(V),className:"flex-1 text-xs px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"Return"})]})]},V.id))}),be&&n.jsx("div",{className:"flex justify-center mt-8",children:n.jsx("button",{onClick:vt,disabled:J,className:`px-6 py-3 rounded-lg font-medium transition-colors ${J?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:J?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Loading..."})]}):`Load More (${Be}/${tt})`})}),!be&&Be>0&&n.jsx("div",{className:"text-center mt-8 py-4",children:n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",tt," invoices loaded"]})})]})},Ze=D=>{e(`/invoice/${D.id}`)},ze=D=>{if(!D||!D.items)return console.log("No invoice or items found for:",D==null?void 0:D.id),!1;const V=D.items.some(Ne=>{const Me=Ne.qty||Ne.quantity||0,Xe=Ne.returned_qty||0,ot=Xe<Me;return console.log(`Item ${Ne.item_code}: sold=${Me}, returned=${Xe}, canReturn=${ot}`),ot});return console.log(`Invoice ${D.id} has returnable items: ${V}`),V},We=D=>{if(D.status!=="Draft"){Le.error("Only draft invoices can be deleted");return}ae(D),Oe(!0)},yt=()=>de(null,null,function*(){if(q)try{yield _0(q.id),Le.success(`Draft invoice ${q.id} deleted successfully`),Oe(!1),ae(null),window.location.reload()}catch(D){Le.error(D.message||"Failed to delete invoice")}}),Ct=()=>{Oe(!1),ae(null)},mr=D=>{if(D.status!=="Draft"){Le.error("Only draft invoices can be edited");return}R(D),te(!0)},tr=D=>de(null,null,function*(){try{(yield bN(D.id))&&(te(!1),R(null),setTimeout(()=>{e("/pos")},500))}catch(V){console.error("Error going to cart:",V),Le.error(V.message||"Failed to add items to cart")}}),qr=D=>de(null,null,function*(){try{yield t4(D.id),Le.success(`Draft invoice ${D.id} submitted successfully`),te(!1),R(null),window.location.reload()}catch(V){console.error("Error submitting draft invoice:",V),Le.error(V.message||"Failed to submit draft invoice")}}),Gr=()=>{te(!1),R(null)},_a=D=>{Ea(D),k(!1)},Ea=D=>de(null,null,function*(){try{const V=yield C0(D);e(`/invoice/${V.return_invoice}`),Le.success(`Invoice returned: ${V.return_invoice}`)}catch(V){Le.error(V.message||"Failed to return invoice")}}),Ie=D=>{console.log("Cancelling invoice:",D),k(!1)},Er=()=>{G(""),P(!0)},Nr=D=>{ye(D),H(!0)},ia=()=>{H(!1),ye(null),window.location.reload()},Tr=D=>{if(!D){Le.error("Invalid customer selection");return}G(D),A(!1),Z(""),P(!0)},Ta=D=>{P(!1),G("")},W=()=>{A(!1),Z("")};return t?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invoice History"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:Er,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[n.jsx(Ys,{className:"w-4 h-4"}),n.jsx("span",{children:"Multi Return"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[n.jsx(e0,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]})]})]})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[n.jsx("div",{className:"mb-6 w-full",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:Ft.map(D=>n.jsxs("button",{onClick:()=>s(D.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-xs whitespace-nowrap ${r===D.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${D.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[n.jsx(D.icon,{className:"w-4 h-4"}),n.jsx("span",{children:D.name}),n.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:Ht(D.id)})]},D.id))})})})}),he(),Pe(),He()]}),n.jsx(Xc,{invoice:$,isOpen:C,onClose:()=>k(!1),onRefund:_a,onCancel:Ie}),O&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),n.jsx("button",{onClick:W,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(Fo,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:z,onChange:D=>Z(D.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Gt&&Gt.length>0?Gt.map(D=>n.jsxs("button",{onClick:()=>Tr(D.name||D.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:D.customer_name||D.name||"Unknown Customer"}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:D.name||D.customer_name||"No ID"})]},D.name||D.customer_name||Math.random())):z.trim()?n.jsx("div",{className:"text-center py-8",children:n.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',z,'"']})}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Gt&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:z.trim()?`${Gt.length} of ${(Ye==null?void 0:Ye.length)||0} customers`:`${(Ye==null?void 0:Ye.length)||0} customers total`})})]})]})}),n.jsx(Og,{customer:T,isOpen:B,onClose:()=>P(!1),onSuccess:Ta,customers:Ye}),n.jsx(rs,{})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[n.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice History"})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:Er,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[n.jsx(t0,{className:"w-4 h-4"}),n.jsx("span",{children:"Multi-Invoice Return"})]}),n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[n.jsx(e0,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]})]})]})})}),n.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 max-w-none",children:[n.jsx("div",{className:"mb-8 w-full max-w-none",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:Ft.map(D=>n.jsxs("button",{onClick:()=>s(D.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${r===D.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${D.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[n.jsx(D.icon,{className:"w-5 h-5"}),n.jsx("span",{children:D.name}),n.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:Ht(D.id)})]},D.id))})})})}),he(),Pe(),He()]}),n.jsx(Xc,{invoice:$,isOpen:C,onClose:()=>k(!1),onRefund:_a,onCancel:Ie}),O&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),n.jsx("button",{onClick:W,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(Fo,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:z,onChange:D=>Z(D.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:Gt&&Gt.length>0?Gt.map(D=>n.jsxs("button",{onClick:()=>Tr(D.name||D.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:D.customer_name||D.name||"Unknown Customer"}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:D.name||D.customer_name||"No ID"})]},D.name||D.customer_name||Math.random())):z.trim()?n.jsx("div",{className:"text-center py-8",children:n.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',z,'"']})}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),Gt&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:z.trim()?`${Gt.length} of ${(Ye==null?void 0:Ye.length)||0} customers`:`${(Ye==null?void 0:Ye.length)||0} customers total`})})]})]})}),n.jsx(Og,{customer:T,isOpen:B,onClose:()=>P(!1),onSuccess:Ta,customers:Ye}),n.jsx(U0,{invoice:X,isOpen:Q,onClose:()=>H(!1),onSuccess:ia}),n.jsx(gy,{isOpen:pe,onClose:Ct,onConfirm:yt,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${q==null?void 0:q.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"}),L&&oe&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[n.jsx("div",{className:"absolute inset-0 -z-10",onClick:Gr}),n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),n.jsx("button",{onClick:Gr,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(Fo,{className:"w-5 h-5"})})]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",oe.id]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>tr(oe),className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[n.jsx(Rc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),n.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),n.jsxs("button",{onClick:()=>qr(oe),className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[n.jsx(Go,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),n.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Submit"})]})]})]})]})})]})})}function _M(){var Re,U,we,L,te,oe,R,Y,Se,J,$e;const{id:e}=Lg(),t=e!=null?e:"",{invoice:r,isLoading:s,error:l}=rw(t),{statistics:c,isLoading:u}=Z4((r==null?void 0:r.customer)||null),{posDetails:f}=ma(),h=_r(),[m,y]=x.useState(!1),[w,b]=x.useState(null),[v,$]=x.useState(!1),[N,C]=x.useState(!1),[k,O]=x.useState(!1),[A,B]=x.useState(null),[P,T]=x.useState(!1),[G,z]=x.useState(!1),Z=()=>{h("/invoice")},Q=()=>{if(r){if(console.log("Invoice object in detail page:",r),r.status!=="Draft"){Le.error("Only draft invoices can be deleted");return}z(!0)}},H=()=>de(null,null,function*(){if(r)try{console.log("Attempting to delete invoice:",r.name||r.id,"Status:",r.status),yield _0(r.name||r.id),Le.success(`Draft invoice ${r.name||r.id} deleted successfully`),z(!1),h("/invoice")}catch(be){console.error("Delete error:",be),Le.error(be.message||"Failed to delete invoice")}}),X=()=>{z(!1)},ye=be=>{const Be="px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1";switch(be){case"Completed":case"Paid":return`${Be} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"Pending":case"Unpaid":return`${Be} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Cancelled":return`${Be} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Refunded":return`${Be} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;default:return Be}},pe=()=>de(null,null,function*(){var be,Be,tt,vt,Ce,Ye,_t,jt,Mt,se,Je,Ft;if(!(r!=null&&r.customer)){Le.error("Customer information not available");return}T(!0);try{const fe=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(r.customer)}`);if(!fe.ok)throw new Error(`HTTP ${fe.status}: ${fe.statusText}`);const Qe=yield fe.json();if(((be=Qe==null?void 0:Qe.message)==null?void 0:be.success)!==!1){const ht=Qe.message,Zt={id:ht.name,name:ht.customer_name,type:((Be=ht.customer_type)==null?void 0:Be.toLowerCase())==="company"?"company":"individual",email:((tt=ht.contact_data)==null?void 0:tt.email_id)||ht.email_id||"",phone:((vt=ht.contact_data)==null?void 0:vt.mobile_no)||((Ce=ht.contact_data)==null?void 0:Ce.phone)||ht.mobile_no||"",address:{addressType:"Billing",street:((Ye=ht.address_data)==null?void 0:Ye.address_line1)||"",buildingNumber:((_t=ht.address_data)==null?void 0:_t.address_line2)||"",city:((jt=ht.address_data)==null?void 0:jt.city)||"",state:((Mt=ht.address_data)==null?void 0:Mt.state)||"",zipCode:((se=ht.address_data)==null?void 0:se.pincode)||"",country:((Je=ht.address_data)==null?void 0:Je.country)||"Saudi Arabia"},status:"active",preferredPaymentMethod:ht.payment_method||"Cash",customer_group:ht.customer_group||"All Customer Groups",territory:ht.territory||"All Territories",contactPerson:ht.contact_data?`${ht.contact_data.first_name||""} ${ht.contact_data.last_name||""}`.trim()||ht.customer_name:ht.customer_name||"",companyName:ht.customer_type==="Company"?ht.customer_name:void 0,taxId:ht.vat_number||"",industry:ht.industry||"",employeeCount:ht.employee_count||"",registrationScheme:ht.registration_scheme||"",registrationNumber:ht.registration_number||""};B(Zt),O(!0)}else throw new Error(((Ft=Qe==null?void 0:Qe.message)==null?void 0:Ft.error)||"Failed to fetch customer details")}catch(fe){console.error("Error fetching customer details:",fe),Le.error(fe.message||"Failed to fetch customer details")}finally{T(!1)}}),Oe=be=>{h(`/invoice/${be}`)},q=be=>{console.log("Saving customer:",be),O(!1),B(null),Le.success("Customer updated successfully!")},ae=be=>{Le.success(`${be.length} return invoices created successfully`),h("/invoice")},me=()=>!r||!r.items?!1:r.items.some(be=>{const Be=be.qty||be.quantity||0;return(be.returned_qty||0)<Be});return s?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:n.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})})}):l?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:n.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Pc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error loading invoice: ",l]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}):r?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[n.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:Z,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-beveren-200 dark:hover:bg-gray-700 rounded-lg",children:n.jsx(Gi,{size:20})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Invoice ",r.name||r.id]}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.posting_date," at ",r.posting_time]})]}),n.jsxs("div",{className:ye(r.status),children:[n.jsx(Ui,{size:16}),n.jsx("span",{children:r.status})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"sr-only",children:n.jsx(qu,{invoice:r})}),n.jsxs("button",{className:"group relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",onClick:()=>Gu(r),children:[n.jsx(Ac,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Print Invoice"})]}),n.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{b("email"),y(!0)},children:[n.jsx(Zm,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via Email"})]}),(f==null?void 0:f.custom_enable_whatsapp)&&n.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>{b("whatsapp"),y(!0)},children:[n.jsx(Jm,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via WhatsApp"})]}),(f==null?void 0:f.custom_enable_sms)&&n.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{b("sms"),y(!0)},children:[n.jsx(eg,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via SMS"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(r.status)&&!r.is_return&&me()&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),n.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:hover:bg-orange-900 rounded-lg transition-all duration-200",onClick:()=>$(!0),children:[n.jsx(Bi,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Return Items (Single Invoice)"})]}),n.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-indigo-100 dark:text-indigo-400 dark:hover:bg-indigo-900 rounded-lg transition-all duration-200",onClick:()=>C(!0),children:[n.jsx(t0,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Multi-Invoice Return"})]})]}),r.status==="Draft"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),n.jsxs("button",{className:"group relative p-2 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900 rounded-lg transition-all duration-200",onClick:Q,children:[n.jsx(t0,{size:20}),n.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Delete Draft Invoice"})]})]})]})]})})}),n.jsx("div",{className:"flex-1 pt-20 pb-20 overflow-auto",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"INVOICE"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["#",r.name||r.id]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.company}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(Re=r.company_address_doc)==null?void 0:Re.address_line1}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(U=r.company_address_doc)==null?void 0:U.county}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(we=r.company_address_doc)==null?void 0:we.phone})]})]})}),n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Bill To:"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:r.customer}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(L=r.customer_address_doc)==null?void 0:L.address_line1}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(te=r.customer_address_doc)==null?void 0:te.email_id}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(oe=r.customer_address_doc)==null?void 0:oe.phone})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date:"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:r.posting_date})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time:"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:r.posting_time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cashier:"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:r.cashier_name||r.owner})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment:"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:r.paymentMethod})]})]})})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:(R=r.items)==null?void 0:R.map((be,Be)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:be.item_name}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",be.item_code]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:be.category})]})}),n.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 dark:text-white",children:be.qty}),n.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900 dark:text-white",children:dt(be.rate,r.currency)}),n.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:dt(be.amount,r.currency)})]},Be))})]})}),r.taxes&&r.taxes.length>0&&n.jsxs("div",{className:"px-6 py-4 bg-beveren-50 dark:bg-beveren-900/20 border-t border-gray-200 dark:border-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(c$,{className:"w-5 h-5 text-beveren-600 dark:text-beveren-400"}),n.jsx("h4",{className:"text-sm font-semibold text-beveren-900 dark:text-beveren-100",children:"Tax Details"})]}),n.jsxs("div",{className:"space-y-2",children:[r.taxes.map((be,Be)=>n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-medium",children:be.account_head}),n.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400",children:["(",be.rate,"%)"]}),be.included_in_print_rate===1&&n.jsx("span",{className:"px-2 py-1 bg-beveren-100 dark:bg-beveren-800 text-beveren-800 dark:text-beveren-200 text-xs rounded-full",children:"Inclusive"})]}),n.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-semibold",children:dt(be.tax_amount,r.currency)})]},Be)),n.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-beveren-200 dark:border-beveren-700",children:[n.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-semibold",children:"Total Tax:"}),n.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-bold",children:dt(r.total_taxes_and_charges,r.currency)})]})]})]}),n.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700",children:n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"w-80 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:dt(r.total,r.currency)})]}),r.total_taxes_and_charges>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:dt(r.total_taxes_and_charges,r.currency)})]}),r.rounding_adjustment!==0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rounding:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:dt(r.rounding_adjustment,r.currency)})]}),r.giftCardDiscount>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gift Card Discount:"}),n.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",dt(r.giftCardDiscount,r.currency)]})]}),n.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Grand Total:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:dt(r.grand_total,r.currency)})]}),r.paid_amount>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),n.jsx("span",{className:"text-beveren-600 dark:text-beveren-400",children:dt(r.paid_amount,r.currency)})]}),r.outstanding_amount>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding:"}),n.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:dt(r.outstanding_amount,r.currency)})]}),r.status==="Refunded"&&r.refundAmount&&n.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-300 dark:border-gray-600 pt-2",children:[n.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Refunded Amount:"}),n.jsx("span",{className:"text-red-600 dark:text-red-400",children:dt(r.refundAmount,r.currency)})]})]})})}),r.giftCardCode&&n.jsxs("div",{className:"px-6 py-4 bg-purple-50 dark:bg-purple-900/20 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("h4",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Gift Card Applied:"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Code: ",r.giftCardCode]}),n.jsxs("span",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:["-",dt(r.giftCardDiscount,r.currency)]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-orange-50 dark:bg-orange-900/20 border-t border-gray-200 dark:border-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(Ha,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),n.jsx("h4",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Payment Details"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Payment Method:"}),n.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-medium",children:r.paymentMethod||"Cash"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ye(r.status)}`,children:r.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Paid Amount:"}),n.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-semibold",children:dt(r.paid_amount||0,r.currency)})]}),r.outstanding_amount>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Outstanding:"}),n.jsx("span",{className:"text-red-900 dark:text-red-100 font-semibold",children:dt(r.outstanding_amount,r.currency)})]})]})]})]}),r.notes&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.notes})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[n.jsx(za,{size:20}),n.jsx("span",{children:"Customer Details"})]}),n.jsx("button",{onClick:pe,disabled:P,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Customer",children:P?n.jsx(n0,{size:16,className:"animate-spin"}):n.jsx(ol,{size:16})})]})}),n.jsxs("div",{className:"px-6 py-4 space-y-4",children:[n.jsx("div",{children:n.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.customer})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[n.jsx(il,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.customer_email})]}),n.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[n.jsx(a0,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.customer_mobile_no})]}),n.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[n.jsx(j0,{className:"w-4 h-4 text-gray-400 mt-0.5"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(Y=r.customer_address_doc)==null?void 0:Y.address_line1})]})]}),n.jsx("hr",{className:"border-gray-200 dark:border-gray-600"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Is,{className:"w-5 h-5 text-beveren-600"}),n.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Customer Statistics"})]}),u?n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx(n0,{className:"w-4 h-4 animate-spin text-gray-400"}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading statistics..."})]}):c?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-beveren-50 to-beveren-100 dark:from-beveren-900/20 dark:to-beveren-800/20 rounded-lg p-4 border border-beveren-200 dark:border-beveren-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-beveren-600 rounded-lg",children:n.jsx(r0,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-beveren-700 dark:text-beveren-300 font-medium",children:"Total Orders"}),n.jsx("p",{className:"text-xl font-bold text-beveren-900 dark:text-beveren-100",children:c.total_orders})]})]})}),n.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:n.jsx(Tc,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 font-medium",children:"Total Spent"}),n.jsx("p",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:dt(c.total_spent,r.currency)})]})]})})]}),c.last_visit&&n.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nl,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Visit:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(c.last_visit).toLocaleDateString()})]})})]}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Pc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Unable to load customer statistics"})]})]})]})]})})]})})}),m&&n.jsx(ry,{isOpen:m,onClose:()=>{y(!1),b(null)},cartItems:[],appliedCoupons:[],selectedCustomer:{id:r.customer,name:r.customer,email:((Se=r.customer_address_doc)==null?void 0:Se.email_id)||"",phone:((J=r.customer_address_doc)==null?void 0:J.phone)||"",type:"individual",status:"active",loyaltyPoints:0,totalOrders:0,totalSpent:0,lastVisit:null,address:{addressType:"Billing",streetName:(($e=r.customer_address_doc)==null?void 0:$e.address_line1)||"",buildingNumber:"",subdivisionName:"",cityName:"",postalCode:"",country:"Saudi Arabia",isPrimary:!0},vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",tags:[]},onCompletePayment:()=>{y(!1),b(null)},onHoldOrder:()=>{y(!1),b(null)},isMobile:!1,isFullPage:!1,initialSharingMode:w,externalInvoiceData:r}),n.jsx(U0,{invoice:r,isOpen:v,onClose:()=>$(!1),onSuccess:Oe}),n.jsx(Og,{customer:(r==null?void 0:r.customer)||"",isOpen:N,onClose:()=>C(!1),onSuccess:ae}),k&&A&&n.jsx(ul,{customer:A,onClose:()=>{O(!1),B(null)},onSave:q}),n.jsx(gy,{isOpen:G,onClose:X,onConfirm:H,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${(r==null?void 0:r.name)||(r==null?void 0:r.id)}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:n.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(sl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Invoice not found"})]})})})}function EM(e){const[t,r]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState(!1),[f,h]=x.useState(null),[m,y]=x.useState(!0),[w,b]=x.useState(0),[v,$]=x.useState(0),[N,C]=x.useState(0),k=100,O=x.useCallback((P=0,T=!1)=>de(null,null,function*(){var G;if(!e){r([]),l(!1);return}T?u(!0):l(!0);try{const z=P*k;console.log(`Fetching customer invoices - customer: ${e}, page: ${P}, start: ${z}, limit: ${k}`);const Z=`&search=${encodeURIComponent(e)}`,Q=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${k}&start=${z}${Z}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Customer invoices response:",{status:Q.status,statusText:Q.statusText,ok:Q.ok}),!Q.ok)throw new Error(`HTTP ${Q.status}: ${Q.statusText}`);const H=yield Q.json();if(console.log("Customer invoices data:",H),!H.message||!H.message.success)throw new Error(((G=H.message)==null?void 0:G.error)||H.error||"Failed to fetch customer invoices");const X=H.message.data,ye=X.length,pe=H.message.total_count||0;y(ye===k),C(pe);const q=X.map(ae=>({id:ae.name,date:ae.posting_date||new Date().toISOString().split("T")[0],time:ae.posting_time||"00:00:00",cashier:ae.cashier_name||"Unknown",customer:ae.customer_name||ae.customer||"Walk-in Customer",totalAmount:Number(ae.base_grand_total)||0,status:ae.status||"Draft",paymentMethod:ae.payment_method||"-",discount:Number(ae.discount_amount)||0,tax:Number(ae.total_taxes_and_charges)||0,items:ae.items||[],posProfile:ae.pos_profile||"",customPosOpeningEntry:ae.custom_pos_opening_entry||"",currency:ae.currency||"USD",name:ae.name,customZatcaSubmitStatus:ae.custom_zatca_submit_status||null})).filter(ae=>ae.customer===e);T?(r(ae=>[...ae,...q]),$(ae=>ae+q.length)):(r(q),$(q.length)),b(P),h(null)}catch(z){console.error("Error fetching customer invoices:",z),h(z.message||"Unknown error occurred")}finally{l(!1),u(!1)}}),[e]),A=x.useCallback(()=>{!c&&m&&e&&O(w+1,!0)},[w,c,m,O,e]),B=x.useCallback(()=>{e&&(b(0),$(0),y(!0),O(0,!1))},[O,e]);return x.useEffect(()=>{e?O(0,!1):(r([]),l(!1))},[O,e]),{invoices:t,isLoading:s,isLoadingMore:c,error:f,hasMore:m,totalLoaded:v,totalCount:N,loadMore:A,refetch:B}}function TM({isOpen:e,onClose:t,invoice:r,onGoToCart:s,onSubmitPayment:l,onSubmitDirect:c}){return!e||!r?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(ha,{size:20})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Invoice:"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.id})]}),n.jsx("div",{className:"mb-6",children:n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"What would you like to do with this draft invoice?"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>s(r),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[n.jsx(Rc,{size:20}),n.jsx("span",{children:"Go to Cart"})]}),c&&n.jsxs("button",{onClick:()=>c(r),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(Go,{size:20}),n.jsx("span",{children:"Submit"})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"})})]})})}function OM(){const e=_r(),[t,r]=x.useState(""),[s,l]=x.useState("all"),[c,u]=x.useState("all"),[f,h]=x.useState(null),[m,y]=x.useState(!1),[w,b]=x.useState(!1),[v,$]=x.useState(null),[N,C]=x.useState(!1),[k,O]=x.useState(null),[A,B]=x.useState(!1),[P,T]=x.useState(null),{id:G}=Lg(),{customer:z,isLoadingC:Z,errorC:Q}=$O(G),{invoices:H,isLoading:X,error:ye,hasMore:pe,totalLoaded:Oe,loadMore:q}=EM((z==null?void 0:z.name)||""),{posDetails:ae}=ma(),me=Ce=>c==="all"?!0:c==="today"?yy(Ce):c==="week"?py(Ce):c==="month"?xy(Ce):c==="year"?by(Ce):!0,Re=x.useMemo(()=>X||ye||!z?[]:(console.log("CustomerPageDetails: Filtering invoices for customer:",{customerName:z.name,customerId:z.id,totalInvoices:H.length,sampleInvoice:H[0]}),H.filter(Ce=>{const Ye=t===""||Ce.id.toLowerCase().includes(t.toLowerCase()),_t=s==="all"||Ce.status===s,jt=me(Ce.date);return Ye&&_t&&jt})),[H,t,s,c,X,ye,z]);console.log("CustomerPageDetails: Filtered customer invoices:",{customerInvoicesCount:Re.length,customerInvoices:Re});const U=Ce=>{const Ye="px-2 py-1 rounded-full text-xs font-medium";switch((Ce==null?void 0:Ce.toLowerCase())||""){case"paid":return`${Ye} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Ye} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Ye} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Ye} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Ye} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Ye} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Ye} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Ye} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Ye} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Ye} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Ye} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Ye} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Ye} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},we=Ce=>{if(!Ce||!Ce.items)return console.log("No invoice or items found for:",Ce==null?void 0:Ce.id),!1;const Ye=Ce.items.some(_t=>{const jt=_t.qty||_t.quantity||0,Mt=_t.returned_qty||0,se=Mt<jt;return console.log(`Item ${_t.item_code}: sold=${jt}, returned=${Mt}, canReturn=${se}`),se});return console.log(`Invoice ${Ce.id} has returnable items:`,Ye),Ye},L=Ce=>{e(`/invoice/${Ce.id}`),h(Ce),y(!0)},te=Ce=>{Be(Ce),y(!1)},oe=Ce=>{if(Ce.status!=="Draft"){Le.error("Only draft invoices can be edited");return}T(Ce),B(!0)},R=Ce=>de(null,null,function*(){try{(yield bN(Ce.id))&&(B(!1),T(null),e("/"))}catch(Ye){console.error("Error going to cart:",Ye),Le.error(Ye.message||"Failed to add items to cart")}}),Y=Ce=>{B(!1),T(null),e(`/payment/${Ce.id}`)},Se=Ce=>de(null,null,function*(){try{yield t4(Ce.id),Le.success(`Draft invoice ${Ce.id} submitted successfully`),B(!1),T(null),window.location.reload()}catch(Ye){console.error("Error submitting draft invoice:",Ye),Le.error(Ye.message||"Failed to submit draft invoice")}}),J=()=>{B(!1),T(null)},$e=Ce=>{$(Ce),b(!0)},be=()=>{b(!1),$(null),window.location.reload()},Be=Ce=>de(null,null,function*(){try{const Ye=yield C0(Ce);e(`/invoice/${Ye.return_invoice}`),Le.success(`Invoice returned: ${Ye.return_invoice}`)}catch(Ye){Le.error(Ye.message||"Failed to return invoice")}}),tt=Ce=>{console.log("Saving customer:",Ce),C(!1),O(null)},vt=x.useMemo(()=>{const Ce=Re.length,Ye=Re.reduce((Mt,se)=>Mt+se.totalAmount,0),_t=Re.filter(Mt=>Mt.status==="Unpaid"||Mt.status==="Overdue").reduce((Mt,se)=>Mt+se.totalAmount,0),jt=Ce>0?Ye/Ce:0;return{totalInvoices:Ce,totalRevenue:Ye,outstandingAmount:_t,avgOrderValue:jt}},[Re]);return Z?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customer details..."})]})}):Q&&!z?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customer"}),n.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:(Q==null?void 0:Q.message)||"Failed to load customer details"}),n.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Go Back"})]})}):z?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[n.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(Gi,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.customer_name||z.name}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",z.name]})]})]}),n.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",z),O(z),C(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[n.jsx(ol,{className:"w-4 h-4"}),n.jsx("span",{children:"Update Customer"})]})]})})}),n.jsxs("div",{className:"flex-1 overflow-auto pt-20 ml-20",children:[n.jsxs("div",{className:"px-6 py-8 max-w-none",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center",children:n.jsx(za,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:z.customer_name||z.name}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(il,{className:"w-4 h-4"}),n.jsx("span",{children:z.email||"No email provided"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(a0,{className:"w-4 h-4"}),n.jsx("span",{children:z.phone||"No phone provided"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(j0,{className:"w-4 h-4"}),n.jsx("span",{children:z.territory||"No territory specified"})]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.jsxs("span",{children:["Customer Group: ",z.customer_group]})}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.jsxs("span",{children:["Type: ",z.type]})})]})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})}),z.creation&&n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Wg,{className:"w-4 h-4"}),n.jsxs("span",{children:["Created: ",new Date(z.creation).toLocaleDateString()]})]})}),z.modified&&n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nl,{className:"w-4 h-4"}),n.jsxs("span",{children:["Updated: ",new Date(z.modified).toLocaleDateString()]})]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:vt.totalInvoices})]}),n.jsx(sl,{className:"w-8 h-8 text-beveren-600"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(vt.totalRevenue,(ae==null?void 0:ae.currency)||"USD")})]}),n.jsx(Tc,{className:"w-8 h-8 text-green-600"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(vt.outstandingAmount,(ae==null?void 0:ae.currency)||"USD")})]}),n.jsx(Zg,{className:`w-8 h-8 ${vt.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:dt(vt.avgOrderValue,(ae==null?void 0:ae.currency)||"USD")})]}),n.jsx(Is,{className:"w-8 h-8 text-blue-600"})]})})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:Ce=>r(Ce.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),n.jsxs("select",{value:s,onChange:Ce=>l(Ce.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Unpaid",children:"Unpaid"}),n.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),n.jsx("option",{value:"Paid",children:"Paid"}),n.jsx("option",{value:"Overdue",children:"Overdue"}),n.jsx("option",{value:"Return",children:"Return"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:c,onChange:Ce=>u(Ce.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"year",children:"This Year"})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",Re.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(ae==null?void 0:ae.is_zatca_enabled)&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:Re.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:ae!=null&&ae.is_zatca_enabled?8:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):Re.map(Ce=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Ce.id}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Ce.date," ",Ce.time]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Ce.customer})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Ce.cashier}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:Ce.paymentMethod})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:dt(Ce.totalAmount,Ce.currency)}),Ce.giftCardDiscount>0&&n.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",dt(Ce.giftCardDiscount,Ce.currency)," gift card"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:U(Ce.status),children:Ce.status})}),(ae==null?void 0:ae.is_zatca_enabled)&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:U(Ce.customZatcaSubmitStatus),children:Ce.customZatcaSubmitStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>L(Ce),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),Ce.status==="Draft"&&n.jsx("button",{onClick:()=>oe(Ce),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(Ce.status)&&we(Ce)&&n.jsx("button",{onClick:()=>$e(Ce),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},Ce.id))})]})})]})]}),pe&&n.jsx("div",{className:"flex justify-center mt-6",children:n.jsx("button",{onClick:q,disabled:X,className:`px-6 py-3 rounded-lg font-medium transition-colors ${X?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:X?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Loading..."})]}):`Load More Customer Invoices (${Oe} loaded)`})}),!pe&&Oe>0&&n.jsx("div",{className:"text-center mt-6 py-4",children:n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",Oe," customer invoices loaded"]})})]}),n.jsx(Xc,{invoice:f,isOpen:m,onClose:()=>y(!1),onRefund:te,onCancel:Ce=>{y(!1)}}),n.jsx(U0,{invoice:v,isOpen:w,onClose:()=>b(!1),onSuccess:be}),N&&n.jsx(ul,{customer:k,onClose:()=>{C(!1),O(null)},onSave:tt}),n.jsx(TM,{isOpen:A,onClose:J,invoice:P,onGoToCart:R,onSubmitPayment:Y,onSubmitDirect:Se})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Customer not found"}),n.jsx("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"The requested customer could not be found."}),n.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded hover:bg-yellow-200 dark:hover:bg-yellow-800",children:"Go Back"})]})})}const AM=hS([{path:"/",element:n.jsx(SM,{}),children:[{index:!0,element:n.jsx($M,{})},{path:"login",element:n.jsx(ES,{})},{path:"pos",element:n.jsx(ka,{element:n.jsx(FO,{})})},{path:"dashboard",element:n.jsx(ka,{element:n.jsx(zO,{})})},{path:"closing_shift",element:n.jsx(ka,{element:n.jsx(BP,{})})},{path:"invoice",element:n.jsx(ka,{element:n.jsx(CM,{})})},{path:"invoice/:id",element:n.jsx(ka,{element:n.jsx(_M,{})})},{path:"customers",element:n.jsx(ka,{element:n.jsx(uN,{})})},{path:"customers/:id",element:n.jsx(ka,{element:n.jsx(OM,{})})},{path:"cart",element:n.jsx(ka,{element:n.jsx(VP,{})})},{path:"mobile/customers",element:n.jsx(ka,{element:n.jsx(KP,{})})},{path:"mobile/add-customer",element:n.jsx(ka,{element:n.jsx(YP,{})})},{path:"mobile/payment",element:n.jsx(ka,{element:n.jsx(QP,{})})},{path:"settings",element:n.jsx(ka,{element:n.jsx(zP,{})})},{path:"payment/:invoiceId",element:n.jsx(ka,{element:n.jsx(GP,{})})}]}],{basename:"/klik_pos"}),RM=({children:e})=>n.jsx(c9,{url:"http://localhost:8000",enableSocket:!1,children:e});yk.createRoot(document.getElementById("root")).render(n.jsx(Ke.StrictMode,{children:n.jsx(RM,{children:n.jsx($S,{router:AM})})}))});export default PM();
