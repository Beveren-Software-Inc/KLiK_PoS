var fN=Object.defineProperty,hN=Object.defineProperties;var mN=Object.getOwnPropertyDescriptors;var Fd=Object.getOwnPropertySymbols;var _p=Object.prototype.hasOwnProperty,Tp=Object.prototype.propertyIsEnumerable;var ml=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Zf=e=>{throw TypeError(e)},Ep=Math.pow,Xf=(e,t,n)=>t in e?fN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H=(e,t)=>{for(var n in t||(t={}))_p.call(t,n)&&Xf(e,n,t[n]);if(Fd)for(var n of Fd(t))Tp.call(t,n)&&Xf(e,n,t[n]);return e},je=(e,t)=>hN(e,mN(t));var Dn=(e,t)=>{var n={};for(var i in e)_p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Fd)for(var i of Fd(e))t.indexOf(i)<0&&Tp.call(e,i)&&(n[i]=e[i]);return n};var gN=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Wf=(e,t,n)=>Xf(e,typeof t!="symbol"?t+"":t,n),Jf=(e,t,n)=>t.has(e)||Zf("Cannot "+n);var Ce=(e,t,n)=>(Jf(e,t,"read from private field"),n?n.call(e):t.get(e)),Lt=(e,t,n)=>t.has(e)?Zf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),vt=(e,t,n,i)=>(Jf(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Ua=(e,t,n)=>(Jf(e,t,"access private method"),n);var Bd=(e,t,n,i)=>({set _(o){vt(e,t,o,n)},get _(){return Ce(e,t,i)}});var xe=(e,t,n)=>new Promise((i,o)=>{var d=h=>{try{g(n.next(h))}catch(m){o(m)}},u=h=>{try{g(n.throw(h))}catch(m){o(m)}},g=h=>h.done?i(h.value):Promise.resolve(h.value).then(d,u);g((n=n.apply(e,t)).next())}),gi=function(e,t){this[0]=e,this[1]=t},eh=(e,t,n)=>{var i=(u,g,h,m)=>{try{var x=n[u](g),v=(g=x.value)instanceof gi,b=x.done;Promise.resolve(v?g[0]:g).then(p=>v?i(u==="return"?u:"next",g[1]?{done:p.done,value:p.value}:p,h,m):h({value:p,done:b})).catch(p=>i("throw",p,h,m))}catch(p){m(p)}},o=u=>d[u]=g=>new Promise((h,m)=>i(u,g,h,m)),d={};return n=n.apply(e,t),d[ml("asyncIterator")]=()=>d,o("next"),o("throw"),o("return"),d},th=e=>{var t=e[ml("asyncIterator")],n=!1,i,o={};return t==null?(t=e[ml("iterator")](),i=d=>o[d]=u=>t[d](u)):(t=t.call(e),i=d=>o[d]=u=>{if(n){if(n=!1,d==="throw")throw u;return u}return n=!0,{done:!1,value:new gi(new Promise(g=>{var h=t[d](u);h instanceof Object||Zf("Object expected"),g(h)}),1)}}),o[ml("iterator")]=()=>o,i("next"),"throw"in t?i("throw"):o.throw=d=>{throw d},"return"in t&&i("return"),o},Op=(e,t,n)=>(t=e[ml("asyncIterator")])?t.call(e):(e=e[ml("iterator")](),t={},n=(i,o)=>(o=e[i])&&(t[i]=d=>new Promise((u,g,h)=>(d=o.call(e,d),h=d.done,Promise.resolve(d.value).then(m=>u({value:m,done:h}),g)))),n("next"),n("return"),t);var zT=gN(wc=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();function Sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ah={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function yN(){if(Ap)return Fo;Ap=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,d){var u=null;if(d!==void 0&&(u=""+d),o.key!==void 0&&(u=""+o.key),"key"in o){d={};for(var g in o)g!=="key"&&(d[g]=o[g])}else d=o;return o=d.ref,{$$typeof:e,type:i,key:u,ref:o!==void 0?o:null,props:d}}return Fo.Fragment=t,Fo.jsx=n,Fo.jsxs=n,Fo}var Rp;function xN(){return Rp||(Rp=1,ah.exports=yN()),ah.exports}var r=xN(),rh={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function pN(){if(Pp)return Nt;Pp=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function E(R,ie,ve){this.props=R,this.context=ie,this.refs=k,this.updater=ve||p}E.prototype.isReactComponent={},E.prototype.setState=function(R,ie){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ie,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function $(){}$.prototype=E.prototype;function I(R,ie,ve){this.props=R,this.context=ie,this.refs=k,this.updater=ve||p}var D=I.prototype=new $;D.constructor=I,S(D,E.prototype),D.isPureReactComponent=!0;var L=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function W(R,ie,ve,V,_e,Ye){return ve=Ye.ref,{$$typeof:e,type:R,key:ie,ref:ve!==void 0?ve:null,props:Ye}}function Y(R,ie){return W(R.type,ie,void 0,void 0,void 0,R.props)}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function ae(R){var ie={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ve){return ie[ve]})}var ge=/\/+/g;function J(R,ie){return typeof R=="object"&&R!==null&&R.key!=null?ae(""+R.key):ie.toString(36)}function Ee(){}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ee,Ee):(R.status="pending",R.then(function(ie){R.status==="pending"&&(R.status="fulfilled",R.value=ie)},function(ie){R.status==="pending"&&(R.status="rejected",R.reason=ie)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function z(R,ie,ve,V,_e){var Ye=typeof R;(Ye==="undefined"||Ye==="boolean")&&(R=null);var Oe=!1;if(R===null)Oe=!0;else switch(Ye){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(R.$$typeof){case e:case t:Oe=!0;break;case x:return Oe=R._init,z(Oe(R._payload),ie,ve,V,_e)}}if(Oe)return _e=_e(R),Oe=V===""?"."+J(R,0):V,L(_e)?(ve="",Oe!=null&&(ve=Oe.replace(ge,"$&/")+"/"),z(_e,ie,ve,"",function($e){return $e})):_e!=null&&(G(_e)&&(_e=Y(_e,ve+(_e.key==null||R&&R.key===_e.key?"":(""+_e.key).replace(ge,"$&/")+"/")+Oe)),ie.push(_e)),1;Oe=0;var We=V===""?".":V+":";if(L(R))for(var ye=0;ye<R.length;ye++)V=R[ye],Ye=We+J(V,ye),Oe+=z(V,ie,ve,Ye,_e);else if(ye=b(R),typeof ye=="function")for(R=ye.call(R),ye=0;!(V=R.next()).done;)V=V.value,Ye=We+J(V,ye++),Oe+=z(V,ie,ve,Ye,_e);else if(Ye==="object"){if(typeof R.then=="function")return z(K(R),ie,ve,V,_e);throw ie=String(R),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function U(R,ie,ve){if(R==null)return R;var V=[],_e=0;return z(R,V,"","",function(Ye){return ie.call(ve,Ye,_e++)}),V}function _(R){if(R._status===-1){var ie=R._result;ie=ie(),ie.then(function(ve){(R._status===0||R._status===-1)&&(R._status=1,R._result=ve)},function(ve){(R._status===0||R._status===-1)&&(R._status=2,R._result=ve)}),R._status===-1&&(R._status=0,R._result=ie)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function pe(){}return Nt.Children={map:U,forEach:function(R,ie,ve){U(R,function(){ie.apply(this,arguments)},ve)},count:function(R){var ie=0;return U(R,function(){ie++}),ie},toArray:function(R){return U(R,function(ie){return ie})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Nt.Component=E,Nt.Fragment=n,Nt.Profiler=o,Nt.PureComponent=I,Nt.StrictMode=i,Nt.Suspense=h,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return A.H.useMemoCache(R)}},Nt.cache=function(R){return function(){return R.apply(null,arguments)}},Nt.cloneElement=function(R,ie,ve){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var V=S({},R.props),_e=R.key,Ye=void 0;if(ie!=null)for(Oe in ie.ref!==void 0&&(Ye=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!P.call(ie,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ie.ref===void 0||(V[Oe]=ie[Oe]);var Oe=arguments.length-2;if(Oe===1)V.children=ve;else if(1<Oe){for(var We=Array(Oe),ye=0;ye<Oe;ye++)We[ye]=arguments[ye+2];V.children=We}return W(R.type,_e,void 0,void 0,Ye,V)},Nt.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},Nt.createElement=function(R,ie,ve){var V,_e={},Ye=null;if(ie!=null)for(V in ie.key!==void 0&&(Ye=""+ie.key),ie)P.call(ie,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(_e[V]=ie[V]);var Oe=arguments.length-2;if(Oe===1)_e.children=ve;else if(1<Oe){for(var We=Array(Oe),ye=0;ye<Oe;ye++)We[ye]=arguments[ye+2];_e.children=We}if(R&&R.defaultProps)for(V in Oe=R.defaultProps,Oe)_e[V]===void 0&&(_e[V]=Oe[V]);return W(R,Ye,void 0,void 0,null,_e)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(R){return{$$typeof:g,render:R}},Nt.isValidElement=G,Nt.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:_}},Nt.memo=function(R,ie){return{$$typeof:m,type:R,compare:ie===void 0?null:ie}},Nt.startTransition=function(R){var ie=A.T,ve={};A.T=ve;try{var V=R(),_e=A.S;_e!==null&&_e(ve,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(pe,re)}catch(Ye){re(Ye)}finally{A.T=ie}},Nt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Nt.use=function(R){return A.H.use(R)},Nt.useActionState=function(R,ie,ve){return A.H.useActionState(R,ie,ve)},Nt.useCallback=function(R,ie){return A.H.useCallback(R,ie)},Nt.useContext=function(R){return A.H.useContext(R)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(R,ie){return A.H.useDeferredValue(R,ie)},Nt.useEffect=function(R,ie,ve){var V=A.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(R,ie)},Nt.useId=function(){return A.H.useId()},Nt.useImperativeHandle=function(R,ie,ve){return A.H.useImperativeHandle(R,ie,ve)},Nt.useInsertionEffect=function(R,ie){return A.H.useInsertionEffect(R,ie)},Nt.useLayoutEffect=function(R,ie){return A.H.useLayoutEffect(R,ie)},Nt.useMemo=function(R,ie){return A.H.useMemo(R,ie)},Nt.useOptimistic=function(R,ie){return A.H.useOptimistic(R,ie)},Nt.useReducer=function(R,ie,ve){return A.H.useReducer(R,ie,ve)},Nt.useRef=function(R){return A.H.useRef(R)},Nt.useState=function(R){return A.H.useState(R)},Nt.useSyncExternalStore=function(R,ie,ve){return A.H.useSyncExternalStore(R,ie,ve)},Nt.useTransition=function(){return A.H.useTransition()},Nt.version="19.1.0",Nt}var Mp;function _m(){return Mp||(Mp=1,rh.exports=pN()),rh.exports}var j=_m();const Fe=Sc(j);var nh={exports:{}},Bo={},sh={exports:{}},ih={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function bN(){return Dp||(Dp=1,function(e){function t(U,_){var re=U.length;U.push(_);e:for(;0<re;){var pe=re-1>>>1,R=U[pe];if(0<o(R,_))U[pe]=_,U[re]=R,re=pe;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var _=U[0],re=U.pop();if(re!==_){U[0]=re;e:for(var pe=0,R=U.length,ie=R>>>1;pe<ie;){var ve=2*(pe+1)-1,V=U[ve],_e=ve+1,Ye=U[_e];if(0>o(V,re))_e<R&&0>o(Ye,V)?(U[pe]=Ye,U[_e]=re,pe=_e):(U[pe]=V,U[ve]=re,pe=ve);else if(_e<R&&0>o(Ye,re))U[pe]=Ye,U[_e]=re,pe=_e;else break e}}return _}function o(U,_){var re=U.sortIndex-_.sortIndex;return re!==0?re:U.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var u=Date,g=u.now();e.unstable_now=function(){return u.now()-g}}var h=[],m=[],x=1,v=null,b=3,p=!1,S=!1,k=!1,E=!1,$=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;function L(U){for(var _=n(m);_!==null;){if(_.callback===null)i(m);else if(_.startTime<=U)i(m),_.sortIndex=_.expirationTime,t(h,_);else break;_=n(m)}}function A(U){if(k=!1,L(U),!S)if(n(h)!==null)S=!0,P||(P=!0,J());else{var _=n(m);_!==null&&z(A,_.startTime-U)}}var P=!1,W=-1,Y=5,G=-1;function ae(){return E?!0:!(e.unstable_now()-G<Y)}function ge(){if(E=!1,P){var U=e.unstable_now();G=U;var _=!0;try{e:{S=!1,k&&(k=!1,I(W),W=-1),p=!0;var re=b;try{t:{for(L(U),v=n(h);v!==null&&!(v.expirationTime>U&&ae());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,b=v.priorityLevel;var R=pe(v.expirationTime<=U);if(U=e.unstable_now(),typeof R=="function"){v.callback=R,L(U),_=!0;break t}v===n(h)&&i(h),L(U)}else i(h);v=n(h)}if(v!==null)_=!0;else{var ie=n(m);ie!==null&&z(A,ie.startTime-U),_=!1}}break e}finally{v=null,b=re,p=!1}_=void 0}}finally{_?J():P=!1}}}var J;if(typeof D=="function")J=function(){D(ge)};else if(typeof MessageChannel!="undefined"){var Ee=new MessageChannel,K=Ee.port2;Ee.port1.onmessage=ge,J=function(){K.postMessage(null)}}else J=function(){$(ge,0)};function z(U,_){W=$(function(){U(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(U){switch(b){case 1:case 2:case 3:var _=3;break;default:_=b}var re=b;b=_;try{return U()}finally{b=re}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(U,_){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=b;b=U;try{return _()}finally{b=re}},e.unstable_scheduleCallback=function(U,_,re){var pe=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,U){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=re+R,U={id:x++,callback:_,priorityLevel:U,startTime:re,expirationTime:R,sortIndex:-1},re>pe?(U.sortIndex=re,t(m,U),n(h)===null&&U===n(m)&&(k?(I(W),W=-1):k=!0,z(A,re-pe))):(U.sortIndex=R,t(h,U),S||p||(S=!0,P||(P=!0,J()))),U},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(U){var _=b;return function(){var re=b;b=_;try{return U.apply(this,arguments)}finally{b=re}}}}(ih)),ih}var Lp;function vN(){return Lp||(Lp=1,sh.exports=bN()),sh.exports}var lh={exports:{}},Fa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function NN(){if(Ip)return Fa;Ip=1;var e=_m();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(h,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:m,implementation:x}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Fa.createPortal=function(h,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return d(h,m,null,x)},Fa.flushSync=function(h){var m=u.T,x=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=x,i.d.f()}},Fa.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Fa.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Fa.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var x=m.as,v=g(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,p=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:p}):x==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:p,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Fa.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=g(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Fa.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=g(x,m.crossOrigin);i.d.L(h,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Fa.preloadModule=function(h,m){if(typeof h=="string")if(m){var x=g(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Fa.requestFormReset=function(h){i.d.r(h)},Fa.unstable_batchedUpdates=function(h,m){return h(m)},Fa.useFormState=function(h,m,x){return u.H.useFormState(h,m,x)},Fa.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fa.version="19.1.0",Fa}var Up;function g1(){if(Up)return lh.exports;Up=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lh.exports=NN(),lh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function jN(){if(Fp)return Bo;Fp=1;var e=vN(),t=_m(),n=g1();function i(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function d(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function g(a){if(d(a)!==a)throw Error(i(188))}function h(a){var s=a.alternate;if(!s){if(s=d(a),s===null)throw Error(i(188));return s!==a?null:a}for(var l=a,c=s;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return g(f),a;if(y===c)return g(f),s;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=f,c=y;else{for(var w=!1,T=f.child;T;){if(T===l){w=!0,l=f,c=y;break}if(T===c){w=!0,c=f,l=y;break}T=T.sibling}if(!w){for(T=y.child;T;){if(T===l){w=!0,l=y,c=f;break}if(T===c){w=!0,c=y,l=f;break}T=T.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=ge&&a[ge]||a["@@iterator"],typeof a=="function"?a:null)}var Ee=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ee?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case E:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList";case G:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case p:return"Portal";case D:return(a.displayName||"Context")+".Provider";case I:return(a._context.displayName||"Context")+".Consumer";case L:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case W:return s=a.displayName||null,s!==null?s:K(a.type)||"Memo";case Y:s=a._payload,a=a._init;try{return K(a(s))}catch(l){}}return null}var z=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},pe=[],R=-1;function ie(a){return{current:a}}function ve(a){0>R||(a.current=pe[R],pe[R]=null,R--)}function V(a,s){R++,pe[R]=a.current,a.current=s}var _e=ie(null),Ye=ie(null),Oe=ie(null),We=ie(null);function ye(a,s){switch(V(Oe,s),V(Ye,a),V(_e,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?ap(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=ap(s),a=rp(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ve(_e),V(_e,a)}function $e(){ve(_e),ve(Ye),ve(Oe)}function Ae(a){a.memoizedState!==null&&V(We,a);var s=_e.current,l=rp(s,a.type);s!==l&&(V(Ye,a),V(_e,l))}function Ze(a){Ye.current===a&&(ve(_e),ve(Ye)),We.current===a&&(ve(We),Mo._currentValue=re)}var xt=Object.prototype.hasOwnProperty,Q=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,Rt=e.unstable_shouldYield,ia=e.unstable_requestPaint,Pt=e.unstable_now,Kt=e.unstable_getCurrentPriorityLevel,Aa=e.unstable_ImmediatePriority,Ra=e.unstable_UserBlockingPriority,Na=e.unstable_NormalPriority,he=e.unstable_LowPriority,X=e.unstable_IdlePriority,ze=e.log,ht=e.unstable_setDisableYieldValue,ft=null,He=null;function yt(a){if(typeof ze=="function"&&ht(a),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ft,a)}catch(s){}}var jt=Math.clz32?Math.clz32:bt,be=Math.log,ke=Math.LN2;function bt(a){return a>>>=0,a===0?32:31-(be(a)/ke|0)|0}var Zt=256,ea=4194304;function ta(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function za(a,s,l){var c=a.pendingLanes;if(c===0)return 0;var f=0,y=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var T=c&134217727;return T!==0?(c=T&~y,c!==0?f=ta(c):(w&=T,w!==0?f=ta(w):l||(l=T&~a,l!==0&&(f=ta(l))))):(T=c&~y,T!==0?f=ta(T):w!==0?f=ta(w):l||(l=c&~a,l!==0&&(f=ta(l)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:f}function Pa(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Yn(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(){var a=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),a}function Le(){var a=ea;return ea<<=1,(ea&62914560)===0&&(ea=4194304),a}function ja(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function _a(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function bn(a,s,l,c,f,y){var w=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var T=a.entanglements,F=a.expirationTimes,ce=a.hiddenUpdates;for(l=w&~l;0<l;){var we=31-jt(l),Te=1<<we;T[we]=0,F[we]=-1;var fe=ce[we];if(fe!==null)for(ce[we]=null,we=0;we<fe.length;we++){var me=fe[we];me!==null&&(me.lane&=-536870913)}l&=~Te}c!==0&&rr(a,c,0),y!==0&&f===0&&a.tag!==0&&(a.suspendedLanes|=y&~(w&~s))}function rr(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var c=31-jt(s);a.entangledLanes|=s,a.entanglements[c]=a.entanglements[c]|1073741824|l&4194090}function Qa(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var c=31-jt(l),f=1<<c;f&s|a[c]&s&&(a[c]|=s),l&=~f}}function Lr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function an(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function B(){var a=_.p;return a!==0?a:(a=window.event,a===void 0?32:jp(a.type))}function ne(a,s){var l=_.p;try{return _.p=a,s()}finally{_.p=l}}var ue=Math.random().toString(36).slice(2),le="__reactFiber$"+ue,Re="__reactProps$"+ue,Ke="__reactContainer$"+ue,rt="__reactEvents$"+ue,et="__reactListeners$"+ue,it="__reactHandles$"+ue,mt="__reactResources$"+ue,st="__reactMarker$"+ue;function ee(a){delete a[le],delete a[Re],delete a[rt],delete a[et],delete a[it]}function Ne(a){var s=a[le];if(s)return s;for(var l=a.parentNode;l;){if(s=l[Ke]||l[le]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=lp(a);a!==null;){if(l=a[le])return l;a=lp(a)}return s}a=l,l=a.parentNode}return null}function Ie(a){if(a=a[le]||a[Ke]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function qe(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(i(33))}function lt(a){var s=a[mt];return s||(s=a[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tt(a){a[st]=!0}var Ge=new Set,Et={};function Mt(a,s){Qt(a,s),Qt(a+"Capture",s)}function Qt(a,s){for(Et[a]=s,a=0;a<s.length;a++)Ge.add(s[a])}var la=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ua={},pr={};function Qn(a){return xt.call(pr,a)?!0:xt.call(ua,a)?!1:la.test(a)?pr[a]=!0:(ua[a]=!0,!1)}function xa(a,s,l){if(Qn(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function br(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function wt(a,s,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+c)}}var wa,nr;function Ma(a){if(wa===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);wa=s&&s[1]||"",nr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+a+nr}var rn=!1;function Gt(a,s){if(!a||rn)return"";rn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(me){var fe=me}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(me){fe=me}a.call(Te.prototype)}}else{try{throw Error()}catch(me){fe=me}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],T=y[1];if(w&&T){var F=w.split(`
`),ce=T.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<ce.length&&!ce[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===ce.length)for(c=F.length-1,f=ce.length-1;1<=c&&0<=f&&F[c]!==ce[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==ce[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==ce[f]){var we=`
`+F[c].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=c&&0<=f);break}}}finally{rn=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Ma(l):""}function nn(a){switch(a.tag){case 26:case 27:case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 15:return Gt(a.type,!1);case 11:return Gt(a.type.render,!1);case 1:return Gt(a.type,!0);case 31:return Ma("Activity");default:return""}}function qs(a){try{var s="";do s+=nn(a),a=a.return;while(a);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Da(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Rc(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pc(a){var s=Rc(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),c=""+a[s];if(!a.hasOwnProperty(s)&&typeof l!="undefined"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(a,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Gs(a){a._valueTracker||(a._valueTracker=Pc(a))}function sn(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return a&&(c=Rc(a)?a.checked?"true":"false":a.value),a=c,a!==l?(s.setValue(a),!0):!1}function Vs(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(s){return a.body}}var a0=/[\n"\\]/g;function Xa(a){return a.replace(a0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ql(a,s,l,c,f,y,w,T){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),s!=null?w==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Da(s)):a.value!==""+Da(s)&&(a.value=""+Da(s)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),s!=null?Gl(a,w,Da(s)):l!=null?Gl(a,w,Da(l)):c!=null&&a.removeAttribute("value"),f==null&&y!=null&&(a.defaultChecked=!!y),f!=null&&(a.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.name=""+Da(T):a.removeAttribute("name")}function Mc(a,s,l,c,f,y,w,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Da(l):"",s=s!=null?""+Da(s):l,T||s===a.value||(a.value=s),a.defaultValue=s}c=c!=null?c:f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,a.checked=T?a.checked:!!c,a.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w)}function Gl(a,s,l){s==="number"&&Vs(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function vn(a,s,l,c){if(a=a.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<a.length;l++)f=s.hasOwnProperty("$"+a[l].value),a[l].selected!==f&&(a[l].selected=f),f&&c&&(a[l].defaultSelected=!0)}else{for(l=""+Da(l),s=null,f=0;f<a.length;f++){if(a[f].value===l){a[f].selected=!0,c&&(a[f].defaultSelected=!0);return}s!==null||a[f].disabled||(s=a[f])}s!==null&&(s.selected=!0)}}function Ks(a,s,l){if(s!=null&&(s=""+Da(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+Da(l):""}function Vl(a,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(z(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Da(s),a.defaultValue=l,c=a.textContent,c===l&&c!==""&&c!==null&&(a.value=c)}function Xn(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var Dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(a,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":c?a.setProperty(s,l):typeof l!="number"||l===0||Dc.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Kl(a,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(a=a.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&l[f]!==c&&Lc(a,f,c)}else for(var y in s)s.hasOwnProperty(y)&&Lc(a,y,s[y])}function Ys(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(a){return r0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Yl=null;function Qs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Nn=null,Zn=null;function Ql(a){var s=Ie(a);if(s&&(a=s.stateNode)){var l=a[Re]||null;e:switch(a=s.stateNode,s.type){case"input":if(ql(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Xa(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==a&&c.form===a.form){var f=c[Re]||null;if(!f)throw Error(i(90));ql(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===a.form&&sn(c)}break e;case"textarea":Ks(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&vn(a,!!l.multiple,s,!1)}}}var Xs=!1;function Xl(a,s,l){if(Xs)return a(s,l);Xs=!0;try{var c=a(s);return c}finally{if(Xs=!1,(Nn!==null||Zn!==null)&&(bd(),Nn&&(s=Nn,a=Zn,Zn=Nn=null,Ql(s),a)))for(s=0;s<a.length;s++)Ql(a[s])}}function Wn(a,s){var l=a.stateNode;if(l===null)return null;var c=l[Re]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Za=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Pi=!1;if(Za)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch(a){Pi=!1}var sr=null,Wa=null,jn=null;function Ws(){if(jn)return jn;var a,s=Wa,l=s.length,c,f="value"in sr?sr.value:sr.textContent,y=f.length;for(a=0;a<l&&s[a]===f[a];a++);var w=l-a;for(c=1;c<=w&&s[l-c]===f[y-c];c++);return jn=f.slice(a,1<c?1-c:void 0)}function Jn(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Mi(){return!0}function Ic(){return!1}function La(a){function s(l,c,f,y,w){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(l=a[T],this[T]=l?l(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Mi:Ic,this.isPropagationStopped=Ic,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),s}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=La(Ir),es=x({},Ir,{view:0,detail:0}),aa=La(es),N,C,O,M=x({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==O&&(O&&a.type==="mousemove"?(N=a.screenX-O.screenX,C=a.screenY-O.screenY):C=N=0,O=a),N)},movementY:function(a){return"movementY"in a?a.movementY:C}}),Z=La(M),se=x({},M,{dataTransfer:0}),de=La(se),Me=x({},es,{relatedTarget:0}),nt=La(Me),Ue=x({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ve=La(Ue),dt=x({},Ir,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Bt=La(dt),pt=x({},Ir,{data:0}),ot=La(pt),Je={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ka={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=fa[a])?!!s[a]:!1}function vr(){return Wt}var Js=x({},es,{key:function(a){if(a.key){var s=Je[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Jn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ka[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(a){return a.type==="keypress"?Jn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Jn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ln=La(Js),ts=x({},M,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=La(ts),Ii=x({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Uc=La(Ii),E3=x({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),O3=La(E3),A3=x({},M,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),R3=La(A3),P3=x({},Ir,{newState:0,oldState:0}),M3=La(P3),D3=[9,13,27,32],n0=Za&&"CompositionEvent"in window,Zl=null;Za&&"documentMode"in document&&(Zl=document.documentMode);var L3=Za&&"TextEvent"in window&&!Zl,ug=Za&&(!n0||Zl&&8<Zl&&11>=Zl),fg=" ",hg=!1;function mg(a,s){switch(a){case"keyup":return D3.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ui=!1;function I3(a,s){switch(a){case"compositionend":return gg(s);case"keypress":return s.which!==32?null:(hg=!0,fg);case"textInput":return a=s.data,a===fg&&hg?null:a;default:return null}}function U3(a,s){if(Ui)return a==="compositionend"||!n0&&mg(a,s)?(a=Ws(),jn=Wa=sr=null,Ui=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ug&&s.locale!=="ko"?null:s.data;default:return null}}var F3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!F3[a.type]:s==="textarea"}function xg(a,s,l,c){Nn?Zn?Zn.push(c):Zn=[c]:Nn=c,s=$d(s,"onChange"),0<s.length&&(l=new Di("onChange","change",null,l,c),a.push({event:l,listeners:s}))}var Wl=null,Jl=null;function B3(a){Zx(a,0)}function Fc(a){var s=qe(a);if(sn(s))return a}function pg(a,s){if(a==="change")return s}var bg=!1;if(Za){var s0;if(Za){var i0="oninput"in document;if(!i0){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),i0=typeof vg.oninput=="function"}s0=i0}else s0=!1;bg=s0&&(!document.documentMode||9<document.documentMode)}function Ng(){Wl&&(Wl.detachEvent("onpropertychange",jg),Jl=Wl=null)}function jg(a){if(a.propertyName==="value"&&Fc(Jl)){var s=[];xg(s,Jl,a,Qs(a)),Xl(B3,s)}}function z3(a,s,l){a==="focusin"?(Ng(),Wl=s,Jl=l,Wl.attachEvent("onpropertychange",jg)):a==="focusout"&&Ng()}function H3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fc(Jl)}function q3(a,s){if(a==="click")return Fc(s)}function G3(a,s){if(a==="input"||a==="change")return Fc(s)}function V3(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var ir=typeof Object.is=="function"?Object.is:V3;function eo(a,s){if(ir(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!xt.call(s,f)||!ir(a[f],s[f]))return!1}return!0}function wg(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function kg(a,s){var l=wg(a);a=0;for(var c;l;){if(l.nodeType===3){if(c=a+l.textContent.length,a<=s&&c>=s)return{node:l,offset:s-a};a=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wg(l)}}function $g(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?$g(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Sg(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Vs(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch(c){l=!1}if(l)a=s.contentWindow;else break;s=Vs(a.document)}return s}function l0(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var K3=Za&&"documentMode"in document&&11>=document.documentMode,Fi=null,o0=null,to=null,c0=!1;function Cg(a,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;c0||Fi==null||Fi!==Vs(c)||(c=Fi,"selectionStart"in c&&l0(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),to&&eo(to,c)||(to=c,c=$d(o0,"onSelect"),0<c.length&&(s=new Di("onSelect","select",null,s,l),a.push({event:s,listeners:c}),s.target=Fi)))}function ei(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Bi={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},d0={},_g={};Za&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function ti(a){if(d0[a])return d0[a];if(!Bi[a])return a;var s=Bi[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in _g)return d0[a]=s[l];return a}var Tg=ti("animationend"),Eg=ti("animationiteration"),Og=ti("animationstart"),Y3=ti("transitionrun"),Q3=ti("transitionstart"),X3=ti("transitioncancel"),Ag=ti("transitionend"),Rg=new Map,u0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");u0.push("scrollEnd");function Ur(a,s){Rg.set(a,s),Mt(s,[a])}var Pg=new WeakMap;function Nr(a,s){if(typeof a=="object"&&a!==null){var l=Pg.get(a);return l!==void 0?l:(s={value:a,source:s,stack:qs(s)},Pg.set(a,s),s)}return{value:a,source:s,stack:qs(s)}}var jr=[],zi=0,f0=0;function Bc(){for(var a=zi,s=f0=zi=0;s<a;){var l=jr[s];jr[s++]=null;var c=jr[s];jr[s++]=null;var f=jr[s];jr[s++]=null;var y=jr[s];if(jr[s++]=null,c!==null&&f!==null){var w=c.pending;w===null?f.next=f:(f.next=w.next,w.next=f),c.pending=f}y!==0&&Mg(l,f,y)}}function zc(a,s,l,c){jr[zi++]=a,jr[zi++]=s,jr[zi++]=l,jr[zi++]=c,f0|=c,a.lanes|=c,a=a.alternate,a!==null&&(a.lanes|=c)}function h0(a,s,l,c){return zc(a,s,l,c),Hc(a)}function Hi(a,s){return zc(a,null,null,s),Hc(a)}function Mg(a,s,l){a.lanes|=l;var c=a.alternate;c!==null&&(c.lanes|=l);for(var f=!1,y=a.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(f=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,f&&s!==null&&(f=31-jt(l),a=y.hiddenUpdates,c=a[f],c===null?a[f]=[s]:c.push(s),s.lane=l|536870912),y):null}function Hc(a){if(50<Co)throw Co=0,vf=null,Error(i(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var qi={};function Z3(a,s,l,c){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(a,s,l,c){return new Z3(a,s,l,c)}function m0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function wn(a,s){var l=a.alternate;return l===null?(l=lr(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Dg(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function qc(a,s,l,c,f,y){var w=0;if(c=a,typeof a=="function")m0(a)&&(w=1);else if(typeof a=="string")w=J4(a,l,_e.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case G:return a=lr(31,l,s,f),a.elementType=G,a.lanes=y,a;case S:return ai(l.children,f,y,s);case k:w=8,f|=24;break;case E:return a=lr(12,l,s,f|2),a.elementType=E,a.lanes=y,a;case A:return a=lr(13,l,s,f),a.elementType=A,a.lanes=y,a;case P:return a=lr(19,l,s,f),a.elementType=P,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:case D:w=10;break e;case I:w=9;break e;case L:w=11;break e;case W:w=14;break e;case Y:w=16,c=null;break e}w=29,l=Error(i(130,a===null?"null":typeof a,"")),c=null}return s=lr(w,l,s,f),s.elementType=a,s.type=c,s.lanes=y,s}function ai(a,s,l,c){return a=lr(7,a,c,s),a.lanes=l,a}function g0(a,s,l){return a=lr(6,a,null,s),a.lanes=l,a}function y0(a,s,l){return s=lr(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Gi=[],Vi=0,Gc=null,Vc=0,wr=[],kr=0,ri=null,kn=1,$n="";function ni(a,s){Gi[Vi++]=Vc,Gi[Vi++]=Gc,Gc=a,Vc=s}function Lg(a,s,l){wr[kr++]=kn,wr[kr++]=$n,wr[kr++]=ri,ri=a;var c=kn;a=$n;var f=32-jt(c)-1;c&=~(1<<f),l+=1;var y=32-jt(s)+f;if(30<y){var w=f-f%5;y=(c&(1<<w)-1).toString(32),c>>=w,f-=w,kn=1<<32-jt(s)+f|l<<f|c,$n=y+a}else kn=1<<y|l<<f|c,$n=a}function x0(a){a.return!==null&&(ni(a,1),Lg(a,1,0))}function p0(a){for(;a===Gc;)Gc=Gi[--Vi],Gi[Vi]=null,Vc=Gi[--Vi],Gi[Vi]=null;for(;a===ri;)ri=wr[--kr],wr[kr]=null,$n=wr[--kr],wr[kr]=null,kn=wr[--kr],wr[kr]=null}var Ha=null,ra=null,It=!1,si=null,on=!1,b0=Error(i(519));function ii(a){var s=Error(i(418,""));throw no(Nr(s,a)),b0}function Ig(a){var s=a.stateNode,l=a.type,c=a.memoizedProps;switch(s[le]=a,s[Re]=c,l){case"dialog":Tt("cancel",s),Tt("close",s);break;case"iframe":case"object":case"embed":Tt("load",s);break;case"video":case"audio":for(l=0;l<To.length;l++)Tt(To[l],s);break;case"source":Tt("error",s);break;case"img":case"image":case"link":Tt("error",s),Tt("load",s);break;case"details":Tt("toggle",s);break;case"input":Tt("invalid",s),Mc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Gs(s);break;case"select":Tt("invalid",s);break;case"textarea":Tt("invalid",s),Vl(s,c.value,c.defaultValue,c.children),Gs(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||tp(s.textContent,l)?(c.popover!=null&&(Tt("beforetoggle",s),Tt("toggle",s)),c.onScroll!=null&&Tt("scroll",s),c.onScrollEnd!=null&&Tt("scrollend",s),c.onClick!=null&&(s.onclick=Sd),s=!0):s=!1,s||ii(a)}function Ug(a){for(Ha=a.return;Ha;)switch(Ha.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Ha=Ha.return}}function ao(a){if(a!==Ha)return!1;if(!It)return Ug(a),It=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Df(a.type,a.memoizedProps)),l=!l),l&&ra&&ii(a),Ug(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(s===0){ra=Br(a.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;a=a.nextSibling}ra=null}}else s===27?(s=ra,xs(a.type)?(a=Ff,Ff=null,ra=a):ra=s):ra=Ha?Br(a.stateNode.nextSibling):null;return!0}function ro(){ra=Ha=null,It=!1}function Fg(){var a=si;return a!==null&&(tr===null?tr=a:tr.push.apply(tr,a),si=null),a}function no(a){si===null?si=[a]:si.push(a)}var v0=ie(null),li=null,Sn=null;function as(a,s,l){V(v0,s._currentValue),s._currentValue=l}function Cn(a){a._currentValue=v0.current,ve(v0)}function N0(a,s,l){for(;a!==null;){var c=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),a===l)break;a=a.return}}function j0(a,s,l,c){var f=a.child;for(f!==null&&(f.return=a);f!==null;){var y=f.dependencies;if(y!==null){var w=f.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=f;for(var F=0;F<s.length;F++)if(T.context===s[F]){y.lanes|=l,T=y.alternate,T!==null&&(T.lanes|=l),N0(y.return,l,a),c||(w=null);break e}y=T.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=l,y=w.alternate,y!==null&&(y.lanes|=l),N0(w,l,a),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===a){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function so(a,s,l,c){a=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var T=f.type;ir(f.pendingProps.value,w.value)||(a!==null?a.push(T):a=[T])}}else if(f===We.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(a!==null?a.push(Mo):a=[Mo])}f=f.return}a!==null&&j0(s,a,l,c),s.flags|=262144}function Kc(a){for(a=a.firstContext;a!==null;){if(!ir(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function oi(a){li=a,Sn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ia(a){return Bg(li,a)}function Yc(a,s){return li===null&&oi(a),Bg(a,s)}function Bg(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Sn===null){if(a===null)throw Error(i(308));Sn=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Sn=Sn.next=s;return l}var W3=typeof AbortController!="undefined"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,c){a.push(c)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},J3=e.unstable_scheduleCallback,e4=e.unstable_NormalPriority,pa={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function w0(){return{controller:new W3,data:new Map,refCount:0}}function io(a){a.refCount--,a.refCount===0&&J3(e4,function(){a.controller.abort()})}var lo=null,k0=0,Ki=0,Yi=null;function t4(a,s){if(lo===null){var l=lo=[];k0=0,Ki=Cf(),Yi={status:"pending",value:void 0,then:function(c){l.push(c)}}}return k0++,s.then(zg,zg),s}function zg(){if(--k0===0&&lo!==null){Yi!==null&&(Yi.status="fulfilled");var a=lo;lo=null,Ki=0,Yi=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function a4(a,s){var l=[],c={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return a.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<l.length;f++)(0,l[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),c}var Hg=U.S;U.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&t4(a,s),Hg!==null&&Hg(a,s)};var ci=ie(null);function $0(){var a=ci.current;return a!==null?a:Yt.pooledCache}function Qc(a,s){s===null?V(ci,ci.current):V(ci,s.pool)}function qg(){var a=$0();return a===null?null:{parent:pa._currentValue,pool:a}}var oo=Error(i(460)),Gg=Error(i(474)),Xc=Error(i(542)),S0={then:function(){}};function Vg(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Zc(){}function Kg(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(Zc,Zc),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Qg(a),a;default:if(typeof s.status=="string")s.then(Zc,Zc);else{if(a=Yt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=s,a.status="pending",a.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Qg(a),a}throw co=s,oo}}var co=null;function Yg(){if(co===null)throw Error(i(459));var a=co;return co=null,a}function Qg(a){if(a===oo||a===Xc)throw Error(i(483))}var rs=!1;function C0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _0(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ns(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ss(a,s,l){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Hc(a),Mg(a,null,l),s}return zc(a,c,s,l),Hc(a)}function uo(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=a.pendingLanes,l|=c,s.lanes=l,Qa(a,l)}}function T0(a,s){var l=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?f=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?f=y=s:y=y.next=s}else f=y=s;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var E0=!1;function fo(){if(E0){var a=Yi;if(a!==null)throw a}}function ho(a,s,l,c){E0=!1;var f=a.updateQueue;rs=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var F=T,ce=F.next;F.next=null,w===null?y=ce:w.next=ce,w=F;var we=a.alternate;we!==null&&(we=we.updateQueue,T=we.lastBaseUpdate,T!==w&&(T===null?we.firstBaseUpdate=ce:T.next=ce,we.lastBaseUpdate=F))}if(y!==null){var Te=f.baseState;w=0,we=ce=F=null,T=y;do{var fe=T.lane&-536870913,me=fe!==T.lane;if(me?(At&fe)===fe:(c&fe)===fe){fe!==0&&fe===Ki&&(E0=!0),we!==null&&(we=we.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var gt=a,ct=T;fe=s;var qt=l;switch(ct.tag){case 1:if(gt=ct.payload,typeof gt=="function"){Te=gt.call(qt,Te,fe);break e}Te=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ct.payload,fe=typeof gt=="function"?gt.call(qt,Te,fe):gt,fe==null)break e;Te=x({},Te,fe);break e;case 2:rs=!0}}fe=T.callback,fe!==null&&(a.flags|=64,me&&(a.flags|=8192),me=f.callbacks,me===null?f.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},we===null?(ce=we=me,F=Te):we=we.next=me,w|=fe;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;me=T,T=me.next,me.next=null,f.lastBaseUpdate=me,f.shared.pending=null}}while(!0);we===null&&(F=Te),f.baseState=F,f.firstBaseUpdate=ce,f.lastBaseUpdate=we,y===null&&(f.shared.lanes=0),hs|=w,a.lanes=w,a.memoizedState=Te}}function Xg(a,s){if(typeof a!="function")throw Error(i(191,a));a.call(s)}function Zg(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Xg(l[a],s)}var Qi=ie(null),Wc=ie(0);function Wg(a,s){a=Pn,V(Wc,a),V(Qi,s),Pn=a|s.baseLanes}function O0(){V(Wc,Pn),V(Qi,Qi.current)}function A0(){Pn=Wc.current,ve(Qi),ve(Wc)}var is=0,kt=null,zt=null,ha=null,Jc=!1,Xi=!1,di=!1,ed=0,mo=0,Zi=null,r4=0;function oa(){throw Error(i(321))}function R0(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!ir(a[l],s[l]))return!1;return!0}function P0(a,s,l,c,f,y){return is=y,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=a===null||a.memoizedState===null?My:Dy,di=!1,y=l(c,f),di=!1,Xi&&(y=ey(s,l,c,f)),Jg(a),y}function Jg(a){U.H=id;var s=zt!==null&&zt.next!==null;if(is=0,ha=zt=kt=null,Jc=!1,mo=0,Zi=null,s)throw Error(i(300));a===null||$a||(a=a.dependencies,a!==null&&Kc(a)&&($a=!0))}function ey(a,s,l,c){kt=a;var f=0;do{if(Xi&&(Zi=null),mo=0,Xi=!1,25<=f)throw Error(i(301));if(f+=1,ha=zt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=d4,y=s(l,c)}while(Xi);return y}function n4(){var a=U.H,s=a.useState()[0];return s=typeof s.then=="function"?go(s):s,a=a.useState()[0],(zt!==null?zt.memoizedState:null)!==a&&(kt.flags|=1024),s}function M0(){var a=ed!==0;return ed=0,a}function D0(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function L0(a){if(Jc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Jc=!1}is=0,ha=zt=kt=null,Xi=!1,mo=ed=0,Zi=null}function Ja(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?kt.memoizedState=ha=a:ha=ha.next=a,ha}function ma(){if(zt===null){var a=kt.alternate;a=a!==null?a.memoizedState:null}else a=zt.next;var s=ha===null?kt.memoizedState:ha.next;if(s!==null)ha=s,zt=a;else{if(a===null)throw kt.alternate===null?Error(i(467)):Error(i(310));zt=a,a={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},ha===null?kt.memoizedState=ha=a:ha=ha.next=a}return ha}function I0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(a){var s=mo;return mo+=1,Zi===null&&(Zi=[]),a=Kg(Zi,a,s),s=kt,(ha===null?s.memoizedState:ha.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?My:Dy),a}function td(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return go(a);if(a.$$typeof===D)return Ia(a)}throw Error(i(438,String(a)))}function U0(a){var s=null,l=kt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=I0(),kt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),c=0;c<a;c++)l[c]=ae;return s.index++,l}function _n(a,s){return typeof s=="function"?s(a):s}function ad(a){var s=ma();return F0(s,zt,a)}function F0(a,s,l){var c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var f=a.baseQueue,y=c.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}s.baseQueue=f=y,c.pending=null}if(y=a.baseState,f===null)a.memoizedState=y;else{s=f.next;var T=w=null,F=null,ce=s,we=!1;do{var Te=ce.lane&-536870913;if(Te!==ce.lane?(At&Te)===Te:(is&Te)===Te){var fe=ce.revertLane;if(fe===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Te===Ki&&(we=!0);else if((is&fe)===fe){ce=ce.next,fe===Ki&&(we=!0);continue}else Te={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},F===null?(T=F=Te,w=y):F=F.next=Te,kt.lanes|=fe,hs|=fe;Te=ce.action,di&&l(y,Te),y=ce.hasEagerState?ce.eagerState:l(y,Te)}else fe={lane:Te,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},F===null?(T=F=fe,w=y):F=F.next=fe,kt.lanes|=Te,hs|=Te;ce=ce.next}while(ce!==null&&ce!==s);if(F===null?w=y:F.next=T,!ir(y,a.memoizedState)&&($a=!0,we&&(l=Yi,l!==null)))throw l;a.memoizedState=y,a.baseState=w,a.baseQueue=F,c.lastRenderedState=y}return f===null&&(c.lanes=0),[a.memoizedState,c.dispatch]}function B0(a){var s=ma(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var c=l.dispatch,f=l.pending,y=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do y=a(y,w.action),w=w.next;while(w!==f);ir(y,s.memoizedState)||($a=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function ty(a,s,l){var c=kt,f=ma(),y=It;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var w=!ir((zt||f).memoizedState,l);w&&(f.memoizedState=l,$a=!0),f=f.queue;var T=ny.bind(null,c,f,a);if(yo(2048,8,T,[a]),f.getSnapshot!==s||w||ha!==null&&ha.memoizedState.tag&1){if(c.flags|=2048,Wi(9,rd(),ry.bind(null,c,f,l,s),null),Yt===null)throw Error(i(349));y||(is&124)!==0||ay(c,s,l)}return l}function ay(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=kt.updateQueue,s===null?(s=I0(),kt.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function ry(a,s,l,c){s.value=l,s.getSnapshot=c,sy(s)&&iy(a)}function ny(a,s,l){return l(function(){sy(s)&&iy(a)})}function sy(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!ir(a,l)}catch(c){return!0}}function iy(a){var s=Hi(a,2);s!==null&&fr(s,a,2)}function z0(a){var s=Ja();if(typeof a=="function"){var l=a;if(a=l(),di){yt(!0);try{l()}finally{yt(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:a},s}function ly(a,s,l,c){return a.baseState=l,F0(a,zt,typeof c=="function"?c:_n)}function s4(a,s,l,c,f){if(sd(a))throw Error(i(485));if(a=s.action,a!==null){var y={payload:f,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};U.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,oy(s,y)):(y.next=l.next,s.pending=l.next=y)}}function oy(a,s){var l=s.action,c=s.payload,f=a.state;if(s.isTransition){var y=U.T,w={};U.T=w;try{var T=l(f,c),F=U.S;F!==null&&F(w,T),cy(a,s,T)}catch(ce){H0(a,s,ce)}finally{U.T=y}}else try{y=l(f,c),cy(a,s,y)}catch(ce){H0(a,s,ce)}}function cy(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){dy(a,s,c)},function(c){return H0(a,s,c)}):dy(a,s,l)}function dy(a,s,l){s.status="fulfilled",s.value=l,uy(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,oy(a,l)))}function H0(a,s,l){var c=a.pending;if(a.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,uy(s),s=s.next;while(s!==c)}a.action=null}function uy(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function fy(a,s){return s}function hy(a,s){if(It){var l=Yt.formState;if(l!==null){e:{var c=kt;if(It){if(ra){t:{for(var f=ra,y=on;f.nodeType!==8;){if(!y){f=null;break t}if(f=Br(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ra=Br(f.nextSibling),c=f.data==="F!";break e}}ii(c)}c=!1}c&&(s=l[0])}}return l=Ja(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:s},l.queue=c,l=Ay.bind(null,kt,c),c.dispatch=l,c=z0(!1),y=Y0.bind(null,kt,!1,c.queue),c=Ja(),f={state:s,dispatch:null,action:a,pending:null},c.queue=f,l=s4.bind(null,kt,f,y,l),f.dispatch=l,c.memoizedState=a,[s,l,!1]}function my(a){var s=ma();return gy(s,zt,a)}function gy(a,s,l){if(s=F0(a,s,fy)[0],a=ad(_n)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=go(s)}catch(w){throw w===oo?Xc:w}else c=s;s=ma();var f=s.queue,y=f.dispatch;return l!==s.memoizedState&&(kt.flags|=2048,Wi(9,rd(),i4.bind(null,f,l),null)),[c,y,a]}function i4(a,s){a.action=s}function yy(a){var s=ma(),l=zt;if(l!==null)return gy(s,l,a);ma(),s=s.memoizedState,l=ma();var c=l.queue.dispatch;return l.memoizedState=a,[s,c,!1]}function Wi(a,s,l,c){return a={tag:a,create:l,deps:c,inst:s,next:null},s=kt.updateQueue,s===null&&(s=I0(),kt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(c=l.next,l.next=a,a.next=c,s.lastEffect=a),a}function rd(){return{destroy:void 0,resource:void 0}}function xy(){return ma().memoizedState}function nd(a,s,l,c){var f=Ja();c=c===void 0?null:c,kt.flags|=a,f.memoizedState=Wi(1|s,rd(),l,c)}function yo(a,s,l,c){var f=ma();c=c===void 0?null:c;var y=f.memoizedState.inst;zt!==null&&c!==null&&R0(c,zt.memoizedState.deps)?f.memoizedState=Wi(s,y,l,c):(kt.flags|=a,f.memoizedState=Wi(1|s,y,l,c))}function py(a,s){nd(8390656,8,a,s)}function by(a,s){yo(2048,8,a,s)}function vy(a,s){return yo(4,2,a,s)}function Ny(a,s){return yo(4,4,a,s)}function jy(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function wy(a,s,l){l=l!=null?l.concat([a]):null,yo(4,4,jy.bind(null,s,a),l)}function q0(){}function ky(a,s){var l=ma();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&R0(s,c[1])?c[0]:(l.memoizedState=[a,s],a)}function $y(a,s){var l=ma();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&R0(s,c[1]))return c[0];if(c=a(),di){yt(!0);try{a()}finally{yt(!1)}}return l.memoizedState=[c,s],c}function G0(a,s,l){return l===void 0||(is&1073741824)!==0?a.memoizedState=s:(a.memoizedState=l,a=_x(),kt.lanes|=a,hs|=a,l)}function Sy(a,s,l,c){return ir(l,s)?l:Qi.current!==null?(a=G0(a,l,c),ir(a,s)||($a=!0),a):(is&42)===0?($a=!0,a.memoizedState=l):(a=_x(),kt.lanes|=a,hs|=a,s)}function Cy(a,s,l,c,f){var y=_.p;_.p=y!==0&&8>y?y:8;var w=U.T,T={};U.T=T,Y0(a,!1,s,l);try{var F=f(),ce=U.S;if(ce!==null&&ce(T,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var we=a4(F,c);xo(a,s,we,ur(a))}else xo(a,s,c,ur(a))}catch(Te){xo(a,s,{then:function(){},status:"rejected",reason:Te},ur())}finally{_.p=y,U.T=w}}function l4(){}function V0(a,s,l,c){if(a.tag!==5)throw Error(i(476));var f=_y(a).queue;Cy(a,f,s,re,l===null?l4:function(){return Ty(a),l(c)})}function _y(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:re},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Ty(a){var s=_y(a).next.queue;xo(a,s,{},ur())}function K0(){return Ia(Mo)}function Ey(){return ma().memoizedState}function Oy(){return ma().memoizedState}function o4(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=ur();a=ns(l);var c=ss(s,a,l);c!==null&&(fr(c,s,l),uo(c,s,l)),s={cache:w0()},a.payload=s;return}s=s.return}}function c4(a,s,l){var c=ur();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},sd(a)?Ry(s,l):(l=h0(a,s,l,c),l!==null&&(fr(l,a,c),Py(l,s,c)))}function Ay(a,s,l){var c=ur();xo(a,s,l,c)}function xo(a,s,l,c){var f={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(sd(a))Ry(s,f);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,T=y(w,l);if(f.hasEagerState=!0,f.eagerState=T,ir(T,w))return zc(a,s,f,0),Yt===null&&Bc(),!1}catch(F){}finally{}if(l=h0(a,s,f,c),l!==null)return fr(l,a,c),Py(l,s,c),!0}return!1}function Y0(a,s,l,c){if(c={lane:2,revertLane:Cf(),action:c,hasEagerState:!1,eagerState:null,next:null},sd(a)){if(s)throw Error(i(479))}else s=h0(a,l,c,2),s!==null&&fr(s,a,2)}function sd(a){var s=a.alternate;return a===kt||s!==null&&s===kt}function Ry(a,s){Xi=Jc=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function Py(a,s,l){if((l&4194048)!==0){var c=s.lanes;c&=a.pendingLanes,l|=c,s.lanes=l,Qa(a,l)}}var id={readContext:Ia,use:td,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useInsertionEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useSyncExternalStore:oa,useId:oa,useHostTransitionStatus:oa,useFormState:oa,useActionState:oa,useOptimistic:oa,useMemoCache:oa,useCacheRefresh:oa},My={readContext:Ia,use:td,useCallback:function(a,s){return Ja().memoizedState=[a,s===void 0?null:s],a},useContext:Ia,useEffect:py,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,nd(4194308,4,jy.bind(null,s,a),l)},useLayoutEffect:function(a,s){return nd(4194308,4,a,s)},useInsertionEffect:function(a,s){nd(4,2,a,s)},useMemo:function(a,s){var l=Ja();s=s===void 0?null:s;var c=a();if(di){yt(!0);try{a()}finally{yt(!1)}}return l.memoizedState=[c,s],c},useReducer:function(a,s,l){var c=Ja();if(l!==void 0){var f=l(s);if(di){yt(!0);try{l(s)}finally{yt(!1)}}}else f=s;return c.memoizedState=c.baseState=f,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:f},c.queue=a,a=a.dispatch=c4.bind(null,kt,a),[c.memoizedState,a]},useRef:function(a){var s=Ja();return a={current:a},s.memoizedState=a},useState:function(a){a=z0(a);var s=a.queue,l=Ay.bind(null,kt,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:q0,useDeferredValue:function(a,s){var l=Ja();return G0(l,a,s)},useTransition:function(){var a=z0(!1);return a=Cy.bind(null,kt,a.queue,!0,!1),Ja().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var c=kt,f=Ja();if(It){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Yt===null)throw Error(i(349));(At&124)!==0||ay(c,s,l)}f.memoizedState=l;var y={value:l,getSnapshot:s};return f.queue=y,py(ny.bind(null,c,y,a),[a]),c.flags|=2048,Wi(9,rd(),ry.bind(null,c,y,l,s),null),l},useId:function(){var a=Ja(),s=Yt.identifierPrefix;if(It){var l=$n,c=kn;l=(c&~(1<<32-jt(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=ed++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=r4++,s="«"+s+"r"+l.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:K0,useFormState:hy,useActionState:hy,useOptimistic:function(a){var s=Ja();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Y0.bind(null,kt,!0,l),l.dispatch=s,[a,s]},useMemoCache:U0,useCacheRefresh:function(){return Ja().memoizedState=o4.bind(null,kt)}},Dy={readContext:Ia,use:td,useCallback:ky,useContext:Ia,useEffect:by,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:Ny,useMemo:$y,useReducer:ad,useRef:xy,useState:function(){return ad(_n)},useDebugValue:q0,useDeferredValue:function(a,s){var l=ma();return Sy(l,zt.memoizedState,a,s)},useTransition:function(){var a=ad(_n)[0],s=ma().memoizedState;return[typeof a=="boolean"?a:go(a),s]},useSyncExternalStore:ty,useId:Ey,useHostTransitionStatus:K0,useFormState:my,useActionState:my,useOptimistic:function(a,s){var l=ma();return ly(l,zt,a,s)},useMemoCache:U0,useCacheRefresh:Oy},d4={readContext:Ia,use:td,useCallback:ky,useContext:Ia,useEffect:by,useImperativeHandle:wy,useInsertionEffect:vy,useLayoutEffect:Ny,useMemo:$y,useReducer:B0,useRef:xy,useState:function(){return B0(_n)},useDebugValue:q0,useDeferredValue:function(a,s){var l=ma();return zt===null?G0(l,a,s):Sy(l,zt.memoizedState,a,s)},useTransition:function(){var a=B0(_n)[0],s=ma().memoizedState;return[typeof a=="boolean"?a:go(a),s]},useSyncExternalStore:ty,useId:Ey,useHostTransitionStatus:K0,useFormState:yy,useActionState:yy,useOptimistic:function(a,s){var l=ma();return zt!==null?ly(l,zt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:U0,useCacheRefresh:Oy},Ji=null,po=0;function ld(a){var s=po;return po+=1,Ji===null&&(Ji=[]),Kg(Ji,a,s)}function bo(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function od(a,s){throw s.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(s),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Ly(a){var s=a._init;return s(a._payload)}function Iy(a){function s(te,q){if(a){var oe=te.deletions;oe===null?(te.deletions=[q],te.flags|=16):oe.push(q)}}function l(te,q){if(!a)return null;for(;q!==null;)s(te,q),q=q.sibling;return null}function c(te){for(var q=new Map;te!==null;)te.key!==null?q.set(te.key,te):q.set(te.index,te),te=te.sibling;return q}function f(te,q){return te=wn(te,q),te.index=0,te.sibling=null,te}function y(te,q,oe){return te.index=oe,a?(oe=te.alternate,oe!==null?(oe=oe.index,oe<q?(te.flags|=67108866,q):oe):(te.flags|=67108866,q)):(te.flags|=1048576,q)}function w(te){return a&&te.alternate===null&&(te.flags|=67108866),te}function T(te,q,oe,Se){return q===null||q.tag!==6?(q=g0(oe,te.mode,Se),q.return=te,q):(q=f(q,oe),q.return=te,q)}function F(te,q,oe,Se){var Xe=oe.type;return Xe===S?we(te,q,oe.props.children,Se,oe.key):q!==null&&(q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Y&&Ly(Xe)===q.type)?(q=f(q,oe.props),bo(q,oe),q.return=te,q):(q=qc(oe.type,oe.key,oe.props,null,te.mode,Se),bo(q,oe),q.return=te,q)}function ce(te,q,oe,Se){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=y0(oe,te.mode,Se),q.return=te,q):(q=f(q,oe.children||[]),q.return=te,q)}function we(te,q,oe,Se,Xe){return q===null||q.tag!==7?(q=ai(oe,te.mode,Se,Xe),q.return=te,q):(q=f(q,oe),q.return=te,q)}function Te(te,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=g0(""+q,te.mode,oe),q.return=te,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return oe=qc(q.type,q.key,q.props,null,te.mode,oe),bo(oe,q),oe.return=te,oe;case p:return q=y0(q,te.mode,oe),q.return=te,q;case Y:var Se=q._init;return q=Se(q._payload),Te(te,q,oe)}if(z(q)||J(q))return q=ai(q,te.mode,oe,null),q.return=te,q;if(typeof q.then=="function")return Te(te,ld(q),oe);if(q.$$typeof===D)return Te(te,Yc(te,q),oe);od(te,q)}return null}function fe(te,q,oe,Se){var Xe=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Xe!==null?null:T(te,q,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return oe.key===Xe?F(te,q,oe,Se):null;case p:return oe.key===Xe?ce(te,q,oe,Se):null;case Y:return Xe=oe._init,oe=Xe(oe._payload),fe(te,q,oe,Se)}if(z(oe)||J(oe))return Xe!==null?null:we(te,q,oe,Se,null);if(typeof oe.then=="function")return fe(te,q,ld(oe),Se);if(oe.$$typeof===D)return fe(te,q,Yc(te,oe),Se);od(te,oe)}return null}function me(te,q,oe,Se,Xe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return te=te.get(oe)||null,T(q,te,""+Se,Xe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:return te=te.get(Se.key===null?oe:Se.key)||null,F(q,te,Se,Xe);case p:return te=te.get(Se.key===null?oe:Se.key)||null,ce(q,te,Se,Xe);case Y:var $t=Se._init;return Se=$t(Se._payload),me(te,q,oe,Se,Xe)}if(z(Se)||J(Se))return te=te.get(oe)||null,we(q,te,Se,Xe,null);if(typeof Se.then=="function")return me(te,q,oe,ld(Se),Xe);if(Se.$$typeof===D)return me(te,q,oe,Yc(q,Se),Xe);od(q,Se)}return null}function gt(te,q,oe,Se){for(var Xe=null,$t=null,at=q,ut=q=0,Ca=null;at!==null&&ut<oe.length;ut++){at.index>ut?(Ca=at,at=null):Ca=at.sibling;var Dt=fe(te,at,oe[ut],Se);if(Dt===null){at===null&&(at=Ca);break}a&&at&&Dt.alternate===null&&s(te,at),q=y(Dt,q,ut),$t===null?Xe=Dt:$t.sibling=Dt,$t=Dt,at=Ca}if(ut===oe.length)return l(te,at),It&&ni(te,ut),Xe;if(at===null){for(;ut<oe.length;ut++)at=Te(te,oe[ut],Se),at!==null&&(q=y(at,q,ut),$t===null?Xe=at:$t.sibling=at,$t=at);return It&&ni(te,ut),Xe}for(at=c(at);ut<oe.length;ut++)Ca=me(at,te,ut,oe[ut],Se),Ca!==null&&(a&&Ca.alternate!==null&&at.delete(Ca.key===null?ut:Ca.key),q=y(Ca,q,ut),$t===null?Xe=Ca:$t.sibling=Ca,$t=Ca);return a&&at.forEach(function(js){return s(te,js)}),It&&ni(te,ut),Xe}function ct(te,q,oe,Se){if(oe==null)throw Error(i(151));for(var Xe=null,$t=null,at=q,ut=q=0,Ca=null,Dt=oe.next();at!==null&&!Dt.done;ut++,Dt=oe.next()){at.index>ut?(Ca=at,at=null):Ca=at.sibling;var js=fe(te,at,Dt.value,Se);if(js===null){at===null&&(at=Ca);break}a&&at&&js.alternate===null&&s(te,at),q=y(js,q,ut),$t===null?Xe=js:$t.sibling=js,$t=js,at=Ca}if(Dt.done)return l(te,at),It&&ni(te,ut),Xe;if(at===null){for(;!Dt.done;ut++,Dt=oe.next())Dt=Te(te,Dt.value,Se),Dt!==null&&(q=y(Dt,q,ut),$t===null?Xe=Dt:$t.sibling=Dt,$t=Dt);return It&&ni(te,ut),Xe}for(at=c(at);!Dt.done;ut++,Dt=oe.next())Dt=me(at,te,ut,Dt.value,Se),Dt!==null&&(a&&Dt.alternate!==null&&at.delete(Dt.key===null?ut:Dt.key),q=y(Dt,q,ut),$t===null?Xe=Dt:$t.sibling=Dt,$t=Dt);return a&&at.forEach(function(uN){return s(te,uN)}),It&&ni(te,ut),Xe}function qt(te,q,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===S&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:e:{for(var Xe=oe.key;q!==null;){if(q.key===Xe){if(Xe=oe.type,Xe===S){if(q.tag===7){l(te,q.sibling),Se=f(q,oe.props.children),Se.return=te,te=Se;break e}}else if(q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Y&&Ly(Xe)===q.type){l(te,q.sibling),Se=f(q,oe.props),bo(Se,oe),Se.return=te,te=Se;break e}l(te,q);break}else s(te,q);q=q.sibling}oe.type===S?(Se=ai(oe.props.children,te.mode,Se,oe.key),Se.return=te,te=Se):(Se=qc(oe.type,oe.key,oe.props,null,te.mode,Se),bo(Se,oe),Se.return=te,te=Se)}return w(te);case p:e:{for(Xe=oe.key;q!==null;){if(q.key===Xe)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){l(te,q.sibling),Se=f(q,oe.children||[]),Se.return=te,te=Se;break e}else{l(te,q);break}else s(te,q);q=q.sibling}Se=y0(oe,te.mode,Se),Se.return=te,te=Se}return w(te);case Y:return Xe=oe._init,oe=Xe(oe._payload),qt(te,q,oe,Se)}if(z(oe))return gt(te,q,oe,Se);if(J(oe)){if(Xe=J(oe),typeof Xe!="function")throw Error(i(150));return oe=Xe.call(oe),ct(te,q,oe,Se)}if(typeof oe.then=="function")return qt(te,q,ld(oe),Se);if(oe.$$typeof===D)return qt(te,q,Yc(te,oe),Se);od(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,q!==null&&q.tag===6?(l(te,q.sibling),Se=f(q,oe),Se.return=te,te=Se):(l(te,q),Se=g0(oe,te.mode,Se),Se.return=te,te=Se),w(te)):l(te,q)}return function(te,q,oe,Se){try{po=0;var Xe=qt(te,q,oe,Se);return Ji=null,Xe}catch(at){if(at===oo||at===Xc)throw at;var $t=lr(29,at,null,te.mode);return $t.lanes=Se,$t.return=te,$t}finally{}}}var el=Iy(!0),Uy=Iy(!1),$r=ie(null),cn=null;function ls(a){var s=a.alternate;V(ba,ba.current&1),V($r,a),cn===null&&(s===null||Qi.current!==null||s.memoizedState!==null)&&(cn=a)}function Fy(a){if(a.tag===22){if(V(ba,ba.current),V($r,a),cn===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(cn=a)}}else os()}function os(){V(ba,ba.current),V($r,$r.current)}function Tn(a){ve($r),cn===a&&(cn=null),ve(ba)}var ba=ie(0);function cd(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Uf(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Q0(a,s,l,c){s=a.memoizedState,l=l(c,s),l=l==null?s:x({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var X0={enqueueSetState:function(a,s,l){a=a._reactInternals;var c=ur(),f=ns(c);f.payload=s,l!=null&&(f.callback=l),s=ss(a,f,c),s!==null&&(fr(s,a,c),uo(s,a,c))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var c=ur(),f=ns(c);f.tag=1,f.payload=s,l!=null&&(f.callback=l),s=ss(a,f,c),s!==null&&(fr(s,a,c),uo(s,a,c))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=ur(),c=ns(l);c.tag=2,s!=null&&(c.callback=s),s=ss(a,c,l),s!==null&&(fr(s,a,l),uo(s,a,l))}};function By(a,s,l,c,f,y,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,y,w):s.prototype&&s.prototype.isPureReactComponent?!eo(l,c)||!eo(f,y):!0}function zy(a,s,l,c){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==a&&X0.enqueueReplaceState(s,s.state,null)}function ui(a,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(a=a.defaultProps){l===s&&(l=x({},l));for(var f in a)l[f]===void 0&&(l[f]=a[f])}return l}var dd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Hy(a){dd(a)}function qy(a){console.error(a)}function Gy(a){dd(a)}function ud(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Vy(a,s,l){try{var c=a.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Z0(a,s,l){return l=ns(l),l.tag=3,l.payload={element:null},l.callback=function(){ud(a,s)},l}function Ky(a){return a=ns(a),a.tag=3,a}function Yy(a,s,l,c){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var y=c.value;a.payload=function(){return f(y)},a.callback=function(){Vy(s,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){Vy(s,l,c),typeof f!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function u4(a,s,l,c,f){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&so(s,l,f,!0),l=$r.current,l!==null){switch(l.tag){case 13:return cn===null?jf():l.alternate===null&&na===0&&(na=3),l.flags&=-257,l.flags|=65536,l.lanes=f,c===S0?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),kf(a,c,f)),!1;case 22:return l.flags|=65536,c===S0?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),kf(a,c,f)),!1}throw Error(i(435,l.tag))}return kf(a,c,f),jf(),!1}if(It)return s=$r.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==b0&&(a=Error(i(422),{cause:c}),no(Nr(a,l)))):(c!==b0&&(s=Error(i(423),{cause:c}),no(Nr(s,l))),a=a.current.alternate,a.flags|=65536,f&=-f,a.lanes|=f,c=Nr(c,l),f=Z0(a.stateNode,c,f),T0(a,f),na!==4&&(na=2)),!1;var y=Error(i(520),{cause:c});if(y=Nr(y,l),So===null?So=[y]:So.push(y),na!==4&&(na=2),s===null)return!0;c=Nr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=f&-f,l.lanes|=a,a=Z0(l.stateNode,c,a),T0(l,a),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ms===null||!ms.has(y))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Ky(f),Yy(f,a,l,c),T0(l,f),!1}l=l.return}while(l!==null);return!1}var Qy=Error(i(461)),$a=!1;function Ta(a,s,l,c){s.child=a===null?Uy(s,null,l,c):el(s,a.child,l,c)}function Xy(a,s,l,c,f){l=l.render;var y=s.ref;if("ref"in c){var w={};for(var T in c)T!=="ref"&&(w[T]=c[T])}else w=c;return oi(s),c=P0(a,s,l,w,y,f),T=M0(),a!==null&&!$a?(D0(a,s,f),En(a,s,f)):(It&&T&&x0(s),s.flags|=1,Ta(a,s,c,f),s.child)}function Zy(a,s,l,c,f){if(a===null){var y=l.type;return typeof y=="function"&&!m0(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,Wy(a,s,y,c,f)):(a=qc(l.type,null,c,s,s.mode,f),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!sf(a,f)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:eo,l(w,c)&&a.ref===s.ref)return En(a,s,f)}return s.flags|=1,a=wn(y,c),a.ref=s.ref,a.return=s,s.child=a}function Wy(a,s,l,c,f){if(a!==null){var y=a.memoizedProps;if(eo(y,c)&&a.ref===s.ref)if($a=!1,s.pendingProps=c=y,sf(a,f))(a.flags&131072)!==0&&($a=!0);else return s.lanes=a.lanes,En(a,s,f)}return W0(a,s,l,c,f)}function Jy(a,s,l){var c=s.pendingProps,f=c.children,y=a!==null?a.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,a!==null){for(f=s.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return ex(a,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Qc(s,y!==null?y.cachePool:null),y!==null?Wg(s,y):O0(),Fy(s);else return s.lanes=s.childLanes=536870912,ex(a,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Qc(s,y.cachePool),Wg(s,y),os(),s.memoizedState=null):(a!==null&&Qc(s,null),O0(),os());return Ta(a,s,f,l),s.child}function ex(a,s,l,c){var f=$0();return f=f===null?null:{parent:pa._currentValue,pool:f},s.memoizedState={baseLanes:l,cachePool:f},a!==null&&Qc(s,null),O0(),Fy(s),a!==null&&so(a,s,c,!0),null}function fd(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function W0(a,s,l,c,f){return oi(s),l=P0(a,s,l,c,void 0,f),c=M0(),a!==null&&!$a?(D0(a,s,f),En(a,s,f)):(It&&c&&x0(s),s.flags|=1,Ta(a,s,l,f),s.child)}function tx(a,s,l,c,f,y){return oi(s),s.updateQueue=null,l=ey(s,c,l,f),Jg(a),c=M0(),a!==null&&!$a?(D0(a,s,y),En(a,s,y)):(It&&c&&x0(s),s.flags|=1,Ta(a,s,l,y),s.child)}function ax(a,s,l,c,f){if(oi(s),s.stateNode===null){var y=qi,w=l.contextType;typeof w=="object"&&w!==null&&(y=Ia(w)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=X0,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},C0(s),w=l.contextType,y.context=typeof w=="object"&&w!==null?Ia(w):qi,y.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Q0(s,l,w,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&X0.enqueueReplaceState(y,y.state,null),ho(s,c,y,f),fo(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(a===null){y=s.stateNode;var T=s.memoizedProps,F=ui(l,T);y.props=F;var ce=y.context,we=l.contextType;w=qi,typeof we=="object"&&we!==null&&(w=Ia(we));var Te=l.getDerivedStateFromProps;we=typeof Te=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,we||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||ce!==w)&&zy(s,y,c,w),rs=!1;var fe=s.memoizedState;y.state=fe,ho(s,c,y,f),fo(),ce=s.memoizedState,T||fe!==ce||rs?(typeof Te=="function"&&(Q0(s,l,Te,c),ce=s.memoizedState),(F=rs||By(s,l,F,c,fe,ce,w))?(we||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ce),y.props=c,y.state=ce,y.context=w,c=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,_0(a,s),w=s.memoizedProps,we=ui(l,w),y.props=we,Te=s.pendingProps,fe=y.context,ce=l.contextType,F=qi,typeof ce=="object"&&ce!==null&&(F=Ia(ce)),T=l.getDerivedStateFromProps,(ce=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Te||fe!==F)&&zy(s,y,c,F),rs=!1,fe=s.memoizedState,y.state=fe,ho(s,c,y,f),fo();var me=s.memoizedState;w!==Te||fe!==me||rs||a!==null&&a.dependencies!==null&&Kc(a.dependencies)?(typeof T=="function"&&(Q0(s,l,T,c),me=s.memoizedState),(we=rs||By(s,l,we,c,fe,me,F)||a!==null&&a.dependencies!==null&&Kc(a.dependencies))?(ce||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,me,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,me,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===a.memoizedProps&&fe===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&fe===a.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=me),y.props=c,y.state=me,y.context=F,c=we):(typeof y.componentDidUpdate!="function"||w===a.memoizedProps&&fe===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&fe===a.memoizedState||(s.flags|=1024),c=!1)}return y=c,fd(a,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&c?(s.child=el(s,a.child,null,f),s.child=el(s,null,l,f)):Ta(a,s,l,f),s.memoizedState=y.state,a=s.child):a=En(a,s,f),a}function rx(a,s,l,c){return ro(),s.flags|=256,Ta(a,s,l,c),s.child}var J0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(a){return{baseLanes:a,cachePool:qg()}}function tf(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=Sr),a}function nx(a,s,l){var c=s.pendingProps,f=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=a!==null&&a.memoizedState===null?!1:(ba.current&2)!==0),w&&(f=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,a===null){if(It){if(f?ls(s):os(),It){var T=ra,F;if(F=T){e:{for(F=T,T=on;F.nodeType!==8;){if(!T){T=null;break e}if(F=Br(F.nextSibling),F===null){T=null;break e}}T=F}T!==null?(s.memoizedState={dehydrated:T,treeContext:ri!==null?{id:kn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},F=lr(18,null,null,0),F.stateNode=T,F.return=s,s.child=F,Ha=s,ra=null,F=!0):F=!1}F||ii(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Uf(T)?s.lanes=32:s.lanes=536870912,null;Tn(s)}return T=c.children,c=c.fallback,f?(os(),f=s.mode,T=hd({mode:"hidden",children:T},f),c=ai(c,f,l,null),T.return=s,c.return=s,T.sibling=c,s.child=T,f=s.child,f.memoizedState=ef(l),f.childLanes=tf(a,w,l),s.memoizedState=J0,c):(ls(s),af(s,T))}if(F=a.memoizedState,F!==null&&(T=F.dehydrated,T!==null)){if(y)s.flags&256?(ls(s),s.flags&=-257,s=rf(a,s,l)):s.memoizedState!==null?(os(),s.child=a.child,s.flags|=128,s=null):(os(),f=c.fallback,T=s.mode,c=hd({mode:"visible",children:c.children},T),f=ai(f,T,l,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,el(s,a.child,null,l),c=s.child,c.memoizedState=ef(l),c.childLanes=tf(a,w,l),s.memoizedState=J0,s=f);else if(ls(s),Uf(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var ce=w.dgst;w=ce,c=Error(i(419)),c.stack="",c.digest=w,no({value:c,source:null,stack:null}),s=rf(a,s,l)}else if($a||so(a,s,l,!1),w=(l&a.childLanes)!==0,$a||w){if(w=Yt,w!==null&&(c=l&-l,c=(c&42)!==0?1:Lr(c),c=(c&(w.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,Hi(a,c),fr(w,a,c),Qy;T.data==="$?"||jf(),s=rf(a,s,l)}else T.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=F.treeContext,ra=Br(T.nextSibling),Ha=s,It=!0,si=null,on=!1,a!==null&&(wr[kr++]=kn,wr[kr++]=$n,wr[kr++]=ri,kn=a.id,$n=a.overflow,ri=s),s=af(s,c.children),s.flags|=4096);return s}return f?(os(),f=c.fallback,T=s.mode,F=a.child,ce=F.sibling,c=wn(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ce!==null?f=wn(ce,f):(f=ai(f,T,l,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,T=a.child.memoizedState,T===null?T=ef(l):(F=T.cachePool,F!==null?(ce=pa._currentValue,F=F.parent!==ce?{parent:ce,pool:ce}:F):F=qg(),T={baseLanes:T.baseLanes|l,cachePool:F}),f.memoizedState=T,f.childLanes=tf(a,w,l),s.memoizedState=J0,c):(ls(s),l=a.child,a=l.sibling,l=wn(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,a!==null&&(w=s.deletions,w===null?(s.deletions=[a],s.flags|=16):w.push(a)),s.child=l,s.memoizedState=null,l)}function af(a,s){return s=hd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function hd(a,s){return a=lr(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function rf(a,s,l){return el(s,a.child,null,l),a=af(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function sx(a,s,l){a.lanes|=s;var c=a.alternate;c!==null&&(c.lanes|=s),N0(a.return,s,l)}function nf(a,s,l,c,f){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=f)}function ix(a,s,l){var c=s.pendingProps,f=c.revealOrder,y=c.tail;if(Ta(a,s,c.children,l),c=ba.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&sx(a,l,s);else if(a.tag===19)sx(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}switch(V(ba,c),f){case"forwards":for(l=s.child,f=null;l!==null;)a=l.alternate,a!==null&&cd(a)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),nf(s,!1,f,l,y);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(a=f.alternate,a!==null&&cd(a)===null){s.child=f;break}a=f.sibling,f.sibling=l,l=f,f=a}nf(s,!0,l,null,y);break;case"together":nf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function En(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),hs|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(so(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(i(153));if(s.child!==null){for(a=s.child,l=wn(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=wn(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function sf(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Kc(a)))}function f4(a,s,l){switch(s.tag){case 3:ye(s,s.stateNode.containerInfo),as(s,pa,a.memoizedState.cache),ro();break;case 27:case 5:Ae(s);break;case 4:ye(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ls(s),s.flags|=128,null):(l&s.child.childLanes)!==0?nx(a,s,l):(ls(s),a=En(a,s,l),a!==null?a.sibling:null);ls(s);break;case 19:var f=(a.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(so(a,s,l,!1),c=(l&s.childLanes)!==0),f){if(c)return ix(a,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),V(ba,ba.current),c)break;return null;case 22:case 23:return s.lanes=0,Jy(a,s,l);case 24:as(s,pa,a.memoizedState.cache)}return En(a,s,l)}function lx(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)$a=!0;else{if(!sf(a,l)&&(s.flags&128)===0)return $a=!1,f4(a,s,l);$a=(a.flags&131072)!==0}else $a=!1,It&&(s.flags&1048576)!==0&&Lg(s,Vc,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")m0(c)?(a=ui(c,a),s.tag=1,s=ax(null,s,c,a,l)):(s.tag=0,s=W0(null,s,c,a,l));else{if(c!=null){if(f=c.$$typeof,f===L){s.tag=11,s=Xy(null,s,c,a,l);break e}else if(f===W){s.tag=14,s=Zy(null,s,c,a,l);break e}}throw s=K(c)||c,Error(i(306,s,""))}}return s;case 0:return W0(a,s,s.type,s.pendingProps,l);case 1:return c=s.type,f=ui(c,s.pendingProps),ax(a,s,c,f,l);case 3:e:{if(ye(s,s.stateNode.containerInfo),a===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;f=y.element,_0(a,s),ho(s,c,null,l);var w=s.memoizedState;if(c=w.cache,as(s,pa,c),c!==y.cache&&j0(s,[pa],l,!0),fo(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=rx(a,s,c,l);break e}else if(c!==f){f=Nr(Error(i(424)),s),no(f),s=rx(a,s,c,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ra=Br(a.firstChild),Ha=s,It=!0,si=null,on=!0,l=Uy(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ro(),c===f){s=En(a,s,l);break e}Ta(a,s,c,l)}s=s.child}return s;case 26:return fd(a,s),a===null?(l=up(s.type,null,s.pendingProps,null))?s.memoizedState=l:It||(l=s.type,a=s.pendingProps,c=Cd(Oe.current).createElement(l),c[le]=s,c[Re]=a,Oa(c,l,a),tt(c),s.stateNode=c):s.memoizedState=up(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ae(s),a===null&&It&&(c=s.stateNode=op(s.type,s.pendingProps,Oe.current),Ha=s,on=!0,f=ra,xs(s.type)?(Ff=f,ra=Br(c.firstChild)):ra=f),Ta(a,s,s.pendingProps.children,l),fd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&It&&((f=c=ra)&&(c=F4(c,s.type,s.pendingProps,on),c!==null?(s.stateNode=c,Ha=s,ra=Br(c.firstChild),on=!1,f=!0):f=!1),f||ii(s)),Ae(s),f=s.type,y=s.pendingProps,w=a!==null?a.memoizedProps:null,c=y.children,Df(f,y)?c=null:w!==null&&Df(f,w)&&(s.flags|=32),s.memoizedState!==null&&(f=P0(a,s,n4,null,null,l),Mo._currentValue=f),fd(a,s),Ta(a,s,c,l),s.child;case 6:return a===null&&It&&((a=l=ra)&&(l=B4(l,s.pendingProps,on),l!==null?(s.stateNode=l,Ha=s,ra=null,a=!0):a=!1),a||ii(s)),null;case 13:return nx(a,s,l);case 4:return ye(s,s.stateNode.containerInfo),c=s.pendingProps,a===null?s.child=el(s,null,c,l):Ta(a,s,c,l),s.child;case 11:return Xy(a,s,s.type,s.pendingProps,l);case 7:return Ta(a,s,s.pendingProps,l),s.child;case 8:return Ta(a,s,s.pendingProps.children,l),s.child;case 12:return Ta(a,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,as(s,s.type,c.value),Ta(a,s,c.children,l),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,oi(s),f=Ia(f),c=c(f),s.flags|=1,Ta(a,s,c,l),s.child;case 14:return Zy(a,s,s.type,s.pendingProps,l);case 15:return Wy(a,s,s.type,s.pendingProps,l);case 19:return ix(a,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},a===null?(l=hd(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=wn(a.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Jy(a,s,l);case 24:return oi(s),c=Ia(pa),a===null?(f=$0(),f===null&&(f=Yt,y=w0(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=l),f=y),s.memoizedState={parent:c,cache:f},C0(s),as(s,pa,f)):((a.lanes&l)!==0&&(_0(a,s),ho(s,null,null,l),fo()),f=a.memoizedState,y=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),as(s,pa,c)):(c=y.cache,as(s,pa,c),c!==f.cache&&j0(s,[pa],l,!0))),Ta(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function On(a){a.flags|=4}function ox(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!yp(s)){if(s=$r.current,s!==null&&((At&4194048)===At?cn!==null:(At&62914560)!==At&&(At&536870912)===0||s!==cn))throw co=S0,Gg;a.flags|=8192}}function md(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Le():536870912,a.lanes|=s,nl|=s)}function vo(a,s){if(!It)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function Jt(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,c=0;if(s)for(var f=a.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=a,f=f.sibling;else for(f=a.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=a,f=f.sibling;return a.subtreeFlags|=c,a.childLanes=l,s}function h4(a,s,l){var c=s.pendingProps;switch(p0(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return l=s.stateNode,c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Cn(pa),$e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(ao(s)?On(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fg())),Jt(s),null;case 26:return l=s.memoizedState,a===null?(On(s),l!==null?(Jt(s),ox(s,l)):(Jt(s),s.flags&=-16777217)):l?l!==a.memoizedState?(On(s),Jt(s),ox(s,l)):(Jt(s),s.flags&=-16777217):(a.memoizedProps!==c&&On(s),Jt(s),s.flags&=-16777217),null;case 27:Ze(s),l=Oe.current;var f=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==c&&On(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}a=_e.current,ao(s)?Ig(s):(a=op(f,c,l),s.stateNode=a,On(s))}return Jt(s),null;case 5:if(Ze(s),l=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==c&&On(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}if(a=_e.current,ao(s))Ig(s);else{switch(f=Cd(Oe.current),a){case 1:a=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=f.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?a.multiple=!0:c.size&&(a.size=c.size);break;default:a=typeof c.is=="string"?f.createElement(l,{is:c.is}):f.createElement(l)}}a[le]=s,a[Re]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=a;e:switch(Oa(a,l,c),l){case"button":case"input":case"select":case"textarea":a=!!c.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&On(s)}}return Jt(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==c&&On(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(a=Oe.current,ao(s)){if(a=s.stateNode,l=s.memoizedProps,c=null,f=Ha,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}a[le]=s,a=!!(a.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||tp(a.nodeValue,l)),a||ii(s)}else a=Cd(a).createTextNode(c),a[le]=s,s.stateNode=a}return Jt(s),null;case 13:if(c=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(f=ao(s),c!==null&&c.dehydrated!==null){if(a===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[le]=s}else ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),f=!1}else f=Fg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Tn(s),s):(Tn(s),null)}if(Tn(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,a=a!==null&&a.memoizedState!==null,l){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048)}return l!==a&&l&&(s.child.flags|=8192),md(s,s.updateQueue),Jt(s),null;case 4:return $e(),a===null&&Of(s.stateNode.containerInfo),Jt(s),null;case 10:return Cn(s.type),Jt(s),null;case 19:if(ve(ba),f=s.memoizedState,f===null)return Jt(s),null;if(c=(s.flags&128)!==0,y=f.rendering,y===null)if(c)vo(f,!1);else{if(na!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=cd(a),y!==null){for(s.flags|=128,vo(f,!1),a=y.updateQueue,s.updateQueue=a,md(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)Dg(l,a),l=l.sibling;return V(ba,ba.current&1|2),s.child}a=a.sibling}f.tail!==null&&Pt()>xd&&(s.flags|=128,c=!0,vo(f,!1),s.lanes=4194304)}else{if(!c)if(a=cd(y),a!==null){if(s.flags|=128,c=!0,a=a.updateQueue,s.updateQueue=a,md(s,a),vo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!It)return Jt(s),null}else 2*Pt()-f.renderingStartTime>xd&&l!==536870912&&(s.flags|=128,c=!0,vo(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(a=f.last,a!==null?a.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Pt(),s.sibling=null,a=ba.current,V(ba,c?a&1|2:a&1),s):(Jt(s),null);case 22:case 23:return Tn(s),A0(),c=s.memoizedState!==null,a!==null?a.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),l=s.updateQueue,l!==null&&md(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),a!==null&&ve(ci),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Cn(pa),Jt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function m4(a,s){switch(p0(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Cn(pa),$e(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ze(s),null;case 13:if(Tn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ro()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ve(ba),null;case 4:return $e(),null;case 10:return Cn(s.type),null;case 22:case 23:return Tn(s),A0(),a!==null&&ve(ci),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Cn(pa),null;case 25:return null;default:return null}}function cx(a,s){switch(p0(s),s.tag){case 3:Cn(pa),$e();break;case 26:case 27:case 5:Ze(s);break;case 4:$e();break;case 13:Tn(s);break;case 19:ve(ba);break;case 10:Cn(s.type);break;case 22:case 23:Tn(s),A0(),a!==null&&ve(ci);break;case 24:Cn(pa)}}function No(a,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&a)===a){c=void 0;var y=l.create,w=l.inst;c=y(),w.destroy=c}l=l.next}while(l!==f)}}catch(T){Vt(s,s.return,T)}}function cs(a,s,l){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){var w=c.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,f=s;var F=l,ce=T;try{ce()}catch(we){Vt(f,F,we)}}}c=c.next}while(c!==y)}}catch(we){Vt(s,s.return,we)}}function dx(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Zg(s,l)}catch(c){Vt(a,a.return,c)}}}function ux(a,s,l){l.props=ui(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(a,s,c)}}function jo(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var c=a.stateNode;break;case 30:c=a.stateNode;break;default:c=a.stateNode}typeof l=="function"?a.refCleanup=l(c):l.current=c}}catch(f){Vt(a,s,f)}}function dn(a,s){var l=a.ref,c=a.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(f){Vt(a,s,f)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Vt(a,s,f)}else l.current=null}function fx(a){var s=a.type,l=a.memoizedProps,c=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(f){Vt(a,a.return,f)}}function lf(a,s,l){try{var c=a.stateNode;M4(c,a.type,l,s),c[Re]=s}catch(f){Vt(a,a.return,f)}}function hx(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xs(a.type)||a.tag===4}function of(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cf(a,s,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Sd));else if(c!==4&&(c===27&&xs(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(cf(a,s,l),a=a.sibling;a!==null;)cf(a,s,l),a=a.sibling}function gd(a,s,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(c!==4&&(c===27&&xs(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(gd(a,s,l),a=a.sibling;a!==null;)gd(a,s,l),a=a.sibling}function mx(a){var s=a.stateNode,l=a.memoizedProps;try{for(var c=a.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Oa(s,c,l),s[le]=a,s[Re]=l}catch(y){Vt(a,a.return,y)}}var An=!1,ca=!1,df=!1,gx=typeof WeakSet=="function"?WeakSet:Set,Sa=null;function g4(a,s){if(a=a.containerInfo,Pf=Rd,a=Sg(a),l0(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch(ct){l=null;break e}var w=0,T=-1,F=-1,ce=0,we=0,Te=a,fe=null;t:for(;;){for(var me;Te!==l||f!==0&&Te.nodeType!==3||(T=w+f),Te!==y||c!==0&&Te.nodeType!==3||(F=w+c),Te.nodeType===3&&(w+=Te.nodeValue.length),(me=Te.firstChild)!==null;)fe=Te,Te=me;for(;;){if(Te===a)break t;if(fe===l&&++ce===f&&(T=w),fe===y&&++we===c&&(F=w),(me=Te.nextSibling)!==null)break;Te=fe,fe=Te.parentNode}Te=me}l=T===-1||F===-1?null:{start:T,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mf={focusedElem:a,selectionRange:l},Rd=!1,Sa=s;Sa!==null;)if(s=Sa,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,Sa=a;else for(;Sa!==null;){switch(s=Sa,y=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=s,f=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var gt=ui(l.type,f,l.elementType===l.type);a=c.getSnapshotBeforeUpdate(gt,y),c.__reactInternalSnapshotBeforeUpdate=a}catch(ct){Vt(l,l.return,ct)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)If(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":If(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=s.sibling,a!==null){a.return=s.return,Sa=a;break}Sa=s.return}}function yx(a,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ds(a,l),c&4&&No(5,l);break;case 1:if(ds(a,l),c&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(w){Vt(l,l.return,w)}else{var f=ui(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(f,s,a.__reactInternalSnapshotBeforeUpdate)}catch(w){Vt(l,l.return,w)}}c&64&&dx(l),c&512&&jo(l,l.return);break;case 3:if(ds(a,l),c&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Zg(a,s)}catch(w){Vt(l,l.return,w)}}break;case 27:s===null&&c&4&&mx(l);case 26:case 5:ds(a,l),s===null&&c&4&&fx(l),c&512&&jo(l,l.return);break;case 12:ds(a,l);break;case 13:ds(a,l),c&4&&bx(a,l),c&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=k4.bind(null,l),z4(a,l))));break;case 22:if(c=l.memoizedState!==null||An,!c){s=s!==null&&s.memoizedState!==null||ca,f=An;var y=ca;An=c,(ca=s)&&!y?us(a,l,(l.subtreeFlags&8772)!==0):ds(a,l),An=f,ca=y}break;case 30:break;default:ds(a,l)}}function xx(a){var s=a.alternate;s!==null&&(a.alternate=null,xx(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&ee(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,er=!1;function Rn(a,s,l){for(l=l.child;l!==null;)px(a,s,l),l=l.sibling}function px(a,s,l){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ft,l)}catch(y){}switch(l.tag){case 26:ca||dn(l,s),Rn(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ca||dn(l,s);var c=Xt,f=er;xs(l.type)&&(Xt=l.stateNode,er=!1),Rn(a,s,l),Oo(l.stateNode),Xt=c,er=f;break;case 5:ca||dn(l,s);case 6:if(c=Xt,f=er,Xt=null,Rn(a,s,l),Xt=c,er=f,Xt!==null)if(er)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(l.stateNode)}catch(y){Vt(l,s,y)}else try{Xt.removeChild(l.stateNode)}catch(y){Vt(l,s,y)}break;case 18:Xt!==null&&(er?(a=Xt,ip(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Uo(a)):ip(Xt,l.stateNode));break;case 4:c=Xt,f=er,Xt=l.stateNode.containerInfo,er=!0,Rn(a,s,l),Xt=c,er=f;break;case 0:case 11:case 14:case 15:ca||cs(2,l,s),ca||cs(4,l,s),Rn(a,s,l);break;case 1:ca||(dn(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ux(l,s,c)),Rn(a,s,l);break;case 21:Rn(a,s,l);break;case 22:ca=(c=ca)||l.memoizedState!==null,Rn(a,s,l),ca=c;break;default:Rn(a,s,l)}}function bx(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Uo(a)}catch(l){Vt(s,s.return,l)}}function y4(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new gx),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new gx),s;default:throw Error(i(435,a.tag))}}function uf(a,s){var l=y4(a);s.forEach(function(c){var f=$4.bind(null,a,c);l.has(c)||(l.add(c),c.then(f,f))})}function or(a,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c],y=a,w=s,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(xs(T.type)){Xt=T.stateNode,er=!1;break e}break;case 5:Xt=T.stateNode,er=!1;break e;case 3:case 4:Xt=T.stateNode.containerInfo,er=!0;break e}T=T.return}if(Xt===null)throw Error(i(160));px(y,w,f),Xt=null,er=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vx(s,a),s=s.sibling}var Fr=null;function vx(a,s){var l=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:or(s,a),cr(a),c&4&&(cs(3,a,a.return),No(3,a),cs(5,a,a.return));break;case 1:or(s,a),cr(a),c&512&&(ca||l===null||dn(l,l.return)),c&64&&An&&(a=a.updateQueue,a!==null&&(c=a.callbacks,c!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var f=Fr;if(or(s,a),cr(a),c&512&&(ca||l===null||dn(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=a.memoizedState,l===null)if(c===null)if(a.stateNode===null){e:{c=a.type,l=a.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":y=f.getElementsByTagName("title")[0],(!y||y[st]||y[le]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(c),f.head.insertBefore(y,f.querySelector("head > title"))),Oa(y,c,l),y[le]=a,tt(y),c=y;break e;case"link":var w=mp("link","href",f).get(c+(l.href||""));if(w){for(var T=0;T<w.length;T++)if(y=w[T],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(T,1);break t}}y=f.createElement(c),Oa(y,c,l),f.head.appendChild(y);break;case"meta":if(w=mp("meta","content",f).get(c+(l.content||""))){for(T=0;T<w.length;T++)if(y=w[T],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(T,1);break t}}y=f.createElement(c),Oa(y,c,l),f.head.appendChild(y);break;default:throw Error(i(468,c))}y[le]=a,tt(y),c=y}a.stateNode=c}else gp(f,a.type,a.stateNode);else a.stateNode=hp(f,c,a.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?gp(f,a.type,a.stateNode):hp(f,c,a.memoizedProps)):c===null&&a.stateNode!==null&&lf(a,a.memoizedProps,l.memoizedProps)}break;case 27:or(s,a),cr(a),c&512&&(ca||l===null||dn(l,l.return)),l!==null&&c&4&&lf(a,a.memoizedProps,l.memoizedProps);break;case 5:if(or(s,a),cr(a),c&512&&(ca||l===null||dn(l,l.return)),a.flags&32){f=a.stateNode;try{Xn(f,"")}catch(me){Vt(a,a.return,me)}}c&4&&a.stateNode!=null&&(f=a.memoizedProps,lf(a,f,l!==null?l.memoizedProps:f)),c&1024&&(df=!0);break;case 6:if(or(s,a),cr(a),c&4){if(a.stateNode===null)throw Error(i(162));c=a.memoizedProps,l=a.stateNode;try{l.nodeValue=c}catch(me){Vt(a,a.return,me)}}break;case 3:if(Ed=null,f=Fr,Fr=_d(s.containerInfo),or(s,a),Fr=f,cr(a),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Uo(s.containerInfo)}catch(me){Vt(a,a.return,me)}df&&(df=!1,Nx(a));break;case 4:c=Fr,Fr=_d(a.stateNode.containerInfo),or(s,a),cr(a),Fr=c;break;case 12:or(s,a),cr(a);break;case 13:or(s,a),cr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xf=Pt()),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,uf(a,c)));break;case 22:f=a.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,ce=An,we=ca;if(An=ce||f,ca=we||F,or(s,a),ca=we,An=ce,cr(a),c&8192)e:for(s=a.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(l===null||F||An||ca||fi(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){F=l=s;try{if(y=F.stateNode,f)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=F.stateNode;var Te=F.memoizedProps.style,fe=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;T.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(me){Vt(F,F.return,me)}}}else if(s.tag===6){if(l===null){F=s;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(me){Vt(F,F.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=a.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,uf(a,l))));break;case 19:or(s,a),cr(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,uf(a,c)));break;case 30:break;case 21:break;default:or(s,a),cr(a)}}function cr(a){var s=a.flags;if(s&2){try{for(var l,c=a.return;c!==null;){if(hx(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,y=of(a);gd(a,y,f);break;case 5:var w=l.stateNode;l.flags&32&&(Xn(w,""),l.flags&=-33);var T=of(a);gd(a,T,w);break;case 3:case 4:var F=l.stateNode.containerInfo,ce=of(a);cf(a,ce,F);break;default:throw Error(i(161))}}catch(we){Vt(a,a.return,we)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Nx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Nx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ds(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yx(a,s.alternate,s),s=s.sibling}function fi(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),fi(s);break;case 1:dn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ux(s,s.return,l),fi(s);break;case 27:Oo(s.stateNode);case 26:case 5:dn(s,s.return),fi(s);break;case 22:s.memoizedState===null&&fi(s);break;case 30:fi(s);break;default:fi(s)}a=a.sibling}}function us(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=a,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:us(f,y,l),No(4,y);break;case 1:if(us(f,y,l),c=y,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ce){Vt(c,c.return,ce)}if(c=y,f=c.updateQueue,f!==null){var T=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)Xg(F[f],T)}catch(ce){Vt(c,c.return,ce)}}l&&w&64&&dx(y),jo(y,y.return);break;case 27:mx(y);case 26:case 5:us(f,y,l),l&&c===null&&w&4&&fx(y),jo(y,y.return);break;case 12:us(f,y,l);break;case 13:us(f,y,l),l&&w&4&&bx(f,y);break;case 22:y.memoizedState===null&&us(f,y,l),jo(y,y.return);break;case 30:break;default:us(f,y,l)}s=s.sibling}}function ff(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&io(l))}function hf(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&io(a))}function un(a,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jx(a,s,l,c),s=s.sibling}function jx(a,s,l,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:un(a,s,l,c),f&2048&&No(9,s);break;case 1:un(a,s,l,c);break;case 3:un(a,s,l,c),f&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&io(a)));break;case 12:if(f&2048){un(a,s,l,c),a=s.stateNode;try{var y=s.memoizedProps,w=y.id,T=y.onPostCommit;typeof T=="function"&&T(w,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(F){Vt(s,s.return,F)}}else un(a,s,l,c);break;case 13:un(a,s,l,c);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?un(a,s,l,c):wo(a,s):y._visibility&2?un(a,s,l,c):(y._visibility|=2,tl(a,s,l,c,(s.subtreeFlags&10256)!==0)),f&2048&&ff(w,s);break;case 24:un(a,s,l,c),f&2048&&hf(s.alternate,s);break;default:un(a,s,l,c)}}function tl(a,s,l,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=a,w=s,T=l,F=c,ce=w.flags;switch(w.tag){case 0:case 11:case 15:tl(y,w,T,F,f),No(8,w);break;case 23:break;case 22:var we=w.stateNode;w.memoizedState!==null?we._visibility&2?tl(y,w,T,F,f):wo(y,w):(we._visibility|=2,tl(y,w,T,F,f)),f&&ce&2048&&ff(w.alternate,w);break;case 24:tl(y,w,T,F,f),f&&ce&2048&&hf(w.alternate,w);break;default:tl(y,w,T,F,f)}s=s.sibling}}function wo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,c=s,f=c.flags;switch(c.tag){case 22:wo(l,c),f&2048&&ff(c.alternate,c);break;case 24:wo(l,c),f&2048&&hf(c.alternate,c);break;default:wo(l,c)}s=s.sibling}}var ko=8192;function al(a){if(a.subtreeFlags&ko)for(a=a.child;a!==null;)wx(a),a=a.sibling}function wx(a){switch(a.tag){case 26:al(a),a.flags&ko&&a.memoizedState!==null&&tN(Fr,a.memoizedState,a.memoizedProps);break;case 5:al(a);break;case 3:case 4:var s=Fr;Fr=_d(a.stateNode.containerInfo),al(a),Fr=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=ko,ko=16777216,al(a),ko=s):al(a));break;default:al(a)}}function kx(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function $o(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Sa=c,Sx(c,a)}kx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$x(a),a=a.sibling}function $x(a){switch(a.tag){case 0:case 11:case 15:$o(a),a.flags&2048&&cs(9,a,a.return);break;case 3:$o(a);break;case 12:$o(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,yd(a)):$o(a);break;default:$o(a)}}function yd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Sa=c,Sx(c,a)}kx(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:cs(8,s,s.return),yd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,yd(s));break;default:yd(s)}a=a.sibling}}function Sx(a,s){for(;Sa!==null;){var l=Sa;switch(l.tag){case 0:case 11:case 15:cs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:io(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Sa=c;else e:for(l=a;Sa!==null;){c=Sa;var f=c.sibling,y=c.return;if(xx(c),c===l){Sa=null;break e}if(f!==null){f.return=y,Sa=f;break e}Sa=y}}}var x4={getCacheForType:function(a){var s=Ia(pa),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l}},p4=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Yt=null,_t=null,At=0,Ft=0,dr=null,fs=!1,rl=!1,mf=!1,Pn=0,na=0,hs=0,hi=0,gf=0,Sr=0,nl=0,So=null,tr=null,yf=!1,xf=0,xd=1/0,pd=null,ms=null,Ea=0,gs=null,sl=null,il=0,pf=0,bf=null,Cx=null,Co=0,vf=null;function ur(){if((Ut&2)!==0&&At!==0)return At&-At;if(U.T!==null){var a=Ki;return a!==0?a:Cf()}return B()}function _x(){Sr===0&&(Sr=(At&536870912)===0||It?Dr():536870912);var a=$r.current;return a!==null&&(a.flags|=32),Sr}function fr(a,s,l){(a===Yt&&(Ft===2||Ft===9)||a.cancelPendingCommit!==null)&&(ll(a,0),ys(a,At,Sr,!1)),_a(a,l),((Ut&2)===0||a!==Yt)&&(a===Yt&&((Ut&2)===0&&(hi|=l),na===4&&ys(a,At,Sr,!1)),fn(a))}function Tx(a,s,l){if((Ut&6)!==0)throw Error(i(327));var c=!l&&(s&124)===0&&(s&a.expiredLanes)===0||Pa(a,s),f=c?N4(a,s):wf(a,s,!0),y=c;do{if(f===0){rl&&!c&&ys(a,s,0,!1);break}else{if(l=a.current.alternate,y&&!b4(l)){f=wf(a,s,!1),y=!1;continue}if(f===2){if(y=s,a.errorRecoveryDisabledLanes&y)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var T=a;f=So;var F=T.current.memoizedState.isDehydrated;if(F&&(ll(T,w).flags|=256),w=wf(T,w,!1),w!==2){if(mf&&!F){T.errorRecoveryDisabledLanes|=y,hi|=y,f=4;break e}y=tr,tr=f,y!==null&&(tr===null?tr=y:tr.push.apply(tr,y))}f=w}if(y=!1,f!==2)continue}}if(f===1){ll(a,0),ys(a,s,0,!0);break}e:{switch(c=a,y=f,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ys(c,s,Sr,!fs);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=xf+300-Pt(),10<f)){if(ys(c,s,Sr,!fs),za(c,0,!0)!==0)break e;c.timeoutHandle=np(Ex.bind(null,c,l,tr,pd,yf,s,Sr,hi,nl,fs,y,2,-0,0),f);break e}Ex(c,l,tr,pd,yf,s,Sr,hi,nl,fs,y,0,-0,0)}}break}while(!0);fn(a)}function Ex(a,s,l,c,f,y,w,T,F,ce,we,Te,fe,me){if(a.timeoutHandle=-1,Te=s.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(Po={stylesheets:null,count:0,unsuspend:eN},wx(s),Te=aN(),Te!==null)){a.cancelPendingCommit=Te(Lx.bind(null,a,s,y,l,c,f,w,T,F,we,1,fe,me)),ys(a,y,w,!ce);return}Lx(a,s,y,l,c,f,w,T,F)}function b4(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var f=l[c],y=f.getSnapshot;f=f.value;try{if(!ir(y(),f))return!1}catch(w){return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ys(a,s,l,c){s&=~gf,s&=~hi,a.suspendedLanes|=s,a.pingedLanes&=~s,c&&(a.warmLanes|=s),c=a.expirationTimes;for(var f=s;0<f;){var y=31-jt(f),w=1<<y;c[y]=-1,f&=~w}l!==0&&rr(a,l,s)}function bd(){return(Ut&6)===0?(_o(0),!1):!0}function Nf(){if(_t!==null){if(Ft===0)var a=_t.return;else a=_t,Sn=li=null,L0(a),Ji=null,po=0,a=_t;for(;a!==null;)cx(a.alternate,a),a=a.return;_t=null}}function ll(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,L4(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Nf(),Yt=a,_t=l=wn(a.current,null),At=s,Ft=0,dr=null,fs=!1,rl=Pa(a,s),mf=!1,nl=Sr=gf=hi=hs=na=0,tr=So=null,yf=!1,(s&8)!==0&&(s|=s&32);var c=a.entangledLanes;if(c!==0)for(a=a.entanglements,c&=s;0<c;){var f=31-jt(c),y=1<<f;s|=a[f],c&=~y}return Pn=s,Bc(),l}function Ox(a,s){kt=null,U.H=id,s===oo||s===Xc?(s=Yg(),Ft=3):s===Gg?(s=Yg(),Ft=4):Ft=s===Qy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dr=s,_t===null&&(na=1,ud(a,Nr(s,a.current)))}function Ax(){var a=U.H;return U.H=id,a===null?id:a}function Rx(){var a=U.A;return U.A=x4,a}function jf(){na=4,fs||(At&4194048)!==At&&$r.current!==null||(rl=!0),(hs&134217727)===0&&(hi&134217727)===0||Yt===null||ys(Yt,At,Sr,!1)}function wf(a,s,l){var c=Ut;Ut|=2;var f=Ax(),y=Rx();(Yt!==a||At!==s)&&(pd=null,ll(a,s)),s=!1;var w=na;e:do try{if(Ft!==0&&_t!==null){var T=_t,F=dr;switch(Ft){case 8:Nf(),w=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(s=!0);var ce=Ft;if(Ft=0,dr=null,ol(a,T,F,ce),l&&rl){w=0;break e}break;default:ce=Ft,Ft=0,dr=null,ol(a,T,F,ce)}}v4(),w=na;break}catch(we){Ox(a,we)}while(!0);return s&&a.shellSuspendCounter++,Sn=li=null,Ut=c,U.H=f,U.A=y,_t===null&&(Yt=null,At=0,Bc()),w}function v4(){for(;_t!==null;)Px(_t)}function N4(a,s){var l=Ut;Ut|=2;var c=Ax(),f=Rx();Yt!==a||At!==s?(pd=null,xd=Pt()+500,ll(a,s)):rl=Pa(a,s);e:do try{if(Ft!==0&&_t!==null){s=_t;var y=dr;t:switch(Ft){case 1:Ft=0,dr=null,ol(a,s,y,1);break;case 2:case 9:if(Vg(y)){Ft=0,dr=null,Mx(s);break}s=function(){Ft!==2&&Ft!==9||Yt!==a||(Ft=7),fn(a)},y.then(s,s);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:Vg(y)?(Ft=0,dr=null,Mx(s)):(Ft=0,dr=null,ol(a,s,y,7));break;case 5:var w=null;switch(_t.tag){case 26:w=_t.memoizedState;case 5:case 27:var T=_t;if(!w||yp(w)){Ft=0,dr=null;var F=T.sibling;if(F!==null)_t=F;else{var ce=T.return;ce!==null?(_t=ce,vd(ce)):_t=null}break t}}Ft=0,dr=null,ol(a,s,y,5);break;case 6:Ft=0,dr=null,ol(a,s,y,6);break;case 8:Nf(),na=6;break e;default:throw Error(i(462))}}j4();break}catch(we){Ox(a,we)}while(!0);return Sn=li=null,U.H=c,U.A=f,Ut=l,_t!==null?0:(Yt=null,At=0,Bc(),na)}function j4(){for(;_t!==null&&!Rt();)Px(_t)}function Px(a){var s=lx(a.alternate,a,Pn);a.memoizedProps=a.pendingProps,s===null?vd(a):_t=s}function Mx(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=tx(l,s,s.pendingProps,s.type,void 0,At);break;case 11:s=tx(l,s,s.pendingProps,s.type.render,s.ref,At);break;case 5:L0(s);default:cx(l,s),s=_t=Dg(s,Pn),s=lx(l,s,Pn)}a.memoizedProps=a.pendingProps,s===null?vd(a):_t=s}function ol(a,s,l,c){Sn=li=null,L0(s),Ji=null,po=0;var f=s.return;try{if(u4(a,f,s,l,At)){na=1,ud(a,Nr(l,a.current)),_t=null;return}}catch(y){if(f!==null)throw _t=f,y;na=1,ud(a,Nr(l,a.current)),_t=null;return}s.flags&32768?(It||c===1?a=!0:rl||(At&536870912)!==0?a=!1:(fs=a=!0,(c===2||c===9||c===3||c===6)&&(c=$r.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dx(s,a)):vd(s)}function vd(a){var s=a;do{if((s.flags&32768)!==0){Dx(s,fs);return}a=s.return;var l=h4(s.alternate,s,Pn);if(l!==null){_t=l;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=a}while(s!==null);na===0&&(na=5)}function Dx(a,s){do{var l=m4(a.alternate,a);if(l!==null){l.flags&=32767,_t=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){_t=a;return}_t=a=l}while(a!==null);na=6,_t=null}function Lx(a,s,l,c,f,y,w,T,F){a.cancelPendingCommit=null;do Nd();while(Ea!==0);if((Ut&6)!==0)throw Error(i(327));if(s!==null){if(s===a.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=f0,bn(a,l,y,w,T,F),a===Yt&&(_t=Yt=null,At=0),sl=s,gs=a,il=l,pf=y,bf=f,Cx=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,S4(Na,function(){return zx(),null})):(a.callbackNode=null,a.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,f=_.p,_.p=2,w=Ut,Ut|=4;try{g4(a,s,l)}finally{Ut=w,_.p=f,U.T=c}}Ea=1,Ix(),Ux(),Fx()}}function Ix(){if(Ea===1){Ea=0;var a=gs,s=sl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var c=_.p;_.p=2;var f=Ut;Ut|=4;try{vx(s,a);var y=Mf,w=Sg(a.containerInfo),T=y.focusedElem,F=y.selectionRange;if(w!==T&&T&&T.ownerDocument&&$g(T.ownerDocument.documentElement,T)){if(F!==null&&l0(T)){var ce=F.start,we=F.end;if(we===void 0&&(we=ce),"selectionStart"in T)T.selectionStart=ce,T.selectionEnd=Math.min(we,T.value.length);else{var Te=T.ownerDocument||document,fe=Te&&Te.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),gt=T.textContent.length,ct=Math.min(F.start,gt),qt=F.end===void 0?ct:Math.min(F.end,gt);!me.extend&&ct>qt&&(w=qt,qt=ct,ct=w);var te=kg(T,ct),q=kg(T,qt);if(te&&q&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==q.node||me.focusOffset!==q.offset)){var oe=Te.createRange();oe.setStart(te.node,te.offset),me.removeAllRanges(),ct>qt?(me.addRange(oe),me.extend(q.node,q.offset)):(oe.setEnd(q.node,q.offset),me.addRange(oe))}}}}for(Te=[],me=T;me=me.parentNode;)me.nodeType===1&&Te.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Te.length;T++){var Se=Te[T];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Rd=!!Pf,Mf=Pf=null}finally{Ut=f,_.p=c,U.T=l}}a.current=s,Ea=2}}function Ux(){if(Ea===2){Ea=0;var a=gs,s=sl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var c=_.p;_.p=2;var f=Ut;Ut|=4;try{yx(a,s.alternate,s)}finally{Ut=f,_.p=c,U.T=l}}Ea=3}}function Fx(){if(Ea===4||Ea===3){Ea=0,ia();var a=gs,s=sl,l=il,c=Cx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ea=5:(Ea=0,sl=gs=null,Bx(a,a.pendingLanes));var f=a.pendingLanes;if(f===0&&(ms=null),an(l),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ft,s,void 0,(s.current.flags&128)===128)}catch(F){}if(c!==null){s=U.T,f=_.p,_.p=2,U.T=null;try{for(var y=a.onRecoverableError,w=0;w<c.length;w++){var T=c[w];y(T.value,{componentStack:T.stack})}}finally{U.T=s,_.p=f}}(il&3)!==0&&Nd(),fn(a),f=a.pendingLanes,(l&4194090)!==0&&(f&42)!==0?a===vf?Co++:(Co=0,vf=a):Co=0,_o(0)}}function Bx(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,io(s)))}function Nd(a){return Ix(),Ux(),Fx(),zx()}function zx(){if(Ea!==5)return!1;var a=gs,s=pf;pf=0;var l=an(il),c=U.T,f=_.p;try{_.p=32>l?32:l,U.T=null,l=bf,bf=null;var y=gs,w=il;if(Ea=0,sl=gs=null,il=0,(Ut&6)!==0)throw Error(i(331));var T=Ut;if(Ut|=4,$x(y.current),jx(y,y.current,w,l),Ut=T,_o(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ft,y)}catch(F){}return!0}finally{_.p=f,U.T=c,Bx(a,s)}}function Hx(a,s,l){s=Nr(l,s),s=Z0(a.stateNode,s,2),a=ss(a,s,2),a!==null&&(_a(a,2),fn(a))}function Vt(a,s,l){if(a.tag===3)Hx(a,a,l);else for(;s!==null;){if(s.tag===3){Hx(s,a,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ms===null||!ms.has(c))){a=Nr(l,a),l=Ky(2),c=ss(s,l,2),c!==null&&(Yy(l,c,s,a),_a(c,2),fn(c));break}}s=s.return}}function kf(a,s,l){var c=a.pingCache;if(c===null){c=a.pingCache=new p4;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(l)||(mf=!0,f.add(l),a=w4.bind(null,a,s,l),s.then(a,a))}function w4(a,s,l){var c=a.pingCache;c!==null&&c.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Yt===a&&(At&l)===l&&(na===4||na===3&&(At&62914560)===At&&300>Pt()-xf?(Ut&2)===0&&ll(a,0):gf|=l,nl===At&&(nl=0)),fn(a)}function qx(a,s){s===0&&(s=Le()),a=Hi(a,s),a!==null&&(_a(a,s),fn(a))}function k4(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),qx(a,l)}function $4(a,s){var l=0;switch(a.tag){case 13:var c=a.stateNode,f=a.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=a.stateNode;break;case 22:c=a.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),qx(a,l)}function S4(a,s){return Q(a,s)}var jd=null,cl=null,$f=!1,wd=!1,Sf=!1,mi=0;function fn(a){a!==cl&&a.next===null&&(cl===null?jd=cl=a:cl=cl.next=a),wd=!0,$f||($f=!0,_4())}function _o(a,s){if(!Sf&&wd){Sf=!0;do for(var l=!1,c=jd;c!==null;){if(a!==0){var f=c.pendingLanes;if(f===0)var y=0;else{var w=c.suspendedLanes,T=c.pingedLanes;y=(1<<31-jt(42|a)+1)-1,y&=f&~(w&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Yx(c,y))}else y=At,y=za(c,c===Yt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Pa(c,y)||(l=!0,Yx(c,y));c=c.next}while(l);Sf=!1}}function C4(){Gx()}function Gx(){wd=$f=!1;var a=0;mi!==0&&(D4()&&(a=mi),mi=0);for(var s=Pt(),l=null,c=jd;c!==null;){var f=c.next,y=Vx(c,s);y===0?(c.next=null,l===null?jd=f:l.next=f,f===null&&(cl=l)):(l=c,(a!==0||(y&3)!==0)&&(wd=!0)),c=f}_o(a)}function Vx(a,s){for(var l=a.suspendedLanes,c=a.pingedLanes,f=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var w=31-jt(y),T=1<<w,F=f[w];F===-1?((T&l)===0||(T&c)!==0)&&(f[w]=Yn(T,s)):F<=s&&(a.expiredLanes|=T),y&=~T}if(s=Yt,l=At,l=za(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c=a.callbackNode,l===0||a===s&&(Ft===2||Ft===9)||a.cancelPendingCommit!==null)return c!==null&&c!==null&&De(c),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Pa(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(c!==null&&De(c),an(l)){case 2:case 8:l=Ra;break;case 32:l=Na;break;case 268435456:l=X;break;default:l=Na}return c=Kx.bind(null,a),l=Q(l,c),a.callbackPriority=s,a.callbackNode=l,s}return c!==null&&c!==null&&De(c),a.callbackPriority=2,a.callbackNode=null,2}function Kx(a,s){if(Ea!==0&&Ea!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Nd()&&a.callbackNode!==l)return null;var c=At;return c=za(a,a===Yt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c===0?null:(Tx(a,c,s),Vx(a,Pt()),a.callbackNode!=null&&a.callbackNode===l?Kx.bind(null,a):null)}function Yx(a,s){if(Nd())return null;Tx(a,s,!0)}function _4(){I4(function(){(Ut&6)!==0?Q(Aa,C4):Gx()})}function Cf(){return mi===0&&(mi=Dr()),mi}function Qx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ri(""+a)}function Xx(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function T4(a,s,l,c,f){if(s==="submit"&&l&&l.stateNode===f){var y=Qx((f[Re]||null).action),w=c.submitter;w&&(s=(s=w[Re]||null)?Qx(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var T=new Di("action","action",null,c,f);a.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(mi!==0){var F=w?Xx(f,w):new FormData(f);V0(l,{pending:!0,data:F,method:f.method,action:y},null,F)}}else typeof y=="function"&&(T.preventDefault(),F=w?Xx(f,w):new FormData(f),V0(l,{pending:!0,data:F,method:f.method,action:y},y,F))},currentTarget:f}]})}}for(var _f=0;_f<u0.length;_f++){var Tf=u0[_f],E4=Tf.toLowerCase(),O4=Tf[0].toUpperCase()+Tf.slice(1);Ur(E4,"on"+O4)}Ur(Tg,"onAnimationEnd"),Ur(Eg,"onAnimationIteration"),Ur(Og,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Y3,"onTransitionRun"),Ur(Q3,"onTransitionStart"),Ur(X3,"onTransitionCancel"),Ur(Ag,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function Zx(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var c=a[l],f=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var w=c.length-1;0<=w;w--){var T=c[w],F=T.instance,ce=T.currentTarget;if(T=T.listener,F!==y&&f.isPropagationStopped())break e;y=T,f.currentTarget=ce;try{y(f)}catch(we){dd(we)}f.currentTarget=null,y=F}else for(w=0;w<c.length;w++){if(T=c[w],F=T.instance,ce=T.currentTarget,T=T.listener,F!==y&&f.isPropagationStopped())break e;y=T,f.currentTarget=ce;try{y(f)}catch(we){dd(we)}f.currentTarget=null,y=F}}}}function Tt(a,s){var l=s[rt];l===void 0&&(l=s[rt]=new Set);var c=a+"__bubble";l.has(c)||(Wx(s,a,2,!1),l.add(c))}function Ef(a,s,l){var c=0;s&&(c|=4),Wx(l,a,c,s)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Of(a){if(!a[kd]){a[kd]=!0,Ge.forEach(function(l){l!=="selectionchange"&&(A4.has(l)||Ef(l,!1,a),Ef(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[kd]||(s[kd]=!0,Ef("selectionchange",!1,s))}}function Wx(a,s,l,c){switch(jp(s)){case 2:var f=sN;break;case 8:f=iN;break;default:f=Gf}l=f.bind(null,s,l,a),f=void 0,!Pi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?a.addEventListener(s,l,{capture:!0,passive:f}):a.addEventListener(s,l,!0):f!==void 0?a.addEventListener(s,l,{passive:f}):a.addEventListener(s,l,!1)}function Af(a,s,l,c,f){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var T=c.stateNode.containerInfo;if(T===f)break;if(w===4)for(w=c.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;T!==null;){if(w=Ne(T),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){c=y=w;continue e}T=T.parentNode}}c=c.return}Xl(function(){var ce=y,we=Qs(l),Te=[];e:{var fe=Rg.get(a);if(fe!==void 0){var me=Di,gt=a;switch(a){case"keypress":if(Jn(l)===0)break e;case"keydown":case"keyup":me=ln;break;case"focusin":gt="focus",me=nt;break;case"focusout":gt="blur",me=nt;break;case"beforeblur":case"afterblur":me=nt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Z;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=de;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Uc;break;case Tg:case Eg:case Og:me=Ve;break;case Ag:me=O3;break;case"scroll":case"scrollend":me=aa;break;case"wheel":me=R3;break;case"copy":case"cut":case"paste":me=Bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Li;break;case"toggle":case"beforetoggle":me=M3}var ct=(s&4)!==0,qt=!ct&&(a==="scroll"||a==="scrollend"),te=ct?fe!==null?fe+"Capture":null:fe;ct=[];for(var q=ce,oe;q!==null;){var Se=q;if(oe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||oe===null||te===null||(Se=Wn(q,te),Se!=null&&ct.push(Eo(q,Se,oe))),qt)break;q=q.return}0<ct.length&&(fe=new me(fe,gt,null,l,we),Te.push({event:fe,listeners:ct}))}}if((s&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",fe&&l!==Yl&&(gt=l.relatedTarget||l.fromElement)&&(Ne(gt)||gt[Ke]))break e;if((me||fe)&&(fe=we.window===we?we:(fe=we.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(gt=l.relatedTarget||l.toElement,me=ce,gt=gt?Ne(gt):null,gt!==null&&(qt=d(gt),ct=gt.tag,gt!==qt||ct!==5&&ct!==27&&ct!==6)&&(gt=null)):(me=null,gt=ce),me!==gt)){if(ct=Z,Se="onMouseLeave",te="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(ct=Li,Se="onPointerLeave",te="onPointerEnter",q="pointer"),qt=me==null?fe:qe(me),oe=gt==null?fe:qe(gt),fe=new ct(Se,q+"leave",me,l,we),fe.target=qt,fe.relatedTarget=oe,Se=null,Ne(we)===ce&&(ct=new ct(te,q+"enter",gt,l,we),ct.target=oe,ct.relatedTarget=qt,Se=ct),qt=Se,me&&gt)t:{for(ct=me,te=gt,q=0,oe=ct;oe;oe=dl(oe))q++;for(oe=0,Se=te;Se;Se=dl(Se))oe++;for(;0<q-oe;)ct=dl(ct),q--;for(;0<oe-q;)te=dl(te),oe--;for(;q--;){if(ct===te||te!==null&&ct===te.alternate)break t;ct=dl(ct),te=dl(te)}ct=null}else ct=null;me!==null&&Jx(Te,fe,me,ct,!1),gt!==null&&qt!==null&&Jx(Te,qt,gt,ct,!0)}}e:{if(fe=ce?qe(ce):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var Xe=pg;else if(yg(fe))if(bg)Xe=G3;else{Xe=H3;var $t=z3}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&Ys(ce.elementType)&&(Xe=pg):Xe=q3;if(Xe&&(Xe=Xe(a,ce))){xg(Te,Xe,l,we);break e}$t&&$t(a,fe,ce),a==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&Gl(fe,"number",fe.value)}switch($t=ce?qe(ce):window,a){case"focusin":(yg($t)||$t.contentEditable==="true")&&(Fi=$t,o0=ce,to=null);break;case"focusout":to=o0=Fi=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,Cg(Te,l,we);break;case"selectionchange":if(K3)break;case"keydown":case"keyup":Cg(Te,l,we)}var at;if(n0)e:{switch(a){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Ui?mg(a,l)&&(ut="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(ut="onCompositionStart");ut&&(ug&&l.locale!=="ko"&&(Ui||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ui&&(at=Ws()):(sr=we,Wa="value"in sr?sr.value:sr.textContent,Ui=!0)),$t=$d(ce,ut),0<$t.length&&(ut=new ot(ut,a,null,l,we),Te.push({event:ut,listeners:$t}),at?ut.data=at:(at=gg(l),at!==null&&(ut.data=at)))),(at=L3?I3(a,l):U3(a,l))&&(ut=$d(ce,"onBeforeInput"),0<ut.length&&($t=new ot("onBeforeInput","beforeinput",null,l,we),Te.push({event:$t,listeners:ut}),$t.data=at)),T4(Te,a,ce,l,we)}Zx(Te,s)})}function Eo(a,s,l){return{instance:a,listener:s,currentTarget:l}}function $d(a,s){for(var l=s+"Capture",c=[];a!==null;){var f=a,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Wn(a,l),f!=null&&c.unshift(Eo(a,f,y)),f=Wn(a,s),f!=null&&c.push(Eo(a,f,y))),a.tag===3)return c;a=a.return}return[]}function dl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Jx(a,s,l,c,f){for(var y=s._reactName,w=[];l!==null&&l!==c;){var T=l,F=T.alternate,ce=T.stateNode;if(T=T.tag,F!==null&&F===c)break;T!==5&&T!==26&&T!==27||ce===null||(F=ce,f?(ce=Wn(l,y),ce!=null&&w.unshift(Eo(l,ce,F))):f||(ce=Wn(l,y),ce!=null&&w.push(Eo(l,ce,F)))),l=l.return}w.length!==0&&a.push({event:s,listeners:w})}var R4=/\r\n?/g,P4=/\u0000|\uFFFD/g;function ep(a){return(typeof a=="string"?a:""+a).replace(R4,`
`).replace(P4,"")}function tp(a,s){return s=ep(s),ep(a)===s}function Sd(){}function Ht(a,s,l,c,f,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Xn(a,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Xn(a,""+c);break;case"className":br(a,"class",c);break;case"tabIndex":br(a,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":br(a,l,c);break;case"style":Kl(a,c,y);break;case"data":if(s!=="object"){br(a,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=Ri(""+c),a.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Ht(a,s,"name",f.name,f,null),Ht(a,s,"formEncType",f.formEncType,f,null),Ht(a,s,"formMethod",f.formMethod,f,null),Ht(a,s,"formTarget",f.formTarget,f,null)):(Ht(a,s,"encType",f.encType,f,null),Ht(a,s,"method",f.method,f,null),Ht(a,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=Ri(""+c),a.setAttribute(l,c);break;case"onClick":c!=null&&(a.onclick=Sd);break;case"onScroll":c!=null&&Tt("scroll",a);break;case"onScrollEnd":c!=null&&Tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(f.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"multiple":a.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":a.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){a.removeAttribute("xlink:href");break}l=Ri(""+c),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""+c):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":c===!0?a.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,c):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?a.setAttribute(l,c):a.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?a.removeAttribute(l):a.setAttribute(l,c);break;case"popover":Tt("beforetoggle",a),Tt("toggle",a),xa(a,"popover",c);break;case"xlinkActuate":wt(a,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wt(a,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wt(a,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wt(a,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wt(a,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wt(a,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wt(a,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xa(a,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ai.get(l)||l,xa(a,l,c))}}function Rf(a,s,l,c,f,y){switch(l){case"style":Kl(a,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(f.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"children":typeof c=="string"?Xn(a,c):(typeof c=="number"||typeof c=="bigint")&&Xn(a,""+c);break;case"onScroll":c!=null&&Tt("scroll",a);break;case"onScrollEnd":c!=null&&Tt("scrollend",a);break;case"onClick":c!=null&&(a.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),s=l.slice(2,f?l.length-7:void 0),y=a[Re]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(s,y,f),typeof c=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,c,f);break e}l in a?a[l]=c:c===!0?a.setAttribute(l,""):xa(a,l,c)}}}function Oa(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",a),Tt("load",a);var c=!1,f=!1,y;for(y in l)if(l.hasOwnProperty(y)){var w=l[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(a,s,y,w,l,null)}}f&&Ht(a,s,"srcSet",l.srcSet,l,null),c&&Ht(a,s,"src",l.src,l,null);return;case"input":Tt("invalid",a);var T=y=w=f=null,F=null,ce=null;for(c in l)if(l.hasOwnProperty(c)){var we=l[c];if(we!=null)switch(c){case"name":f=we;break;case"type":w=we;break;case"checked":F=we;break;case"defaultChecked":ce=we;break;case"value":y=we;break;case"defaultValue":T=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,s));break;default:Ht(a,s,c,we,l,null)}}Mc(a,y,T,F,ce,w,f,!1),Gs(a);return;case"select":Tt("invalid",a),c=w=y=null;for(f in l)if(l.hasOwnProperty(f)&&(T=l[f],T!=null))switch(f){case"value":y=T;break;case"defaultValue":w=T;break;case"multiple":c=T;default:Ht(a,s,f,T,l,null)}s=y,l=w,a.multiple=!!c,s!=null?vn(a,!!c,s,!1):l!=null&&vn(a,!!c,l,!0);return;case"textarea":Tt("invalid",a),y=f=c=null;for(w in l)if(l.hasOwnProperty(w)&&(T=l[w],T!=null))switch(w){case"value":c=T;break;case"defaultValue":f=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ht(a,s,w,T,l,null)}Vl(a,c,f,y),Gs(a);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":a.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ht(a,s,F,c,l,null)}return;case"dialog":Tt("beforetoggle",a),Tt("toggle",a),Tt("cancel",a),Tt("close",a);break;case"iframe":case"object":Tt("load",a);break;case"video":case"audio":for(c=0;c<To.length;c++)Tt(To[c],a);break;case"image":Tt("error",a),Tt("load",a);break;case"details":Tt("toggle",a);break;case"embed":case"source":case"link":Tt("error",a),Tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in l)if(l.hasOwnProperty(ce)&&(c=l[ce],c!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(a,s,ce,c,l,null)}return;default:if(Ys(s)){for(we in l)l.hasOwnProperty(we)&&(c=l[we],c!==void 0&&Rf(a,s,we,c,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(c=l[T],c!=null&&Ht(a,s,T,c,l,null))}function M4(a,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,w=null,T=null,F=null,ce=null,we=null;for(me in l){var Te=l[me];if(l.hasOwnProperty(me)&&Te!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":F=Te;default:c.hasOwnProperty(me)||Ht(a,s,me,null,c,Te)}}for(var fe in c){var me=c[fe];if(Te=l[fe],c.hasOwnProperty(fe)&&(me!=null||Te!=null))switch(fe){case"type":y=me;break;case"name":f=me;break;case"checked":ce=me;break;case"defaultChecked":we=me;break;case"value":w=me;break;case"defaultValue":T=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,s));break;default:me!==Te&&Ht(a,s,fe,me,c,Te)}}ql(a,w,T,F,ce,we,y,f);return;case"select":me=w=T=fe=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":me=F;default:c.hasOwnProperty(y)||Ht(a,s,y,null,c,F)}for(f in c)if(y=c[f],F=l[f],c.hasOwnProperty(f)&&(y!=null||F!=null))switch(f){case"value":fe=y;break;case"defaultValue":T=y;break;case"multiple":w=y;default:y!==F&&Ht(a,s,f,y,c,F)}s=T,l=w,c=me,fe!=null?vn(a,!!l,fe,!1):!!c!=!!l&&(s!=null?vn(a,!!l,s,!0):vn(a,!!l,l?[]:"",!1));return;case"textarea":me=fe=null;for(T in l)if(f=l[T],l.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ht(a,s,T,null,c,f)}for(w in c)if(f=c[w],y=l[w],c.hasOwnProperty(w)&&(f!=null||y!=null))switch(w){case"value":fe=f;break;case"defaultValue":me=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==y&&Ht(a,s,w,f,c,y)}Ks(a,fe,me);return;case"option":for(var gt in l)if(fe=l[gt],l.hasOwnProperty(gt)&&fe!=null&&!c.hasOwnProperty(gt))switch(gt){case"selected":a.selected=!1;break;default:Ht(a,s,gt,null,c,fe)}for(F in c)if(fe=c[F],me=l[F],c.hasOwnProperty(F)&&fe!==me&&(fe!=null||me!=null))switch(F){case"selected":a.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ht(a,s,F,fe,c,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in l)fe=l[ct],l.hasOwnProperty(ct)&&fe!=null&&!c.hasOwnProperty(ct)&&Ht(a,s,ct,null,c,fe);for(ce in c)if(fe=c[ce],me=l[ce],c.hasOwnProperty(ce)&&fe!==me&&(fe!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:Ht(a,s,ce,fe,c,me)}return;default:if(Ys(s)){for(var qt in l)fe=l[qt],l.hasOwnProperty(qt)&&fe!==void 0&&!c.hasOwnProperty(qt)&&Rf(a,s,qt,void 0,c,fe);for(we in c)fe=c[we],me=l[we],!c.hasOwnProperty(we)||fe===me||fe===void 0&&me===void 0||Rf(a,s,we,fe,c,me);return}}for(var te in l)fe=l[te],l.hasOwnProperty(te)&&fe!=null&&!c.hasOwnProperty(te)&&Ht(a,s,te,null,c,fe);for(Te in c)fe=c[Te],me=l[Te],!c.hasOwnProperty(Te)||fe===me||fe==null&&me==null||Ht(a,s,Te,fe,c,me)}var Pf=null,Mf=null;function Cd(a){return a.nodeType===9?a:a.ownerDocument}function ap(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rp(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Df(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lf=null;function D4(){var a=window.event;return a&&a.type==="popstate"?a===Lf?!1:(Lf=a,!0):(Lf=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,I4=typeof queueMicrotask=="function"?queueMicrotask:typeof sp!="undefined"?function(a){return sp.resolve(null).then(a).catch(U4)}:np;function U4(a){setTimeout(function(){throw a})}function xs(a){return a==="head"}function ip(a,s){var l=s,c=0,f=0;do{var y=l.nextSibling;if(a.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var w=a.ownerDocument;if(l&1&&Oo(w.documentElement),l&2&&Oo(w.body),l&4)for(l=w.head,Oo(l),w=l.firstChild;w;){var T=w.nextSibling,F=w.nodeName;w[st]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=T}}if(f===0){a.removeChild(y),Uo(s);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Uo(s)}function If(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":If(l),ee(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function F4(a,s,l,c){for(;a.nodeType===1;){var f=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(c){if(!a[st])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==f.rel||a.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||a.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||a.getAttribute("title")!==(f.title==null?null:f.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(f.src==null?null:f.src)||a.getAttribute("type")!==(f.type==null?null:f.type)||a.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Br(a.nextSibling),a===null)break}return null}function B4(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Br(a.nextSibling),a===null))return null;return a}function Uf(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function z4(a,s){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),a._reactRetry=c}}function Br(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Ff=null;function lp(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return a;s--}else l==="/$"&&s++}a=a.previousSibling}return null}function op(a,s,l){switch(s=Cd(l),a){case"html":if(a=s.documentElement,!a)throw Error(i(452));return a;case"head":if(a=s.head,!a)throw Error(i(453));return a;case"body":if(a=s.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Oo(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);ee(a)}var Cr=new Map,cp=new Set;function _d(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Mn=_.d;_.d={f:H4,r:q4,D:G4,C:V4,L:K4,m:Y4,X:X4,S:Q4,M:Z4};function H4(){var a=Mn.f(),s=bd();return a||s}function q4(a){var s=Ie(a);s!==null&&s.tag===5&&s.type==="form"?Ty(s):Mn.r(a)}var ul=typeof document=="undefined"?null:document;function dp(a,s,l){var c=ul;if(c&&typeof s=="string"&&s){var f=Xa(s);f='link[rel="'+a+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),cp.has(f)||(cp.add(f),a={rel:a,crossOrigin:l,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),Oa(s,"link",a),tt(s),c.head.appendChild(s)))}}function G4(a){Mn.D(a),dp("dns-prefetch",a,null)}function V4(a,s){Mn.C(a,s),dp("preconnect",a,s)}function K4(a,s,l){Mn.L(a,s,l);var c=ul;if(c&&a&&s){var f='link[rel="preload"][as="'+Xa(s)+'"]';s==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Xa(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Xa(l.imageSizes)+'"]')):f+='[href="'+Xa(a)+'"]';var y=f;switch(s){case"style":y=fl(a);break;case"script":y=hl(a)}Cr.has(y)||(a=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Cr.set(y,a),c.querySelector(f)!==null||s==="style"&&c.querySelector(Ao(y))||s==="script"&&c.querySelector(Ro(y))||(s=c.createElement("link"),Oa(s,"link",a),tt(s),c.head.appendChild(s)))}}function Y4(a,s){Mn.m(a,s);var l=ul;if(l&&a){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Xa(c)+'"][href="'+Xa(a)+'"]',y=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(a)}if(!Cr.has(y)&&(a=x({rel:"modulepreload",href:a},s),Cr.set(y,a),l.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ro(y)))return}c=l.createElement("link"),Oa(c,"link",a),tt(c),l.head.appendChild(c)}}}function Q4(a,s,l){Mn.S(a,s,l);var c=ul;if(c&&a){var f=lt(c).hoistableStyles,y=fl(a);s=s||"default";var w=f.get(y);if(!w){var T={loading:0,preload:null};if(w=c.querySelector(Ao(y)))T.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Cr.get(y))&&Bf(a,l);var F=w=c.createElement("link");tt(F),Oa(F,"link",a),F._p=new Promise(function(ce,we){F.onload=ce,F.onerror=we}),F.addEventListener("load",function(){T.loading|=1}),F.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Td(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:T},f.set(y,w)}}}function X4(a,s){Mn.X(a,s);var l=ul;if(l&&a){var c=lt(l).hoistableScripts,f=hl(a),y=c.get(f);y||(y=l.querySelector(Ro(f)),y||(a=x({src:a,async:!0},s),(s=Cr.get(f))&&zf(a,s),y=l.createElement("script"),tt(y),Oa(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function Z4(a,s){Mn.M(a,s);var l=ul;if(l&&a){var c=lt(l).hoistableScripts,f=hl(a),y=c.get(f);y||(y=l.querySelector(Ro(f)),y||(a=x({src:a,async:!0,type:"module"},s),(s=Cr.get(f))&&zf(a,s),y=l.createElement("script"),tt(y),Oa(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(f,y))}}function up(a,s,l,c){var f=(f=Oe.current)?_d(f):null;if(!f)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=fl(l.href),l=lt(f).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=fl(l.href);var y=lt(f).hoistableStyles,w=y.get(a);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,w),(y=f.querySelector(Ao(a)))&&!y._p&&(w.instance=y,w.state.loading=5),Cr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cr.set(a,l),y||W4(f,a,l,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hl(l),l=lt(f).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function fl(a){return'href="'+Xa(a)+'"'}function Ao(a){return'link[rel="stylesheet"]['+a+"]"}function fp(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function W4(a,s,l,c){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=a.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Oa(s,"link",l),tt(s),a.head.appendChild(s))}function hl(a){return'[src="'+Xa(a)+'"]'}function Ro(a){return"script[async]"+a}function hp(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=a.querySelector('style[data-href~="'+Xa(l.href)+'"]');if(c)return s.instance=c,tt(c),c;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(a.ownerDocument||a).createElement("style"),tt(c),Oa(c,"style",f),Td(c,l.precedence,a),s.instance=c;case"stylesheet":f=fl(l.href);var y=a.querySelector(Ao(f));if(y)return s.state.loading|=4,s.instance=y,tt(y),y;c=fp(l),(f=Cr.get(f))&&Bf(c,f),y=(a.ownerDocument||a).createElement("link"),tt(y);var w=y;return w._p=new Promise(function(T,F){w.onload=T,w.onerror=F}),Oa(y,"link",c),s.state.loading|=4,Td(y,l.precedence,a),s.instance=y;case"script":return y=hl(l.src),(f=a.querySelector(Ro(y)))?(s.instance=f,tt(f),f):(c=l,(f=Cr.get(y))&&(c=x({},l),zf(c,f)),a=a.ownerDocument||a,f=a.createElement("script"),tt(f),Oa(f,"link",c),a.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Td(c,l.precedence,a));return s.instance}function Td(a,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,y=f,w=0;w<c.length;w++){var T=c[w];if(T.dataset.precedence===s)y=T;else if(y!==f)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function Bf(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function zf(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Ed=null;function mp(a,s,l){if(Ed===null){var c=new Map,f=Ed=new Map;f.set(l,c)}else f=Ed,c=f.get(l),c||(c=new Map,f.set(l,c));if(c.has(a))return c;for(c.set(a,null),l=l.getElementsByTagName(a),f=0;f<l.length;f++){var y=l[f];if(!(y[st]||y[le]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=a+w;var T=c.get(w);T?T.push(y):c.set(w,[y])}}return c}function gp(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function J4(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yp(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Po=null;function eN(){}function tN(a,s,l){if(Po===null)throw Error(i(475));var c=Po;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=fl(l.href),y=a.querySelector(Ao(f));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(c.count++,c=Od.bind(c),a.then(c,c)),s.state.loading|=4,s.instance=y,tt(y);return}y=a.ownerDocument||a,l=fp(l),(f=Cr.get(f))&&Bf(l,f),y=y.createElement("link"),tt(y);var w=y;w._p=new Promise(function(T,F){w.onload=T,w.onerror=F}),Oa(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Od.bind(c),a.addEventListener("load",s),a.addEventListener("error",s))}}function aN(){if(Po===null)throw Error(i(475));var a=Po;return a.stylesheets&&a.count===0&&Hf(a,a.stylesheets),0<a.count?function(s){var l=setTimeout(function(){if(a.stylesheets&&Hf(a,a.stylesheets),a.unsuspend){var c=a.unsuspend;a.unsuspend=null,c()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l)}}:null}function Od(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ad=null;function Hf(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ad=new Map,s.forEach(rN,a),Ad=null,Od.call(a))}function rN(a,s){if(!(s.state.loading&4)){var l=Ad.get(a);if(l)var c=l.get(null);else{l=new Map,Ad.set(a,l);for(var f=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var w=f[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}f=s.instance,w=f.getAttribute("data-precedence"),y=l.get(w)||c,y===c&&l.set(null,f),l.set(w,f),this.count++,c=Od.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),y?y.parentNode.insertBefore(f,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(f,a.firstChild)),s.state.loading|=4}}var Mo={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function nN(a,s,l,c,f,y,w,T){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xp(a,s,l,c,f,y,w,T,F,ce,we,Te){return a=new nN(a,s,l,w,T,F,ce,Te),s=1,y===!0&&(s|=24),y=lr(3,null,null,s),a.current=y,y.stateNode=a,s=w0(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},C0(y),a}function pp(a){return a?(a=qi,a):qi}function bp(a,s,l,c,f,y){f=pp(f),c.context===null?c.context=f:c.pendingContext=f,c=ns(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ss(a,c,s),l!==null&&(fr(l,a,s),uo(l,a,s))}function vp(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function qf(a,s){vp(a,s),(a=a.alternate)&&vp(a,s)}function Np(a){if(a.tag===13){var s=Hi(a,67108864);s!==null&&fr(s,a,67108864),qf(a,67108864)}}var Rd=!0;function sN(a,s,l,c){var f=U.T;U.T=null;var y=_.p;try{_.p=2,Gf(a,s,l,c)}finally{_.p=y,U.T=f}}function iN(a,s,l,c){var f=U.T;U.T=null;var y=_.p;try{_.p=8,Gf(a,s,l,c)}finally{_.p=y,U.T=f}}function Gf(a,s,l,c){if(Rd){var f=Vf(c);if(f===null)Af(a,s,c,Pd,l),wp(a,c);else if(oN(f,a,s,l,c))c.stopPropagation();else if(wp(a,c),s&4&&-1<lN.indexOf(a)){for(;f!==null;){var y=Ie(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ta(y.pendingLanes);if(w!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var F=1<<31-jt(w);T.entanglements[1]|=F,w&=~F}fn(y),(Ut&6)===0&&(xd=Pt()+500,_o(0))}}break;case 13:T=Hi(y,2),T!==null&&fr(T,y,2),bd(),qf(y,2)}if(y=Vf(c),y===null&&Af(a,s,c,Pd,l),y===f)break;f=y}f!==null&&c.stopPropagation()}else Af(a,s,c,null,l)}}function Vf(a){return a=Qs(a),Kf(a)}var Pd=null;function Kf(a){if(Pd=null,a=Ne(a),a!==null){var s=d(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=u(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Pd=a,null}function jp(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Aa:return 2;case Ra:return 8;case Na:case he:return 32;case X:return 268435456;default:return 32}default:return 32}}var Yf=!1,ps=null,bs=null,vs=null,Do=new Map,Lo=new Map,Ns=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wp(a,s){switch(a){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Do.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(s.pointerId)}}function Io(a,s,l,c,f,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Ie(s),s!==null&&Np(s)),a):(a.eventSystemFlags|=c,s=a.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),a)}function oN(a,s,l,c,f){switch(s){case"focusin":return ps=Io(ps,a,s,l,c,f),!0;case"dragenter":return bs=Io(bs,a,s,l,c,f),!0;case"mouseover":return vs=Io(vs,a,s,l,c,f),!0;case"pointerover":var y=f.pointerId;return Do.set(y,Io(Do.get(y)||null,a,s,l,c,f)),!0;case"gotpointercapture":return y=f.pointerId,Lo.set(y,Io(Lo.get(y)||null,a,s,l,c,f)),!0}return!1}function kp(a){var s=Ne(a.target);if(s!==null){var l=d(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){a.blockedOn=s,ne(a.priority,function(){if(l.tag===13){var c=ur();c=Lr(c);var f=Hi(l,c);f!==null&&fr(f,l,c),qf(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Md(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=Vf(a.nativeEvent);if(l===null){l=a.nativeEvent;var c=new l.constructor(l.type,l);Yl=c,l.target.dispatchEvent(c),Yl=null}else return s=Ie(l),s!==null&&Np(s),a.blockedOn=l,!1;s.shift()}return!0}function $p(a,s,l){Md(a)&&l.delete(s)}function cN(){Yf=!1,ps!==null&&Md(ps)&&(ps=null),bs!==null&&Md(bs)&&(bs=null),vs!==null&&Md(vs)&&(vs=null),Do.forEach($p),Lo.forEach($p)}function Dd(a,s){a.blockedOn===s&&(a.blockedOn=null,Yf||(Yf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cN)))}var Ld=null;function Sp(a){Ld!==a&&(Ld=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ld===a&&(Ld=null);for(var s=0;s<a.length;s+=3){var l=a[s],c=a[s+1],f=a[s+2];if(typeof c!="function"){if(Kf(c||l)===null)continue;break}var y=Ie(l);y!==null&&(a.splice(s,3),s-=3,V0(y,{pending:!0,data:f,method:l.method,action:c},c,f))}}))}function Uo(a){function s(F){return Dd(F,a)}ps!==null&&Dd(ps,a),bs!==null&&Dd(bs,a),vs!==null&&Dd(vs,a),Do.forEach(s),Lo.forEach(s);for(var l=0;l<Ns.length;l++){var c=Ns[l];c.blockedOn===a&&(c.blockedOn=null)}for(;0<Ns.length&&(l=Ns[0],l.blockedOn===null);)kp(l),l.blockedOn===null&&Ns.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var f=l[c],y=l[c+1],w=f[Re]||null;if(typeof y=="function")w||Sp(l);else if(w){var T=null;if(y&&y.hasAttribute("formAction")){if(f=y,w=y[Re]||null)T=w.formAction;else if(Kf(f)!==null)continue}else T=w.action;typeof T=="function"?l[c+1]=T:(l.splice(c,3),c-=3),Sp(l)}}}function Qf(a){this._internalRoot=a}Id.prototype.render=Qf.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=ur();bp(l,c,a,s,null,null)},Id.prototype.unmount=Qf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;bp(a.current,2,null,a,null,null),bd(),s[Ke]=null}};function Id(a){this._internalRoot=a}Id.prototype.unstable_scheduleHydration=function(a){if(a){var s=B();a={blockedOn:null,target:a,priority:s};for(var l=0;l<Ns.length&&s!==0&&s<Ns[l].priority;l++);Ns.splice(l,0,a),l===0&&kp(a)}};var Cp=t.version;if(Cp!=="19.1.0")throw Error(i(527,Cp,"19.1.0"));_.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var dN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{ft=Ud.inject(dN),He=Ud}catch(a){}}return Bo.createRoot=function(a,s){if(!o(a))throw Error(i(299));var l=!1,c="",f=Hy,y=qy,w=Gy,T=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=xp(a,1,!1,null,null,l,c,f,y,w,T,null),a[Ke]=s.current,Of(a),new Qf(s)},Bo.hydrateRoot=function(a,s,l){if(!o(a))throw Error(i(299));var c=!1,f="",y=Hy,w=qy,T=Gy,F=null,ce=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(ce=l.formState)),s=xp(a,1,!0,s,l!=null?l:null,c,f,y,w,T,F,ce),s.context=pp(null),l=s.current,c=ur(),c=Lr(c),f=ns(c),f.callback=null,ss(l,f,c),l=c,s.current.lanes=l,_a(s,l),fn(s),a[Ke]=s.current,Of(a),new Id(s)},Bo.version="19.1.0",Bo}var Bp;function wN(){if(Bp)return nh.exports;Bp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nh.exports=jN(),nh.exports}var kN=wN();const $N=Sc(kN);var zo={},zp;function SN(){if(zp)return zo;zp=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.parse=u,zo.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,d=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,p){const S=new d,k=b.length;if(k<2)return S;const E=(p==null?void 0:p.decode)||x;let $=0;do{const I=b.indexOf("=",$);if(I===-1)break;const D=b.indexOf(";",$),L=D===-1?k:D;if(I>L){$=b.lastIndexOf(";",I-1)+1;continue}const A=g(b,$,I),P=h(b,I,A),W=b.slice(A,P);if(S[W]===void 0){let Y=g(b,I+1,L),G=h(b,L,Y);const ae=E(b.slice(Y,G));S[W]=ae}$=L+1}while($<k);return S}function g(b,p,S){do{const k=b.charCodeAt(p);if(k!==32&&k!==9)return p}while(++p<S);return S}function h(b,p,S){for(;p>S;){const k=b.charCodeAt(--p);if(k!==32&&k!==9)return p+1}return S}function m(b,p,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const E=k(p);if(!t.test(E))throw new TypeError(`argument val is invalid: ${p}`);let $=b+"="+E;if(!S)return $;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);$+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);$+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);$+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);$+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&($+="; HttpOnly"),S.secure&&($+="; Secure"),S.partitioned&&($+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return $}function x(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch(p){return b}}function v(b){return o.call(b)==="[object Date]"}return zo}SN();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y1=e=>{throw TypeError(e)},CN=(e,t,n)=>t.has(e)||y1("Cannot "+n),oh=(e,t,n)=>(CN(e,t,"read from private field"),n?n.call(e):t.get(e)),_N=(e,t,n)=>t.has(e)?y1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Hp="popstate";function TN(e={}){function t(i,o){let{pathname:d,search:u,hash:g}=i.location;return Wo("",{pathname:d,search:u,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ls(o)}return ON(t,n,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function da(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function EN(){return Math.random().toString(36).substring(2,10)}function qp(e,t){return{usr:e.state,key:e.key,idx:t}}function Wo(e,t,n=null,i){return je(H({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bs(t):t),{state:n,key:t&&t.key||i||EN()})}function Ls({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function ON(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:d=!1}=i,u=o.history,g="POP",h=null,m=x();m==null&&(m=0,u.replaceState(je(H({},u.state),{idx:m}),""));function x(){return(u.state||{idx:null}).idx}function v(){g="POP";let E=x(),$=E==null?null:E-m;m=E,h&&h({action:g,location:k.location,delta:$})}function b(E,$){g="PUSH";let I=Wo(k.location,E,$);m=x()+1;let D=qp(I,m),L=k.createHref(I);try{u.pushState(D,"",L)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(L)}d&&h&&h({action:g,location:k.location,delta:1})}function p(E,$){g="REPLACE";let I=Wo(k.location,E,$);m=x();let D=qp(I,m),L=k.createHref(I);u.replaceState(D,"",L),d&&h&&h({action:g,location:k.location,delta:0})}function S(E){return x1(E)}let k={get action(){return g},get location(){return e(o,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Hp,v),h=E,()=>{o.removeEventListener(Hp,v),h=null}},createHref(E){return t(o,E)},createURL:S,encodeLocation(E){let $=S(E);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:p,go(E){return u.go(E)}};return k}function x1(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ls(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Yo,Gp=class{constructor(e){if(_N(this,Yo,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(oh(this,Yo).has(e))return oh(this,Yo).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){oh(this,Yo).set(e,t)}};Yo=new WeakMap;var AN=new Set(["lazy","caseSensitive","path","id","index","children"]);function RN(e){return AN.has(e)}var PN=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function MN(e){return PN.has(e)}function DN(e){return e.index===!0}function uu(e,t,n=[],i={}){return e.map((o,d)=>{let u=[...n,String(d)],g=typeof o.id=="string"?o.id:u.join("-");if(Ct(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ct(!i[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),DN(o)){let h=je(H(H({},o),t(o)),{id:g});return i[g]=h,h}else{let h=je(H(H({},o),t(o)),{id:g,children:void 0});return i[g]=h,o.children&&(h.children=uu(o.children,t,u,i)),h}})}function Cs(e,t,n="/"){return eu(e,t,n,!1)}function eu(e,t,n,i){let o=typeof t=="string"?Bs(t):t,d=Ar(o.pathname||"/",n);if(d==null)return null;let u=p1(e);IN(u);let g=null;for(let h=0;g==null&&h<u.length;++h){let m=QN(d);g=KN(u[h],m,i)}return g}function LN(e,t){let{route:n,pathname:i,params:o}=e;return{id:n.id,pathname:i,params:o,data:t[n.id],handle:n.handle}}function p1(e,t=[],n=[],i=""){let o=(d,u,g)=>{let h={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};h.relativePath.startsWith("/")&&(Ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=xn([i,h.relativePath]),x=n.concat(h);d.children&&d.children.length>0&&(Ct(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),p1(d.children,t,x,m)),!(d.path==null&&!d.index)&&t.push({path:m,score:GN(m,d.index),routesMeta:x})};return e.forEach((d,u)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))o(d,u);else for(let h of b1(d.path))o(d,u,h)}),t}function b1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),d=n.replace(/\?$/,"");if(i.length===0)return o?[d,""]:[d];let u=b1(i.join("/")),g=[];return g.push(...u.map(h=>h===""?d:[d,h].join("/"))),o&&g.push(...u),g.map(h=>e.startsWith("/")&&h===""?"/":h)}function IN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var UN=/^:[\w-]+$/,FN=3,BN=2,zN=1,HN=10,qN=-2,Vp=e=>e==="*";function GN(e,t){let n=e.split("/"),i=n.length;return n.some(Vp)&&(i+=qN),t&&(i+=BN),n.filter(o=>!Vp(o)).reduce((o,d)=>o+(UN.test(d)?FN:d===""?zN:HN),i)}function VN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function KN(e,t,n=!1){let{routesMeta:i}=e,o={},d="/",u=[];for(let g=0;g<i.length;++g){let h=i[g],m=g===i.length-1,x=d==="/"?t:t.slice(d.length)||"/",v=fu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},x),b=h.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=fu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:xn([d,v.pathname]),pathnameBase:WN(xn([d,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(d=xn([d,v.pathnameBase]))}return u}function fu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=YN(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let d=o[0],u=d.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:v},b)=>{if(x==="*"){let S=g[b]||"";u=d.slice(0,d.length-S.length).replace(/(.)\/+$/,"$1")}const p=g[b];return v&&!p?m[x]=void 0:m[x]=(p||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:u,pattern:e}}function YN(e,t=!1,n=!0){da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,g,h)=>(i.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function QN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return da(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ar(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function XN(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Bs(e):e;return{pathname:n?n.startsWith("/")?n:ZN(n,t):t,search:JN(i),hash:ej(o)}}function ZN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ch(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _u(e){let t=v1(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Tu(e,t,n,i=!1){let o;typeof e=="string"?o=Bs(e):(o=H({},e),Ct(!o.pathname||!o.pathname.includes("?"),ch("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),ch("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),ch("#","search","hash",o)));let d=e===""||o.pathname==="",u=d?"/":o.pathname,g;if(u==null)g=n;else{let v=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}g=v>=0?t[v]:"/"}let h=XN(o,g),m=u&&u!=="/"&&u.endsWith("/"),x=(d||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||x)&&(h.pathname+="/"),h}var xn=e=>e.join("/").replace(/\/\/+/g,"/"),WN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ej=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,hu=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Jo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var N1=["POST","PUT","PATCH","DELETE"],tj=new Set(N1),aj=["GET",...N1],rj=new Set(aj),nj=new Set([301,302,303,307,308]),sj=new Set([307,308]),dh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ij={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ho={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lj=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),j1="remix-router-transitions",w1=Symbol("ResetLoaderData");function oj(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Ct(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],o=e.mapRouteProperties||lj,d={},u=uu(e.routes,o,void 0,d),g,h=e.basename||"/",m=e.dataStrategy||hj,x=H({unstable_middleware:!1},e.future),v=null,b=new Set,p=null,S=null,k=null,E=e.hydrationData!=null,$=Cs(u,e.history.location,h),I=!1,D=null,L;if($==null&&!e.patchRoutesOnNavigation){let B=Tr(404,{pathname:e.history.location.pathname}),{matches:ne,route:ue}=nb(u);L=!0,$=ne,D={[ue.id]:B}}else if($&&!e.hydrationData&&rr($,u,e.history.location.pathname).active&&($=null),$)if($.some(B=>B.route.lazy))L=!1;else if(!$.some(B=>B.route.loader))L=!0;else{let B=e.hydrationData?e.hydrationData.loaderData:null,ne=e.hydrationData?e.hydrationData.errors:null;if(ne){let ue=$.findIndex(le=>ne[le.route.id]!==void 0);L=$.slice(0,ue+1).every(le=>!Dh(le.route,B,ne))}else L=$.every(ue=>!Dh(ue.route,B,ne))}else{L=!1,$=[];let B=rr(null,u,e.history.location.pathname);B.active&&B.matches&&(I=!0,$=B.matches)}let A,P={historyAction:e.history.action,location:e.history.location,matches:$,initialized:L,navigation:dh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||D,fetchers:new Map,blockers:new Map},W="POP",Y=!1,G,ae=!1,ge=new Map,J=null,Ee=!1,K=!1,z=new Set,U=new Map,_=0,re=-1,pe=new Map,R=new Set,ie=new Map,ve=new Map,V=new Set,_e=new Map,Ye,Oe=null;function We(){if(v=e.history.listen(({action:B,location:ne,delta:ue})=>{if(Ye){Ye(),Ye=void 0;return}da(_e.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Yn({currentLocation:P.location,nextLocation:ne,historyAction:B});if(le&&ue!=null){let Re=new Promise(Ke=>{Ye=Ke});e.history.go(ue*-1),Pa(le,{state:"blocked",location:ne,proceed(){Pa(le,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Re.then(()=>e.history.go(ue))},reset(){let Ke=new Map(P.blockers);Ke.set(le,Ho),Ae({blockers:Ke})}});return}return De(B,ne)}),n){kj(t,ge);let B=()=>$j(t,ge);t.addEventListener("pagehide",B),J=()=>t.removeEventListener("pagehide",B)}return P.initialized||De("POP",P.location,{initialHydration:!0}),A}function ye(){v&&v(),J&&J(),b.clear(),G&&G.abort(),P.fetchers.forEach((B,ne)=>jt(ne)),P.blockers.forEach((B,ne)=>za(ne))}function $e(B){return b.add(B),()=>b.delete(B)}function Ae(B,ne={}){P=H(H({},P),B);let ue=[],le=[];P.fetchers.forEach((Re,Ke)=>{Re.state==="idle"&&(V.has(Ke)?ue.push(Ke):le.push(Ke))}),V.forEach(Re=>{!P.fetchers.has(Re)&&!U.has(Re)&&ue.push(Re)}),[...b].forEach(Re=>Re(P,{deletedFetchers:ue,viewTransitionOpts:ne.viewTransitionOpts,flushSync:ne.flushSync===!0})),ue.forEach(Re=>jt(Re)),le.forEach(Re=>P.fetchers.delete(Re))}function Ze(B,ne,{flushSync:ue}={}){var mt,st;let le=P.actionData!=null&&P.navigation.formMethod!=null&&gr(P.navigation.formMethod)&&P.navigation.state==="loading"&&((mt=B.state)==null?void 0:mt._isRedirect)!==!0,Re;ne.actionData?Object.keys(ne.actionData).length>0?Re=ne.actionData:Re=null:le?Re=P.actionData:Re=null;let Ke=ne.loaderData?ab(P.loaderData,ne.loaderData,ne.matches||[],ne.errors):P.loaderData,rt=P.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((ee,Ne)=>rt.set(Ne,Ho)));let et=Y===!0||P.navigation.formMethod!=null&&gr(P.navigation.formMethod)&&((st=B.state)==null?void 0:st._isRedirect)!==!0;g&&(u=g,g=void 0),Ee||W==="POP"||(W==="PUSH"?e.history.push(B,B.state):W==="REPLACE"&&e.history.replace(B,B.state));let it;if(W==="POP"){let ee=ge.get(P.location.pathname);ee&&ee.has(B.pathname)?it={currentLocation:P.location,nextLocation:B}:ge.has(B.pathname)&&(it={currentLocation:B,nextLocation:P.location})}else if(ae){let ee=ge.get(P.location.pathname);ee?ee.add(B.pathname):(ee=new Set([B.pathname]),ge.set(P.location.pathname,ee)),it={currentLocation:P.location,nextLocation:B}}Ae(je(H({},ne),{actionData:Re,loaderData:Ke,historyAction:W,location:B,initialized:!0,navigation:dh,revalidation:"idle",restoreScrollPosition:bn(B,ne.matches||P.matches),preventScrollReset:et,blockers:rt}),{viewTransitionOpts:it,flushSync:ue===!0}),W="POP",Y=!1,ae=!1,Ee=!1,K=!1,Oe==null||Oe.resolve(),Oe=null}function xt(B,ne){return xe(this,null,function*(){if(typeof B=="number"){e.history.go(B);return}let ue=Mh(P.location,P.matches,h,B,ne==null?void 0:ne.fromRouteId,ne==null?void 0:ne.relative),{path:le,submission:Re,error:Ke}=Kp(!1,ue,ne),rt=P.location,et=Wo(P.location,le,ne&&ne.state);et=H(H({},et),e.history.encodeLocation(et));let it=ne&&ne.replace!=null?ne.replace:void 0,mt="PUSH";it===!0?mt="REPLACE":it===!1||Re!=null&&gr(Re.formMethod)&&Re.formAction===P.location.pathname+P.location.search&&(mt="REPLACE");let st=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,ee=(ne&&ne.flushSync)===!0,Ne=Yn({currentLocation:rt,nextLocation:et,historyAction:mt});if(Ne){Pa(Ne,{state:"blocked",location:et,proceed(){Pa(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:et}),xt(B,ne)},reset(){let Ie=new Map(P.blockers);Ie.set(Ne,Ho),Ae({blockers:Ie})}});return}yield De(mt,et,{submission:Re,pendingError:Ke,preventScrollReset:st,replace:ne&&ne.replace,enableViewTransition:ne&&ne.viewTransition,flushSync:ee})})}function Q(){Oe||(Oe=Sj()),ht(),Ae({revalidation:"loading"});let B=Oe.promise;return P.navigation.state==="submitting"?B:P.navigation.state==="idle"?(De(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),B):(De(W||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:ae===!0}),B)}function De(B,ne,ue){return xe(this,null,function*(){G&&G.abort(),G=null,W=B,Ee=(ue&&ue.startUninterruptedRevalidation)===!0,_a(P.location,P.matches),Y=(ue&&ue.preventScrollReset)===!0,ae=(ue&&ue.enableViewTransition)===!0;let le=g||u,Re=ue&&ue.overrideNavigation,Ke=ue!=null&&ue.initialHydration&&P.matches&&P.matches.length>0&&!I?P.matches:Cs(le,ne,h),rt=(ue&&ue.flushSync)===!0;if(Ke&&P.initialized&&!K&&bj(P.location,ne)&&!(ue&&ue.submission&&gr(ue.submission.formMethod))){Ze(ne,{matches:Ke},{flushSync:rt});return}let et=rr(Ke,le,ne.pathname);if(et.active&&et.matches&&(Ke=et.matches),!Ke){let{error:lt,notFoundMatches:tt,route:Ge}=Dr(ne.pathname);Ze(ne,{matches:tt,loaderData:{},errors:{[Ge.id]:lt}},{flushSync:rt});return}G=new AbortController;let it=pl(e.history,ne,G.signal,ue&&ue.submission),mt=new Gp(e.unstable_getContext?yield e.unstable_getContext():void 0),st;if(ue&&ue.pendingError)st=[pi(Ke).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&gr(ue.submission.formMethod)){let lt=yield Rt(it,ne,ue.submission,Ke,mt,et.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:rt});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[tt,Ge]=lt.pendingActionResult;if(mr(Ge)&&Jo(Ge.error)&&Ge.error.status===404){G=null,Ze(ne,{matches:lt.matches,loaderData:{},errors:{[tt]:Ge.error}});return}}Ke=lt.matches||Ke,st=lt.pendingActionResult,Re=uh(ne,ue.submission),rt=!1,et.active=!1,it=pl(e.history,it.url,it.signal)}let{shortCircuited:ee,matches:Ne,loaderData:Ie,errors:qe}=yield ia(it,ne,Ke,mt,et.active,Re,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,rt,st);ee||(G=null,Ze(ne,je(H({matches:Ne||Ke},rb(st)),{loaderData:Ie,errors:qe})))})}function Rt(it,mt,st,ee,Ne,Ie,qe){return xe(this,arguments,function*(B,ne,ue,le,Re,Ke,rt,et={}){ht();let lt=jj(ne,ue);if(Ae({navigation:lt},{flushSync:et.flushSync===!0}),Ke){let Et=yield Qa(le,ne.pathname,B.signal);if(Et.type==="aborted")return{shortCircuited:!0};if(Et.type==="error"){let Mt=pi(Et.partialMatches).route.id;return{matches:Et.partialMatches,pendingActionResult:[Mt,{type:"error",error:Et.error}]}}else if(Et.matches)le=Et.matches;else{let{notFoundMatches:Mt,error:Qt,route:la}=Dr(ne.pathname);return{matches:Mt,pendingActionResult:[la.id,{type:"error",error:Qt}]}}}let tt,Ge=Qo(le,ne);if(!Ge.route.action&&!Ge.route.lazy)tt={type:"error",error:Tr(405,{method:B.method,pathname:ne.pathname,routeId:Ge.route.id})};else{let Et=jl(o,d,B,le,Ge,rt?[]:i,Re),Mt=yield X(B,Et,Re,null);if(tt=Mt[Ge.route.id],!tt){for(let Qt of le)if(Mt[Qt.route.id]){tt=Mt[Qt.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(bi(tt)){let Et;return et&&et.replace!=null?Et=et.replace:Et=Jp(tt.response.headers.get("Location"),new URL(B.url),h)===P.location.pathname+P.location.search,yield he(B,tt,!0,{submission:ue,replace:Et}),{shortCircuited:!0}}if(mr(tt)){let Et=pi(le,Ge.route.id);return(et&&et.replace)!==!0&&(W="PUSH"),{matches:le,pendingActionResult:[Et.route.id,tt,Ge.route.id]}}return{matches:le,pendingActionResult:[Ge.route.id,tt]}})}function ia(B,ne,ue,le,Re,Ke,rt,et,it,mt,st,ee){return xe(this,null,function*(){let Ne=Ke||uh(ne,rt),Ie=rt||et||ib(Ne),qe=!Ee&&!mt;if(Re){if(qe){let wa=Pt(ee);Ae(H({navigation:Ne},wa!==void 0?{actionData:wa}:{}),{flushSync:st})}let wt=yield Qa(ue,ne.pathname,B.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){let wa=pi(wt.partialMatches).route.id;return{matches:wt.partialMatches,loaderData:{},errors:{[wa]:wt.error}}}else if(wt.matches)ue=wt.matches;else{let{error:wa,notFoundMatches:nr,route:Ma}=Dr(ne.pathname);return{matches:nr,loaderData:{},errors:{[Ma.id]:wa}}}}let lt=g||u,{dsMatches:tt,revalidatingFetchers:Ge}=Yp(B,le,o,d,e.history,P,ue,Ie,ne,mt?[]:i,mt===!0,K,z,V,ie,R,lt,h,e.patchRoutesOnNavigation!=null,ee);if(re=++_,!e.dataStrategy&&!tt.some(wt=>wt.shouldLoad)&&Ge.length===0){let wt=Zt();return Ze(ne,H(H({matches:ue,loaderData:{},errors:ee&&mr(ee[1])?{[ee[0]]:ee[1].error}:null},rb(ee)),wt?{fetchers:new Map(P.fetchers)}:{}),{flushSync:st}),{shortCircuited:!0}}if(qe){let wt={};if(!Re){wt.navigation=Ne;let wa=Pt(ee);wa!==void 0&&(wt.actionData=wa)}Ge.length>0&&(wt.fetchers=Kt(Ge)),Ae(wt,{flushSync:st})}Ge.forEach(wt=>{ke(wt.key),wt.controller&&U.set(wt.key,wt.controller)});let Et=()=>Ge.forEach(wt=>ke(wt.key));G&&G.signal.addEventListener("abort",Et);let{loaderResults:Mt,fetcherResults:Qt}=yield ze(tt,Ge,B,le);if(B.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",Et),Ge.forEach(wt=>U.delete(wt.key));let la=zd(Mt);if(la)return yield he(B,la.result,!0,{replace:it}),{shortCircuited:!0};if(la=zd(Qt),la)return R.add(la.key),yield he(B,la.result,!0,{replace:it}),{shortCircuited:!0};let{loaderData:ua,errors:pr}=tb(P,ue,Mt,ee,Ge,Qt);mt&&P.errors&&(pr=H(H({},P.errors),pr));let Qn=Zt(),xa=ea(re),br=Qn||xa||Ge.length>0;return H({matches:ue,loaderData:ua,errors:pr},br?{fetchers:new Map(P.fetchers)}:{})})}function Pt(B){if(B&&!mr(B[1]))return{[B[0]]:B[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Kt(B){return B.forEach(ne=>{let ue=P.fetchers.get(ne.key),le=qo(void 0,ue?ue.data:void 0);P.fetchers.set(ne.key,le)}),new Map(P.fetchers)}function Aa(B,ne,ue,le){return xe(this,null,function*(){ke(B);let Re=(le&&le.flushSync)===!0,Ke=g||u,rt=Mh(P.location,P.matches,h,ue,ne,le==null?void 0:le.relative),et=Cs(Ke,rt,h),it=rr(et,Ke,rt);if(it.active&&it.matches&&(et=it.matches),!et){He(B,ne,Tr(404,{pathname:rt}),{flushSync:Re});return}let{path:mt,submission:st,error:ee}=Kp(!0,rt,le);if(ee){He(B,ne,ee,{flushSync:Re});return}let Ne=Qo(et,mt),Ie=new Gp(e.unstable_getContext?yield e.unstable_getContext():void 0),qe=(le&&le.preventScrollReset)===!0;if(st&&gr(st.formMethod)){yield Ra(B,ne,mt,Ne,et,Ie,it.active,Re,qe,st);return}ie.set(B,{routeId:ne,path:mt}),yield Na(B,ne,mt,Ne,et,Ie,it.active,Re,qe,st)})}function Ra(B,ne,ue,le,Re,Ke,rt,et,it,mt){return xe(this,null,function*(){ht(),ie.delete(B);function st(Gt){if(!Gt.route.action&&!Gt.route.lazy){let nn=Tr(405,{method:mt.formMethod,pathname:ue,routeId:ne});return He(B,ne,nn,{flushSync:et}),!0}return!1}if(!rt&&st(le))return;let ee=P.fetchers.get(B);ft(B,wj(mt,ee),{flushSync:et});let Ne=new AbortController,Ie=pl(e.history,ue,Ne.signal,mt);if(rt){let Gt=yield Qa(Re,ue,Ie.signal,B);if(Gt.type==="aborted")return;if(Gt.type==="error"){He(B,ne,Gt.error,{flushSync:et});return}else if(Gt.matches){if(Re=Gt.matches,le=Qo(Re,ue),st(le))return}else{He(B,ne,Tr(404,{pathname:ue}),{flushSync:et});return}}U.set(B,Ne);let qe=_,lt=jl(o,d,Ie,Re,le,i,Ke),Ge=(yield X(Ie,lt,Ke,B))[le.route.id];if(Ie.signal.aborted){U.get(B)===Ne&&U.delete(B);return}if(V.has(B)){if(bi(Ge)||mr(Ge)){ft(B,ks(void 0));return}}else{if(bi(Ge))if(U.delete(B),re>qe){ft(B,ks(void 0));return}else return R.add(B),ft(B,qo(mt)),he(Ie,Ge,!1,{fetcherSubmission:mt,preventScrollReset:it});if(mr(Ge)){He(B,ne,Ge.error);return}}let Et=P.navigation.location||P.location,Mt=pl(e.history,Et,Ne.signal),Qt=g||u,la=P.navigation.state!=="idle"?Cs(Qt,P.navigation.location,h):P.matches;Ct(la,"Didn't find any matches after fetcher action");let ua=++_;pe.set(B,ua);let pr=qo(mt,Ge.data);P.fetchers.set(B,pr);let{dsMatches:Qn,revalidatingFetchers:xa}=Yp(Mt,Ke,o,d,e.history,P,la,mt,Et,i,!1,K,z,V,ie,R,Qt,h,e.patchRoutesOnNavigation!=null,[le.route.id,Ge]);xa.filter(Gt=>Gt.key!==B).forEach(Gt=>{let nn=Gt.key,qs=P.fetchers.get(nn),Da=qo(void 0,qs?qs.data:void 0);P.fetchers.set(nn,Da),ke(nn),Gt.controller&&U.set(nn,Gt.controller)}),Ae({fetchers:new Map(P.fetchers)});let br=()=>xa.forEach(Gt=>ke(Gt.key));Ne.signal.addEventListener("abort",br);let{loaderResults:wt,fetcherResults:wa}=yield ze(Qn,xa,Mt,Ke);if(Ne.signal.aborted)return;if(Ne.signal.removeEventListener("abort",br),pe.delete(B),U.delete(B),xa.forEach(Gt=>U.delete(Gt.key)),P.fetchers.has(B)){let Gt=ks(Ge.data);P.fetchers.set(B,Gt)}let nr=zd(wt);if(nr)return he(Mt,nr.result,!1,{preventScrollReset:it});if(nr=zd(wa),nr)return R.add(nr.key),he(Mt,nr.result,!1,{preventScrollReset:it});let{loaderData:Ma,errors:rn}=tb(P,la,wt,void 0,xa,wa);ea(ua),P.navigation.state==="loading"&&ua>re?(Ct(W,"Expected pending action"),G&&G.abort(),Ze(P.navigation.location,{matches:la,loaderData:Ma,errors:rn,fetchers:new Map(P.fetchers)})):(Ae({errors:rn,loaderData:ab(P.loaderData,Ma,la,rn),fetchers:new Map(P.fetchers)}),K=!1)})}function Na(B,ne,ue,le,Re,Ke,rt,et,it,mt){return xe(this,null,function*(){let st=P.fetchers.get(B);ft(B,qo(mt,st?st.data:void 0),{flushSync:et});let ee=new AbortController,Ne=pl(e.history,ue,ee.signal);if(rt){let Ge=yield Qa(Re,ue,Ne.signal,B);if(Ge.type==="aborted")return;if(Ge.type==="error"){He(B,ne,Ge.error,{flushSync:et});return}else if(Ge.matches)Re=Ge.matches,le=Qo(Re,ue);else{He(B,ne,Tr(404,{pathname:ue}),{flushSync:et});return}}U.set(B,ee);let Ie=_,qe=jl(o,d,Ne,Re,le,i,Ke),tt=(yield X(Ne,qe,Ke,B))[le.route.id];if(U.get(B)===ee&&U.delete(B),!Ne.signal.aborted){if(V.has(B)){ft(B,ks(void 0));return}if(bi(tt))if(re>Ie){ft(B,ks(void 0));return}else{R.add(B),yield he(Ne,tt,!1,{preventScrollReset:it});return}if(mr(tt)){He(B,ne,tt.error);return}ft(B,ks(tt.data))}})}function he(et,it,mt){return xe(this,arguments,function*(B,ne,ue,{submission:le,fetcherSubmission:Re,preventScrollReset:Ke,replace:rt}={}){ne.response.headers.has("X-Remix-Revalidate")&&(K=!0);let st=ne.response.headers.get("Location");Ct(st,"Expected a Location header on the redirect Response"),st=Jp(st,new URL(B.url),h);let ee=Wo(P.location,st,{_isRedirect:!0});if(n){let Ge=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))Ge=!0;else if(Tm.test(st)){const Et=x1(st,!0);Ge=Et.origin!==t.location.origin||Ar(Et.pathname,h)==null}if(Ge){rt?t.location.replace(st):t.location.assign(st);return}}G=null;let Ne=rt===!0||ne.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:qe,formEncType:lt}=P.navigation;!le&&!Re&&Ie&&qe&&lt&&(le=ib(P.navigation));let tt=le||Re;if(sj.has(ne.response.status)&&tt&&gr(tt.formMethod))yield De(Ne,ee,{submission:je(H({},tt),{formAction:st}),preventScrollReset:Ke||Y,enableViewTransition:ue?ae:void 0});else{let Ge=uh(ee,le);yield De(Ne,ee,{overrideNavigation:Ge,fetcherSubmission:Re,preventScrollReset:Ke||Y,enableViewTransition:ue?ae:void 0})}})}function X(B,ne,ue,le){return xe(this,null,function*(){let Re,Ke={};try{Re=yield mj(m,B,ne,le,ue,!1)}catch(rt){return ne.filter(et=>et.shouldLoad).forEach(et=>{Ke[et.route.id]={type:"error",error:rt}}),Ke}if(B.signal.aborted)return Ke;for(let[rt,et]of Object.entries(Re))if(vj(et)){let it=et.result;Ke[rt]={type:"redirect",response:xj(it,B,rt,ne,h)}}else Ke[rt]=yield yj(et);return Ke})}function ze(B,ne,ue,le){return xe(this,null,function*(){let Re=X(ue,B,le,null),Ke=Promise.all(ne.map(it=>xe(null,null,function*(){if(it.matches&&it.match&&it.request&&it.controller){let st=(yield X(it.request,it.matches,le,it.key))[it.match.route.id];return{[it.key]:st}}else return Promise.resolve({[it.key]:{type:"error",error:Tr(404,{pathname:it.path})}})}))),rt=yield Re,et=(yield Ke).reduce((it,mt)=>Object.assign(it,mt),{});return{loaderResults:rt,fetcherResults:et}})}function ht(){K=!0,ie.forEach((B,ne)=>{U.has(ne)&&z.add(ne),ke(ne)})}function ft(B,ne,ue={}){P.fetchers.set(B,ne),Ae({fetchers:new Map(P.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function He(B,ne,ue,le={}){let Re=pi(P.matches,ne);jt(B),Ae({errors:{[Re.route.id]:ue},fetchers:new Map(P.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function yt(B){return ve.set(B,(ve.get(B)||0)+1),V.has(B)&&V.delete(B),P.fetchers.get(B)||ij}function jt(B){let ne=P.fetchers.get(B);U.has(B)&&!(ne&&ne.state==="loading"&&pe.has(B))&&ke(B),ie.delete(B),pe.delete(B),R.delete(B),V.delete(B),z.delete(B),P.fetchers.delete(B)}function be(B){let ne=(ve.get(B)||0)-1;ne<=0?(ve.delete(B),V.add(B)):ve.set(B,ne),Ae({fetchers:new Map(P.fetchers)})}function ke(B){let ne=U.get(B);ne&&(ne.abort(),U.delete(B))}function bt(B){for(let ne of B){let ue=yt(ne),le=ks(ue.data);P.fetchers.set(ne,le)}}function Zt(){let B=[],ne=!1;for(let ue of R){let le=P.fetchers.get(ue);Ct(le,`Expected fetcher: ${ue}`),le.state==="loading"&&(R.delete(ue),B.push(ue),ne=!0)}return bt(B),ne}function ea(B){let ne=[];for(let[ue,le]of pe)if(le<B){let Re=P.fetchers.get(ue);Ct(Re,`Expected fetcher: ${ue}`),Re.state==="loading"&&(ke(ue),pe.delete(ue),ne.push(ue))}return bt(ne),ne.length>0}function ta(B,ne){let ue=P.blockers.get(B)||Ho;return _e.get(B)!==ne&&_e.set(B,ne),ue}function za(B){P.blockers.delete(B),_e.delete(B)}function Pa(B,ne){let ue=P.blockers.get(B)||Ho;Ct(ue.state==="unblocked"&&ne.state==="blocked"||ue.state==="blocked"&&ne.state==="blocked"||ue.state==="blocked"&&ne.state==="proceeding"||ue.state==="blocked"&&ne.state==="unblocked"||ue.state==="proceeding"&&ne.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${ne.state}`);let le=new Map(P.blockers);le.set(B,ne),Ae({blockers:le})}function Yn({currentLocation:B,nextLocation:ne,historyAction:ue}){if(_e.size===0)return;_e.size>1&&da(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[Re,Ke]=le[le.length-1],rt=P.blockers.get(Re);if(!(rt&&rt.state==="proceeding")&&Ke({currentLocation:B,nextLocation:ne,historyAction:ue}))return Re}function Dr(B){let ne=Tr(404,{pathname:B}),ue=g||u,{matches:le,route:Re}=nb(ue);return{notFoundMatches:le,route:Re,error:ne}}function Le(B,ne,ue){if(p=B,k=ne,S=ue||null,!E&&P.navigation===dh){E=!0;let le=bn(P.location,P.matches);le!=null&&Ae({restoreScrollPosition:le})}return()=>{p=null,k=null,S=null}}function ja(B,ne){return S&&S(B,ne.map(le=>LN(le,P.loaderData)))||B.key}function _a(B,ne){if(p&&k){let ue=ja(B,ne);p[ue]=k()}}function bn(B,ne){if(p){let ue=ja(B,ne),le=p[ue];if(typeof le=="number")return le}return null}function rr(B,ne,ue){if(e.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:eu(ne,ue,h,!0)}}else return{active:!0,matches:eu(ne,ue,h,!0)||[]};return{active:!1,matches:null}}function Qa(B,ne,ue,le){return xe(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:B};let Re=B;for(;;){let Ke=g==null,rt=g||u,et=d;try{yield e.patchRoutesOnNavigation({signal:ue,path:ne,matches:Re,fetcherKey:le,patch:(st,ee)=>{ue.aborted||Qp(st,ee,rt,et,o)}})}catch(st){return{type:"error",error:st,partialMatches:Re}}finally{Ke&&!ue.aborted&&(u=[...u])}if(ue.aborted)return{type:"aborted"};let it=Cs(rt,ne,h);if(it)return{type:"success",matches:it};let mt=eu(rt,ne,h,!0);if(!mt||Re.length===mt.length&&Re.every((st,ee)=>st.route.id===mt[ee].route.id))return{type:"success",matches:null};Re=mt}})}function Lr(B){d={},g=uu(B,o,void 0,d)}function an(B,ne){let ue=g==null;Qp(B,ne,g||u,d,o),ue&&(u=[...u],Ae({}))}return A={get basename(){return h},get future(){return x},get state(){return P},get routes(){return u},get window(){return t},initialize:We,subscribe:$e,enableScrollRestoration:Le,navigate:xt,fetch:Aa,revalidate:Q,createHref:B=>e.history.createHref(B),encodeLocation:B=>e.history.encodeLocation(B),getFetcher:yt,deleteFetcher:be,dispose:ye,getBlocker:ta,deleteBlocker:za,patchRoutes:an,_internalFetchControllers:U,_internalSetRoutes:Lr},A}function cj(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Mh(e,t,n,i,o,d){let u,g;if(o){u=[];for(let m of t)if(u.push(m),m.route.id===o){g=m;break}}else u=t,g=t[t.length-1];let h=Tu(i||".",_u(u),Ar(e.pathname,n)||e.pathname,d==="path");if(i==null&&(h.search=e.search,h.hash=e.hash),(i==null||i===""||i===".")&&g){let m=Em(h.search);if(g.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&m){let x=new URLSearchParams(h.search),v=x.getAll("index");x.delete("index"),v.filter(p=>p).forEach(p=>x.append("index",p));let b=x.toString();h.search=b?`?${b}`:""}}return n!=="/"&&(h.pathname=h.pathname==="/"?n:xn([n,h.pathname])),Ls(h)}function Kp(e,t,n){if(!n||!cj(n))return{path:t};if(n.formMethod&&!Nj(n.formMethod))return{path:t,error:Tr(405,{method:n.formMethod})};let i=()=>({path:t,error:Tr(400,{type:"invalid-body"})}),d=(n.formMethod||"get").toUpperCase(),u=T1(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!gr(d))return i();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[p,S])=>`${b}${p}=${S}
`,""):String(n.body);return{path:t,submission:{formMethod:d,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!gr(d))return i();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:d,formAction:u,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch(v){return i()}}}Ct(typeof FormData=="function","FormData is not available in this environment");let g,h;if(n.formData)g=Ih(n.formData),h=n.formData;else if(n.body instanceof FormData)g=Ih(n.body),h=n.body;else if(n.body instanceof URLSearchParams)g=n.body,h=eb(g);else if(n.body==null)g=new URLSearchParams,h=new FormData;else try{g=new URLSearchParams(n.body),h=eb(g)}catch(v){return i()}let m={formMethod:d,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(gr(m.formMethod))return{path:t,submission:m};let x=Bs(t);return e&&x.search&&Em(x.search)&&g.append("index",""),x.search=`?${g}`,{path:Ls(x),submission:m}}function Yp(e,t,n,i,o,d,u,g,h,m,x,v,b,p,S,k,E,$,I,D){var Ee;let L=D?mr(D[1])?D[1].error:D[1].data:void 0,A=o.createURL(d.location),P=o.createURL(h),W;if(x&&d.errors){let K=Object.keys(d.errors)[0];W=u.findIndex(z=>z.route.id===K)}else if(D&&mr(D[1])){let K=D[0];W=u.findIndex(z=>z.route.id===K)-1}let Y=D?D[1].statusCode:void 0,G=Y&&Y>=400,ae=je(H({currentUrl:A,currentParams:((Ee=d.matches[0])==null?void 0:Ee.params)||{},nextUrl:P,nextParams:u[0].params},g),{actionResult:L,actionStatus:Y}),ge=u.map((K,z)=>{let{route:U}=K,_=null;if(W!=null&&z>W?_=!1:U.lazy?_=!0:U.loader==null?_=!1:x?_=Dh(U,d.loaderData,d.errors):dj(d.loaderData,d.matches[z],K)&&(_=!0),_!==null)return Lh(n,i,e,K,m,t,_);let re=G?!1:v||A.pathname+A.search===P.pathname+P.search||A.search!==P.search||uj(d.matches[z],K),pe=je(H({},ae),{defaultShouldRevalidate:re}),R=mu(K,pe);return Lh(n,i,e,K,m,t,R,pe)}),J=[];return S.forEach((K,z)=>{if(x||!u.some(V=>V.route.id===K.routeId)||p.has(z))return;let U=d.fetchers.get(z),_=U&&U.state!=="idle"&&U.data===void 0,re=Cs(E,K.path,$);if(!re){if(I&&_)return;J.push({key:z,routeId:K.routeId,path:K.path,matches:null,match:null,request:null,controller:null});return}if(k.has(z))return;let pe=Qo(re,K.path),R=new AbortController,ie=pl(o,K.path,R.signal),ve=null;if(b.has(z))b.delete(z),ve=jl(n,i,ie,re,pe,m,t);else if(_)v&&(ve=jl(n,i,ie,re,pe,m,t));else{let V=je(H({},ae),{defaultShouldRevalidate:G?!1:v});mu(pe,V)&&(ve=jl(n,i,ie,re,pe,m,t,V))}ve&&J.push({key:z,routeId:K.routeId,path:K.path,matches:ve,match:pe,request:ie,controller:R})}),{dsMatches:ge,revalidatingFetchers:J}}function Dh(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=t!=null&&e.id in t,o=n!=null&&n[e.id]!==void 0;return!i&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!o}function dj(e,t,n){let i=!t||n.route.id!==t.route.id,o=!e.hasOwnProperty(n.route.id);return i||o}function uj(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function mu(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Qp(e,t,n,i,o){let d;if(e){let h=i[e];Ct(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),d=h.children}else d=n;let u=t.filter(h=>!d.some(m=>k1(h,m))),g=uu(u,o,[e||"_","patch",String((d==null?void 0:d.length)||"0")],i);d.push(...g)}function k1(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>{var o;return(o=t.children)==null?void 0:o.some(d=>k1(n,d))}):!1}var Xp=new WeakMap,$1=({key:e,route:t,manifest:n,mapRouteProperties:i})=>{let o=n[t.id];if(Ct(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let d=o.lazy[e];if(!d)return;let u=Xp.get(o);u||(u={},Xp.set(o,u));let g=u[e];if(g)return g;let h=xe(null,null,function*(){let m=RN(e),v=o[e]!==void 0&&e!=="hasErrorBoundary";if(m)da(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(v)da(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield d();b!=null&&(Object.assign(o,{[e]:b}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))});return u[e]=h,h},Zp=new WeakMap;function fj(e,t,n,i,o){let d=n[e.id];if(Ct(d,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let x=Zp.get(d);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let v=xe(null,null,function*(){Ct(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),p={};for(let S in b){let k=b[S];if(k===void 0)continue;let E=MN(S),I=d[S]!==void 0&&S!=="hasErrorBoundary";E?da(!E,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?da(!I,`Route "${d.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):p[S]=k}Object.assign(d,p),Object.assign(d,je(H({},i(d)),{lazy:void 0}))});return Zp.set(d,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(e.lazy),g=[],h;for(let x of u){if(o&&o.includes(x))continue;let v=$1({key:x,route:e,manifest:n,mapRouteProperties:i});v&&(g.push(v),x===t&&(h=v))}let m=g.length>0?Promise.all(g).then(()=>{}):void 0;return m==null||m.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}function Wp(e){return xe(this,null,function*(){let t=e.matches.filter(o=>o.shouldLoad),n={};return(yield Promise.all(t.map(o=>o.resolve()))).forEach((o,d)=>{n[t[d].route.id]=o}),n})}function hj(e){return xe(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?S1(e,!1,()=>Wp(e),(t,n)=>({[n]:{type:"error",result:t}})):Wp(e)})}function S1(e,t,n,i){return xe(this,null,function*(){let{matches:o,request:d,params:u,context:g}=e,h={handlerResult:void 0};try{let m=o.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(b=>[v.route.id,b]):[]),x=yield C1({request:d,params:u,context:g},m,t,h,n);return t?x:h.handlerResult}catch(m){if(!h.middlewareError)throw m;let x=yield i(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,x):x}})}function C1(e,t,n,i,o,d=0){return xe(this,null,function*(){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let g=t[d];if(!g)return i.handlerResult=yield o(),i.handlerResult;let[h,m]=g,x=!1,v,b=()=>xe(null,null,function*(){if(x)throw new Error("You may only call `next()` once per middleware");x=!0,yield C1(e,t,n,i,o,d+1)});try{let p=yield m({request:e.request,params:e.params,context:e.context},b);return x?p===void 0?v:p:b()}catch(p){throw i.middlewareError?i.middlewareError.error!==p&&(i.middlewareError={routeId:h,error:p}):i.middlewareError={routeId:h,error:p},p}})}function _1(e,t,n,i,o){let d=$1({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:e}),u=fj(i.route,gr(n.method)?"action":"loader",t,e,o);return{middleware:d,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Lh(e,t,n,i,o,d,u,g=null){let h=!1,m=_1(e,t,n,i,o);return je(H({},i),{_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:g,unstable_shouldCallHandler(x){return h=!0,g?typeof x=="boolean"?mu(i,je(H({},g),{defaultShouldRevalidate:x})):mu(i,g):u},resolve(x){return h||u||x&&n.method==="GET"&&(i.route.lazy||i.route.loader)?gj({request:n,match:i,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:x,scopedContext:d}):Promise.resolve({type:"data",result:void 0})}})}function jl(e,t,n,i,o,d,u,g=null){return i.map(h=>h.route.id!==o.route.id?je(H({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:g,unstable_shouldCallHandler:()=>!1,_lazyPromises:_1(e,t,n,h,d),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Lh(e,t,n,h,d,u,!0,g))}function mj(e,t,n,i,o,d){return xe(this,null,function*(){n.some(m=>{var x;return(x=m._lazyPromises)==null?void 0:x.middleware})&&(yield Promise.all(n.map(m=>{var x;return(x=m._lazyPromises)==null?void 0:x.middleware})));let u={request:t,params:n[0].params,context:o,matches:n},g=m=>{let x=u;return S1(x,!1,()=>m(je(H({},x),{fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(v,b)=>({[b]:{type:"error",result:v}}))},h=yield e(je(H({},u),{fetcherKey:i,unstable_runClientMiddleware:g}));try{yield Promise.all(n.flatMap(m=>{var x,v;return[(x=m._lazyPromises)==null?void 0:x.handler,(v=m._lazyPromises)==null?void 0:v.route]}))}catch(m){}return h})}function gj(u){return xe(this,arguments,function*({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:o,scopedContext:d}){let g,h,m=gr(e.method),x=m?"action":"loader",v=b=>{let p,S=new Promise(($,I)=>p=I);h=()=>p(),e.signal.addEventListener("abort",h);let k=$=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${x}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:d},...$!==void 0?[$]:[]),E=xe(null,null,function*(){try{return{type:"data",result:yield o?o(I=>k(I)):k()}}catch($){return{type:"error",result:$}}});return Promise.race([E,S])};try{let b=m?t.route.action:t.route.loader;if(n||i)if(b){let p,[S]=yield Promise.all([v(b).catch(k=>{p=k}),n,i]);if(p!==void 0)throw p;g=S}else{yield n;let p=m?t.route.action:t.route.loader;if(p)[g]=yield Promise.all([v(p),i]);else if(x==="action"){let S=new URL(e.url),k=S.pathname+S.search;throw Tr(405,{method:e.method,pathname:k,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)g=yield v(b);else{let p=new URL(e.url),S=p.pathname+p.search;throw Tr(404,{pathname:S})}}catch(b){return{type:"error",result:b}}finally{h&&e.signal.removeEventListener("abort",h)}return g})}function yj(e){return xe(this,null,function*(){var i,o,d,u,g,h;let{result:t,type:n}=e;if(E1(t)){let m;try{let x=t.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?t.body==null?m=null:m=yield t.json():m=yield t.text()}catch(x){return{type:"error",error:x}}return n==="error"?{type:"error",error:new hu(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:"data",data:m,statusCode:t.status,headers:t.headers}}return n==="error"?sb(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new hu(((d=t.init)==null?void 0:d.status)||500,void 0,t.data),statusCode:Jo(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Jo(t)?t.status:void 0}:sb(t)?{type:"data",data:t.data,statusCode:(g=t.init)==null?void 0:g.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function xj(e,t,n,i,o){let d=e.headers.get("Location");if(Ct(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tm.test(d)){let u=i.slice(0,i.findIndex(g=>g.route.id===n)+1);d=Mh(new URL(t.url),u,o,d),e.headers.set("Location",d)}return e}function Jp(e,t,n){if(Tm.test(e)){let i=e,o=i.startsWith("//")?new URL(t.protocol+i):new URL(i),d=Ar(o.pathname,n)!=null;if(o.origin===t.origin&&d)return o.pathname+o.search+o.hash}return e}function pl(e,t,n,i){let o=e.createURL(T1(t)).toString(),d={signal:n};if(i&&gr(i.formMethod)){let{formMethod:u,formEncType:g}=i;d.method=u.toUpperCase(),g==="application/json"?(d.headers=new Headers({"Content-Type":g}),d.body=JSON.stringify(i.json)):g==="text/plain"?d.body=i.text:g==="application/x-www-form-urlencoded"&&i.formData?d.body=Ih(i.formData):d.body=i.formData}return new Request(o,d)}function Ih(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function eb(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function pj(e,t,n,i=!1,o=!1){let d={},u=null,g,h=!1,m={},x=n&&mr(n[1])?n[1].error:void 0;return e.forEach(v=>{if(!(v.route.id in t))return;let b=v.route.id,p=t[b];if(Ct(!bi(p),"Cannot handle redirect results in processLoaderData"),mr(p)){let S=p.error;if(x!==void 0&&(S=x,x=void 0),u=u||{},o)u[b]=S;else{let k=pi(e,b);u[k.route.id]==null&&(u[k.route.id]=S)}i||(d[b]=w1),h||(h=!0,g=Jo(p.error)?p.error.status:500),p.headers&&(m[b]=p.headers)}else d[b]=p.data,p.statusCode&&p.statusCode!==200&&!h&&(g=p.statusCode),p.headers&&(m[b]=p.headers)}),x!==void 0&&n&&(u={[n[0]]:x},n[2]&&(d[n[2]]=void 0)),{loaderData:d,errors:u,statusCode:g||200,loaderHeaders:m}}function tb(e,t,n,i,o,d){let{loaderData:u,errors:g}=pj(t,n,i);return o.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:x,controller:v}=h,b=d[m];if(Ct(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(mr(b)){let p=pi(e.matches,x==null?void 0:x.route.id);g&&g[p.route.id]||(g=je(H({},g),{[p.route.id]:b.error})),e.fetchers.delete(m)}else if(bi(b))Ct(!1,"Unhandled fetcher revalidation redirect");else{let p=ks(b.data);e.fetchers.set(m,p)}}),{loaderData:u,errors:g}}function ab(e,t,n,i){let o=Object.entries(t).filter(([,d])=>d!==w1).reduce((d,[u,g])=>(d[u]=g,d),{});for(let d of n){let u=d.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&d.route.loader&&(o[u]=e[u]),i&&i.hasOwnProperty(u))break}return o}function rb(e){return e?mr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function pi(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function nb(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Tr(e,{pathname:t,routeId:n,method:i,type:o,message:d}={}){let u="Unknown Server Error",g="Unknown @remix-run/router error";return e===400?(u="Bad Request",i&&t&&n?g=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(g="Unable to encode submission body")):e===403?(u="Forbidden",g=`Route "${n}" does not match URL "${t}"`):e===404?(u="Not Found",g=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",i&&t&&n?g=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(g=`Invalid request method "${i.toUpperCase()}"`)),new hu(e||500,u,new Error(g),!0)}function zd(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,o]=t[n];if(bi(o))return{key:i,result:o}}}function T1(e){let t=typeof e=="string"?Bs(e):e;return Ls(je(H({},t),{hash:""}))}function bj(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function vj(e){return E1(e.result)&&nj.has(e.result.status)}function mr(e){return e.type==="error"}function bi(e){return(e&&e.type)==="redirect"}function sb(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function E1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function Nj(e){return rj.has(e.toUpperCase())}function gr(e){return tj.has(e.toUpperCase())}function Em(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Qo(e,t){let n=typeof t=="string"?Bs(t).search:t.search;if(e[e.length-1].route.index&&Em(n||""))return e[e.length-1];let i=v1(e);return i[i.length-1]}function ib(e){let{formMethod:t,formAction:n,formEncType:i,text:o,formData:d,json:u}=e;if(!(!t||!n||!i)){if(o!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(d!=null)return{formMethod:t,formAction:n,formEncType:i,formData:d,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:u,text:void 0}}}function uh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jj(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function qo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wj(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ks(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kj(e,t){try{let n=e.sessionStorage.getItem(j1);if(n){let i=JSON.parse(n);for(let[o,d]of Object.entries(i||{}))d&&Array.isArray(d)&&t.set(o,new Set(d||[]))}}catch(n){}}function $j(e,t){if(t.size>0){let n={};for(let[i,o]of t)n[i]=[...o];try{e.sessionStorage.setItem(j1,JSON.stringify(n))}catch(i){da(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function Sj(){let e,t,n=new Promise((i,o)=>{e=d=>xe(null,null,function*(){i(d);try{yield n}catch(u){}}),t=d=>xe(null,null,function*(){o(d);try{yield n}catch(u){}})});return{promise:n,resolve:e,reject:t}}var Ei=j.createContext(null);Ei.displayName="DataRouter";var Cc=j.createContext(null);Cc.displayName="DataRouterState";var Om=j.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var O1=j.createContext(new Map);O1.displayName="Fetchers";var Cj=j.createContext(null);Cj.displayName="Await";var en=j.createContext(null);en.displayName="Navigation";var Eu=j.createContext(null);Eu.displayName="Location";var Rr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Am=j.createContext(null);Am.displayName="RouteError";function _j(e,{relative:t}={}){Ct(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(en),{hash:o,pathname:d,search:u}=_c(e,{relative:t}),g=d;return n!=="/"&&(g=d==="/"?n:xn([n,d])),i.createHref({pathname:g,search:u,hash:o})}function Fl(){return j.useContext(Eu)!=null}function Pr(){return Ct(Fl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Eu).location}var A1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R1(e){j.useContext(en).static||j.useLayoutEffect(e)}function ya(){let{isDataRoute:e}=j.useContext(Rr);return e?Hj():Tj()}function Tj(){Ct(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Ei),{basename:t,navigator:n}=j.useContext(en),{matches:i}=j.useContext(Rr),{pathname:o}=Pr(),d=JSON.stringify(_u(i)),u=j.useRef(!1);return R1(()=>{u.current=!0}),j.useCallback((h,m={})=>{if(da(u.current,A1),!u.current)return;if(typeof h=="number"){n.go(h);return}let x=Tu(h,JSON.parse(d),o,m.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:xn([t,x.pathname])),(m.replace?n.replace:n.push)(x,m.state,m)},[t,n,d,o,e])}var Ej=j.createContext(null);function Oj(e){let t=j.useContext(Rr).outlet;return t&&j.createElement(Ej.Provider,{value:e},t)}function Rm(){let{matches:e}=j.useContext(Rr),t=e[e.length-1];return t?t.params:{}}function _c(e,{relative:t}={}){let{matches:n}=j.useContext(Rr),{pathname:i}=Pr(),o=JSON.stringify(_u(n));return j.useMemo(()=>Tu(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function Aj(e,t,n,i){Ct(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(en),{matches:d}=j.useContext(Rr),u=d[d.length-1],g=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",x=u&&u.route;{let $=x&&x.path||"";P1(h,!x||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let v=Pr(),b;b=v;let p=b.pathname||"/",S=p;if(m!=="/"){let $=m.replace(/^\//,"").split("/");S="/"+p.replace(/^\//,"").split("/").slice($.length).join("/")}let k=Cs(e,{pathname:S});return da(x||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),da(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Lj(k&&k.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:xn([m,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?m:xn([m,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,n,i)}function Rj(){let e=zj(),t=Jo(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:d},"ErrorBoundary")," or"," ",j.createElement("code",{style:d},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:o},n):null,u)}var Pj=j.createElement(Rj,null),Mj=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(Rr.Provider,{value:this.props.routeContext},j.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dj({routeContext:e,match:t,children:n}){let i=j.useContext(Ei);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Rr.Provider,{value:e},n)}function Lj(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,d=n==null?void 0:n.errors;if(d!=null){let h=o.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);Ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,g=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(g=h),m.route.id){let{loaderData:x,errors:v}=n,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((h,m,x)=>{let v,b=!1,p=null,S=null;n&&(v=d&&m.route.id?d[m.route.id]:void 0,p=m.route.errorElement||Pj,u&&(g<0&&x===0?(P1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):g===x&&(b=!0,S=m.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,x+1)),E=()=>{let $;return v?$=p:b?$=S:m.route.Component?$=j.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=h,j.createElement(Dj,{match:m,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:$})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?j.createElement(Mj,{location:n.location,revalidation:n.revalidation,component:p,error:v,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):E()},null)}function Pm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ij(e){let t=j.useContext(Ei);return Ct(t,Pm(e)),t}function Uj(e){let t=j.useContext(Cc);return Ct(t,Pm(e)),t}function Fj(e){let t=j.useContext(Rr);return Ct(t,Pm(e)),t}function Mm(e){let t=Fj(e),n=t.matches[t.matches.length-1];return Ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Bj(){return Mm("useRouteId")}function zj(){var i;let e=j.useContext(Am),t=Uj("useRouteError"),n=Mm("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function Hj(){let{router:e}=Ij("useNavigate"),t=Mm("useNavigate"),n=j.useRef(!1);return R1(()=>{n.current=!0}),j.useCallback((u,...g)=>xe(null,[u,...g],function*(o,d={}){da(n.current,A1),n.current&&(typeof o=="number"?e.navigate(o):yield e.navigate(o,H({fromRouteId:t},d)))}),[e,t])}var lb={};function P1(e,t,n){!t&&!lb[e]&&(lb[e]=!0,da(!1,n))}var ob={};function cb(e,t){!e&&!ob[t]&&(ob[t]=!0,console.warn(t))}function qj(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&da(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:j.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&da(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&da(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Gj=["HydrateFallback","hydrateFallbackElement"],Vj=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Kj({router:e,flushSync:t}){let[n,i]=j.useState(e.state),[o,d]=j.useState(),[u,g]=j.useState({isTransitioning:!1}),[h,m]=j.useState(),[x,v]=j.useState(),[b,p]=j.useState(),S=j.useRef(new Map),k=j.useCallback((D,{deletedFetchers:L,flushSync:A,viewTransitionOpts:P})=>{D.fetchers.forEach((Y,G)=>{Y.data!==void 0&&S.current.set(G,Y.data)}),L.forEach(Y=>S.current.delete(Y)),cb(A===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let W=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(cb(P==null||W,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!W){t&&A?t(()=>i(D)):j.startTransition(()=>i(D));return}if(t&&A){t(()=>{x&&(h&&h.resolve(),x.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let Y=e.window.document.startViewTransition(()=>{t(()=>i(D))});Y.finished.finally(()=>{t(()=>{m(void 0),v(void 0),d(void 0),g({isTransitioning:!1})})}),t(()=>v(Y));return}x?(h&&h.resolve(),x.skipTransition(),p({state:D,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(d(D),g({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,x,h]);j.useLayoutEffect(()=>e.subscribe(k),[e,k]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new Vj)},[u]),j.useEffect(()=>{if(h&&o&&e.window){let D=o,L=h.promise,A=e.window.document.startViewTransition(()=>xe(null,null,function*(){j.startTransition(()=>i(D)),yield L}));A.finished.finally(()=>{m(void 0),v(void 0),d(void 0),g({isTransitioning:!1})}),v(A)}},[o,h,e.window]),j.useEffect(()=>{h&&o&&n.location.key===o.location.key&&h.resolve()},[h,x,n.location,o]),j.useEffect(()=>{!u.isTransitioning&&b&&(d(b.state),g({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),p(void 0))},[u.isTransitioning,b]);let E=j.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:D=>e.navigate(D),push:(D,L,A)=>e.navigate(D,{state:L,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(D,L,A)=>e.navigate(D,{replace:!0,state:L,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[e]),$=e.basename||"/",I=j.useMemo(()=>({router:e,navigator:E,static:!1,basename:$}),[e,E,$]);return j.createElement(j.Fragment,null,j.createElement(Ei.Provider,{value:I},j.createElement(Cc.Provider,{value:n},j.createElement(O1.Provider,{value:S.current},j.createElement(Om.Provider,{value:u},j.createElement(Wj,{basename:$,location:n.location,navigationType:n.historyAction,navigator:E},j.createElement(Yj,{routes:e.routes,future:e.future,state:n})))))),null)}var Yj=j.memo(Qj);function Qj({routes:e,future:t,state:n}){return Aj(e,void 0,n,t)}function Xj({to:e,replace:t,state:n,relative:i}){Ct(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(en);da(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=j.useContext(Rr),{pathname:u}=Pr(),g=ya(),h=Tu(e,_u(d),u,i==="path"),m=JSON.stringify(h);return j.useEffect(()=>{g(JSON.parse(m),{replace:t,state:n,relative:i})},[g,m,i,t,n]),null}function Zj(e){return Oj(e.context)}function Wj({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:d=!1}){Ct(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:u,navigator:o,static:d,future:{}}),[u,o,d]);typeof n=="string"&&(n=Bs(n));let{pathname:h="/",search:m="",hash:x="",state:v=null,key:b="default"}=n,p=j.useMemo(()=>{let S=Ar(h,u);return S==null?null:{location:{pathname:S,search:m,hash:x,state:v,key:b},navigationType:i}},[u,h,m,x,v,b,i]);return da(p!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:j.createElement(en.Provider,{value:g},j.createElement(Eu.Provider,{children:t,value:p}))}var tu="get",au="application/x-www-form-urlencoded";function Ou(e){return e!=null&&typeof e.tagName=="string"}function Jj(e){return Ou(e)&&e.tagName.toLowerCase()==="button"}function ew(e){return Ou(e)&&e.tagName.toLowerCase()==="form"}function tw(e){return Ou(e)&&e.tagName.toLowerCase()==="input"}function aw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rw(e,t){return e.button===0&&(!t||t==="_self")&&!aw(e)}var Hd=null;function nw(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch(e){Hd=!0}return Hd}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fh(e){return e!=null&&!sw.has(e)?(da(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):e}function iw(e,t){let n,i,o,d,u;if(ew(e)){let g=e.getAttribute("action");i=g?Ar(g,t):null,n=e.getAttribute("method")||tu,o=fh(e.getAttribute("enctype"))||au,d=new FormData(e)}else if(Jj(e)||tw(e)&&(e.type==="submit"||e.type==="image")){let g=e.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||g.getAttribute("action");if(i=h?Ar(h,t):null,n=e.getAttribute("formmethod")||g.getAttribute("method")||tu,o=fh(e.getAttribute("formenctype"))||fh(g.getAttribute("enctype"))||au,d=new FormData(g,e),!nw()){let{name:m,type:x,value:v}=e;if(x==="image"){let b=m?`${m}.`:"";d.append(`${b}x`,"0"),d.append(`${b}y`,"0")}else m&&d.append(m,v)}}else{if(Ou(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,i=null,o=au,u=e}return d&&o==="text/plain"&&(u=d,d=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:d,body:u}}function Dm(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function lw(e,t){return xe(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function ow(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function cw(e,t,n){return xe(this,null,function*(){let i=yield Promise.all(e.map(o=>xe(null,null,function*(){let d=t.routes[o.route.id];if(d){let u=yield lw(d,n);return u.links?u.links():[]}return[]})));return hw(i.flat(1).filter(ow).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?je(H({},o),{rel:"prefetch",as:"style"}):je(H({},o),{rel:"prefetch"})))})}function db(e,t,n,i,o,d){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,g=(h,m)=>{var x;return n[m].pathname!==h.pathname||((x=n[m].route.path)==null?void 0:x.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return d==="assets"?t.filter((h,m)=>u(h,m)||g(h,m)):d==="data"?t.filter((h,m)=>{var v;let x=i.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(u(h,m)||g(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dw(e,t,{includeHydrateFallback:n}={}){return uw(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function uw(e){return[...new Set(e)]}function fw(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function hw(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let d=JSON.stringify(fw(o));return n.has(d)||(n.add(d),i.push({key:d,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mw=new Set([100,101,204,205]);function gw(e,t){let n=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ar(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function M1(){let e=j.useContext(Ei);return Dm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yw(){let e=j.useContext(Cc);return Dm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lm=j.createContext(void 0);Lm.displayName="FrameworkContext";function D1(){let e=j.useContext(Lm);return Dm(e,"You must render this element inside a <HydratedRouter> element"),e}function xw(e,t){let n=j.useContext(Lm),[i,o]=j.useState(!1),[d,u]=j.useState(!1),{onFocus:g,onBlur:h,onMouseEnter:m,onMouseLeave:x,onTouchStart:v}=t,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let k=$=>{$.forEach(I=>{u(I.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[e]),j.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let p=()=>{o(!0)},S=()=>{o(!1),u(!1)};return n?e!=="intent"?[d,b,{}]:[d,b,{onFocus:Go(g,p),onBlur:Go(h,S),onMouseEnter:Go(m,p),onMouseLeave:Go(x,S),onTouchStart:Go(v,p)}]:[!1,b,{}]}function Go(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pw(n){var i=n,{page:e}=i,t=Dn(i,["page"]);let{router:o}=M1(),d=j.useMemo(()=>Cs(o.routes,e,o.basename),[o.routes,e,o.basename]);return d?j.createElement(vw,H({page:e,matches:d},t)):null}function bw(e){let{manifest:t,routeModules:n}=D1(),[i,o]=j.useState([]);return j.useEffect(()=>{let d=!1;return cw(e,t,n).then(u=>{d||o(u)}),()=>{d=!0}},[e,t,n]),i}function vw(i){var o=i,{page:e,matches:t}=o,n=Dn(o,["page","matches"]);let d=Pr(),{manifest:u,routeModules:g}=D1(),{basename:h}=M1(),{loaderData:m,matches:x}=yw(),v=j.useMemo(()=>db(e,t,x,u,d,"data"),[e,t,x,u,d]),b=j.useMemo(()=>db(e,t,x,u,d,"assets"),[e,t,x,u,d]),p=j.useMemo(()=>{if(e===d.pathname+d.search+d.hash)return[];let E=new Set,$=!1;if(t.forEach(D=>{var A;let L=u.routes[D.route.id];!L||!L.hasLoader||(!v.some(P=>P.route.id===D.route.id)&&D.route.id in m&&((A=g[D.route.id])!=null&&A.shouldRevalidate)||L.hasClientLoader?$=!0:E.add(D.route.id))}),E.size===0)return[];let I=gw(e,h);return $&&E.size>0&&I.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[h,m,d,u,v,t,e,g]),S=j.useMemo(()=>dw(b,u),[b,u]),k=bw(b);return j.createElement(j.Fragment,null,p.map(E=>j.createElement("link",H({key:E,rel:"prefetch",as:"fetch",href:E},n))),S.map(E=>j.createElement("link",H({key:E,rel:"modulepreload",href:E},n))),k.map(({key:E,link:$})=>j.createElement("link",H({key:E},$))))}function Nw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var L1=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{L1&&(window.__reactRouterVersion="7.6.2")}catch(e){}function jw(e,t){return oj({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:TN({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ww(),routes:e,mapRouteProperties:qj,hydrationRouteProperties:Gj,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function ww(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=je(H({},e),{errors:kw(e.errors)})),e}function kw(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&o.__type==="RouteErrorResponse")n[i]=new hu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let d=window[o.__subType];if(typeof d=="function")try{let u=new d(o.message);u.stack="",n[i]=u}catch(u){}}if(n[i]==null){let d=new Error(o.message);d.stack="",n[i]=d}}else n[i]=o;return n}var I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tc=j.forwardRef(function(S,p){var k=S,{onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:d,replace:u,state:g,target:h,to:m,preventScrollReset:x,viewTransition:v}=k,b=Dn(k,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:E}=j.useContext(en),$=typeof m=="string"&&I1.test(m),I,D=!1;if(typeof m=="string"&&$&&(I=m,L1))try{let ge=new URL(window.location.href),J=m.startsWith("//")?new URL(ge.protocol+m):new URL(m),Ee=Ar(J.pathname,E);J.origin===ge.origin&&Ee!=null?m=Ee+J.search+J.hash:D=!0}catch(ge){da(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=_j(m,{relative:o}),[A,P,W]=xw(i,b),Y=_w(m,{replace:u,state:g,target:h,preventScrollReset:x,relative:o,viewTransition:v});function G(ge){t&&t(ge),ge.defaultPrevented||Y(ge)}let ae=j.createElement("a",je(H(H({},b),W),{href:I||L,onClick:D||d?t:G,ref:Nw(p,P),target:h,"data-discover":!$&&n==="render"?"true":void 0}));return A&&!$?j.createElement(j.Fragment,null,ae,j.createElement(pw,{page:L})):ae});Tc.displayName="Link";var $w=j.forwardRef(function(v,x){var b=v,{"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:d,to:u,viewTransition:g,children:h}=b,m=Dn(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let p=_c(u,{relative:m.relative}),S=Pr(),k=j.useContext(Cc),{navigator:E,basename:$}=j.useContext(en),I=k!=null&&Rw(p)&&g===!0,D=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,L=S.pathname,A=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(L=L.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&$&&(A=Ar(A,$)||A);const P=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=L===D||!o&&L.startsWith(D)&&L.charAt(P)==="/",Y=A!=null&&(A===D||!o&&A.startsWith(D)&&A.charAt(D.length)==="/"),G={isActive:W,isPending:Y,isTransitioning:I},ae=W?t:void 0,ge;typeof i=="function"?ge=i(G):ge=[i,W?"active":null,Y?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let J=typeof d=="function"?d(G):d;return j.createElement(Tc,je(H({},m),{"aria-current":ae,className:ge,ref:x,style:J,to:u,viewTransition:g}),typeof h=="function"?h(G):h)});$w.displayName="NavLink";var Sw=j.forwardRef((S,p)=>{var k=S,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:d,method:u=tu,action:g,onSubmit:h,relative:m,preventScrollReset:x,viewTransition:v}=k,b=Dn(k,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let E=Ow(),$=Aw(g,{relative:m}),I=u.toLowerCase()==="get"?"get":"post",D=typeof g=="string"&&I1.test(g),L=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,W=(P==null?void 0:P.getAttribute("formmethod"))||u;E(P||A.currentTarget,{fetcherKey:t,method:W,navigate:n,replace:o,state:d,relative:m,preventScrollReset:x,viewTransition:v})};return j.createElement("form",je(H({ref:p,method:I,action:$,onSubmit:i?h:L},b),{"data-discover":!D&&e==="render"?"true":void 0}))});Sw.displayName="Form";function Cw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(e){let t=j.useContext(Ei);return Ct(t,Cw(e)),t}function _w(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:d,viewTransition:u}={}){let g=ya(),h=Pr(),m=_c(e,{relative:d});return j.useCallback(x=>{if(rw(x,t)){x.preventDefault();let v=n!==void 0?n:Ls(h)===Ls(m);g(e,{replace:v,state:i,preventScrollReset:o,relative:d,viewTransition:u})}},[h,g,m,n,i,t,e,o,d,u])}var Tw=0,Ew=()=>`__${String(++Tw)}__`;function Ow(){let{router:e}=U1("useSubmit"),{basename:t}=j.useContext(en),n=Bj();return j.useCallback((d,...u)=>xe(null,[d,...u],function*(i,o={}){let{action:g,method:h,encType:m,formData:x,body:v}=iw(i,t);if(o.navigate===!1){let b=o.fetcherKey||Ew();yield e.fetch(b,n,o.action||g,{preventScrollReset:o.preventScrollReset,formData:x,body:v,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else yield e.navigate(o.action||g,{preventScrollReset:o.preventScrollReset,formData:x,body:v,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}function Aw(e,{relative:t}={}){let{basename:n}=j.useContext(en),i=j.useContext(Rr);Ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),d=H({},_c(e||".",{relative:t})),u=Pr();if(e==null){d.search=u.search;let g=new URLSearchParams(d.search),h=g.getAll("index");if(h.some(x=>x==="")){g.delete("index"),h.filter(v=>v).forEach(v=>g.append("index",v));let x=g.toString();d.search=x?`?${x}`:""}}return(!e||e===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:xn([n,d.pathname])),Ls(d)}function Rw(e,t={}){let n=j.useContext(Om);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=U1("useViewTransitionState"),o=_c(e,{relative:t.relative});if(!n.isTransitioning)return!1;let d=Ar(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ar(n.nextLocation.pathname,i)||n.nextLocation.pathname;return fu(o.pathname,u)!=null||fu(o.pathname,d)!=null}[...mw];var Pw=g1();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mw(e){return j.createElement(Kj,H({flushSync:Pw.flushSync},e))}const Ln={};class Dw{constructor(){Wf(this,"config");Wf(this,"sessionId",null);const t=window.location.pathname.startsWith("/klik_pos");this.config={baseUrl:t?"":(Ln==null?void 0:Ln.VITE_ERPNEXT_BASE_URL)||"http://localhost:8000",apiKey:(Ln==null?void 0:Ln.VITE_API_KEY)||"",apiSecret:(Ln==null?void 0:Ln.VITE_API_SECRET)||""}}getHeaders(t=!0){const n={"Content-Type":"application/json",Accept:"application/json"};if(t&&this.config.apiKey&&this.config.apiSecret){const i=btoa(`${this.config.apiKey}:${this.config.apiSecret}`);n.Authorization=`Basic ${i}`}return this.sessionId&&(n.Cookie=`sid=${this.sessionId}`),n}login(t,n){return xe(this,null,function*(){var i,o;try{console.log("Attempting login to:",this.config.baseUrl);let d=yield fetch(`${this.config.baseUrl}/api/method/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:t,pwd:n}),credentials:"include"});if(console.log("Login response status:",d.status),console.log("Login response headers:",Object.fromEntries(d.headers.entries())),d.status===404&&(console.log("Trying alternative login endpoint..."),d=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:t,pwd:n}),credentials:"include"}),console.log("Alternative login response status:",d.status)),!d.ok){console.error("Login failed with status:",d.status);const g=yield d.text();console.error("Error response body:",g);let h=`HTTP ${d.status}: ${d.statusText}`;try{const m=JSON.parse(g);m.message?h=m.message:m.exc&&(h=m.exc)}catch(m){g&&g.trim()&&(h=g)}return{success:!1,message:h}}const u=yield d.json();if(console.log("Login response data:",u),u.message==="Logged In"||(i=u.message)!=null&&i.name||(o=u.message)!=null&&o.email){const g=d.headers.get("set-cookie");if(g){const m=g.match(/sid=([^;]+)/);m&&(this.sessionId=m[1],localStorage.setItem("erpnext_sid",this.sessionId),console.log("Session ID stored:",this.sessionId))}try{console.log("Fetching user profile data...");const m=yield this.getCurrentUserProfile();if(console.log("User profile fetched:",m),m)return{success:!0,message:"Login successful",user:{name:m.name||t,email:m.email||m.name||t,full_name:m.full_name||m.first_name+" "+(m.last_name||"")||t,role:m.role_profile_name||m.role||"User",first_name:m.first_name,last_name:m.last_name,user_image:m.user_image},sid:this.sessionId||void 0}}catch(m){console.warn("Failed to fetch user profile, using basic data:",m)}let h;return typeof u.message=="string"&&u.message==="Logged In"?h={name:t,email:t,full_name:t,role:"User"}:u.message&&typeof u.message=="object"?h={name:u.message.name||t,email:u.message.email||u.message.name||t,full_name:u.message.full_name||u.message.name||t,role:u.message.role||"User"}:h={name:t,email:t,full_name:t,role:"User"},{success:!0,message:"Login successful",user:h,sid:this.sessionId||void 0}}else return{success:!1,message:u.message||u.exc||"Login failed"}}catch(d){if(console.error("Login error details:",d),d instanceof TypeError&&d.message.includes("fetch"))return{success:!1,message:"Network error. Please check if the ERPNext server is accessible."};if(d instanceof Error){if(d.message.includes("timeout"))return{success:!1,message:"Connection timeout. Please try again."};if(d.message.includes("Failed to fetch"))return{success:!1,message:"Unable to connect to the server. Please check your internet connection."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}})}logout(){return xe(this,null,function*(){try{yield fetch(`${this.config.baseUrl}/api/method/logout`,{method:"POST",headers:this.getHeaders(),credentials:"include"})}catch(t){console.error("Logout error:",t)}finally{this.sessionId=null,localStorage.removeItem("erpnext_sid")}})}getCurrentUser(){return xe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).message}catch(t){return console.error("Get current user error:",t),null}})}getCurrentUserProfile(){return xe(this,null,function*(){try{const t=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!t.ok)throw new Error(`Failed to fetch logged user: ${t.status}`);const i=(yield t.json()).message;if(!i)throw new Error("No logged user found");const o=yield fetch(`${this.config.baseUrl}/api/resource/User/${i}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!o.ok)throw new Error(`Failed to fetch user profile: ${o.status}`);return(yield o.json()).data}catch(t){throw console.error("Get user profile error:",t),t}})}testConnection(){return xe(this,null,function*(){try{console.log("Testing connection to:",this.config.baseUrl);let t=yield fetch(`${this.config.baseUrl}/api/method/ping`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});return console.log("Ping response:",{status:t.status,statusText:t.statusText,headers:Object.fromEntries(t.headers.entries())}),t.status===404&&(console.log("Ping failed, trying version endpoint..."),t=yield fetch(`${this.config.baseUrl}/api/method/frappe.utils.get_site_info`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"})),t.ok?{success:!0,message:"Connection successful",details:yield t.json()}:{success:!1,message:`Server responded with status: ${t.status} - ${t.statusText}`,details:{status:t.status,statusText:t.statusText}}}catch(t){console.error("Connection test error details:",t);let n="Unknown error";return t instanceof Error&&(t.name==="AbortError"?n="Connection timeout - server took too long to respond":t.message.includes("CORS")?n="CORS error - server may not allow cross-origin requests":t.message.includes("Failed to fetch")?n="Network error - server may be unreachable or blocked":n=t.message),{success:!1,message:`Connection failed: ${n}`,details:t}}})}makeAPICall(i){return xe(this,arguments,function*(t,n={}){const o=H({method:"GET",headers:this.getHeaders(),credentials:"include"},n);try{console.log("Making API call:",{url:t,options:o});const d=yield fetch(t,o);return d.ok||console.error("API call failed:",{url:t,status:d.status,statusText:d.statusText,headers:Object.fromEntries(d.headers.entries())}),d}catch(d){throw console.error("API call error:",{url:t,error:d}),d}})}apiCall(i){return xe(this,arguments,function*(t,n={}){try{return yield(yield this.makeAPICall(`${this.config.baseUrl}/api/method/${t}`,{method:"POST",body:JSON.stringify(n)})).json()}catch(o){throw console.error(`API call error (${t}):`,o),o}})}getDocList(o){return xe(this,arguments,function*(t,n=["*"],i={}){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}?${new URLSearchParams({fields:JSON.stringify(n),filters:JSON.stringify(i)})}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(d){throw console.error(`Get ${t} list error:`,d),d}})}getDoc(t,n){return xe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}/${n}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(i){throw console.error(`Get ${t} document error:`,i),i}})}createDoc(t,n){return xe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(n),credentials:"include"})).json()).data}catch(i){throw console.error(`Create ${t} document error:`,i),i}})}updateDoc(t,n,i){return xe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}/${n}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(i),credentials:"include"})).json()).data}catch(o){throw console.error(`Update ${t} document error:`,o),o}})}validateSession(){return xe(this,null,function*(){try{const t=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return t.ok?!!(yield t.json()).message:!1}catch(t){return console.error("Session validation failed:",t),!1}})}initializeSession(){const t=localStorage.getItem("erpnext_sid");t&&(this.sessionId=t,console.log("Session restored from localStorage:",t))}}const Fn=new Dw,F1=j.createContext(void 0);function Lw({children:e}){const[t,n]=j.useState(null),[i,o]=j.useState(!0),[d,u]=j.useState(!1);j.useEffect(()=>{u(!0)},[]),j.useEffect(()=>{if(!d)return;Fn.initializeSession();const x=localStorage.getItem("erpnext_token"),v=localStorage.getItem("user_data");if(x&&v)try{const b=JSON.parse(v);n(b),xe(null,null,function*(){try{if(!(yield Fn.validateSession())){console.warn("Session is invalid, clearing auth data"),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid"),n(null);return}const k=yield Fn.getCurrentUserProfile();if(k){const E={name:k.name||b.name,email:k.email||k.name||b.email,full_name:k.full_name||k.first_name+" "+(k.last_name||"")||b.full_name,role:k.role_profile_name||k.role||b.role||"User",first_name:k.first_name,last_name:k.last_name,user_image:k.user_image};n(E),localStorage.setItem("user_data",JSON.stringify(E))}}catch(S){console.warn("Failed to refresh user data, using cached data:",S)}})}catch(b){console.error("Error parsing user data:",b),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}o(!1)},[d]);const g=(x,v)=>xe(null,null,function*(){try{o(!0);const b=yield Fn.login(x,v);if(b.success&&b.user){console.log("Login successful:",b.user);const p={name:b.user.name||x,email:b.user.email||x,full_name:b.user.full_name||b.user.name||x,role:b.user.role||"User"};return n(p),localStorage.setItem("erpnext_token","authenticated"),localStorage.setItem("user_data",JSON.stringify(p)),{success:!0,message:b.message}}else return{success:!1,message:b.message}}catch(b){return console.error("Login error:",b),{success:!1,message:"Login failed. Please try again."}}finally{o(!1)}}),h=()=>xe(null,null,function*(){yield Fn.logout(),n(null),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}),m=()=>xe(null,null,function*(){if(!t)return!1;try{return(yield Fn.validateSession())?!0:(console.log("Session expired, logging out"),yield h(),!1)}catch(x){return console.error("Session check failed:",x),!1}});return r.jsx(F1.Provider,{value:{user:t,login:g,logout:h,checkSession:m,loading:i,isAuthenticated:!!t},children:e})}function zs(){const e=j.useContext(F1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Iw(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[o,d]=j.useState(""),[u,g]=j.useState(!1),h=ya(),m=Pr(),{login:x}=zs(),v=p=>xe(null,null,function*(){var S,k;p.preventDefault(),g(!0),d("");try{const E=yield x(e,n);if(E.success){const $=((k=(S=m.state)==null?void 0:S.from)==null?void 0:k.pathname)||"/pos";h($,{replace:!0})}else d(b(E.message))}catch(E){d("An unexpected error occurred. Please try again.")}finally{g(!1)}}),b=p=>p.includes("HTTP 401")||p.includes("401")?"Invalid username or password. Please check your credentials and try again.":p.includes("HTTP 403")||p.includes("403")?"Access denied. Please contact your administrator.":p.includes("HTTP 404")||p.includes("404")?"Login service not available. Please contact your administrator.":p.includes("HTTP 500")||p.includes("500")?"Server error. Please try again later or contact your administrator.":p.includes("Network error")||p.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":p.includes("timeout")?"Connection timeout. Please try again.":p.includes("Invalid credentials")||p.includes("incorrect")?"Invalid username or password. Please check your credentials and try again.":p.includes("User not found")?"User not found. Please check your username and try again.":p.includes("Account disabled")?"Your account has been disabled. Please contact your administrator.":p.includes("Too many attempts")?"Too many login attempts. Please wait a few minutes before trying again.":p&&!p.includes("HTTP")&&!p.includes("Error:")?p:"Login failed. Please check your credentials and try again.";return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),r.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[r.jsxs("div",{className:"bg-white/95 rounded-2xl shadow-2xl p-6 backdrop-blur-sm",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"https://beverensoftware.com/wp-content/uploads/2023/06/cropped-15-1-180x180.png",alt:"KLiK PoS",className:"w-16 h-16 rounded-full shadow-lg"})}),r.jsx("h1",{className:"text-3xl font-bold text-beveren-800",children:"KLiK PoS"})]}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"username",type:"text",value:e,onChange:p=>t(p.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Username or Email",required:!0}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:"password",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Password",required:!0}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:r.jsx("p",{className:"text-sm text-red-600 font-medium text-center",children:o})}),r.jsx("button",{type:"submit",disabled:u,className:"w-full bg-beveren-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-beveren-700 focus:outline-none focus:ring-4 focus:ring-beveren-300 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-beveren-400 disabled:cursor-not-allowed",children:u?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),r.jsx("span",{className:"ml-2",children:"Signing In..."})]}):"Sign In"})]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{className:"text-sm text-beveren-600",children:["Powered by"," ",r.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline",children:"Beveren Software"})]})})]})]})}const B1=j.createContext(void 0),Uw={en:{LOGIN_TITLE:"Login",USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"Login",LOGGING_IN:"Logging in...",INVALID_CREDENTIALS:"Invalid credentials",LOGIN_ERROR:"Login error",PROFILE:"Profile",LOGOUT:"Logout",PAYMENT_TITLE:"Payment",SEARCH_PLACEHOLDER:"Search products",CART:"Cart",CART_EMPTY:"Your cart is empty",SUBTOTAL:"Subtotal",VAT:"VAT",TOTAL:"Total",PROMO_CODE_PLACEHOLDER:"Enter promo code",PROCEED_TO_CHECKOUT:"Proceed to Checkout",BACK_TO_CART:"Back to Cart",INVOICE_SUMMARY:"Invoice Summary",INVOICE_ID:"Invoice ID",DATE_TIME:"Date & Time",SCAN_TO_VERIFY:"Scan to Verify",PAYMENT_METHODS:"Payment Methods",CASH:"Cash",CARD:"Card",DIGITAL_WALLET:"Digital Wallet",AMOUNT_RECEIVED:"Amount Received",CHANGE:"Change",INSERT_OR_TAP_CARD:"Insert or Tap Card",SCAN_WITH_STC_PAY:"Scan with STC Pay",CONFIRM_PAYMENT:"Confirm Payment",OFFLINE_MESSAGE:"You are offline. New orders will sync when you're back online.",INVOICE_NOT_FOUND:"Invoice not found"},ar:{LOGIN_TITLE:"تسجيل الدخول",USERNAME:"اسم المستخدم",PASSWORD:"كلمة المرور",LOGIN_BUTTON:"دخول",LOGGING_IN:"جاري تسجيل الدخول...",INVALID_CREDENTIALS:"بيانات الاعتماد غير صحيحة",LOGIN_ERROR:"خطأ في تسجيل الدخول",PROFILE:"الملف الشخصي",LOGOUT:"تسجيل الخروج",PAYMENT_TITLE:"الدفع",SEARCH_PLACEHOLDER:"ابحث عن منتج",CART:"السلة",CART_EMPTY:"سلتك فارغة",SUBTOTAL:"المجموع الفرعي",VAT:"ضريبة القيمة المضافة",TOTAL:"الإجمالي",PROMO_CODE_PLACEHOLDER:"أدخل رمز العرض",PROCEED_TO_CHECKOUT:"إتمام الدفع",BACK_TO_CART:"العودة للسلة",INVOICE_SUMMARY:"ملخص الفاتورة",INVOICE_ID:"رقم الفاتورة",DATE_TIME:"التاريخ والوقت",SCAN_TO_VERIFY:"امسح للتدقيق",PAYMENT_METHODS:"طرق الدفع",CASH:"نقد",CARD:"بطاقة",DIGITAL_WALLET:"المحفظة الرقمية",AMOUNT_RECEIVED:"المبلغ المستلم",CHANGE:"الباقي",INSERT_OR_TAP_CARD:"أدخل أو اضغط البطاقة",SCAN_WITH_STC_PAY:"امسح عبر STC Pay",CONFIRM_PAYMENT:"تأكيد الدفع",OFFLINE_MESSAGE:"أنت غير متصل. سيتم مزامنة الطلبات عند عودتك للإنترنت.",INVOICE_NOT_FOUND:"الفاتورة غير موجودة"}};function Fw({children:e}){const[t,n]=j.useState("en"),[i,o]=j.useState(!1);j.useEffect(()=>{o(!0)},[]),j.useEffect(()=>{if(!i)return;const h=localStorage.getItem("language")||"en";n(h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h},[i]);const d=h=>{i&&(n(h),localStorage.setItem("language",h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h)},u=h=>{var m;return((m=Uw[t])==null?void 0:m[h])||h},g=t==="ar";return r.jsx(B1.Provider,{value:{language:t,setLanguage:d,t:u,isRTL:g},children:e})}function tn(){const e=j.useContext(B1);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e}function Bw(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[o,d]=j.useState(null),u=j.useCallback(()=>xe(null,null,function*(){i(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.pos_entry.open_pos")).json();if(typeof h.message=="boolean")t(h.message);else throw new Error("Unexpected response")}catch(g){console.error("Error checking POS Opening Entry:",g),d(g.message||"Failed to check opening entry status")}finally{i(!1)}}),[]);return j.useEffect(()=>{u()},[u]),{hasOpenEntry:e,isLoading:n,error:o,refetch:u}}const z1=j.createContext(void 0),hh="klik_pos_products_cache",mh="klik_pos_products_cache_expiry",zw=5*60*1e3;function Hw({children:e}){const{isAuthenticated:t,loading:n}=zs(),[i,o]=j.useState([]),[d,u]=j.useState(!0),[g,h]=j.useState(!1),[m,x]=j.useState(null),[v,b]=j.useState(null),p=j.useCallback(()=>{try{const Y=localStorage.getItem(hh),G=localStorage.getItem(mh);if(Y&&G){const ae=new Date(G).getTime();if(Date.now()<ae){const J=JSON.parse(Y);return console.log(`Loaded ${J.length} products from cache`),J}else console.log("Product cache expired, clearing..."),localStorage.removeItem(hh),localStorage.removeItem(mh)}}catch(Y){console.error("Error loading products from cache:",Y)}return null},[]),S=j.useCallback(Y=>{try{const G=new Date(Date.now()+zw);localStorage.setItem(hh,JSON.stringify(Y)),localStorage.setItem(mh,G.toISOString()),console.log(`Cached ${Y.length} products until ${G.toLocaleTimeString()}`)}catch(G){console.error("Error saving products to cache:",G)}},[]),k=()=>xe(null,null,function*(){const Y=yield fetch("/api/method/klik_pos.api.item.get_items_with_balance_and_price");if(!Y.ok)throw new Error(`HTTP ${Y.status}: ${Y.statusText}`);const G=yield Y.json();if(G!=null&&G.message&&Array.isArray(G.message))return G.message;throw console.error("Invalid response format:",G),new Error("Invalid response format")}),E=()=>xe(null,null,function*(){try{console.log("Fetching stock updates from API...");const Y=yield fetch("/api/method/klik_pos.api.item.get_stock_updates");if(!Y.ok)throw console.error(`Stock update API failed: ${Y.status} ${Y.statusText}`),new Error(`HTTP ${Y.status}: ${Y.statusText}`);const G=yield Y.json();return G!=null&&G.message&&typeof G.message=="object"?G.message:(console.warn("No stock updates in response:",G),{})}catch(Y){console.error("Error fetching stock updates:",Y),console.log("Falling back to batch stock API...");try{const G=i.map(ae=>ae.id).join(",");if(G){const ae=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(G)}`);if(ae.ok){const ge=yield ae.json();if(ge!=null&&ge.message&&typeof ge.message=="object")return ge.message}}}catch(G){console.error("Batch API fallback also failed:",G)}throw Y}}),$=(Y=!1)=>xe(null,null,function*(){u(!0),x(null);try{let G;if(Y)G=yield k(),S(G);else{const ae=p();ae?(G=ae,u(!1),I()):(G=yield k(),S(G))}o(G),b(new Date)}catch(G){console.error("Error fetching products:",G),x(G.message||"Unknown error occurred");const ae=p();ae&&(o(ae),console.log("Using cached products as fallback"))}finally{u(!1)}}),I=()=>xe(null,null,function*(){try{const Y=yield E();Object.keys(Y).length>0&&o(G=>G.map(ae=>{var ge;return je(H({},ae),{available:(ge=Y[ae.id])!=null?ge:ae.available})}))}catch(Y){console.error("Background stock update failed:",Y)}}),D=j.useCallback((Y,G)=>{o(ae=>ae.map(ge=>ge.id===Y?je(H({},ge),{available:G}):ge)),console.log(`Updated stock for ${Y} to ${G}`)},[]),L=j.useCallback(Y=>xe(null,null,function*(){if(Y.length!==0)try{console.log(`Updating stock for ${Y.length} items:`,Y);const G=Y.join(","),ae=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(G)}`);if(!ae.ok)throw new Error(`HTTP ${ae.status}: ${ae.statusText}`);const ge=yield ae.json();if(console.log("Batch stock update response:",ge),ge!=null&&ge.message&&typeof ge.message=="object"){const J=ge.message;o(Ee=>Ee.map(K=>{var z;return je(H({},K),{available:(z=J[K.id])!=null?z:K.available})})),console.log(`Updated stock for ${Object.keys(J).length} items`)}}catch(G){console.error("Failed to update stock for items:",G)}}),[]),A=()=>xe(null,null,function*(){console.log("Force refreshing products..."),yield $(!0)}),P=()=>xe(null,null,function*(){console.log("Refreshing stock only (lightweight)..."),h(!0);try{const Y=yield E();return Object.keys(Y).length>0?(o(G=>G.map(ae=>{var ge;return je(H({},ae),{available:(ge=Y[ae.id])!=null?ge:ae.available})})),console.log(`✅ Stock refreshed for ${Object.keys(Y).length} items - cashier can see updated availability`),b(new Date),!0):(console.log("No stock updates needed - all items are current"),!1)}catch(Y){return console.error("❌ Stock-only refresh failed:",Y),console.log("Stock refresh failed - user can manually refresh if needed"),!1}finally{h(!1)}});j.useEffect(()=>{if(n)return;if(!t){u(!1),x("Authentication required to load products");return}$();const Y=setInterval(I,3e4);return()=>{clearInterval(Y)}},[t,n]);const W={products:i,isLoading:d,isRefreshingStock:g,error:m,refetchProducts:A,refreshStockOnly:P,updateStockOnly:D,updateStockForItems:L,count:i.length,lastUpdated:v};return r.jsx(z1.Provider,{value:W,children:e})}function qw(){const e=j.useContext(z1);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e}function Au(){const e=qw();return{products:e.products,isLoading:e.isLoading,isRefreshingStock:e.isRefreshingStock,error:e.error,refetch:e.refetchProducts,refreshStockOnly:e.refreshStockOnly,updateStockOnly:e.updateStockOnly,updateStockForItems:e.updateStockForItems,count:e.products.length,lastUpdated:e.lastUpdated}}var Gw=Object.defineProperty,Vw=(e,t,n)=>t in e?Gw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yi=(e,t,n)=>Vw(e,typeof t!="symbol"?t+"":t,n),Kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gl={},Vo={},zr={},ub;function H1(){if(ub)return zr;ub=1;var e=zr&&zr.__assign||function(){return e=Object.assign||function(o){for(var d,u=1,g=arguments.length;u<g;u++){d=arguments[u];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o},e.apply(this,arguments)},t=zr&&zr.__awaiter||function(o,d,u,g){function h(m){return m instanceof u?m:new u(function(x){x(m)})}return new(u||(u=Promise))(function(m,x){function v(S){try{p(g.next(S))}catch(k){x(k)}}function b(S){try{p(g.throw(S))}catch(k){x(k)}}function p(S){S.done?m(S.value):h(S.value).then(v,b)}p((g=g.apply(o,d||[])).next())})},n=zr&&zr.__generator||function(o,d){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},g,h,m,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(p){return function(S){return b([p,S])}}function b(p){if(g)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(u=0)),u;)try{if(g=1,h&&(m=p[0]&2?h.return:p[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,p[1])).done)return m;switch(h=0,m&&(p=[p[0]&2,m.value]),p[0]){case 0:case 1:m=p;break;case 4:return u.label++,{value:p[1],done:!1};case 5:u.label++,h=p[1],p=[0];continue;case 7:p=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(p[0]===6||p[0]===2)){u=0;continue}if(p[0]===3&&(!m||p[1]>m[0]&&p[1]<m[3])){u.label=p[1];break}if(p[0]===6&&u.label<m[1]){u.label=m[1],m=p;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(p);break}m[2]&&u.ops.pop(),u.trys.pop();continue}p=d.call(o,u)}catch(S){p=[6,S],h=0}finally{g=m=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.FrappeCall=void 0;var i=function(){function o(d,u,g,h,m){this.appURL=d,this.axios=u,this.useToken=g!=null?g:!1,this.token=h,this.tokenType=m}return o.prototype.get=function(d,u){return t(this,void 0,void 0,function(){var g;return n(this,function(h){return g=new URLSearchParams,u&&Object.entries(u).forEach(function(m){var x=m[0],v=m[1];if(v!=null){var b=typeof v=="object"?JSON.stringify(v):v;g.set(x,b)}}),[2,this.axios.get("/api/method/".concat(d),{params:g}).then(function(m){return m.data}).catch(function(m){var x,v;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(x=m.response.data.message)!==null&&x!==void 0?x:"There was an error.",exception:(v=m.response.data.exception)!==null&&v!==void 0?v:""})})]})})},o.prototype.post=function(d,u){return t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.post("/api/method/".concat(d),e({},u)).then(function(h){return h.data}).catch(function(h){var m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(x=h.response.data.exception)!==null&&x!==void 0?x:""})})]})})},o.prototype.put=function(d,u){return t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.put("/api/method/".concat(d),e({},u)).then(function(h){return h.data}).catch(function(h){var m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(x=h.response.data.exception)!==null&&x!==void 0?x:""})})]})})},o.prototype.delete=function(d,u){return t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.delete("/api/method/".concat(d),{params:u}).then(function(h){return h.data}).catch(function(h){var m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(x=h.response.data.exception)!==null&&x!==void 0?x:""})})]})})},o}();return zr.FrappeCall=i,zr}var Hr={},fb;function q1(){if(fb)return Hr;fb=1;var e=Hr&&Hr.__assign||function(){return e=Object.assign||function(o){for(var d,u=1,g=arguments.length;u<g;u++){d=arguments[u];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o},e.apply(this,arguments)},t=Hr&&Hr.__awaiter||function(o,d,u,g){function h(m){return m instanceof u?m:new u(function(x){x(m)})}return new(u||(u=Promise))(function(m,x){function v(S){try{p(g.next(S))}catch(k){x(k)}}function b(S){try{p(g.throw(S))}catch(k){x(k)}}function p(S){S.done?m(S.value):h(S.value).then(v,b)}p((g=g.apply(o,d||[])).next())})},n=Hr&&Hr.__generator||function(o,d){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},g,h,m,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(p){return function(S){return b([p,S])}}function b(p){if(g)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(u=0)),u;)try{if(g=1,h&&(m=p[0]&2?h.return:p[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,p[1])).done)return m;switch(h=0,m&&(p=[p[0]&2,m.value]),p[0]){case 0:case 1:m=p;break;case 4:return u.label++,{value:p[1],done:!1};case 5:u.label++,h=p[1],p=[0];continue;case 7:p=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(p[0]===6||p[0]===2)){u=0;continue}if(p[0]===3&&(!m||p[1]>m[0]&&p[1]<m[3])){u.label=p[1];break}if(p[0]===6&&u.label<m[1]){u.label=m[1],m=p;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(p);break}m[2]&&u.ops.pop(),u.trys.pop();continue}p=d.call(o,u)}catch(S){p=[6,S],h=0}finally{g=m=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.FrappeDB=void 0;var i=function(){function o(d,u,g,h,m){this.appURL=d,this.axios=u,this.useToken=g!=null?g:!1,this.token=h,this.tokenType=m}return o.prototype.getDoc=function(d,u){return u===void 0&&(u=""),t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.get("/api/resource/".concat(d,"/").concat(encodeURIComponent(u))).then(function(h){return h.data.data}).catch(function(h){var m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(x=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},o.prototype.getDocList=function(d,u){var g;return t(this,void 0,void 0,function(){var h,m,x,v,b,p,S,k,E,$,I;return n(this,function(D){return h={},u&&(m=u.fields,x=u.filters,v=u.orFilters,b=u.orderBy,p=u.limit,S=u.limit_start,k=u.groupBy,E=u.asDict,$=E===void 0?!0:E,I=b?"".concat(String(b==null?void 0:b.field)," ").concat((g=b==null?void 0:b.order)!==null&&g!==void 0?g:"asc"):"",h={fields:m?JSON.stringify(m):void 0,filters:x?JSON.stringify(x):void 0,or_filters:v?JSON.stringify(v):void 0,order_by:I,group_by:k,limit:p,limit_start:S,as_dict:$}),[2,this.axios.get("/api/resource/".concat(d),{params:h}).then(function(L){return L.data.data}).catch(function(L){var A,P;throw e(e({},L.response.data),{httpStatus:L.response.status,httpStatusText:L.response.statusText,message:"There was an error while fetching the documents.",exception:(P=(A=L.response.data.exception)!==null&&A!==void 0?A:L.response.data.exc_type)!==null&&P!==void 0?P:""})})]})})},o.prototype.createDoc=function(d,u){return t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.post("/api/resource/".concat(d),e({},u)).then(function(h){return h.data.data}).catch(function(h){var m,x,v;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error while creating the document.",exception:(v=(x=h.response.data.exception)!==null&&x!==void 0?x:h.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},o.prototype.updateDoc=function(d,u,g){return t(this,void 0,void 0,function(){return n(this,function(h){return[2,this.axios.put("/api/resource/".concat(d,"/").concat(u&&encodeURIComponent(u)),e({},g)).then(function(m){return m.data.data}).catch(function(m){var x,v,b;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(x=m.response.data.message)!==null&&x!==void 0?x:"There was an error while updating the document.",exception:(b=(v=m.response.data.exception)!==null&&v!==void 0?v:m.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},o.prototype.deleteDoc=function(d,u){return t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.delete("/api/resource/".concat(d,"/").concat(u&&encodeURIComponent(u))).then(function(h){return h.data}).catch(function(h){var m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(x=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},o.prototype.getCount=function(d,u,g,h){return g===void 0&&(g=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var m;return n(this,function(x){return m={doctype:d,filters:[]},g&&(m.cache=g),h&&(m.debug=h),u&&(m.filters=u?JSON.stringify(u):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:m}).then(function(v){return v.data.message}).catch(function(v){var b,p;throw e(e({},v.response.data),{httpStatus:v.response.status,httpStatusText:v.response.statusText,message:"There was an error while getting the count.",exception:(p=(b=v.response.data.exception)!==null&&b!==void 0?b:v.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},o.prototype.getLastDoc=function(d,u){return t(this,void 0,void 0,function(){var g,h;return n(this,function(m){switch(m.label){case 0:return g={orderBy:{field:"creation",order:"desc"}},u&&(g=e(e({},g),u)),[4,this.getDocList(d,e(e({},g),{limit:1,fields:["name"]}))];case 1:return h=m.sent(),h.length>0?[2,this.getDoc(d,h[0].name)]:[2,{}]}})})},o.prototype.renameDoc=function(d,u,g,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return n(this,function(m){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:d,old_name:u,new_name:g,merge:h}).then(function(x){return x.data}).catch(function(x){var v,b,p;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:(v=x.response.data.message)!==null&&v!==void 0?v:"There was an error while renaming the document.",exception:(p=(b=x.response.data.exception)!==null&&b!==void 0?b:x.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},o.prototype.getValue=function(d,u,g,h,m,x){return h===void 0&&(h=!0),m===void 0&&(m=!1),x===void 0&&(x=null),t(this,void 0,void 0,function(){var v;return n(this,function(b){return v={doctype:d,fieldname:"[]",filters:[],as_dict:h,debug:m,parent:null},u&&(v.fieldname=typeof u=="object"?JSON.stringify(u):u),g&&(v.filters=g?JSON.stringify(g):void 0),x&&(v.parent=x),[2,this.axios.get("/api/method/frappe.client.get_value",{params:v}).then(function(p){return p.data}).catch(function(p){var S,k;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while getting the value.",exception:(k=(S=p.response.data.exception)!==null&&S!==void 0?S:p.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},o.prototype.setValue=function(d,u,g,h){return t(this,void 0,void 0,function(){return n(this,function(m){return g!==null&&typeof g=="object"&&!Array.isArray(g)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:d,name:u,fieldname:g,value:h}).then(function(x){return x.data}).catch(function(x){var v,b;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:"There was an error while setting the value.",exception:(b=(v=x.response.data.exception)!==null&&v!==void 0?v:x.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},o.prototype.getSingleValue=function(d,u){return t(this,void 0,void 0,function(){var g;return n(this,function(h){return g={doctype:d,field:u},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:g}).then(function(m){return m.data}).catch(function(m){var x,v;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(v=(x=m.response.data.exception)!==null&&x!==void 0?x:m.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},o.prototype.submit=function(d){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:d}).then(function(g){return g.data.message}).catch(function(g){var h,m;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:"There was an error while submitting the document.",exception:(m=(h=g.response.data.exception)!==null&&h!==void 0?h:g.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},o.prototype.cancel=function(d,u){return t(this,void 0,void 0,function(){return n(this,function(g){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:d,name:u}).then(function(h){return h.data}).catch(function(h){var m,x;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(x=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&x!==void 0?x:""})})]})})},o}();return Hr.FrappeDB=i,Hr}var qr={},In={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var gh,hb;function Yw(){if(hb)return gh;hb=1;function e(N,C){return function(){return N.apply(C,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,i=(N=>C=>{const O=t.call(C);return N[O]||(N[O]=O.slice(8,-1).toLowerCase())})(Object.create(null)),o=N=>(N=N.toLowerCase(),C=>i(C)===N),d=N=>C=>typeof C===N,{isArray:u}=Array,g=d("undefined");function h(N){return N!==null&&!g(N)&&N.constructor!==null&&!g(N.constructor)&&b(N.constructor.isBuffer)&&N.constructor.isBuffer(N)}const m=o("ArrayBuffer");function x(N){let C;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?C=ArrayBuffer.isView(N):C=N&&N.buffer&&m(N.buffer),C}const v=d("string"),b=d("function"),p=d("number"),S=N=>N!==null&&typeof N=="object",k=N=>N===!0||N===!1,E=N=>{if(i(N)!=="object")return!1;const C=n(N);return(C===null||C===Object.prototype||Object.getPrototypeOf(C)===null)&&!(Symbol.toStringTag in N)&&!(Symbol.iterator in N)},$=o("Date"),I=o("File"),D=o("Blob"),L=o("FileList"),A=N=>S(N)&&b(N.pipe),P=N=>{let C;return N&&(typeof FormData=="function"&&N instanceof FormData||b(N.append)&&((C=i(N))==="formdata"||C==="object"&&b(N.toString)&&N.toString()==="[object FormData]"))},W=o("URLSearchParams"),[Y,G,ae,ge]=["ReadableStream","Request","Response","Headers"].map(o),J=N=>N.trim?N.trim():N.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ee(N,C,{allOwnKeys:O=!1}={}){if(N===null||typeof N>"u")return;let M,Z;if(typeof N!="object"&&(N=[N]),u(N))for(M=0,Z=N.length;M<Z;M++)C.call(null,N[M],M,N);else{const se=O?Object.getOwnPropertyNames(N):Object.keys(N),de=se.length;let Me;for(M=0;M<de;M++)Me=se[M],C.call(null,N[Me],Me,N)}}function K(N,C){C=C.toLowerCase();const O=Object.keys(N);let M=O.length,Z;for(;M-- >0;)if(Z=O[M],C===Z.toLowerCase())return Z;return null}const z=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Kw,U=N=>!g(N)&&N!==z;function _(){const{caseless:N}=U(this)&&this||{},C={},O=(M,Z)=>{const se=N&&K(C,Z)||Z;E(C[se])&&E(M)?C[se]=_(C[se],M):E(M)?C[se]=_({},M):u(M)?C[se]=M.slice():C[se]=M};for(let M=0,Z=arguments.length;M<Z;M++)arguments[M]&&Ee(arguments[M],O);return C}const re=(N,C,O,{allOwnKeys:M}={})=>(Ee(C,(Z,se)=>{O&&b(Z)?N[se]=e(Z,O):N[se]=Z},{allOwnKeys:M}),N),pe=N=>(N.charCodeAt(0)===65279&&(N=N.slice(1)),N),R=(N,C,O,M)=>{N.prototype=Object.create(C.prototype,M),N.prototype.constructor=N,Object.defineProperty(N,"super",{value:C.prototype}),O&&Object.assign(N.prototype,O)},ie=(N,C,O,M)=>{let Z,se,de;const Me={};if(C=C||{},N==null)return C;do{for(Z=Object.getOwnPropertyNames(N),se=Z.length;se-- >0;)de=Z[se],(!M||M(de,N,C))&&!Me[de]&&(C[de]=N[de],Me[de]=!0);N=O!==!1&&n(N)}while(N&&(!O||O(N,C))&&N!==Object.prototype);return C},ve=(N,C,O)=>{N=String(N),(O===void 0||O>N.length)&&(O=N.length),O-=C.length;const M=N.indexOf(C,O);return M!==-1&&M===O},V=N=>{if(!N)return null;if(u(N))return N;let C=N.length;if(!p(C))return null;const O=new Array(C);for(;C-- >0;)O[C]=N[C];return O},_e=(N=>C=>N&&C instanceof N)(typeof Uint8Array<"u"&&n(Uint8Array)),Ye=(N,C)=>{const O=(N&&N[Symbol.iterator]).call(N);let M;for(;(M=O.next())&&!M.done;){const Z=M.value;C.call(N,Z[0],Z[1])}},Oe=(N,C)=>{let O;const M=[];for(;(O=N.exec(C))!==null;)M.push(O);return M},We=o("HTMLFormElement"),ye=N=>N.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(C,O,M){return O.toUpperCase()+M}),$e=(({hasOwnProperty:N})=>(C,O)=>N.call(C,O))(Object.prototype),Ae=o("RegExp"),Ze=(N,C)=>{const O=Object.getOwnPropertyDescriptors(N),M={};Ee(O,(Z,se)=>{let de;(de=C(Z,se,N))!==!1&&(M[se]=de||Z)}),Object.defineProperties(N,M)},xt=N=>{Ze(N,(C,O)=>{if(b(N)&&["arguments","caller","callee"].indexOf(O)!==-1)return!1;const M=N[O];if(b(M)){if(C.enumerable=!1,"writable"in C){C.writable=!1;return}C.set||(C.set=()=>{throw Error("Can not rewrite read-only method '"+O+"'")})}})},Q=(N,C)=>{const O={},M=Z=>{Z.forEach(se=>{O[se]=!0})};return u(N)?M(N):M(String(N).split(C)),O},De=()=>{},Rt=(N,C)=>N!=null&&Number.isFinite(N=+N)?N:C;function ia(N){return!!(N&&b(N.append)&&N[Symbol.toStringTag]==="FormData"&&N[Symbol.iterator])}const Pt=N=>{const C=new Array(10),O=(M,Z)=>{if(S(M)){if(C.indexOf(M)>=0)return;if(!("toJSON"in M)){C[Z]=M;const se=u(M)?[]:{};return Ee(M,(de,Me)=>{const nt=O(de,Z+1);!g(nt)&&(se[Me]=nt)}),C[Z]=void 0,se}}return M};return O(N,0)},Kt=o("AsyncFunction"),Aa=N=>N&&(S(N)||b(N))&&b(N.then)&&b(N.catch),Ra=((N,C)=>N?setImmediate:C?((O,M)=>(z.addEventListener("message",({source:Z,data:se})=>{Z===z&&se===O&&M.length&&M.shift()()},!1),Z=>{M.push(Z),z.postMessage(O,"*")}))(`axios@${Math.random()}`,[]):O=>setTimeout(O))(typeof setImmediate=="function",b(z.postMessage)),Na=typeof queueMicrotask<"u"?queueMicrotask.bind(z):typeof process<"u"&&process.nextTick||Ra;var he={isArray:u,isArrayBuffer:m,isBuffer:h,isFormData:P,isArrayBufferView:x,isString:v,isNumber:p,isBoolean:k,isObject:S,isPlainObject:E,isReadableStream:Y,isRequest:G,isResponse:ae,isHeaders:ge,isUndefined:g,isDate:$,isFile:I,isBlob:D,isRegExp:Ae,isFunction:b,isStream:A,isURLSearchParams:W,isTypedArray:_e,isFileList:L,forEach:Ee,merge:_,extend:re,trim:J,stripBOM:pe,inherits:R,toFlatObject:ie,kindOf:i,kindOfTest:o,endsWith:ve,toArray:V,forEachEntry:Ye,matchAll:Oe,isHTMLForm:We,hasOwnProperty:$e,hasOwnProp:$e,reduceDescriptors:Ze,freezeMethods:xt,toObjectSet:Q,toCamelCase:ye,noop:De,toFiniteNumber:Rt,findKey:K,global:z,isContextDefined:U,isSpecCompliantForm:ia,toJSONObject:Pt,isAsyncFn:Kt,isThenable:Aa,setImmediate:Ra,asap:Na};function X(N,C,O,M,Z){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=N,this.name="AxiosError",C&&(this.code=C),O&&(this.config=O),M&&(this.request=M),Z&&(this.response=Z,this.status=Z.status?Z.status:null)}he.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const ze=X.prototype,ht={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(N=>{ht[N]={value:N}}),Object.defineProperties(X,ht),Object.defineProperty(ze,"isAxiosError",{value:!0}),X.from=(N,C,O,M,Z,se)=>{const de=Object.create(ze);return he.toFlatObject(N,de,function(Me){return Me!==Error.prototype},Me=>Me!=="isAxiosError"),X.call(de,N.message,C,O,M,Z),de.cause=N,de.name=N.name,se&&Object.assign(de,se),de};var ft=null;function He(N){return he.isPlainObject(N)||he.isArray(N)}function yt(N){return he.endsWith(N,"[]")?N.slice(0,-2):N}function jt(N,C,O){return N?N.concat(C).map(function(M,Z){return M=yt(M),!O&&Z?"["+M+"]":M}).join(O?".":""):C}function be(N){return he.isArray(N)&&!N.some(He)}const ke=he.toFlatObject(he,{},null,function(N){return/^is[A-Z]/.test(N)});function bt(N,C,O){if(!he.isObject(N))throw new TypeError("target must be an object");C=C||new FormData,O=he.toFlatObject(O,{metaTokens:!0,dots:!1,indexes:!1},!1,function(pt,ot){return!he.isUndefined(ot[pt])});const M=O.metaTokens,Z=O.visitor||Ue,se=O.dots,de=O.indexes,Me=(O.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(C);if(!he.isFunction(Z))throw new TypeError("visitor must be a function");function nt(pt){if(pt===null)return"";if(he.isDate(pt))return pt.toISOString();if(!Me&&he.isBlob(pt))throw new X("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(pt)||he.isTypedArray(pt)?Me&&typeof Blob=="function"?new Blob([pt]):Buffer.from(pt):pt}function Ue(pt,ot,Je){let ka=pt;if(pt&&!Je&&typeof pt=="object"){if(he.endsWith(ot,"{}"))ot=M?ot:ot.slice(0,-2),pt=JSON.stringify(pt);else if(he.isArray(pt)&&be(pt)||(he.isFileList(pt)||he.endsWith(ot,"[]"))&&(ka=he.toArray(pt)))return ot=yt(ot),ka.forEach(function(fa,Wt){!(he.isUndefined(fa)||fa===null)&&C.append(de===!0?jt([ot],Wt,se):de===null?ot:ot+"[]",nt(fa))}),!1}return He(pt)?!0:(C.append(jt(Je,ot,se),nt(pt)),!1)}const Ve=[],dt=Object.assign(ke,{defaultVisitor:Ue,convertValue:nt,isVisitable:He});function Bt(pt,ot){if(!he.isUndefined(pt)){if(Ve.indexOf(pt)!==-1)throw Error("Circular reference detected in "+ot.join("."));Ve.push(pt),he.forEach(pt,function(Je,ka){(!(he.isUndefined(Je)||Je===null)&&Z.call(C,Je,he.isString(ka)?ka.trim():ka,ot,dt))===!0&&Bt(Je,ot?ot.concat(ka):[ka])}),Ve.pop()}}if(!he.isObject(N))throw new TypeError("data must be an object");return Bt(N),C}function Zt(N){const C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(N).replace(/[!'()~]|%20|%00/g,function(O){return C[O]})}function ea(N,C){this._pairs=[],N&&bt(N,this,C)}const ta=ea.prototype;ta.append=function(N,C){this._pairs.push([N,C])},ta.toString=function(N){const C=N?function(O){return N.call(this,O,Zt)}:Zt;return this._pairs.map(function(O){return C(O[0])+"="+C(O[1])},"").join("&")};function za(N){return encodeURIComponent(N).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pa(N,C,O){if(!C)return N;const M=O&&O.encode||za;he.isFunction(O)&&(O={serialize:O});const Z=O&&O.serialize;let se;if(Z?se=Z(C,O):se=he.isURLSearchParams(C)?C.toString():new ea(C,O).toString(M),se){const de=N.indexOf("#");de!==-1&&(N=N.slice(0,de)),N+=(N.indexOf("?")===-1?"?":"&")+se}return N}class Yn{constructor(){this.handlers=[]}use(C,O,M){return this.handlers.push({fulfilled:C,rejected:O,synchronous:M?M.synchronous:!1,runWhen:M?M.runWhen:null}),this.handlers.length-1}eject(C){this.handlers[C]&&(this.handlers[C]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(C){he.forEach(this.handlers,function(O){O!==null&&C(O)})}}var Dr=Yn,Le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ja=typeof URLSearchParams<"u"?URLSearchParams:ea,_a=typeof FormData<"u"?FormData:null,bn=typeof Blob<"u"?Blob:null,rr={isBrowser:!0,classes:{URLSearchParams:ja,FormData:_a,Blob:bn},protocols:["http","https","file","blob","url","data"]};const Qa=typeof window<"u"&&typeof document<"u",Lr=typeof navigator=="object"&&navigator||void 0,an=Qa&&(!Lr||["ReactNative","NativeScript","NS"].indexOf(Lr.product)<0),B=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ne=Qa&&window.location.href||"http://localhost";var ue=Object.freeze({__proto__:null,hasBrowserEnv:Qa,hasStandardBrowserWebWorkerEnv:B,hasStandardBrowserEnv:an,navigator:Lr,origin:ne}),le=H(H({},ue),rr);function Re(N,C){return bt(N,new le.classes.URLSearchParams,Object.assign({visitor:function(O,M,Z,se){return le.isNode&&he.isBuffer(O)?(this.append(M,O.toString("base64")),!1):se.defaultVisitor.apply(this,arguments)}},C))}function Ke(N){return he.matchAll(/\w+|\[(\w*)]/g,N).map(C=>C[0]==="[]"?"":C[1]||C[0])}function rt(N){const C={},O=Object.keys(N);let M;const Z=O.length;let se;for(M=0;M<Z;M++)se=O[M],C[se]=N[se];return C}function et(N){function C(O,M,Z,se){let de=O[se++];if(de==="__proto__")return!0;const Me=Number.isFinite(+de),nt=se>=O.length;return de=!de&&he.isArray(Z)?Z.length:de,nt?(he.hasOwnProp(Z,de)?Z[de]=[Z[de],M]:Z[de]=M,!Me):((!Z[de]||!he.isObject(Z[de]))&&(Z[de]=[]),C(O,M,Z[de],se)&&he.isArray(Z[de])&&(Z[de]=rt(Z[de])),!Me)}if(he.isFormData(N)&&he.isFunction(N.entries)){const O={};return he.forEachEntry(N,(M,Z)=>{C(Ke(M),Z,O,0)}),O}return null}function it(N,C,O){if(he.isString(N))try{return(C||JSON.parse)(N),he.trim(N)}catch(M){if(M.name!=="SyntaxError")throw M}return(O||JSON.stringify)(N)}const mt={transitional:Le,adapter:["xhr","http","fetch"],transformRequest:[function(N,C){const O=C.getContentType()||"",M=O.indexOf("application/json")>-1,Z=he.isObject(N);if(Z&&he.isHTMLForm(N)&&(N=new FormData(N)),he.isFormData(N))return M?JSON.stringify(et(N)):N;if(he.isArrayBuffer(N)||he.isBuffer(N)||he.isStream(N)||he.isFile(N)||he.isBlob(N)||he.isReadableStream(N))return N;if(he.isArrayBufferView(N))return N.buffer;if(he.isURLSearchParams(N))return C.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),N.toString();let se;if(Z){if(O.indexOf("application/x-www-form-urlencoded")>-1)return Re(N,this.formSerializer).toString();if((se=he.isFileList(N))||O.indexOf("multipart/form-data")>-1){const de=this.env&&this.env.FormData;return bt(se?{"files[]":N}:N,de&&new de,this.formSerializer)}}return Z||M?(C.setContentType("application/json",!1),it(N)):N}],transformResponse:[function(N){const C=this.transitional||mt.transitional,O=C&&C.forcedJSONParsing,M=this.responseType==="json";if(he.isResponse(N)||he.isReadableStream(N))return N;if(N&&he.isString(N)&&(O&&!this.responseType||M)){const Z=!(C&&C.silentJSONParsing)&&M;try{return JSON.parse(N)}catch(se){if(Z)throw se.name==="SyntaxError"?X.from(se,X.ERR_BAD_RESPONSE,this,null,this.response):se}}return N}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(N){return N>=200&&N<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],N=>{mt.headers[N]={}});var st=mt;const ee=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ne=N=>{const C={};let O,M,Z;return N&&N.split(`
`).forEach(function(se){Z=se.indexOf(":"),O=se.substring(0,Z).trim().toLowerCase(),M=se.substring(Z+1).trim(),!(!O||C[O]&&ee[O])&&(O==="set-cookie"?C[O]?C[O].push(M):C[O]=[M]:C[O]=C[O]?C[O]+", "+M:M)}),C};const Ie=Symbol("internals");function qe(N){return N&&String(N).trim().toLowerCase()}function lt(N){return N===!1||N==null?N:he.isArray(N)?N.map(lt):String(N)}function tt(N){const C=Object.create(null),O=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let M;for(;M=O.exec(N);)C[M[1]]=M[2];return C}const Ge=N=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(N.trim());function Et(N,C,O,M,Z){if(he.isFunction(M))return M.call(this,C,O);if(Z&&(C=O),!!he.isString(C)){if(he.isString(M))return C.indexOf(M)!==-1;if(he.isRegExp(M))return M.test(C)}}function Mt(N){return N.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(C,O,M)=>O.toUpperCase()+M)}function Qt(N,C){const O=he.toCamelCase(" "+C);["get","set","has"].forEach(M=>{Object.defineProperty(N,M+O,{value:function(Z,se,de){return this[M].call(this,C,Z,se,de)},configurable:!0})})}class la{constructor(C){C&&this.set(C)}set(C,O,M){const Z=this;function se(Me,nt,Ue){const Ve=qe(nt);if(!Ve)throw new Error("header name must be a non-empty string");const dt=he.findKey(Z,Ve);(!dt||Z[dt]===void 0||Ue===!0||Ue===void 0&&Z[dt]!==!1)&&(Z[dt||nt]=lt(Me))}const de=(Me,nt)=>he.forEach(Me,(Ue,Ve)=>se(Ue,Ve,nt));if(he.isPlainObject(C)||C instanceof this.constructor)de(C,O);else if(he.isString(C)&&(C=C.trim())&&!Ge(C))de(Ne(C),O);else if(he.isHeaders(C))for(const[Me,nt]of C.entries())se(nt,Me,M);else C!=null&&se(O,C,M);return this}get(C,O){if(C=qe(C),C){const M=he.findKey(this,C);if(M){const Z=this[M];if(!O)return Z;if(O===!0)return tt(Z);if(he.isFunction(O))return O.call(this,Z,M);if(he.isRegExp(O))return O.exec(Z);throw new TypeError("parser must be boolean|regexp|function")}}}has(C,O){if(C=qe(C),C){const M=he.findKey(this,C);return!!(M&&this[M]!==void 0&&(!O||Et(this,this[M],M,O)))}return!1}delete(C,O){const M=this;let Z=!1;function se(de){if(de=qe(de),de){const Me=he.findKey(M,de);Me&&(!O||Et(M,M[Me],Me,O))&&(delete M[Me],Z=!0)}}return he.isArray(C)?C.forEach(se):se(C),Z}clear(C){const O=Object.keys(this);let M=O.length,Z=!1;for(;M--;){const se=O[M];(!C||Et(this,this[se],se,C,!0))&&(delete this[se],Z=!0)}return Z}normalize(C){const O=this,M={};return he.forEach(this,(Z,se)=>{const de=he.findKey(M,se);if(de){O[de]=lt(Z),delete O[se];return}const Me=C?Mt(se):String(se).trim();Me!==se&&delete O[se],O[Me]=lt(Z),M[Me]=!0}),this}concat(...C){return this.constructor.concat(this,...C)}toJSON(C){const O=Object.create(null);return he.forEach(this,(M,Z)=>{M!=null&&M!==!1&&(O[Z]=C&&he.isArray(M)?M.join(", "):M)}),O}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([C,O])=>C+": "+O).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(C){return C instanceof this?C:new this(C)}static concat(C,...O){const M=new this(C);return O.forEach(Z=>M.set(Z)),M}static accessor(C){const O=(this[Ie]=this[Ie]={accessors:{}}).accessors,M=this.prototype;function Z(se){const de=qe(se);O[de]||(Qt(M,se),O[de]=!0)}return he.isArray(C)?C.forEach(Z):Z(C),this}}la.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),he.reduceDescriptors(la.prototype,({value:N},C)=>{let O=C[0].toUpperCase()+C.slice(1);return{get:()=>N,set(M){this[O]=M}}}),he.freezeMethods(la);var ua=la;function pr(N,C){const O=this||st,M=C||O,Z=ua.from(M.headers);let se=M.data;return he.forEach(N,function(de){se=de.call(O,se,Z.normalize(),C?C.status:void 0)}),Z.normalize(),se}function Qn(N){return!!(N&&N.__CANCEL__)}function xa(N,C,O){X.call(this,N!=null?N:"canceled",X.ERR_CANCELED,C,O),this.name="CanceledError"}he.inherits(xa,X,{__CANCEL__:!0});function br(N,C,O){const M=O.config.validateStatus;!O.status||!M||M(O.status)?N(O):C(new X("Request failed with status code "+O.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(O.status/100)-4],O.config,O.request,O))}function wt(N){const C=/^([-+\w]{1,25})(:?\/\/|:)/.exec(N);return C&&C[1]||""}function wa(N,C){N=N||10;const O=new Array(N),M=new Array(N);let Z=0,se=0,de;return C=C!==void 0?C:1e3,function(Me){const nt=Date.now(),Ue=M[se];de||(de=nt),O[Z]=Me,M[Z]=nt;let Ve=se,dt=0;for(;Ve!==Z;)dt+=O[Ve++],Ve=Ve%N;if(Z=(Z+1)%N,Z===se&&(se=(se+1)%N),nt-de<C)return;const Bt=Ue&&nt-Ue;return Bt?Math.round(dt*1e3/Bt):void 0}}function nr(N,C){let O=0,M=1e3/C,Z,se;const de=(Me,nt=Date.now())=>{O=nt,Z=null,se&&(clearTimeout(se),se=null),N.apply(null,Me)};return[(...Me)=>{const nt=Date.now(),Ue=nt-O;Ue>=M?de(Me,nt):(Z=Me,se||(se=setTimeout(()=>{se=null,de(Z)},M-Ue)))},()=>Z&&de(Z)]}const Ma=(N,C,O=3)=>{let M=0;const Z=wa(50,250);return nr(se=>{const de=se.loaded,Me=se.lengthComputable?se.total:void 0,nt=de-M,Ue=Z(nt),Ve=de<=Me;M=de;const dt={loaded:de,total:Me,progress:Me?de/Me:void 0,bytes:nt,rate:Ue||void 0,estimated:Ue&&Me&&Ve?(Me-de)/Ue:void 0,event:se,lengthComputable:Me!=null,[C?"download":"upload"]:!0};N(dt)},O)},rn=(N,C)=>{const O=N!=null;return[M=>C[0]({lengthComputable:O,total:N,loaded:M}),C[1]]},Gt=N=>(...C)=>he.asap(()=>N(...C));var nn=le.hasStandardBrowserEnv?((N,C)=>O=>(O=new URL(O,le.origin),N.protocol===O.protocol&&N.host===O.host&&(C||N.port===O.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,qs=le.hasStandardBrowserEnv?{write(N,C,O,M,Z,se){const de=[N+"="+encodeURIComponent(C)];he.isNumber(O)&&de.push("expires="+new Date(O).toGMTString()),he.isString(M)&&de.push("path="+M),he.isString(Z)&&de.push("domain="+Z),se===!0&&de.push("secure"),document.cookie=de.join("; ")},read(N){const C=document.cookie.match(new RegExp("(^|;\\s*)("+N+")=([^;]*)"));return C?decodeURIComponent(C[3]):null},remove(N){this.write(N,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Da(N){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(N)}function Rc(N,C){return C?N.replace(/\/?\/$/,"")+"/"+C.replace(/^\/+/,""):N}function Pc(N,C,O){let M=!Da(C);return N&&M||O==!1?Rc(N,C):C}const Gs=N=>N instanceof ua?H({},N):N;function sn(N,C){C=C||{};const O={};function M(Ue,Ve,dt,Bt){return he.isPlainObject(Ue)&&he.isPlainObject(Ve)?he.merge.call({caseless:Bt},Ue,Ve):he.isPlainObject(Ve)?he.merge({},Ve):he.isArray(Ve)?Ve.slice():Ve}function Z(Ue,Ve,dt,Bt){if(he.isUndefined(Ve)){if(!he.isUndefined(Ue))return M(void 0,Ue,dt,Bt)}else return M(Ue,Ve,dt,Bt)}function se(Ue,Ve){if(!he.isUndefined(Ve))return M(void 0,Ve)}function de(Ue,Ve){if(he.isUndefined(Ve)){if(!he.isUndefined(Ue))return M(void 0,Ue)}else return M(void 0,Ve)}function Me(Ue,Ve,dt){if(dt in C)return M(Ue,Ve);if(dt in N)return M(void 0,Ue)}const nt={url:se,method:se,data:se,baseURL:de,transformRequest:de,transformResponse:de,paramsSerializer:de,timeout:de,timeoutMessage:de,withCredentials:de,withXSRFToken:de,adapter:de,responseType:de,xsrfCookieName:de,xsrfHeaderName:de,onUploadProgress:de,onDownloadProgress:de,decompress:de,maxContentLength:de,maxBodyLength:de,beforeRedirect:de,transport:de,httpAgent:de,httpsAgent:de,cancelToken:de,socketPath:de,responseEncoding:de,validateStatus:Me,headers:(Ue,Ve,dt)=>Z(Gs(Ue),Gs(Ve),dt,!0)};return he.forEach(Object.keys(Object.assign({},N,C)),function(Ue){const Ve=nt[Ue]||Z,dt=Ve(N[Ue],C[Ue],Ue);he.isUndefined(dt)&&Ve!==Me||(O[Ue]=dt)}),O}var Vs=N=>{const C=sn({},N);let{data:O,withXSRFToken:M,xsrfHeaderName:Z,xsrfCookieName:se,headers:de,auth:Me}=C;C.headers=de=ua.from(de),C.url=Pa(Pc(C.baseURL,C.url),N.params,N.paramsSerializer),Me&&de.set("Authorization","Basic "+btoa((Me.username||"")+":"+(Me.password?unescape(encodeURIComponent(Me.password)):"")));let nt;if(he.isFormData(O)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)de.setContentType(void 0);else if((nt=de.getContentType())!==!1){const[Ue,...Ve]=nt?nt.split(";").map(dt=>dt.trim()).filter(Boolean):[];de.setContentType([Ue||"multipart/form-data",...Ve].join("; "))}}if(le.hasStandardBrowserEnv&&(M&&he.isFunction(M)&&(M=M(C)),M||M!==!1&&nn(C.url))){const Ue=Z&&se&&qs.read(se);Ue&&de.set(Z,Ue)}return C},a0=typeof XMLHttpRequest<"u"&&function(N){return new Promise(function(C,O){const M=Vs(N);let Z=M.data;const se=ua.from(M.headers).normalize();let{responseType:de,onUploadProgress:Me,onDownloadProgress:nt}=M,Ue,Ve,dt,Bt,pt;function ot(){Bt&&Bt(),pt&&pt(),M.cancelToken&&M.cancelToken.unsubscribe(Ue),M.signal&&M.signal.removeEventListener("abort",Ue)}let Je=new XMLHttpRequest;Je.open(M.method.toUpperCase(),M.url,!0),Je.timeout=M.timeout;function ka(){if(!Je)return;const Wt=ua.from("getAllResponseHeaders"in Je&&Je.getAllResponseHeaders()),vr={data:!de||de==="text"||de==="json"?Je.responseText:Je.response,status:Je.status,statusText:Je.statusText,headers:Wt,config:N,request:Je};br(function(Js){C(Js),ot()},function(Js){O(Js),ot()},vr),Je=null}"onloadend"in Je?Je.onloadend=ka:Je.onreadystatechange=function(){!Je||Je.readyState!==4||Je.status===0&&!(Je.responseURL&&Je.responseURL.indexOf("file:")===0)||setTimeout(ka)},Je.onabort=function(){Je&&(O(new X("Request aborted",X.ECONNABORTED,N,Je)),Je=null)},Je.onerror=function(){O(new X("Network Error",X.ERR_NETWORK,N,Je)),Je=null},Je.ontimeout=function(){let Wt=M.timeout?"timeout of "+M.timeout+"ms exceeded":"timeout exceeded";const vr=M.transitional||Le;M.timeoutErrorMessage&&(Wt=M.timeoutErrorMessage),O(new X(Wt,vr.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,N,Je)),Je=null},Z===void 0&&se.setContentType(null),"setRequestHeader"in Je&&he.forEach(se.toJSON(),function(Wt,vr){Je.setRequestHeader(vr,Wt)}),he.isUndefined(M.withCredentials)||(Je.withCredentials=!!M.withCredentials),de&&de!=="json"&&(Je.responseType=M.responseType),nt&&([dt,pt]=Ma(nt,!0),Je.addEventListener("progress",dt)),Me&&Je.upload&&([Ve,Bt]=Ma(Me),Je.upload.addEventListener("progress",Ve),Je.upload.addEventListener("loadend",Bt)),(M.cancelToken||M.signal)&&(Ue=Wt=>{Je&&(O(!Wt||Wt.type?new xa(null,N,Je):Wt),Je.abort(),Je=null)},M.cancelToken&&M.cancelToken.subscribe(Ue),M.signal&&(M.signal.aborted?Ue():M.signal.addEventListener("abort",Ue)));const fa=wt(M.url);if(fa&&le.protocols.indexOf(fa)===-1){O(new X("Unsupported protocol "+fa+":",X.ERR_BAD_REQUEST,N));return}Je.send(Z||null)})},Xa=(N,C)=>{const{length:O}=N=N?N.filter(Boolean):[];if(C||O){let M=new AbortController,Z;const se=function(Ue){if(!Z){Z=!0,Me();const Ve=Ue instanceof Error?Ue:this.reason;M.abort(Ve instanceof X?Ve:new xa(Ve instanceof Error?Ve.message:Ve))}};let de=C&&setTimeout(()=>{de=null,se(new X(`timeout ${C} of ms exceeded`,X.ETIMEDOUT))},C);const Me=()=>{N&&(de&&clearTimeout(de),de=null,N.forEach(Ue=>{Ue.unsubscribe?Ue.unsubscribe(se):Ue.removeEventListener("abort",se)}),N=null)};N.forEach(Ue=>Ue.addEventListener("abort",se));const{signal:nt}=M;return nt.unsubscribe=()=>he.asap(Me),nt}};const ql=function*(N,C){let O=N.byteLength;if(O<C){yield N;return}let M=0,Z;for(;M<O;)Z=M+C,yield N.slice(M,Z),M=Z},Mc=function(N,C){return eh(this,null,function*(){try{for(var O=Op(Gl(N)),M,Z,se;M=!(Z=yield new gi(O.next())).done;M=!1){const de=Z.value;yield*th(ql(de,C))}}catch(Z){se=[Z]}finally{try{M&&(Z=O.return)&&(yield new gi(Z.call(O)))}finally{if(se)throw se[0]}}})},Gl=function(N){return eh(this,null,function*(){if(N[Symbol.asyncIterator]){yield*th(N);return}const C=N.getReader();try{for(;;){const{done:O,value:M}=yield new gi(C.read());if(O)break;yield M}}finally{yield new gi(C.cancel())}})},vn=(N,C,O,M)=>{const Z=Mc(N,C);let se=0,de,Me=Ue=>{de||(de=!0,M&&M(Ue))};return new ReadableStream({pull(Ue){return xe(this,null,function*(){try{const{done:Ve,value:dt}=yield Z.next();if(Ve){Me(),Ue.close();return}let Bt=dt.byteLength;if(O){let pt=se+=Bt;O(pt)}Ue.enqueue(new Uint8Array(dt))}catch(Ve){throw Me(Ve),Ve}})},cancel(Ue){return Me(Ue),Z.return()}},{highWaterMark:2})},Ks=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vl=Ks&&typeof ReadableStream=="function",Xn=Ks&&(typeof TextEncoder=="function"?(N=>C=>N.encode(C))(new TextEncoder):N=>xe(null,null,function*(){return new Uint8Array(yield new Response(N).arrayBuffer())})),Dc=(N,...C)=>{try{return!!N(...C)}catch(O){return!1}},Lc=Vl&&Dc(()=>{let N=!1;const C=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!C}),Kl=64*1024,Ys=Vl&&Dc(()=>he.isReadableStream(new Response("").body)),Ai={stream:Ys&&(N=>N.body)};Ks&&(N=>{["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!Ai[C]&&(Ai[C]=he.isFunction(N[C])?O=>O[C]():(O,M)=>{throw new X(`Response type '${C}' is not supported`,X.ERR_NOT_SUPPORT,M)})})})(new Response);const r0=N=>xe(null,null,function*(){if(N==null)return 0;if(he.isBlob(N))return N.size;if(he.isSpecCompliantForm(N))return(yield new Request(le.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(he.isArrayBufferView(N)||he.isArrayBuffer(N))return N.byteLength;if(he.isURLSearchParams(N)&&(N=N+""),he.isString(N))return(yield Xn(N)).byteLength}),Ri=(N,C)=>xe(null,null,function*(){const O=he.toFiniteNumber(N.getContentLength());return O!=null?O:r0(C)});var Yl=Ks&&(N=>xe(null,null,function*(){let{url:C,method:O,data:M,signal:Z,cancelToken:se,timeout:de,onDownloadProgress:Me,onUploadProgress:nt,responseType:Ue,headers:Ve,withCredentials:dt="same-origin",fetchOptions:Bt}=Vs(N);Ue=Ue?(Ue+"").toLowerCase():"text";let pt=Xa([Z,se&&se.toAbortSignal()],de),ot;const Je=pt&&pt.unsubscribe&&(()=>{pt.unsubscribe()});let ka;try{if(nt&&Lc&&O!=="get"&&O!=="head"&&(ka=yield Ri(Ve,M))!==0){let ln=new Request(C,{method:"POST",body:M,duplex:"half"}),ts;if(he.isFormData(M)&&(ts=ln.headers.get("content-type"))&&Ve.setContentType(ts),ln.body){const[Li,Ii]=rn(ka,Ma(Gt(nt)));M=vn(ln.body,Kl,Li,Ii)}}he.isString(dt)||(dt=dt?"include":"omit");const fa="credentials"in Request.prototype;ot=new Request(C,je(H({},Bt),{signal:pt,method:O.toUpperCase(),headers:Ve.normalize().toJSON(),body:M,duplex:"half",credentials:fa?dt:void 0}));let Wt=yield fetch(ot);const vr=Ys&&(Ue==="stream"||Ue==="response");if(Ys&&(Me||vr&&Je)){const ln={};["status","statusText","headers"].forEach(Uc=>{ln[Uc]=Wt[Uc]});const ts=he.toFiniteNumber(Wt.headers.get("content-length")),[Li,Ii]=Me&&rn(ts,Ma(Gt(Me),!0))||[];Wt=new Response(vn(Wt.body,Kl,Li,()=>{Ii&&Ii(),Je&&Je()}),ln)}Ue=Ue||"text";let Js=yield Ai[he.findKey(Ai,Ue)||"text"](Wt,N);return!vr&&Je&&Je(),yield new Promise((ln,ts)=>{br(ln,ts,{data:Js,headers:ua.from(Wt.headers),status:Wt.status,statusText:Wt.statusText,config:N,request:ot})})}catch(fa){throw Je&&Je(),fa&&fa.name==="TypeError"&&/fetch/i.test(fa.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,N,ot),{cause:fa.cause||fa}):X.from(fa,fa&&fa.code,N,ot)}}));const Qs={http:ft,xhr:a0,fetch:Yl};he.forEach(Qs,(N,C)=>{if(N){try{Object.defineProperty(N,"name",{value:C})}catch(O){}Object.defineProperty(N,"adapterName",{value:C})}});const Nn=N=>`- ${N}`,Zn=N=>he.isFunction(N)||N===null||N===!1;var Ql={getAdapter:N=>{N=he.isArray(N)?N:[N];const{length:C}=N;let O,M;const Z={};for(let se=0;se<C;se++){O=N[se];let de;if(M=O,!Zn(O)&&(M=Qs[(de=String(O)).toLowerCase()],M===void 0))throw new X(`Unknown adapter '${de}'`);if(M)break;Z[de||"#"+se]=M}if(!M){const se=Object.entries(Z).map(([Me,nt])=>`adapter ${Me} `+(nt===!1?"is not supported by the environment":"is not available in the build"));let de=C?se.length>1?`since :
`+se.map(Nn).join(`
`):" "+Nn(se[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+de,"ERR_NOT_SUPPORT")}return M},adapters:Qs};function Xs(N){if(N.cancelToken&&N.cancelToken.throwIfRequested(),N.signal&&N.signal.aborted)throw new xa(null,N)}function Xl(N){return Xs(N),N.headers=ua.from(N.headers),N.data=pr.call(N,N.transformRequest),["post","put","patch"].indexOf(N.method)!==-1&&N.headers.setContentType("application/x-www-form-urlencoded",!1),Ql.getAdapter(N.adapter||st.adapter)(N).then(function(C){return Xs(N),C.data=pr.call(N,N.transformResponse,C),C.headers=ua.from(C.headers),C},function(C){return Qn(C)||(Xs(N),C&&C.response&&(C.response.data=pr.call(N,N.transformResponse,C.response),C.response.headers=ua.from(C.response.headers))),Promise.reject(C)})}const Wn="1.8.2",Za={};["object","boolean","number","function","string","symbol"].forEach((N,C)=>{Za[N]=function(O){return typeof O===N||"a"+(C<1?"n ":" ")+N}});const Pi={};Za.transitional=function(N,C,O){function M(Z,se){return"[Axios v"+Wn+"] Transitional option '"+Z+"'"+se+(O?". "+O:"")}return(Z,se,de)=>{if(N===!1)throw new X(M(se," has been removed"+(C?" in "+C:"")),X.ERR_DEPRECATED);return C&&!Pi[se]&&(Pi[se]=!0,console.warn(M(se," has been deprecated since v"+C+" and will be removed in the near future"))),N?N(Z,se,de):!0}},Za.spelling=function(N){return(C,O)=>(console.warn(`${O} is likely a misspelling of ${N}`),!0)};function Zs(N,C,O){if(typeof N!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const M=Object.keys(N);let Z=M.length;for(;Z-- >0;){const se=M[Z],de=C[se];if(de){const Me=N[se],nt=Me===void 0||de(Me,se,N);if(nt!==!0)throw new X("option "+se+" must be "+nt,X.ERR_BAD_OPTION_VALUE);continue}if(O!==!0)throw new X("Unknown option "+se,X.ERR_BAD_OPTION)}}var sr={assertOptions:Zs,validators:Za};const Wa=sr.validators;class jn{constructor(C){this.defaults=C,this.interceptors={request:new Dr,response:new Dr}}request(C,O){return xe(this,null,function*(){try{return yield this._request(C,O)}catch(M){if(M instanceof Error){let Z={};Error.captureStackTrace?Error.captureStackTrace(Z):Z=new Error;const se=Z.stack?Z.stack.replace(/^.+\n/,""):"";try{M.stack?se&&!String(M.stack).endsWith(se.replace(/^.+\n.+\n/,""))&&(M.stack+=`
`+se):M.stack=se}catch(de){}}throw M}})}_request(C,O){typeof C=="string"?(O=O||{},O.url=C):O=C||{},O=sn(this.defaults,O);const{transitional:M,paramsSerializer:Z,headers:se}=O;M!==void 0&&sr.assertOptions(M,{silentJSONParsing:Wa.transitional(Wa.boolean),forcedJSONParsing:Wa.transitional(Wa.boolean),clarifyTimeoutError:Wa.transitional(Wa.boolean)},!1),Z!=null&&(he.isFunction(Z)?O.paramsSerializer={serialize:Z}:sr.assertOptions(Z,{encode:Wa.function,serialize:Wa.function},!0)),O.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?O.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:O.allowAbsoluteUrls=!0),sr.assertOptions(O,{baseUrl:Wa.spelling("baseURL"),withXsrfToken:Wa.spelling("withXSRFToken")},!0),O.method=(O.method||this.defaults.method||"get").toLowerCase();let de=se&&he.merge(se.common,se[O.method]);se&&he.forEach(["delete","get","head","post","put","patch","common"],ot=>{delete se[ot]}),O.headers=ua.concat(de,se);const Me=[];let nt=!0;this.interceptors.request.forEach(function(ot){typeof ot.runWhen=="function"&&ot.runWhen(O)===!1||(nt=nt&&ot.synchronous,Me.unshift(ot.fulfilled,ot.rejected))});const Ue=[];this.interceptors.response.forEach(function(ot){Ue.push(ot.fulfilled,ot.rejected)});let Ve,dt=0,Bt;if(!nt){const ot=[Xl.bind(this),void 0];for(ot.unshift.apply(ot,Me),ot.push.apply(ot,Ue),Bt=ot.length,Ve=Promise.resolve(O);dt<Bt;)Ve=Ve.then(ot[dt++],ot[dt++]);return Ve}Bt=Me.length;let pt=O;for(dt=0;dt<Bt;){const ot=Me[dt++],Je=Me[dt++];try{pt=ot(pt)}catch(ka){Je.call(this,ka);break}}try{Ve=Xl.call(this,pt)}catch(ot){return Promise.reject(ot)}for(dt=0,Bt=Ue.length;dt<Bt;)Ve=Ve.then(Ue[dt++],Ue[dt++]);return Ve}getUri(C){C=sn(this.defaults,C);const O=Pc(C.baseURL,C.url,C.allowAbsoluteUrls);return Pa(O,C.params,C.paramsSerializer)}}he.forEach(["delete","get","head","options"],function(N){jn.prototype[N]=function(C,O){return this.request(sn(O||{},{method:N,url:C,data:(O||{}).data}))}}),he.forEach(["post","put","patch"],function(N){function C(O){return function(M,Z,se){return this.request(sn(se||{},{method:N,headers:O?{"Content-Type":"multipart/form-data"}:{},url:M,data:Z}))}}jn.prototype[N]=C(),jn.prototype[N+"Form"]=C(!0)});var Ws=jn;class Jn{constructor(C){if(typeof C!="function")throw new TypeError("executor must be a function.");let O;this.promise=new Promise(function(Z){O=Z});const M=this;this.promise.then(Z=>{if(!M._listeners)return;let se=M._listeners.length;for(;se-- >0;)M._listeners[se](Z);M._listeners=null}),this.promise.then=Z=>{let se;const de=new Promise(Me=>{M.subscribe(Me),se=Me}).then(Z);return de.cancel=function(){M.unsubscribe(se)},de},C(function(Z,se,de){M.reason||(M.reason=new xa(Z,se,de),O(M.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(C){if(this.reason){C(this.reason);return}this._listeners?this._listeners.push(C):this._listeners=[C]}unsubscribe(C){if(!this._listeners)return;const O=this._listeners.indexOf(C);O!==-1&&this._listeners.splice(O,1)}toAbortSignal(){const C=new AbortController,O=M=>{C.abort(M)};return this.subscribe(O),C.signal.unsubscribe=()=>this.unsubscribe(O),C.signal}static source(){let C;return{token:new Jn(function(O){C=O}),cancel:C}}}var Mi=Jn;function Ic(N){return function(C){return N.apply(null,C)}}function La(N){return he.isObject(N)&&N.isAxiosError===!0}const Ir={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ir).forEach(([N,C])=>{Ir[C]=N});var Di=Ir;function es(N){const C=new Ws(N),O=e(Ws.prototype.request,C);return he.extend(O,Ws.prototype,C,{allOwnKeys:!0}),he.extend(O,C,null,{allOwnKeys:!0}),O.create=function(M){return es(sn(N,M))},O}const aa=es(st);return aa.Axios=Ws,aa.CanceledError=xa,aa.CancelToken=Mi,aa.isCancel=Qn,aa.VERSION=Wn,aa.toFormData=bt,aa.AxiosError=X,aa.Cancel=aa.CanceledError,aa.all=function(N){return Promise.all(N)},aa.spread=Ic,aa.isAxiosError=La,aa.mergeConfig=sn,aa.AxiosHeaders=ua,aa.formToJSON=N=>et(he.isHTMLForm(N)?new FormData(N):N),aa.getAdapter=Ql.getAdapter,aa.HttpStatusCode=Di,aa.default=aa,gh=aa,gh}var mb;function G1(){if(mb)return In;mb=1;var e=In&&In.__assign||function(){return e=Object.assign||function(o){for(var d,u=1,g=arguments.length;u<g;u++){d=arguments[u];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o},e.apply(this,arguments)};Object.defineProperty(In,"__esModule",{value:!0}),In.getRequestHeaders=In.getAxiosClient=void 0;var t=Yw();function n(o,d,u,g,h){var m=t.default.create({baseURL:o,headers:i(d,g,u,o,h),withCredentials:!0});return m.interceptors.request.use(function(x){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(x.headers["X-Frappe-CSRF-Token"]=window.csrf_token),d&&g&&u&&(x.headers.Authorization="".concat(g," ").concat(u())),x}),m}In.getAxiosClient=n;function i(o,d,u,g,h){o===void 0&&(o=!1);var m={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return o&&d&&u&&(m.Authorization="".concat(d," ").concat(u())),typeof window<"u"&&typeof document<"u"&&(window.location&&(g&&g!==window.location.origin||(m["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(m["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},m),h!=null?h:{})}return In.getRequestHeaders=i,In}var gb;function V1(){if(gb)return qr;gb=1;var e=qr&&qr.__assign||function(){return e=Object.assign||function(d){for(var u,g=1,h=arguments.length;g<h;g++){u=arguments[g];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(d[m]=u[m])}return d},e.apply(this,arguments)},t=qr&&qr.__awaiter||function(d,u,g,h){function m(x){return x instanceof g?x:new g(function(v){v(x)})}return new(g||(g=Promise))(function(x,v){function b(k){try{S(h.next(k))}catch(E){v(E)}}function p(k){try{S(h.throw(k))}catch(E){v(E)}}function S(k){k.done?x(k.value):m(k.value).then(b,p)}S((h=h.apply(d,u||[])).next())})},n=qr&&qr.__generator||function(d,u){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},h,m,x,v;return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(S){return function(k){return p([S,k])}}function p(S){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,S[0]&&(g=0)),g;)try{if(h=1,m&&(x=S[0]&2?m.return:S[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,S[1])).done)return x;switch(m=0,x&&(S=[S[0]&2,x.value]),S[0]){case 0:case 1:x=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,m=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!x||S[1]>x[0]&&S[1]<x[3])){g.label=S[1];break}if(S[0]===6&&g.label<x[1]){g.label=x[1],x=S;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(S);break}x[2]&&g.ops.pop(),g.trys.pop();continue}S=u.call(d,g)}catch(k){S=[6,k],m=0}finally{h=x=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(qr,"__esModule",{value:!0}),qr.FrappeFileUpload=void 0;var i=G1(),o=function(){function d(u,g,h,m,x,v){this.appURL=u,this.axios=g,this.useToken=h!=null?h:!1,this.token=m,this.tokenType=x,this.customHeaders=v}return d.prototype.uploadFile=function(u,g,h,m){return m===void 0&&(m="upload_file"),t(this,void 0,void 0,function(){var x,v,b,p,S,k,E,$;return n(this,function(I){return x=new FormData,u&&x.append("file",u,u.name),v=g.isPrivate,b=g.folder,p=g.file_url,S=g.doctype,k=g.docname,E=g.fieldname,$=g.otherData,v&&x.append("is_private","1"),b&&x.append("folder",b),p&&x.append("file_url",p),S&&k&&(x.append("doctype",S),x.append("docname",k),E&&x.append("fieldname",E)),$&&Object.keys($).forEach(function(D){var L=$[D];x.append(D,L)}),[2,this.axios.post("/api/method/".concat(m),x,{onUploadProgress:function(D){h&&h(D.loaded,D.total,D)},headers:e(e({},(0,i.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(D){var L,A;throw e(e({},D.response.data),{httpStatus:D.response.status,httpStatusText:D.response.statusText,message:(L=D.response.data.message)!==null&&L!==void 0?L:"There was an error while uploading the file.",exception:(A=D.response.data.exception)!==null&&A!==void 0?A:""})})]})})},d}();return qr.FrappeFileUpload=o,qr}var yb;function Qw(){if(yb)return Vo;yb=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.FrappeApp=void 0;var e=K1(),t=H1(),n=q1(),i=V1(),o=G1(),d=function(){function u(g,h,m,x){var v,b;this.url=g,this.name=m!=null?m:"FrappeApp",this.useToken=(v=h==null?void 0:h.useToken)!==null&&v!==void 0?v:!1,this.token=h==null?void 0:h.token,this.tokenType=(b=h==null?void 0:h.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=x,this.axios=(0,o.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return u.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},u.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},u.prototype.file=function(){return new i.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},u.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},u}();return Vo.FrappeApp=d,Vo}var Gr={},xb;function Xw(){if(xb)return Gr;xb=1;var e=Gr&&Gr.__assign||function(){return e=Object.assign||function(o){for(var d,u=1,g=arguments.length;u<g;u++){d=arguments[u];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o},e.apply(this,arguments)},t=Gr&&Gr.__awaiter||function(o,d,u,g){function h(m){return m instanceof u?m:new u(function(x){x(m)})}return new(u||(u=Promise))(function(m,x){function v(S){try{p(g.next(S))}catch(k){x(k)}}function b(S){try{p(g.throw(S))}catch(k){x(k)}}function p(S){S.done?m(S.value):h(S.value).then(v,b)}p((g=g.apply(o,d||[])).next())})},n=Gr&&Gr.__generator||function(o,d){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},g,h,m,x;return x={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function v(p){return function(S){return b([p,S])}}function b(p){if(g)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(u=0)),u;)try{if(g=1,h&&(m=p[0]&2?h.return:p[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,p[1])).done)return m;switch(h=0,m&&(p=[p[0]&2,m.value]),p[0]){case 0:case 1:m=p;break;case 4:return u.label++,{value:p[1],done:!1};case 5:u.label++,h=p[1],p=[0];continue;case 7:p=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(p[0]===6||p[0]===2)){u=0;continue}if(p[0]===3&&(!m||p[1]>m[0]&&p[1]<m[3])){u.label=p[1];break}if(p[0]===6&&u.label<m[1]){u.label=m[1],m=p;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(p);break}m[2]&&u.ops.pop(),u.trys.pop();continue}p=d.call(o,u)}catch(S){p=[6,S],h=0}finally{g=m=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.FrappeAuth=void 0;var i=function(){function o(d,u,g,h,m){this.appURL=d,this.axios=u,this.useToken=g!=null?g:!1,this.token=h,this.tokenType=m}return o.prototype.loginWithUsernamePassword=function(d){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/api/method/login",{usr:d.username,pwd:d.password,otp:d.otp,tmp_id:d.tmp_id,device:d.device}).then(function(g){return g.data}).catch(function(g){var h,m;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:(h=g.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(m=g.response.data.exception)!==null&&m!==void 0?m:""})})]})})},o.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(u){return u.data.message}).catch(function(u){var g;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while fetching the logged in user",exception:(g=u.response.data.exception)!==null&&g!==void 0?g:""})})]})})},o.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(d){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(u){var g,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(g=u.response.data.message)!==null&&g!==void 0?g:"There was an error while logging out",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},o.prototype.forgetPassword=function(d){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:d}).then(function(){}).catch(function(g){var h,m;throw e(e({},g.response.data),{httpStatus:g.response.status,httpStatusText:g.response.statusText,message:(h=g.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(m=g.response.data.exception)!==null&&m!==void 0?m:""})})]})})},o}();return Gr.FrappeAuth=i,Gr}var pb;function K1(){return pb||(pb=1,function(e){var t=gl&&gl.__createBinding||(Object.create?function(i,o,d,u){u===void 0&&(u=d);var g=Object.getOwnPropertyDescriptor(o,d);(!g||("get"in g?!o.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return o[d]}}),Object.defineProperty(i,u,g)}:function(i,o,d,u){u===void 0&&(u=d),i[u]=o[d]}),n=gl&&gl.__exportStar||function(i,o){for(var d in i)d!=="default"&&!Object.prototype.hasOwnProperty.call(o,d)&&t(o,i,d)};Object.defineProperty(e,"__esModule",{value:!0}),n(Qw(),e),n(Xw(),e),n(q1(),e),n(V1(),e),n(H1(),e)}(gl)),gl}var Zw=K1(),bb={exports:{}},yh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function Ww(){if(vb)return yh;vb=1;var e=Fe;function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,d=e.useLayoutEffect,u=e.useDebugValue;function g(v,b){var p=b(),S=i({inst:{value:p,getSnapshot:b}}),k=S[0].inst,E=S[1];return d(function(){k.value=p,k.getSnapshot=b,h(k)&&E({inst:k})},[v,p,b]),o(function(){return h(k)&&E({inst:k}),v(function(){h(k)&&E({inst:k})})},[v]),u(p),p}function h(v){var b=v.getSnapshot;v=v.value;try{var p=b();return!n(v,p)}catch(S){return!0}}function m(v,b){return b()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:g;return yh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,yh}var Nb;function Jw(){return Nb||(Nb=1,bb.exports=Ww()),bb.exports}Jw();const e6=0,t6=1,a6=2;var jb=Object.prototype.hasOwnProperty;function Uh(e,t){var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Uh(e[i],t[i]););return i===-1}if(!n||typeof e=="object"){i=0;for(n in e)if(jb.call(e,n)&&++i&&!jb.call(t,n)||!(n in t)||!Uh(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}const _s=new WeakMap,Ms=()=>{},yr=Ms(),gu=Object,Wr=e=>e===yr,Ts=e=>typeof e=="function",_i=(e,t)=>H(H({},e),t),r6=e=>Ts(e.then),xh={},qd={},Y1="undefined",Ru=typeof window!=Y1,Fh=typeof document!=Y1,n6=Ru&&"Deno"in window,s6=(e,t)=>{const n=_s.get(e);return[()=>!Wr(t)&&e.get(t)||xh,i=>{if(!Wr(t)){const o=e.get(t);t in qd||(qd[t]=o),n[5](t,_i(o,i),o||xh)}},n[6],()=>!Wr(t)&&t in qd?qd[t]:!Wr(t)&&e.get(t)||xh]};let Bh=!0;const i6=()=>Bh,[zh,Hh]=Ru&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ms,Ms],l6=()=>{const e=Fh&&document.visibilityState;return Wr(e)||e!=="hidden"},o6=e=>(Fh&&document.addEventListener("visibilitychange",e),zh("focus",e),()=>{Fh&&document.removeEventListener("visibilitychange",e),Hh("focus",e)}),c6=e=>{const t=()=>{Bh=!0,e()},n=()=>{Bh=!1};return zh("online",t),zh("offline",n),()=>{Hh("online",t),Hh("offline",n)}},d6={isOnline:i6,isVisible:l6},u6={initFocus:o6,initReconnect:c6};Fe.useId;const Im=!Ru||n6,f6=Im?j.useEffect:j.useLayoutEffect,ph=typeof navigator<"u"&&navigator.connection,wb=!Im&&ph&&(["slow-2g","2g"].includes(ph.effectiveType)||ph.saveData),Gd=new WeakMap,bh=(e,t)=>gu.prototype.toString.call(e)===`[object ${t}]`;let h6=0;const qh=e=>{const t=typeof e,n=bh(e,"Date"),i=bh(e,"RegExp"),o=bh(e,"Object");let d,u;if(gu(e)===e&&!n&&!i){if(d=Gd.get(e),d)return d;if(d=++h6+"~",Gd.set(e,d),Array.isArray(e)){for(d="@",u=0;u<e.length;u++)d+=qh(e[u])+",";Gd.set(e,d)}if(o){d="#";const g=gu.keys(e).sort();for(;!Wr(u=g.pop());)Wr(e[u])||(d+=u+":"+qh(e[u])+",");Gd.set(e,d)}}else d=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return d},Q1=e=>{if(Ts(e))try{e=e()}catch(n){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?qh(e):"",[e,t]};let m6=0;const kb=()=>++m6;function g6(...e){return xe(this,null,function*(){const[t,n,i,o]=e,d=_i({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let u=d.populateCache;const g=d.rollbackOnError;let h=d.optimisticData;const m=b=>typeof g=="function"?g(b):g!==!1,x=d.throwOnError;if(Ts(n)){const b=n,p=[],S=t.keys();for(const k of S)!/^\$(inf|sub)\$/.test(k)&&b(t.get(k)._k)&&p.push(k);return Promise.all(p.map(v))}return v(n);function v(b){return xe(this,null,function*(){const[p]=Q1(b);if(!p)return;const[S,k]=s6(t,p),[E,$,I,D]=_s.get(t),L=()=>{const Ee=E[p];return(Ts(d.revalidate)?d.revalidate(S().data,b):d.revalidate!==!1)&&(delete I[p],delete D[p],Ee&&Ee[0])?Ee[0](a6).then(()=>S().data):S().data};if(e.length<3)return L();let A=i,P;const W=kb();$[p]=[W,0];const Y=!Wr(h),G=S(),ae=G.data,ge=G._c,J=Wr(ge)?ae:ge;if(Y&&(h=Ts(h)?h(J,ae):h,k({data:h,_c:J})),Ts(A))try{A=A(J)}catch(Ee){P=Ee}if(A&&r6(A))if(A=yield A.catch(Ee=>{P=Ee}),W!==$[p][0]){if(P)throw P;return A}else P&&Y&&m(P)&&(u=!0,k({data:J,_c:yr}));if(u&&!P)if(Ts(u)){const Ee=u(A,J);k({data:Ee,error:yr,_c:yr})}else k({data:A,error:yr,_c:yr});if($[p][1]=kb(),Promise.resolve(L()).then(()=>{k({_c:yr})}),P){if(x)throw P;return}return A})}})}const $b=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},X1=(e,t)=>{if(!_s.has(e)){const n=_i(u6,t),i=Object.create(null),o=g6.bind(yr,e);let d=Ms;const u=Object.create(null),g=(x,v)=>{const b=u[x]||[];return u[x]=b,b.push(v),()=>b.splice(b.indexOf(v),1)},h=(x,v,b)=>{e.set(x,v);const p=u[x];if(p)for(const S of p)S(v,b)},m=()=>{if(!_s.has(e)&&(_s.set(e,[i,Object.create(null),Object.create(null),Object.create(null),o,h,g]),!Im)){const x=n.initFocus(setTimeout.bind(yr,$b.bind(yr,i,e6))),v=n.initReconnect(setTimeout.bind(yr,$b.bind(yr,i,t6)));d=()=>{x&&x(),v&&v(),_s.delete(e)}}};return m(),[e,o,m,d]}return[e,_s.get(e)[4]]},y6=(e,t,n,i,o)=>{const d=n.errorRetryCount,u=o.retryCount,g=~~((Math.random()+.5)*(1<<(u<8?u:8)))*n.errorRetryInterval;!Wr(d)&&u>d||setTimeout(i,g,o)},x6=Uh,[Um,p6]=X1(new Map),b6=_i({onLoadingSlow:Ms,onSuccess:Ms,onError:Ms,onErrorRetry:y6,onDiscarded:Ms,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:wb?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:wb?5e3:3e3,compare:x6,isPaused:()=>!1,cache:Um,mutate:p6,fallback:{}},d6),v6=(e,t)=>{const n=_i(e,t);if(t){const{use:i,fallback:o}=e,{use:d,fallback:u}=t;i&&d&&(n.use=i.concat(d)),o&&u&&(n.fallback=_i(o,u))}return n},Sb=j.createContext({}),N6=e=>{const{value:t}=e,n=j.useContext(Sb),i=Ts(t),o=j.useMemo(()=>i?t(n):t,[i,n,t]),d=j.useMemo(()=>i?o:v6(n,o),[i,n,o]),u=o&&o.provider,g=j.useRef(yr);u&&!g.current&&(g.current=X1(u(d.cache||Um),o));const h=g.current;return h&&(d.cache=h[0],d.mutate=h[1]),f6(()=>{if(h)return h[2]&&h[2](),h[3]},[]),j.createElement(Sb.Provider,_i(e,{value:d}))},j6="$inf$",Z1=Ru&&window.__SWR_DEVTOOLS_USE__,w6=Z1?window.__SWR_DEVTOOLS_USE__:[],k6=()=>{Z1&&(window.__SWR_DEVTOOLS_REACT__=Fe)},$6=e=>(t,n,i)=>e(t,n&&((...o)=>{const[d]=Q1(t),[,,,u]=_s.get(Um);if(d.startsWith(j6))return n(...o);const g=u[d];return Wr(g)?n(...o):(delete u[d],g)}),i);w6.concat($6);k6();Fe.use;const S6=gu.defineProperty(N6,"defaultValue",{value:b6});Promise.resolve();const pn=Object.create(null);pn.open="0";pn.close="1";pn.ping="2";pn.pong="3";pn.message="4";pn.upgrade="5";pn.noop="6";const ru=Object.create(null);Object.keys(pn).forEach(e=>{ru[pn[e]]=e});const Gh={type:"error",data:"parser error"},W1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",J1=typeof ArrayBuffer=="function",e2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Fm=({type:e,data:t},n,i)=>W1&&t instanceof Blob?n?i(t):Cb(t,i):J1&&(t instanceof ArrayBuffer||e2(t))?n?i(t):Cb(new Blob([t]),i):i(pn[e]+(t||"")),Cb=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function _b(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let vh;function C6(e,t){if(W1&&e.data instanceof Blob)return e.data.arrayBuffer().then(_b).then(t);if(J1&&(e.data instanceof ArrayBuffer||e2(e.data)))return t(_b(e.data));Fm(e,!1,n=>{vh||(vh=new TextEncoder),t(vh.encode(n))})}const Tb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Tb.length;e++)Xo[Tb.charCodeAt(e)]=e;const _6=e=>{let t=e.length*.75,n=e.length,i,o=0,d,u,g,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),x=new Uint8Array(m);for(i=0;i<n;i+=4)d=Xo[e.charCodeAt(i)],u=Xo[e.charCodeAt(i+1)],g=Xo[e.charCodeAt(i+2)],h=Xo[e.charCodeAt(i+3)],x[o++]=d<<2|u>>4,x[o++]=(u&15)<<4|g>>2,x[o++]=(g&3)<<6|h&63;return m},T6=typeof ArrayBuffer=="function",Bm=(e,t)=>{if(typeof e!="string")return{type:"message",data:t2(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:E6(e.substring(1),t)}:ru[n]?e.length>1?{type:ru[n],data:e.substring(1)}:{type:ru[n]}:Gh},E6=(e,t)=>{if(T6){const n=_6(e);return t2(n,t)}else return{base64:!0,data:e}},t2=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},a2="",O6=(e,t)=>{const n=e.length,i=new Array(n);let o=0;e.forEach((d,u)=>{Fm(d,!1,g=>{i[u]=g,++o===n&&t(i.join(a2))})})},A6=(e,t)=>{const n=e.split(a2),i=[];for(let o=0;o<n.length;o++){const d=Bm(n[o],t);if(i.push(d),d.type==="error")break}return i};function R6(){return new TransformStream({transform(e,t){C6(e,n=>{const i=n.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const d=new DataView(o.buffer);d.setUint8(0,126),d.setUint16(1,i)}else{o=new Uint8Array(9);const d=new DataView(o.buffer);d.setUint8(0,127),d.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Nh;function Vd(e){return e.reduce((t,n)=>t+n.length,0)}function Kd(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let o=0;o<t;o++)n[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function P6(e,t){Nh||(Nh=new TextDecoder);const n=[];let i=0,o=-1,d=!1;return new TransformStream({transform(u,g){for(n.push(u);;){if(i===0){if(Vd(n)<1)break;const h=Kd(n,1);d=(h[0]&128)===128,o=h[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(Vd(n)<2)break;const h=Kd(n,2);o=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(Vd(n)<8)break;const h=Kd(n,8),m=new DataView(h.buffer,h.byteOffset,h.length),x=m.getUint32(0);if(x>Math.pow(2,21)-1){g.enqueue(Gh);break}o=x*Math.pow(2,32)+m.getUint32(4),i=3}else{if(Vd(n)<o)break;const h=Kd(n,o);g.enqueue(Bm(d?h:Nh.decode(h),t)),i=0}if(o===0||o>e){g.enqueue(Gh);break}}}})}const r2=4;function ga(e){if(e)return M6(e)}function M6(e){for(var t in ga.prototype)e[t]=ga.prototype[t];return e}ga.prototype.on=ga.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ga.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ga.prototype.off=ga.prototype.removeListener=ga.prototype.removeAllListeners=ga.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ga.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,t)}return this};ga.prototype.emitReserved=ga.prototype.emit;ga.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ga.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Er=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function n2(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const D6=Er.setTimeout,L6=Er.clearTimeout;function Pu(e,t){t.useNativeTimers?(e.setTimeoutFn=D6.bind(Er),e.clearTimeoutFn=L6.bind(Er)):(e.setTimeoutFn=Er.setTimeout.bind(Er),e.clearTimeoutFn=Er.clearTimeout.bind(Er))}const I6=1.33;function U6(e){return typeof e=="string"?F6(e):Math.ceil((e.byteLength||e.size)*I6)}function F6(e){let t=0,n=0;for(let i=0,o=e.length;i<o;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function B6(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function z6(e){let t={},n=e.split("&");for(let i=0,o=n.length;i<o;i++){let d=n[i].split("=");t[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return t}class H6 extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class zm extends ga{constructor(t){super(),this.writable=!1,Pu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,i){return super.emitReserved("error",new H6(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Bm(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=B6(t);return n.length?"?"+n:""}}const s2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vh=64,q6={};let Eb=0,Yd=0,Ob;function Ab(e){let t="";do t=s2[e%Vh]+t,e=Math.floor(e/Vh);while(e>0);return t}function i2(){const e=Ab(+new Date);return e!==Ob?(Eb=0,Ob=e):e+"."+Ab(Eb++)}for(;Yd<Vh;Yd++)q6[s2[Yd]]=Yd;let l2=!1;try{l2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const G6=l2;function o2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||G6))return new XMLHttpRequest}catch(n){}if(!t)try{return new Er[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function V6(){}const K6=function(){return new o2({xdomain:!1}).responseType!=null}();class Y6 extends zm{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let o=location.port;o||(o=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=K6&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};A6(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,O6(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=i2()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new wl(this.uri(),t)}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(o,d)=>{this.onError("xhr post error",o,d)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}let wl=class nu extends ga{constructor(t,n){super(),Pu(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=n2(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new o2(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this.opts.extraHeaders[o])}}catch(o){}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{i.setRequestHeader("Accept","*/*")}catch(o){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=nu.requestsCount++,nu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=V6,t)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete nu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};wl.requestsCount=0;wl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rb);else if(typeof addEventListener=="function"){const e="onpagehide"in Er?"pagehide":"unload";addEventListener(e,Rb,!1)}}function Rb(){for(let e in wl.requests)wl.requests.hasOwnProperty(e)&&wl.requests[e].abort()}const Hm=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Qd=Er.WebSocket||Er.MozWebSocket,Pb=!0,Q6="arraybuffer",Mb=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class X6 extends zm{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,i=Mb?{}:n2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Pb&&!Mb?n?new Qd(t,n):new Qd(t):new Qd(t,n,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1;Fm(i,this.supportsBinary,d=>{try{Pb&&this.ws.send(d)}catch(u){}o&&Hm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=i2()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Qd}}class Z6 extends zm{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=P6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),o=R6();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const d=()=>{i.read().then(({done:g,value:h})=>{g||(this.onPacket(h),d())}).catch(g=>{})};d();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this.writer.write(u).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1;this.writer.write(i).then(()=>{o&&Hm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const W6={websocket:X6,webtransport:Z6,polling:Y6},J6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ek=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Kh(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let o=J6.exec(e||""),d={},u=14;for(;u--;)d[ek[u]]=o[u]||"";return n!=-1&&i!=-1&&(d.source=t,d.host=d.host.substring(1,d.host.length-1).replace(/;/g,":"),d.authority=d.authority.replace("[","").replace("]","").replace(/;/g,":"),d.ipv6uri=!0),d.pathNames=tk(d,d.path),d.queryKey=ak(d,d.query),d}function tk(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function ak(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,d){o&&(n[o]=d)}),n}let c2=class bl extends ga{constructor(t,n={}){super(),this.binaryType=Q6,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Kh(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Kh(n.host).host),Pu(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=z6(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=r2,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new W6[t](i)}open(){let t;if(this.opts.rememberUpgrade&&bl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(n){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),i=!1;bl.priorWebsocketSuccess=!1;const o=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",v=>{if(!i)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;bl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(x(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function d(){i||(i=!0,x(),n.close(),n=null)}const u=v=>{const b=new Error("probe error: "+v);b.transport=n.name,d(),this.emitReserved("upgradeError",b)};function g(){u("transport closed")}function h(){u("socket closed")}function m(v){n&&v.name!==n.name&&d()}const x=()=>{n.removeListener("open",o),n.removeListener("error",u),n.removeListener("close",g),this.off("close",h),this.off("upgrading",m)};n.once("open",o),n.once("error",u),n.once("close",g),this.once("close",h),this.once("upgrading",m),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",bl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=U6(i)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,i){return this.sendPacket("message",t,n,i),this}send(t,n,i){return this.sendPacket("message",t,n,i),this}sendPacket(t,n,i,o){if(typeof n=="function"&&(o=n,n=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const d={type:t,data:n,options:i};this.emitReserved("packetCreate",d),this.writeBuffer.push(d),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){bl.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let i=0;const o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}};c2.protocol=r2;function rk(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=Kh(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+t,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}const nk=typeof ArrayBuffer=="function",sk=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,d2=Object.prototype.toString,ik=typeof Blob=="function"||typeof Blob<"u"&&d2.call(Blob)==="[object BlobConstructor]",lk=typeof File=="function"||typeof File<"u"&&d2.call(File)==="[object FileConstructor]";function qm(e){return nk&&(e instanceof ArrayBuffer||sk(e))||ik&&e instanceof Blob||lk&&e instanceof File}function su(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(su(e[n]))return!0;return!1}if(qm(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return su(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&su(e[n]))return!0;return!1}function ok(e){const t=[],n=e.data,i=e;return i.data=Yh(n,t),i.attachments=t.length,{packet:i,buffers:t}}function Yh(e,t){if(!e)return e;if(qm(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=Yh(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Yh(e[i],t));return n}return e}function ck(e,t){return e.data=Qh(e.data,t),delete e.attachments,e}function Qh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Qh(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Qh(e[n],t));return e}const dk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],uk=5;var Ot;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ot||(Ot={}));class fk{constructor(t){this.replacer=t}encode(t){return(t.type===Ot.EVENT||t.type===Ot.ACK)&&su(t)?this.encodeAsBinary({type:t.type===Ot.EVENT?Ot.BINARY_EVENT:Ot.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ot.BINARY_EVENT||t.type===Ot.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=ok(t),i=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(i),o}}function Db(e){return Object.prototype.toString.call(e)==="[object Object]"}class Gm extends ga{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===Ot.BINARY_EVENT;i||n.type===Ot.BINARY_ACK?(n.type=i?Ot.EVENT:Ot.ACK,this.reconstructor=new hk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(qm(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(Ot[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ot.BINARY_EVENT||i.type===Ot.BINARY_ACK){const d=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const u=t.substring(d,n);if(u!=Number(u)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(t.charAt(n+1)==="/"){const d=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(d,n)}else i.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const d=n+1;for(;++n;){const u=t.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===t.length)break}i.id=Number(t.substring(d,n+1))}if(t.charAt(++n)){const d=this.tryParse(t.substr(n));if(Gm.isPayloadValid(i.type,d))i.data=d;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Ot.CONNECT:return Db(n);case Ot.DISCONNECT:return n===void 0;case Ot.CONNECT_ERROR:return typeof n=="string"||Db(n);case Ot.EVENT:case Ot.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&dk.indexOf(n[0])===-1);case Ot.ACK:case Ot.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hk{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=ck(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gm,Encoder:fk,get PacketType(){return Ot},protocol:uk},Symbol.toStringTag,{value:"Module"}));function Zr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const gk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class u2 extends ga{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Zr(t,"open",this.onopen.bind(this)),Zr(t,"packet",this.onpacket.bind(this)),Zr(t,"error",this.onerror.bind(this)),Zr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(gk.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Ot.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,u=n.pop();this._registerAckCallback(d,u),i.id=d}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const d=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},o);this.acks[t]=(...u)=>{this.io.clearTimeoutFn(d),n.apply(this,[null,...u])}}emitWithAck(t,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((o,d)=>{n.push((u,g)=>i?u?d(u):o(g):o(u)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...d)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...d)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ot.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ot.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ot.EVENT:case Ot.BINARY_EVENT:this.onevent(t);break;case Ot.ACK:case Ot.BINARY_ACK:this.onack(t);break;case Ot.DISCONNECT:this.ondisconnect();break;case Ot.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...o){i||(i=!0,n.packet({type:Ot.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ot.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function Bl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Bl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Bl.prototype.reset=function(){this.attempts=0};Bl.prototype.setMin=function(e){this.ms=e};Bl.prototype.setMax=function(e){this.max=e};Bl.prototype.setJitter=function(e){this.jitter=e};class Xh extends ga{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Pu(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Bl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||mk;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new c2(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=Zr(n,"open",function(){i.onopen(),t&&t()}),d=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),t?t(g):this.maybeReconnectOnOpen()},u=Zr(n,"error",d);if(this._timeout!==!1){const g=this._timeout,h=this.setTimeoutFn(()=>{o(),d(new Error("timeout")),n.close()},g);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(o),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Zr(t,"ping",this.onping.bind(this)),Zr(t,"data",this.ondata.bind(this)),Zr(t,"error",this.onerror.bind(this)),Zr(t,"close",this.onclose.bind(this)),Zr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Hm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new u2(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ko={};function iu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=rk(e,t.path||"/socket.io"),i=n.source,o=n.id,d=n.path,u=Ko[o]&&d in Ko[o].nsps,g=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let h;return g?h=new Xh(i,t):(Ko[o]||(Ko[o]=new Xh(i,t)),h=Ko[o]),n.query&&!t.query&&(t.query=n.queryKey),h.socket(n.path,t)}Object.assign(iu,{Manager:Xh,Socket:u2,io:iu,connect:iu});class yk{constructor(t,n,i,o){yi(this,"socket_port"),yi(this,"host"),yi(this,"port"),yi(this,"protocol"),yi(this,"url"),yi(this,"site_name"),yi(this,"socket");var d,u,g,h;if(this.socket_port=i!=null?i:"9000",this.host=(d=window.location)==null?void 0:d.hostname,this.port=(u=window.location)!=null&&u.port?`:${this.socket_port}`:"",this.protocol=((g=window.location)==null?void 0:g.protocol)==="https:"?"https":"http",t){let m=new URL(t);m.port="",i?(m.port=i,this.url=m.toString()):this.url=m.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=iu(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:o&&o.useToken===!0?{Authorization:`${o.type} ${(h=o.token)==null?void 0:h.call(o)}`}:{}})}}const xk=j.createContext(null),pk=({url:e="",tokenParams:t,socketPort:n,swrConfig:i,siteName:o,enableSocket:d=!0,children:u,customHeaders:g})=>{const h=j.useMemo(()=>{const m=new Zw.FrappeApp(e,t,void 0,g);return{url:e,tokenParams:t,app:m,auth:m.auth(),db:m.db(),call:m.call(),file:m.file(),socket:d?new yk(e,o,n,t).socket:void 0,enableSocket:d,socketPort:n}},[e,t,n,d,g]);return r.jsx(xk.Provider,{value:h,children:r.jsx(S6,{value:i,children:u})})};function bk(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[o,d]=j.useState(null);return j.useEffect(()=>{xe(null,null,function*(){try{i(!0);const g=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_profiles_for_user",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield g.json();if(g.ok&&h.message)t(h.message);else throw new Error(h._server_messages||"Failed to fetch POS Profiles")}catch(g){console.error("Error loading POS Profiles:",g),d(g.message||"Unknown error")}finally{i(!1)}})},[]),{profiles:e,loading:n,error:o}}function Mr(){const[e,t]=j.useState(null),[n,i]=j.useState(!0),[o,d]=j.useState(null);return j.useEffect(()=>{xe(null,null,function*(){try{i(!0);const g=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield g.json();if(g.ok&&h.message)t(h.message);else throw new Error(h._server_messages||"Failed to fetch POS details")}catch(g){console.error("Error loading POS details:",g),d(g.message||"Unknown error")}finally{i(!1)}})},[]),{posDetails:e,loading:n,error:o}}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Lb=e=>{const t=Nk(e);return t.charAt(0).toUpperCase()+t.slice(1)},f2=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),jk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=j.forwardRef((m,h)=>{var x=m,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:u}=x,g=Dn(x,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return j.createElement("svg",H(H(je(H({ref:h},wk),{width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:f2("lucide",o)}),!d&&!jk(g)&&{"aria-hidden":"true"}),g),[...u.map(([v,b])=>j.createElement(v,b)),...Array.isArray(d)?d:[d]])});/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const n=j.forwardRef((u,d)=>{var g=u,{className:i}=g,o=Dn(g,["className"]);return j.createElement(kk,H({ref:d,iconNode:t,className:f2(`lucide-${vk(Lb(e))}`,`lucide-${e}`,i)},o))});return n.displayName=Lb(e),n};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ib=Qe("activity",$k);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oi=Qe("arrow-left",Sk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],h2=Qe("banknote",Ck);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Zo=Qe("building",_k);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ub=Qe("calculator",Tk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vm=Qe("calendar",Ek);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],m2=Qe("camera",Ok);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vl=Qe("chart-column",Ak);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Fb=Qe("chart-pie",Rk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lu=Qe("check",Pk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dk=Qe("chevron-right",Mk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Km=Qe("circle-alert",Lk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pl=Qe("circle-check-big",Ik);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fk=Qe("circle-check",Uk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xi=Qe("circle-x",Bk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ml=Qe("clock",zk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ar=Qe("credit-card",Hk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ec=Qe("dollar-sign",qk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yu=Qe("download",Gk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Is=Qe("eye",Vk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],g2=Qe("file-minus",Kk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Qk=Qe("file-plus",Yk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dl=Qe("file-text",Xk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zh=Qe("funnel",Zk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],y2=Qe("gift",Wk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Bb=Qe("globe",Jk);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ec=Qe("grid-3x3",e5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ym=Qe("list",t5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ws=Qe("loader-circle",a5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Mu=Qe("log-out",r5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],Wh=Qe("mail-plus",n5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qn=Qe("mail",s5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Du=Qe("map-pin",i5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Jh=Qe("message-circle-plus",l5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],em=Qe("message-square-plus",o5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qm=Qe("minus",c5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],tm=Qe("monitor-x",d5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Lu=Qe("moon",u5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xu=Qe("package",f5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],m5=Qe("palette",h5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zb=Qe("pencil",g5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],x5=Qe("percent",y5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pu=Qe("phone",p5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tc=Qe("plus",b5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ac=Qe("printer",v5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],x2=Qe("receipt",N5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bu=Qe("refresh-cw",j5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Us=Qe("rotate-ccw",w5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$5=Qe("save",k5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],p2=Qe("scan",S5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ka=Qe("search",C5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hb=Qe("send",_5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Iu=Qe("settings",T5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],O5=Qe("shield",E5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],rc=Qe("shopping-cart",A5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],P5=Qe("smartphone",R5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fs=Qe("square-pen",M5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uu=Qe("sun",D5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],I5=Qe("tag",L5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qb=Qe("trending-down",U5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ss=Qe("trending-up",F5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nc=Qe("triangle-alert",B5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Gb=Qe("user-plus",z5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Or=Qe("user",H5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ds=Qe("users",q5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],V5=Qe("wallet",G5);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xr=Qe("x",K5);function yn(){const e=ya(),t=Pr(),n=[{icon:Ec,path:"/pos",label:"POS"},{icon:x2,path:"/invoice",label:"InvoiceHistory"},{icon:Ds,path:"/customers",label:"Customers"},{icon:vl,path:"/dashboard",label:"Dashboard"},{icon:tm,path:"/closing_shift",label:"Closing Shift"}],i=o=>o==="/pos"?t.pathname==="/"||t.pathname==="/pos":t.pathname.startsWith(o);return r.jsxs("div",{className:"fixed h-screen w-20 top-0 left-0 bg-white dark:bg-gray-800 shadow-lg flex flex-col border-r border-gray-200 dark:border-gray-700 z-50",children:[r.jsx("div",{className:"h-20 flex items-center justify-center border-gray-100 dark:border-gray-700 cursor-pointer active:scale-90 transition-transform duration-150",onClick:()=>e("/"),children:r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-12 h-12 rounded-full object-cover"})}),r.jsx("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:n.map((o,d)=>r.jsx("button",{onClick:()=>e(o.path),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-colors cursor-pointer active:scale-90 transition-transform duration-150 ${i(o.path)?"bg-beveren-100 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-beveren-600 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:o.label,children:r.jsx(o.icon,{size:20})},d))})]})}const b2=j.createContext(void 0);function Y5({children:e}){const[t,n]=j.useState("light"),[i,o]=j.useState(!1);j.useEffect(()=>{o(!0)},[]),j.useEffect(()=>{if(!i)return;const u=localStorage.getItem("theme");u?n(u):window.matchMedia("(prefers-color-scheme: dark)").matches&&n("dark")},[i]),j.useEffect(()=>{i&&(localStorage.setItem("theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[t,i]);const d=()=>{n(t==="light"?"dark":"light")};return r.jsx(b2.Provider,{value:{theme:t,setTheme:n,toggleTheme:d},children:e})}function Fu(){const e=j.useContext(b2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const Vb={Coffee:"☕",Tea:"🫖",Mocktail:"🍹",Rice:"🍚",Pasta:"🍝",Burger:"🍔",Bakery:"🥐",Fruits:"🍎",Vegetables:"🥦",Dairy:"🥛",Meat:"🥩",Seafood:"🦞",Snacks:"🍿",Dessert:"🍰","All Items":"🛍️"};function Q5(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[o,d]=j.useState(null),[u,g]=j.useState(0),h=()=>xe(null,null,function*(){i(!0);try{const x=yield(yield fetch("/api/method/klik_pos.api.item.get_item_groups_for_pos")).json();if(x!=null&&x.message&&Array.isArray(x.message.groups)&&typeof x.message.total_items=="number")t(x.message.groups),g(x.message.total_items);else throw new Error("Invalid response format")}catch(m){console.error("Error fetching item groups:",m),d(m.message||"Unknown error occurred")}finally{i(!1)}});return j.useEffect(()=>{h()},[]),{itemGroups:e,isLoading:n,total_item_count:u,error:o,refetch:h,count:e.length}}function v2({selectedCategory:e,onCategoryChange:t,isMobile:n=!1}){const{isRTL:i}=tn(),{itemGroups:o,isLoading:d,error:u,total_item_count:g}=Q5();if(d)return r.jsx("div",{children:"Loading categories..."});if(u)return console.error("❌ Error fetching item groups:",u),r.jsxs("div",{className:"text-red-600",children:[r.jsx("p",{children:"Error loading categories:"}),r.jsx("pre",{className:"text-xs bg-red-100 p-2 rounded",children:u})]});if(!o||o.length===0)return r.jsx("div",{children:"No item groups found."});const h=[{id:"all",name:"All Items",icon:Vb["All Items"],count:g},...o.map(m=>{var x,v;return{id:m.id,name:m.name,icon:(x=Vb[m.name])!=null?x:"📦",count:(v=m.count)!=null?v:1}})];return r.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2 scrollbar-hide",children:h.map(m=>r.jsxs("button",{onClick:()=>t(m.id),className:`flex items-center space-x-2 px-3 py-2 rounded-xl whitespace-nowrap transition-all duration-200 flex-shrink-0 min-w-fit ${e===m.id?"bg-beveren-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[r.jsx("span",{className:`${n?"text-sm":"text-base"}`,children:m.icon}),r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:`font-medium ${n?"text-xs":"text-sm"}`,children:m.name}),r.jsxs("span",{className:"text-xs opacity-75",children:[m.count," Item",m.count!==1?"s":""]})]})]},m.id))})}function X5({item:e,onAddToCart:t,isMobile:n=!1,scannerOnly:i=!1}){const{t:o}=tn(),d=e.available<=0,u=d||i,g=`${e.currency_symbol}${e.price.toFixed(2)}`;return r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 ${u?"opacity-70 cursor-not-allowed":"hover:shadow-lg hover:scale-105 cursor-pointer active:scale-95"} ${n?"touch-manipulation":""}`,onClick:()=>!u&&t(e),children:[r.jsxs("div",{className:"relative",children:[e.image?r.jsx("img",{src:e.image,alt:e.name,className:`w-full object-cover ${n?"h-24":"h-32"}`,crossOrigin:"anonymous"}):r.jsx("div",{className:`w-full ${n?"h-24":"h-32"} bg-gray-100 dark:bg-gray-700 flex items-center justify-center`,children:r.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No Image"})}),e.discount&&r.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-1.5 py-0.5 rounded-md text-xs font-bold",children:["-",e.discount,"%"]}),!d&&r.jsx("div",{className:"absolute top-2 right-2 bg-orange-500 text-white px-1.5 py-0.5 rounded-md text-xs font-medium",children:e.available}),d&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"Out of Stock"})}),i&&!d&&r.jsx("div",{className:"absolute inset-0  flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-md shadow-sm border border-blue-200 dark:border-blue-700",children:"Scan Only"})})]}),r.jsxs("div",{className:`${n?"p-2 h-12":"p-3 h-16"} flex flex-col justify-between`,children:[r.jsx("div",{children:r.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white truncate ${n?"text-xs":"text-sm"}`,children:e.name})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize text-xs",children:e.category}),r.jsx("span",{className:`font-bold text-beveren-600 dark:text-beveren-400 ${n?"text-xs":"text-sm"}`,children:g})]})]})]})}function Z5({items:e,onAddToCart:t,isMobile:n=!1,scannerOnly:i=!1}){const{t:o}=tn();return e.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):r.jsx("div",{className:`${n?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-4 overflow-hidden",children:[r.jsxs("div",{className:`${n?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600`,children:[r.jsx("div",{className:`${n?"col-span-3":"col-span-4"}`,children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Product"})}),r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Rate"})}),r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Qty"})}),!n&&r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"UOM"})}),r.jsx("div",{className:`${n?"col-span-1":"col-span-2"} text-center`,children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})})]}),r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:e.map(d=>{const u=d.available<=0,g=u||i,h=`${d.currency_symbol}${d.price.toFixed(2)}`;return r.jsxs("div",{className:`${n?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${g?"opacity-60":"cursor-pointer"}`,onClick:()=>!g&&t(d),children:[r.jsx("div",{className:`${n?"col-span-3":"col-span-4"} flex items-start`,children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${n?"text-xs leading-tight":"text-sm"} ${n?"break-words":"truncate"}`,children:d.name}),r.jsx("p",{className:`text-gray-500 dark:text-gray-400 ${n?"text-xs leading-tight":"text-sm"} ${n?"break-words":"truncate"}`,children:d.category})]})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:`font-semibold text-beveren-600 dark:text-beveren-400 ${n?"text-xs":"text-sm"}`,children:h})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:`font-medium ${n?"text-xs":"text-sm"} ${u?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:u?"0":d.available})}),!n&&r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.uom||"Nos"})}),r.jsx("div",{className:`${n?"col-span-1":"col-span-2"} flex items-center justify-center`,children:g?r.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:u?"0":"S"}):r.jsx("button",{onClick:m=>{m.stopPropagation(),t(d)},className:`bg-beveren-600 hover:bg-beveren-700 text-white font-medium rounded-md transition-colors ${n?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:n?"+":"Add"})})]},d.id)})})]})})}function N2({items:e,onAddToCart:t,isMobile:n=!1,scannerOnly:i=!1,viewMode:o="grid"}){const{t:d}=tn();return o==="list"?r.jsx(Z5,{items:e,onAddToCart:t,isMobile:n,scannerOnly:i}):e.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):r.jsx("div",{className:`${n?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:r.jsx("div",{className:`grid gap-4 ${n?"grid-cols-2 sm:grid-cols-3":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}`,children:e.map(u=>r.jsx(X5,{item:u,onAddToCart:t,isMobile:n,scannerOnly:i},u.id))})})}function W5({searchQuery:e,onSearchChange:t,onScanBarcode:n,onSearchKeyPress:i,isMobile:o=!1}){const[d,u]=j.useState(!1),g=()=>o?"Search menu...":"Search for products, categories, or ingredients...";return r.jsx("div",{className:`relative ${o?"w-full":"w-full max-w-3xl"}`,children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),onKeyPress:i,placeholder:g(),className:`flex-1 px-4 py-3 pl-12 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 ${d?"shadow-lg":"shadow-sm"}`,onFocus:()=>u(!0),onBlur:()=>u(!1)}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n&&r.jsx("button",{onClick:n,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:r.jsx(p2,{size:20})}),e&&!n&&r.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function J5({items:e,selectedCategory:t,onCategoryChange:n,searchQuery:i,onSearchChange:o,onSearchKeyPress:d,onAddToCart:u,onScanBarcode:g,scannerOnly:h=!1}){const{t:m}=tn(),{user:x,logout:v}=zs(),{theme:b,toggleTheme:p}=Fu(),{posDetails:S,loading:k}=Mr(),[E,$]=j.useState(!1),[I,D]=j.useState("grid"),L=j.useRef(null);j.useEffect(()=>{if(!k&&S){const ae=S.custom_default_view;ae==="List View"?D("list"):ae==="Grid View"&&D("grid")}},[S,k]),j.useEffect(()=>{function ae(ge){L.current&&!L.current.contains(ge.target)&&$(!1)}return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[L]);const A=()=>xe(null,null,function*(){try{yield v(),window.location.href="/klik_pos/login"}catch(ae){console.error("Logout error:",ae),window.location.href="/klik_pos/login"}}),P=ae=>ae.split(" ").map(ge=>ge.charAt(0).toUpperCase()).join("").substring(0,2),W=(x==null?void 0:x.full_name)||(x==null?void 0:x.name)||"Guest User",Y=(x==null?void 0:x.role)||"User",G=P(W);return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[r.jsx(W5,{searchQuery:i,onSearchChange:o,onSearchKeyPress:d,onScanBarcode:g}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>D("grid"),className:`p-2 rounded-md transition-colors ${I==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:r.jsx(Ec,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>D("list"),className:`p-2 rounded-md transition-colors ${I==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:r.jsx(Ym,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 ml-6 relative",ref:L,children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(x==null?void 0:x.email)||"No email"})]}),r.jsx("button",{onClick:()=>$(!E),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:r.jsx("span",{className:"text-white text-sm font-medium pointer-events-none",children:G})}),E&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-base",children:G})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:W}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(qn,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:(x==null?void 0:x.email)||"No email"})]}),r.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:Y})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs(Tc,{to:"/settings",onClick:()=>$(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Iu,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>{p(),$(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[b==="dark"?r.jsx(Uu,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}):r.jsx(Lu,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:b==="dark"?"Light Mode":"Dark Mode"})]}),r.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),r.jsxs("button",{onClick:()=>{A(),$(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[r.jsx(Mu,{size:16,className:"mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsx("div",{className:"px-6",children:r.jsx(v2,{selectedCategory:t,onCategoryChange:n})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:k?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):r.jsx(N2,{items:e,onAddToCart:u,scannerOnly:h,viewMode:I})})]})}function j2(e){const[t,n]=j.useState([]),[i,o]=j.useState(!1),[d,u]=j.useState(null);return j.useEffect(()=>{if(!e)return;xe(null,null,function*(){o(!0);try{const m=yield(yield fetch("/api/method/klik_pos.api.payment.get_payment_modes")).json();if(!m.message.success)throw new Error(m.message.error||"Failed to fetch payment modes");n(m.message.data||[]),u(null)}catch(h){u(h.message),n([])}finally{o(!1)}})},[e]),{modes:t,isLoading:i,error:d}}function w2(){const[e,t]=j.useState([]),[n,i]=j.useState(!1),[o,d]=j.useState(null);return j.useEffect(()=>{xe(null,null,function*(){i(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.payment.get_opening_entry_payment_summary")).json();if(!h.message.data)throw new Error(h.message.error||"Failed to fetch payment modes");t(h.message.data||[]),d(null)}catch(g){d(g.message),t([])}finally{i(!1)}})},[]),{modes:e,isLoading:n,error:o}}function e9(){const[e,t]=j.useState([]),[n,i]=j.useState(null),[o,d]=j.useState(!1),[u,g]=j.useState(null);return j.useEffect(()=>{xe(null,null,function*(){var m,x;d(!0);try{const b=yield(yield fetch("/api/method/klik_pos.api.tax.get_sales_tax_categories")).json();if(!((m=b.message)!=null&&m.success))throw new Error(((x=b.message)==null?void 0:x.error)||"Failed to fetch tax categories");t(b.message.data||[]),i(b.message.default||null)}catch(v){g(v.message)}finally{d(!1)}})},[]),{salesTaxCharges:e,defaultTax:n,isLoading:o,error:u}}function k2(e){return xe(this,null,function*(){const t=window.csrf_token,n=yield fetch("/api/method/klik_pos.api.sales_invoice.create_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({data:e}),credentials:"include"}),i=yield n.json();if(console.log("Invoice create result:",i),!n.ok||!i.message||i.message.success===!1){const o=i._server_messages?JSON.parse(i._server_messages)[0]:"Failed to create invoice";throw new Error(o)}return i.message})}function t9(e){return xe(this,null,function*(){const t=window.csrf_token,n=performance.now();console.log("Starting invoice creation...");const i=yield fetch("/api/method/klik_pos.api.sales_invoice.create_and_submit_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({data:e}),credentials:"include"}),o=yield i.json(),u=performance.now()-n;if(console.log(`Invoice creation completed in ${u.toFixed(2)}ms`),console.log("Invoice create result:",o),!i.ok||!o.message||o.message.success===!1){const g=o._server_messages?JSON.parse(o._server_messages)[0]:"Failed to create invoice";throw new Error(g)}return o.message})}function Bu(e){return xe(this,null,function*(){var o;const t=window.csrf_token,n=yield fetch("/api/method/klik_pos.api.sales_invoice.return_sales_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_name:e}),credentials:"include"}),i=yield n.json();if(console.log("Return Invoice result:",i),!n.ok||!i.message||i.message.success===!1){const d=i._server_messages?JSON.parse(i._server_messages)[0]:((o=i.message)==null?void 0:o.message)||"Failed to return invoice";throw new Error(d)}return i.message})}function a9(e){return xe(this,null,function*(){try{console.log("Fetching invoice details for:",e);const t=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),n=yield t.json();if(console.log("Invoice details response:",n),!t.ok)throw new Error(n.message||"Failed to get invoice details");return{success:!0,data:n.message}}catch(t){return console.error("Error getting invoice details:",t),{success:!1,error:t.message||"Failed to get invoice details"}}})}function $2(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=$2(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Si(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=$2(e))&&(i&&(i+=" "),i+=t);return i}function r9(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}r9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Oc=e=>typeof e=="number"&&!isNaN(e),Ti=e=>typeof e=="string",Gn=e=>typeof e=="function",n9=e=>Ti(e)||Oc(e),am=e=>Ti(e)||Gn(e)?e:null,s9=(e,t)=>e===!1||Oc(e)&&e>0?e:t,rm=e=>j.isValidElement(e)||Ti(e)||Gn(e)||Oc(e);function i9(e,t,n=300){let{scrollHeight:i,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function l9({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:d,position:u,preventExitTransition:g,done:h,nodeRef:m,isIn:x,playToast:v}){let b=n?`${e}--${u}`:e,p=n?`${t}--${u}`:t,S=j.useRef(0);return j.useLayoutEffect(()=>{let k=m.current,E=b.split(" "),$=I=>{I.target===m.current&&(v(),k.removeEventListener("animationend",$),k.removeEventListener("animationcancel",$),S.current===0&&I.type!=="animationcancel"&&k.classList.remove(...E))};k.classList.add(...E),k.addEventListener("animationend",$),k.addEventListener("animationcancel",$)},[]),j.useEffect(()=>{let k=m.current,E=()=>{k.removeEventListener("animationend",E),i?i9(k,h,o):h()};x||(g?E():(S.current=1,k.className+=` ${p}`,k.addEventListener("animationend",E)))},[x]),Fe.createElement(Fe.Fragment,null,d)}}function Kb(e,t){return{content:S2(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function S2(e,t,n=!1){return j.isValidElement(e)&&!Ti(e.type)?j.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Gn(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function o9({closeToast:e,theme:t,ariaLabel:n="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":n},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function c9({delay:e,isRunning:t,closeToast:n,type:i="default",hide:o,className:d,controlledProgress:u,progress:g,rtl:h,isIn:m,theme:x}){let v=o||u&&g===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(b.transform=`scaleX(${g})`);let p=Si("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),S=Gn(d)?d({rtl:h,type:i,defaultClassName:p}):Si(p,d),k={[u&&g>=1?"onTransitionEnd":"onAnimationEnd"]:u&&g<1?null:()=>{m&&n()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),Fe.createElement("div",H({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:S,style:b},k)))}var d9=1,C2=()=>`${d9++}`;function u9(e,t,n){let i=1,o=0,d=[],u=[],g=t,h=new Map,m=new Set,x=I=>(m.add(I),()=>m.delete(I)),v=()=>{u=Array.from(h.values()),m.forEach(I=>I())},b=({containerId:I,toastId:D,updateId:L})=>{let A=I?I!==e:e!==1,P=h.has(D)&&L==null;return A||P},p=(I,D)=>{h.forEach(L=>{var A;(D==null||D===L.props.toastId)&&((A=L.toggle)==null||A.call(L,I))})},S=I=>{var D,L;(L=(D=I.props)==null?void 0:D.onClose)==null||L.call(D,I.removalReason),I.isActive=!1},k=I=>{if(I==null)h.forEach(S);else{let D=h.get(I);D&&S(D)}v()},E=()=>{o-=d.length,d=[]},$=I=>{var D,L;let{toastId:A,updateId:P}=I.props,W=P==null;I.staleId&&h.delete(I.staleId),I.isActive=!0,h.set(A,I),v(),n(Kb(I,W?"added":"updated")),W&&((L=(D=I.props).onOpen)==null||L.call(D))};return{id:e,props:g,observe:x,toggle:p,removeToast:k,toasts:h,clearQueue:E,buildToast:(I,D)=>{if(b(D))return;let{toastId:L,updateId:A,data:P,staleId:W,delay:Y}=D,G=A==null;G&&o++;let ae=je(H(je(H({},g),{style:g.toastStyle,key:i++}),Object.fromEntries(Object.entries(D).filter(([J,Ee])=>Ee!=null))),{toastId:L,updateId:A,data:P,isIn:!1,className:am(D.className||g.toastClassName),progressClassName:am(D.progressClassName||g.progressClassName),autoClose:D.isLoading?!1:s9(D.autoClose,g.autoClose),closeToast(J){h.get(L).removalReason=J,k(L)},deleteToast(){let J=h.get(L);if(J!=null){if(n(Kb(J,"removed")),h.delete(L),o--,o<0&&(o=0),d.length>0){$(d.shift());return}v()}}});ae.closeButton=g.closeButton,D.closeButton===!1||rm(D.closeButton)?ae.closeButton=D.closeButton:D.closeButton===!0&&(ae.closeButton=rm(g.closeButton)?g.closeButton:!0);let ge={content:I,props:ae,staleId:W};g.limit&&g.limit>0&&o>g.limit&&G?d.push(ge):Oc(Y)?setTimeout(()=>{$(ge)},Y):$(ge)},setProps(I){g=I},setToggle:(I,D)=>{let L=h.get(I);L&&(L.toggle=D)},isToastActive:I=>{var D;return(D=h.get(I))==null?void 0:D.isActive},getSnapshot:()=>u}}var Va=new Map,sc=[],nm=new Set,f9=e=>nm.forEach(t=>t(e)),_2=()=>Va.size>0;function h9(){sc.forEach(e=>E2(e.content,e.options)),sc=[]}var m9=(e,{containerId:t})=>{var n;return(n=Va.get(t||1))==null?void 0:n.toasts.get(e)};function T2(e,t){var n;if(t)return!!((n=Va.get(t))!=null&&n.isToastActive(e));let i=!1;return Va.forEach(o=>{o.isToastActive(e)&&(i=!0)}),i}function g9(e){if(!_2()){sc=sc.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||n9(e))Va.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Va.get(e.containerId);t?t.removeToast(e.id):Va.forEach(n=>{n.removeToast(e.id)})}}var y9=(e={})=>{Va.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function E2(e,t){rm(e)&&(_2()||sc.push({content:e,options:t}),Va.forEach(n=>{n.buildToast(e,t)}))}function x9(e){var t;(t=Va.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function O2(e,t){Va.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function p9(e){let t=e.containerId||1;return{subscribe(n){let i=u9(t,e,f9);Va.set(t,i);let o=i.observe(n);return h9(),()=>{o(),Va.delete(t)}},setProps(n){var i;(i=Va.get(t))==null||i.setProps(n)},getSnapshot(){var n;return(n=Va.get(t))==null?void 0:n.getSnapshot()}}}function b9(e){return nm.add(e),()=>{nm.delete(e)}}function v9(e){return e&&(Ti(e.toastId)||Oc(e.toastId))?e.toastId:C2()}function Ac(e,t){return E2(e,t),t.toastId}function zu(e,t){return je(H({},t),{type:t&&t.type||e,toastId:v9(t)})}function Hu(e){return(t,n)=>Ac(t,zu(e,n))}function Be(e,t){return Ac(e,zu("default",t))}Be.loading=(e,t)=>Ac(e,zu("default",H({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)));function N9(e,{pending:t,error:n,success:i},o){let d;t&&(d=Ti(t)?Be.loading(t,o):Be.loading(t.render,H(H({},o),t)));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(m,x,v)=>{if(x==null){Be.dismiss(d);return}let b=je(H(H({type:m},u),o),{data:v}),p=Ti(x)?{render:x}:x;return d?Be.update(d,H(H({},b),p)):Be(p.render,H(H({},b),p)),v},h=Gn(e)?e():e;return h.then(m=>g("success",i,m)).catch(m=>g("error",n,m)),h}Be.promise=N9;Be.success=Hu("success");Be.info=Hu("info");Be.error=Hu("error");Be.warning=Hu("warning");Be.warn=Be.warning;Be.dark=(e,t)=>Ac(e,zu("default",H({theme:"dark"},t)));function j9(e){g9(e)}Be.dismiss=j9;Be.clearWaitingQueue=y9;Be.isActive=T2;Be.update=(e,t={})=>{let n=m9(e,t);if(n){let{props:i,content:o}=n,d=je(H(H({delay:100},i),t),{toastId:t.toastId||e,updateId:C2()});d.toastId!==e&&(d.staleId=e);let u=d.render||o;delete d.render,Ac(u,d)}};Be.done=e=>{Be.update(e,{progress:1})};Be.onChange=b9;Be.play=e=>O2(!0,e);Be.pause=e=>O2(!1,e);function w9(e){var t;let{subscribe:n,getSnapshot:i,setProps:o}=j.useRef(p9(e)).current;o(e);let d=(t=j.useSyncExternalStore(n,i,i))==null?void 0:t.slice();function u(g){if(!d)return[];let h=new Map;return e.newestOnTop&&d.reverse(),d.forEach(m=>{let{position:x}=m.props;h.has(x)||h.set(x,[]),h.get(x).push(m)}),Array.from(h,m=>g(m[0],m[1]))}return{getToastToRender:u,isToastActive:T2,count:d==null?void 0:d.length}}function k9(e){let[t,n]=j.useState(!1),[i,o]=j.useState(!1),d=j.useRef(null),u=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:h,closeToast:m,onClick:x,closeOnClick:v}=e;x9({id:e.toastId,containerId:e.containerId,fn:n}),j.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{p()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||$(),window.addEventListener("focus",E),window.addEventListener("blur",$)}function p(){window.removeEventListener("focus",E),window.removeEventListener("blur",$)}function S(W){if(e.draggable===!0||e.draggable===W.pointerType){I();let Y=d.current;u.canCloseOnClick=!0,u.canDrag=!0,Y.style.transition="none",e.draggableDirection==="x"?(u.start=W.clientX,u.removalDistance=Y.offsetWidth*(e.draggablePercent/100)):(u.start=W.clientY,u.removalDistance=Y.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function k(W){let{top:Y,bottom:G,left:ae,right:ge}=d.current.getBoundingClientRect();W.nativeEvent.type!=="touchend"&&e.pauseOnHover&&W.clientX>=ae&&W.clientX<=ge&&W.clientY>=Y&&W.clientY<=G?$():E()}function E(){n(!0)}function $(){n(!1)}function I(){u.didMove=!1,document.addEventListener("pointermove",L),document.addEventListener("pointerup",A)}function D(){document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",A)}function L(W){let Y=d.current;if(u.canDrag&&Y){u.didMove=!0,t&&$(),e.draggableDirection==="x"?u.delta=W.clientX-u.start:u.delta=W.clientY-u.start,u.start!==W.clientX&&(u.canCloseOnClick=!1);let G=e.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;Y.style.transform=`translate3d(${G},0)`,Y.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function A(){D();let W=d.current;if(u.canDrag&&u.didMove&&W){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}W.style.transition="transform 0.2s, opacity 0.2s",W.style.removeProperty("transform"),W.style.removeProperty("opacity")}}let P={onPointerDown:S,onPointerUp:k};return g&&h&&(P.onMouseEnter=$,e.stacked||(P.onMouseLeave=E)),v&&(P.onClick=W=>{x&&x(W),u.canCloseOnClick&&m(!0)}),{playToast:E,pauseToast:$,isRunning:t,preventExitTransition:i,toastRef:d,eventHandlers:P}}var $9=typeof window!="undefined"?j.useLayoutEffect:j.useEffect,qu=o=>{var d=o,{theme:e,type:t,isLoading:n}=d,i=Dn(d,["theme","type","isLoading"]);return Fe.createElement("svg",H({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},i))};function S9(e){return Fe.createElement(qu,H({},e),Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function C9(e){return Fe.createElement(qu,H({},e),Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _9(e){return Fe.createElement(qu,H({},e),Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function T9(e){return Fe.createElement(qu,H({},e),Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function E9(){return Fe.createElement("div",{className:"Toastify__spinner"})}var sm={info:C9,warning:S9,success:_9,error:T9,spinner:E9},O9=e=>e in sm;function A9({theme:e,type:t,isLoading:n,icon:i}){let o=null,d={theme:e,type:t};return i===!1||(Gn(i)?o=i(je(H({},d),{isLoading:n})):j.isValidElement(i)?o=j.cloneElement(i,d):n?o=sm.spinner():O9(t)&&(o=sm[t](d))),o}var R9=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o,playToast:d}=k9(e),{closeButton:u,children:g,autoClose:h,onClick:m,type:x,hideProgressBar:v,closeToast:b,transition:p,position:S,className:k,style:E,progressClassName:$,updateId:I,role:D,progress:L,rtl:A,toastId:P,deleteToast:W,isIn:Y,isLoading:G,closeOnClick:ae,theme:ge,ariaLabel:J}=e,Ee=Si("Toastify__toast",`Toastify__toast-theme--${ge}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":ae}),K=Gn(k)?k({rtl:A,position:S,type:x,defaultClassName:Ee}):Si(Ee,k),z=A9(e),U=!!L||!h,_={closeToast:b,type:x,theme:ge},re=null;return u===!1||(Gn(u)?re=u(_):j.isValidElement(u)?re=j.cloneElement(u,_):re=o9(_)),Fe.createElement(p,{isIn:Y,done:W,position:S,preventExitTransition:n,nodeRef:i,playToast:d},Fe.createElement("div",H(je(H({id:P,tabIndex:0,onClick:m,"data-in":Y,className:K},o),{style:E,ref:i}),Y&&{role:D,"aria-label":J}),z!=null&&Fe.createElement("div",{className:Si("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},z),S2(g,e,!t),re,!e.customProgressBar&&Fe.createElement(c9,je(H({},I&&!U?{key:`p-${I}`}:{}),{rtl:A,theme:ge,delay:h,isRunning:t,isIn:Y,closeToast:b,hide:v,type:x,className:$,controlledProgress:U,progress:L||0}))))},P9=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),M9=l9(P9("bounce",!0)),D9={position:"top-right",transition:M9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function L9(e){let t=H(H({},D9),e),n=e.stacked,[i,o]=j.useState(!0),d=j.useRef(null),{getToastToRender:u,isToastActive:g,count:h}=w9(t),{className:m,style:x,rtl:v,containerId:b,hotKeys:p}=t;function S(E){let $=Si("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":v});return Gn(m)?m({position:E,rtl:v,defaultClassName:$}):Si($,am(m))}function k(){n&&(o(!0),Be.play())}return $9(()=>{var E;if(n){let $=d.current.querySelectorAll('[data-in="true"]'),I=12,D=(E=t.position)==null?void 0:E.includes("top"),L=0,A=0;Array.from($).reverse().forEach((P,W)=>{let Y=P;Y.classList.add("Toastify__toast--stacked"),W>0&&(Y.dataset.collapsed=`${i}`),Y.dataset.pos||(Y.dataset.pos=D?"top":"bot");let G=L*(i?.2:1)+(i?0:I*W);Y.style.setProperty("--y",`${D?G:G*-1}px`),Y.style.setProperty("--g",`${I}`),Y.style.setProperty("--s",`${1-(i?A:0)}`),L+=Y.offsetHeight,A+=.025})}},[i,h,n]),j.useEffect(()=>{function E($){var I;let D=d.current;p($)&&((I=D.querySelector('[tabIndex="0"]'))==null||I.focus(),o(!1),Be.pause()),$.key==="Escape"&&(document.activeElement===D||D!=null&&D.contains(document.activeElement))&&(o(!0),Be.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[p]),Fe.createElement("section",{ref:d,className:"Toastify",id:b,onMouseEnter:()=>{n&&(o(!1),Be.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},u((E,$)=>{let I=$.length?H({},x):je(H({},x),{pointerEvents:"none"});return Fe.createElement("div",{tabIndex:-1,className:S(E),"data-stacked":n,style:I,key:`c-${E}`},$.map(({content:D,props:L})=>Fe.createElement(R9,je(H({},L),{stacked:n,collapseAll:k,isIn:g(L.toastId,L.containerId),key:`t-${L.key}`}),D)))}))}function I9(e,t){return xe(this,null,function*(){return(yield(yield fetch(`/api/method/frappe.www.printview.get_html_and_style?doc=${e.doctype}&name=${e.name}&print_format=${t}&no_letterhead=0`,{method:"GET",headers:{Accept:"application/json"}})).json()).message})}function U9({invoice:e}){var x;const[t,n]=j.useState(""),[i,o]=j.useState(""),[d,u]=j.useState(!0),{posDetails:g,loading:h}=Mr(),m=(x=g==null?void 0:g.print_format)!=null?x:"Sales Invoice";return j.useEffect(()=>{xe(null,null,function*(){if(!(h||!g)){u(!0);try{console.log("Fetching print format for invoice:",m);const{html:b,style:p}=yield I9(e,m);n(b),o(p)}catch(b){console.error("Error loading print format:",b)}finally{u(!1)}}})},[e,g,h,m]),d?r.jsx("p",{children:"Loading Print Preview..."}):r.jsxs("div",{className:"print-preview-container p-4 bg-white shadow overflow-auto max-h-[90vh]",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:i}}),r.jsx("div",{className:"print-preview-content",dangerouslySetInnerHTML:{__html:t}})]})}const ou=({invoice:e})=>r.jsx(U9,{invoice:e}),cu=e=>{if(console.log("Print function called with:",e),!e){Be.error("No invoice data available for printing");return}const t=document.querySelector(".print-preview-container");if(!t){Be.error("Print preview not found");return}console.log("Print element found:",t);const n=e.name||e.id||"Invoice",i=document.title;document.title=`${n}`,console.log("Setting title to:",n);const o=document.body.style.cssText,d=t.style.cssText,u=document.createElement("div");u.innerHTML=t.innerHTML,u.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    padding: 20px;
    overflow: auto;
  `,document.body.style.cssText=`
    overflow: hidden;
  `;const g=Array.from(document.body.children);g.forEach(v=>{v!==u&&(v.style.display="none")}),document.body.appendChild(u);const h=document.createElement("style");h.textContent=`
    @media print {
      body * {
        visibility: hidden;
      }
      .print-overlay, .print-overlay * {
        visibility: visible;
      }
      .print-overlay {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
  `,u.className="print-overlay",document.head.appendChild(h),console.log("Print overlay created and added");const m=()=>{console.log("Restoring page..."),u.parentNode&&u.parentNode.removeChild(u),h.parentNode&&h.parentNode.removeChild(h),document.body.style.cssText=o,t.style.cssText=d,g.forEach(v=>{v.style.display=""}),document.title=i,console.log("Page restored successfully")},x=()=>{console.log("After print event fired"),m(),window.removeEventListener("afterprint",x)};window.addEventListener("afterprint",x),console.log("Triggering print..."),window.print(),setTimeout(()=>{console.log("Fallback timeout triggered"),m(),window.removeEventListener("afterprint",x)},2e3)};function F9(e){return xe(this,null,function*(){const t=window.csrf_token;console.log("data",e);const n=yield fetch("/api/method/klik_pos.api.email.send_invoice_email",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),i=yield n.json();if(console.log("Send email result:",i),!n.ok||!i.message||i.message.status!=="success"){const o=i._server_messages?JSON.parse(i._server_messages)[0]:"Failed to send email";throw new Error(o)}return i.message})}function B9(e){return xe(this,null,function*(){const t=window.csrf_token;console.log("Simple WhatsApp data",e);const n=yield fetch("/api/method/klik_pos.api.whatsapp.deliver_invoice_via_whatsapp",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),i=yield n.json();if(console.log("Send Simple WhatsApp result:",i),!n.ok||!i.message||i.message.status!=="success"){const o=i._server_messages?JSON.parse(i._server_messages)[0]:"Failed to send WhatsApp message";throw new Error(o)}return i.message})}function z9(){return xe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.whatsapp.get_whatsapp_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),n=yield t.json();if(!t.ok||!n.message)throw new Error("Failed to fetch WhatsApp templates");return n.message}catch(t){throw console.error("Error fetching WhatsApp templates:",t),t}})}function H9(){return xe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),n=yield t.json();if(!t.ok||!n.message)throw new Error("Failed to fetch POS profile details");return n.message.custom_whatsap_template||null}catch(t){return console.error("Error fetching default WhatsApp template:",t),null}})}function q9(e,t={}){let n=e;const i={"{{customer_name}}":t.customer_name||"there","{{invoice_total}}":t.invoice_total||"0","{{invoice_number}}":t.invoice_number||"","{{company_name}}":t.company_name||"KLiK PoS","{{date}}":t.date||new Date().toLocaleDateString()};return Object.entries(i).forEach(([o,d])=>{n=n.replace(new RegExp(o,"g"),String(d))}),n}function Yb(){return`Hi {{customer_name}}!

Thank you for shopping with us at {{company_name}}!

Invoice Total: *{{invoice_total}}*

We appreciate your business!`}function G9(){return xe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.email.get_email_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),n=yield t.json();if(!t.ok||!n.message)throw new Error("Failed to fetch Email templates");return n.message}catch(t){throw console.error("Error fetching Email templates:",t),t}})}function V9(){return xe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),n=yield t.json();if(!t.ok||!n.message)throw new Error("Failed to fetch POS profile details");return n.message.custom_email_template||null}catch(t){return console.error("Error fetching default Email template:",t),null}})}function K9(e,t={}){let n=e;const i={"{{customer_name}}":t.customer_name||"Customer","{{customer}}":t.customer_name||"Customer","{{first_name}}":t.first_name||"","{{last_name}}":t.last_name||"","{{address}}":t.address||"","{{customer_address}}":t.customer_address||"","{{delivery_note}}":t.delivery_note||t.invoice_number||"","{{grand_total}}":t.invoice_total||"0","{{departure_time}}":t.departure_time||"","{{estimated_arrival}}":t.estimated_arrival||"","{{driver_name}}":t.driver_name||"","{{cell_number}}":t.cell_number||"","{{vehicle}}":t.vehicle||"","{{invoice_total}}":t.invoice_total||"0","{{invoice_number}}":t.invoice_number||"","{{company_name}}":t.company_name||"KLiK PoS","{{date}}":t.date||new Date().toLocaleDateString()};return Object.entries(i).forEach(([o,d])=>{n=n.replace(new RegExp(o,"g"),String(d))}),n}function Qb(){return`Dear {{customer_name}},

Thank you for your purchase. Here are your invoice details:

Invoice Total: {{invoice_total}}

Thank you for your business!

Best regards,
{{company_name}} Team`}const Y9=e=>{const t=e.toLowerCase();return t.includes("cash")?{icon:r.jsx(h2,{size:24}),color:"bg-beveren-600"}:t.includes("card")||t.includes("credit")||t.includes("debit")||t.includes("bank")?{icon:r.jsx(ar,{size:24}),color:"bg-beveren-600"}:t.includes("phone")||t.includes("mpesa")?{icon:r.jsx(P5,{size:24}),color:"bg-beveren--600"}:t.includes("gift")?{icon:r.jsx(y2,{size:24}),color:"bg-beveren--600"}:t.includes("cheque")||t.includes("check")?{icon:r.jsx(lu,{size:24}),color:"bg-beveren--600"}:{icon:r.jsx(ar,{size:24}),color:"bg-beveren--600"}};function Xm({isOpen:e,onClose:t,cartItems:n,appliedCoupons:i,selectedCustomer:o,onCompletePayment:d,onHoldOrder:u,isMobile:g=!1,isFullPage:h=!1,initialSharingMode:m=null,externalInvoiceData:x=null}){var et,it,mt,st;const[v,b]=j.useState(""),[p,S]=j.useState({}),[k,E]=j.useState(0),[$,I]=j.useState(!1),[D,L]=j.useState(!1),[A,P]=j.useState(!1),[W,Y]=j.useState(null),[G,ae]=j.useState(null),[ge,J]=j.useState(k.toFixed(2)),[Ee,K]=j.useState(!1),[z,U]=j.useState(m),[_,re]=j.useState({email:(o==null?void 0:o.email)||"",phone:(o==null?void 0:o.phone)||"",name:(o==null?void 0:o.name)||""}),[pe,R]=j.useState(!1),[ie,ve]=j.useState(!1),[V,_e]=j.useState([]),[Ye,Oe]=j.useState(null),[We,ye]=j.useState(""),[$e,Ae]=j.useState(!1),[Ze,xt]=j.useState(!1),[Q,De]=j.useState([]),[Rt,ia]=j.useState(null),[Pt,Kt]=j.useState(""),[Aa,Ra]=j.useState(!1),[Na,he]=j.useState(!1),{modes:X,isLoading:ze,error:ht}=j2("Test POS Profile"),{salesTaxCharges:ft,defaultTax:He}=e9(),{posDetails:yt,loading:jt}=Mr(),be=ya(),ke=(yt==null?void 0:yt.business_type)==="B2B",bt=(yt==null?void 0:yt.business_type)==="B2C",Zt=yt==null?void 0:yt.print_receipt_on_order_complete,ea=yt==null?void 0:yt.currency_symbol;j.useEffect(()=>{var ee,Ne,Ie;if(x&&z){console.log("External invoice data:",x),console.log("Customer address doc:",x.customer_address_doc);const qe=((ee=x.customer_address_doc)==null?void 0:ee.email_id)||x.customer_email||x.email_id||"",lt=x.mobile_no||((Ne=x.customer_address_doc)==null?void 0:Ne.mobile_no)||((Ie=x.customer_address_doc)==null?void 0:Ie.phone)||x.customer_phone||"",tt=x.customer_name||x.customer||"";(!qe||!lt)&&x.customer?ta(x.customer,qe,lt,tt):(re({email:qe,phone:lt,name:tt}),console.log("Updated sharing data:",{email:qe,phone:lt,name:tt}))}},[x,z]);const ta=(ee,Ne,Ie,qe)=>xe(null,null,function*(){try{console.log("Fetching customer details for:",ee);const tt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${ee}`)).json();if(tt.message){const Ge=tt.message;console.log("Customer details fetched:",Ge),re({email:Ne||Ge.email_id||"",phone:Ie||Ge.mobile_no||"",name:qe||Ge.customer_name||Ge.name||""}),console.log("Updated sharing data with customer details:",{email:Ne||Ge.email_id||"",phone:Ie||Ge.mobile_no||"",name:qe||Ge.customer_name||Ge.name||""})}else re({email:Ne,phone:Ie,name:qe})}catch(lt){console.error("Error fetching customer details:",lt),re({email:Ne,phone:Ie,name:qe})}});j.useEffect(()=>{xe(null,null,function*(){if(z==="whatsapp"&&V.length===0){Ae(!0);try{const[Ne,Ie]=yield Promise.all([z9(),H9()]);if(_e(Ne),Ie){const qe=Ne.find(lt=>lt.name===Ie);qe&&(Oe(qe),ye(qe.template))}else ye(Yb())}catch(Ne){console.error("Error loading WhatsApp templates:",Ne),ye(Yb())}finally{Ae(!1)}}})},[z,V.length]),j.useEffect(()=>{xe(null,null,function*(){if(z==="email"&&Q.length===0){Ra(!0);try{const[Ne,Ie]=yield Promise.all([G9(),V9()]);if(De(Ne),Ie){const qe=Ne.find(lt=>lt.name===Ie);qe&&(ia(qe),Kt(qe.response_html||qe.response))}else Kt(Qb())}catch(Ne){console.error("Error loading Email templates:",Ne),Kt(Qb())}finally{Ra(!1)}}})},[z,Q.length]);const za=()=>{const ee={customer_name:_.name||"there",invoice_total:le(Le.grandTotal),invoice_number:(G==null?void 0:G.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return q9(We,ee)},Pa=()=>{var Ne,Ie;const ee={customer_name:_.name||"Customer",customer:_.name||"Customer",first_name:((Ne=_.name)==null?void 0:Ne.split(" ")[0])||"",last_name:((Ie=_.name)==null?void 0:Ie.split(" ").slice(1).join(" "))||"",address:(o==null?void 0:o.address)||"",customer_address:(o==null?void 0:o.address)||"",delivery_note:(G==null?void 0:G.name)||"",grand_total:le(Le.grandTotal),departure_time:new Date().toLocaleTimeString(),estimated_arrival:new Date(Date.now()+18e5).toLocaleTimeString(),driver_name:"Delivery Driver",cell_number:"+1234567890",vehicle:"Delivery Vehicle",invoice_total:le(Le.grandTotal),invoice_number:(G==null?void 0:G.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return K9(Pt,ee)},Yn=ee=>{const Ne=V.find(Ie=>Ie.name===ee);Ne&&(Oe(Ne),ye(Ne.template))},Dr=ee=>{const Ne=Q.find(Ie=>Ie.name===ee);Ne&&(ia(Ne),Kt(Ne.response_html||Ne.response))},Le=j.useMemo(()=>{const ee=n.reduce((Mt,Qt)=>Mt+Qt.price*Qt.quantity,0),Ne=i.reduce((Mt,Qt)=>Mt+Qt.value,0),Ie=Math.max(0,ee-Ne),qe=ft.find(Mt=>Mt.id===v),lt=(qe==null?void 0:qe.rate)||0,tt=(qe==null?void 0:qe.is_inclusive)||!1;let Ge,Et;return tt?(Ge=Ie*lt/(100+lt),Ge=parseFloat(Ge.toFixed(2)),Et=Ie):(Ge=Ie*lt/100,Ge=parseFloat(Ge.toFixed(2)),Et=Ie+Ge),{subtotal:ee,couponDiscount:Ne,taxableAmount:Ie,taxAmount:Ge,grandTotal:Et+k,selectedTax:qe,isInclusive:tt}},[n,i,v,ft,k]),ja=Object.values(p).reduce((ee,Ne)=>ee+(Ne||0),0),_a=Math.max(0,Le.grandTotal-ja);if(j.useEffect(()=>{e&&He&&!v&&b(He)},[e,He,v]),j.useEffect(()=>{if(e&&X.length>0){const ee=X.find(Ne=>Ne.default===1);if(ee&&Object.keys(p).length===0){const Ne=parseFloat(Le.grandTotal.toFixed(2));S({[ee.mode_of_payment]:Ne})}}},[e,X,Le.grandTotal,p,ke,bt]),j.useEffect(()=>{if(X.length>0&&Object.keys(p).length>0){const ee=X.find(Ne=>Ne.default===1);if(ee){const Ne=Object.entries(p).filter(([qe])=>qe!==ee.mode_of_payment).reduce((qe,[,lt])=>qe+(lt||0),0),Ie=bt?Math.max(0,Le.grandTotal-Ne):0;S(qe=>je(H({},qe),{[ee.mode_of_payment]:Ie}))}}},[Le.grandTotal,X,bt,ke]),j.useEffect(()=>{A&&G&&Zt&&(K(!0),setTimeout(()=>{cu(G),K(!1)},500))},[A,G,Zt]),!e)return null;if(ze||jt)return r.jsx("div",{className:"p-6",children:"Loading..."});if(ht)return r.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",ht]});const bn=X.map(ee=>{const{icon:Ne,color:Ie}=Y9(ee.type||"Default");return{id:ee.mode_of_payment,name:ee.mode_of_payment,icon:Ne,color:Ie,enabled:!0,amount:p[ee.mode_of_payment]||0}}),rr=(ee,Ne)=>{if(A||$)return;const Ie=parseFloat(Ne)||0;S(qe=>je(H({},qe),{[ee]:Ie}))},Qa=()=>{if(A||$)return;const ee=Le.isInclusive?Le.taxableAmount:Le.taxableAmount+Le.taxAmount,Ne=Math.floor(ee),Ie=Ne-ee;if(E(Ie),J(Ie.toFixed(2)),bt){const qe=X.find(lt=>lt.default===1);qe&&S(lt=>je(H({},lt),{[qe.mode_of_payment]:Ne}))}},Lr=ee=>{A||$||b(ee)},an=ee=>{J(ee);const Ne=parseFloat(ee);if(!isNaN(Ne)&&(E(Ne),bt||ke)){const Ie=X.find(qe=>qe.default===1);if(Ie){const qe=(Le.isInclusive?Le.taxableAmount:Le.taxableAmount+Le.taxAmount)+Ne;S(lt=>je(H({},lt),{[Ie.mode_of_payment]:parseFloat(qe.toFixed(2))}))}}},B=()=>xe(null,null,function*(){if(!o||!o.name){Be.error("Kindly select a customer");return}if(bt){if(Object.entries(p).filter(([,Ie])=>Ie>0).map(([Ie,qe])=>({method:Ie,amount:qe})).length===0){Be.error("Please enter payment amounts");return}if(_a>0){Be.error("Please complete the payment before proceeding");return}}I(!0);const ee={items:n,customer:o,paymentMethods:Object.entries(p).filter(([,Ne])=>Ne>0).map(([Ne,Ie])=>({method:Ne,amount:Ie})),subtotal:Le.subtotal,SalesTaxCharges:v,taxAmount:Le.taxAmount,taxType:Le.isInclusive?"inclusive":"exclusive",couponDiscount:Le.couponDiscount,roundOffAmount:k,grandTotal:Le.grandTotal,amountPaid:ja,outstandingAmount:_a,appliedCoupons:i,businessType:yt==null?void 0:yt.business_type};try{const Ne=yield t9(ee);console.log("Data",ee),P(!0),Y(Ne),ae(Ne.invoice);const Ie=ke?"Invoice submitted successfully!":"Payment completed successfully!";Be.success(Ie),console.log("Invoice created successfully - modal stays open for preview")}catch(Ne){const Ie=ke?"Failed to submit invoice":"Failed to process payment";Be.error(Ie)}finally{I(!1)}}),ne=ee=>{be(`/invoice/${ee.name}`)},ue=()=>xe(null,null,function*(){if(!o){Be.error("Kindly select a customer");return}L(!0);const ee={items:n,customer:o,subtotal:Le.subtotal,SalesTaxCharges:v,taxAmount:Le.taxAmount,taxType:Le.isInclusive?"inclusive":"exclusive",couponDiscount:Le.couponDiscount,roundOffAmount:k,grandTotal:Le.grandTotal,appliedCoupons:i,status:"held",businessType:yt==null?void 0:yt.business_type};try{yield k2(ee),Be.success("Order held successfully!"),u(ee)}catch(Ne){Be.error("Failed to hold order")}finally{L(!1)}}),le=ee=>`${ea} ${ee.toLocaleString(void 0,{minimumFractionDigits:2})}`,Re=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ke=()=>$?ke?"Submitting Invoice...":"Processing Payment...":ke?ja===0?"Submit Invoice (Pay Later)":_a>0?"Submit Invoice (Partial Payment)":"Submit Invoice (Paid)":"Complete Payment",rt=()=>A||$?!0:bt?_a>0:!1;return g?r.jsx("div",{className:h?"h-full bg-white dark:bg-gray-900 overflow-y-auto custom-scrollbar":"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"min-h-screen",children:[!h&&r.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:r.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A?"Invoice Complete":ke?"Submit Invoice":"Payment"})}),r.jsx("div",{className:"p-4 space-y-6",children:A?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"text-green-600 dark:text-green-400 text-center",children:[r.jsx("p",{className:"font-semibold",children:ke?"Invoice Submitted Successfully!":"Payment Completed Successfully!"}),r.jsxs("p",{className:"text-sm opacity-75",children:["Total: ",le(Le.grandTotal)]})]})}),r.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[Ee&&r.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx(ws,{size:16,className:"animate-spin"}),r.jsx("span",{className:"text-sm",children:"Printing..."})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Print",onClick:()=>{cu(G)},children:[r.jsx(ac,{size:18}),r.jsx("span",{children:"Print"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Email",onClick:()=>{const ee=encodeURIComponent("Your Invoice"),Ne=encodeURIComponent(`Dear ${o==null?void 0:o.name},

Here is your invoice total: ${le(Le.grandTotal)}

Thank you.`);window.open(`mailto:${o==null?void 0:o.email}?subject=${ee}&body=${Ne}`)},children:[r.jsx(Wh,{size:18}),r.jsx("span",{children:"Email"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/20 text-beveren-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/30 transition-colors",title:"WhatsApp",onClick:()=>{const ee=encodeURIComponent(`Here is your invoice total: ${le(Le.grandTotal)}`);window.open(`https://wa.me/${o==null?void 0:o.phone}?text=${ee}`,"_blank")},children:[r.jsx(Jh,{size:18}),r.jsx("span",{children:"WhatsApp"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-teal-900/20 text-teal-500 dark:text-teal-400 rounded-lg hover:bg-teal-200 dark:hover:bg-purple-900/30 transition-colors",title:"Text Message",onClick:()=>window.open(`tel:${o==null?void 0:o.phone}`),children:[r.jsx(em,{size:18}),r.jsx("span",{children:"SMS"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/20 text-p-600 dark:text-purple-400 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/30 transition-colors",title:"View Full Invoice",onClick:()=>ne(G),children:[r.jsx(Is,{size:18}),r.jsx("span",{children:"View"})]})]}),G&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center",children:"Invoice Preview:"}),r.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-3 bg-gray-50 dark:bg-gray-700 max-h-64 overflow-y-auto",children:r.jsx(ou,{invoice:G})})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{onClick:()=>{t()},className:"w-full py-3 bg-beveren-600 text-white rounded-lg font-medium hover:bg-beveren-700 transition-colors",children:"Start New Order"})})]}):r.jsxs(r.Fragment,{children:[(bt||ke)&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),r.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:bn.map(ee=>r.jsxs("div",{className:`min-w-[280px] max-w-[280px] flex-shrink-0 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${A||$?"bg-gray-50 dark:bg-gray-800":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${ee.color} text-white flex items-center justify-center`,children:r.jsx("div",{className:"scale-75",children:ee.icon})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:ee.name})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),r.jsx("input",{type:"number",value:ee.amount.toFixed(2)||"",onChange:Ne=>rr(ee.id,Ne.target.value),placeholder:"0.00",disabled:A||$,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${A||$?"cursor-not-allowed opacity-50":""}`})]})]},ee.id))})]}),r.jsx("div",{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"number",value:ge,onChange:ee=>an(ee.target.value),disabled:A||$,className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${A||$?"cursor-not-allowed opacity-50":""}`}),r.jsx("button",{onClick:Qa,disabled:A||$,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${A||$?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:r.jsx(Ub,{size:16})})]})]})})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:le(Le.subtotal)})]}),Le.couponDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-",le(Le.couponDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(et=Le.selectedTax)==null?void 0:et.rate,"%"," ",Le.isInclusive?"Incl.":"Excl.",")"]}),r.jsx("span",{className:`font-medium ${Le.isInclusive?"text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${le(Le.taxAmount)})`:le(Le.taxAmount)})]}),k!==0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:le(k)})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Grand Total"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:le(Le.grandTotal)})]})}),(bt||ke)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),r.jsx("span",{className:"font-medium text-beveren-600 dark:text-blue-400",children:le(ja)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding"}),r.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:le(_a)})]}),ja>Le.grandTotal&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),r.jsx("span",{className:"font-medium text-beveren-600 dark:text-beveren-400",children:le(ja-Le.grandTotal)})]})]}),ke&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),r.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:le(Le.grandTotal)})]})]}),r.jsxs("div",{className:"space-y-3 pt-6",children:[r.jsx("button",{onClick:B,disabled:rt(),className:`w-full py-4 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${ke?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:$?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:20,className:"animate-spin"}),r.jsx("span",{children:Ke()})]}):r.jsx("span",{children:Ke()})}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.jsx("button",{onClick:ue,disabled:A||$||D,className:`py-3 px-4 border border-orange-500 text-orange-600 dark:text-orange-400 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center justify-center space-x-2 ${A||$||D?"cursor-not-allowed opacity-50":""}`,children:D?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:16,className:"animate-spin"}),r.jsx("span",{children:"Holding..."})]}):r.jsx("span",{children:"Hold Order"})})})]})]})})]})}):r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ke?"Invoice Submission":"Payment Processing"}),A?r.jsxs("div",{className:"flex items-center space-x-3",children:[Ee&&r.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[r.jsx(ws,{size:16,className:"animate-spin"}),r.jsx("span",{className:"text-sm",children:"Printing..."})]}),r.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",title:"Print",onClick:()=>{cu(G),be("/")},children:r.jsx(ac,{size:20})}),r.jsx("button",{className:`p-2 rounded-lg ${z==="email"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"Email",onClick:()=>U(z==="email"?null:"email"),children:r.jsx(Wh,{size:20})}),r.jsx("button",{className:`p-2 rounded-lg ${z==="whatsapp"?"bg-blue-100 text-green-700":"text-green-600 hover:bg-green-100"} dark:text-green-400 dark:hover:bg-green-900`,title:"WhatsApp",onClick:()=>U(z==="whatsapp"?null:"whatsapp"),children:r.jsx(Jh,{size:20})}),r.jsx("button",{className:"p-2 rounded-lg text-gray-400 cursor-not-allowed opacity-50",title:"Text Message (Disabled)",disabled:!0,children:r.jsx(em,{size:20})}),r.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-100 dark:text-purple-400 dark:hover:bg-purple-900 rounded-lg",title:"View Full",onClick:()=>ne(G),children:r.jsx(Is,{size:20})})]}):r.jsx("button",{onClick:()=>t(A),disabled:$||D,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:cursor-not-allowed disabled:opacity-50",children:r.jsx(xr,{size:24})})]}),r.jsxs("div",{className:"flex flex-1 min-h-0",children:[r.jsx("div",{className:"w-2/3 p-6 overflow-y-auto custom-scrollbar space-y-6",children:A&&z||x&&z?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:["Share via ",z]}),r.jsx("button",{onClick:()=>U(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xr,{size:20})})]}),z==="email"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:_.name,onChange:ee=>re(Ne=>je(H({},Ne),{name:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:_.email,onChange:ee=>re(Ne=>je(H({},Ne),{email:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"customer@email.com"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Message Preview"}),r.jsx("button",{type:"button",onClick:()=>he(!Na),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:Na?r.jsx(lu,{className:"w-4 h-4"}):r.jsx(zb,{className:"w-4 h-4"})})]}),Na&&r.jsxs("div",{className:"space-y-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Template"}),Aa?r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsx(ws,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):r.jsxs("select",{value:(Rt==null?void 0:Rt.name)||"",onChange:ee=>Dr(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Select a template (optional)"}),Q.map(ee=>{const Ne=(yt==null?void 0:yt.custom_email_template)===ee.name;return r.jsxs("option",{value:ee.name,children:[ee.name,Ne?" [Default]":""]},ee.name)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),r.jsx("textarea",{value:Pt,onChange:ee=>Kt(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:6,placeholder:"Enter your email message..."})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Subject: Your Invoice from KLiK PoS"}),r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Pa()}})})]})]}),r.jsx("button",{onClick:()=>xe(null,null,function*(){R(!0);try{yield F9({email:_.email,customer_name:_.name,invoice_data:(G==null?void 0:G.name)||"",message:Pa()}),Be.success("Email sent successfully!"),U(null)}catch(ee){Be.error("Failed to send email: "+ee.message)}finally{R(!1)}}),disabled:!_.email||pe,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:pe?"Sending...":"Send Email"})]}),z==="whatsapp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:_.name,onChange:ee=>re(Ne=>je(H({},Ne),{name:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:_.phone,onChange:ee=>re(Ne=>je(H({},Ne),{phone:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Message Preview"}),r.jsx("button",{type:"button",onClick:()=>xt(!Ze),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:Ze?r.jsx(lu,{className:"w-4 h-4"}):r.jsx(zb,{className:"w-4 h-4"})})]}),Ze&&r.jsxs("div",{className:"space-y-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Template"}),$e?r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsx(ws,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):r.jsxs("select",{value:(Ye==null?void 0:Ye.name)||"",onChange:ee=>Yn(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Select a template (optional)"}),V.map(ee=>{const Ne=(yt==null?void 0:yt.custom_whatsap_template)===ee.name;return r.jsxs("option",{value:ee.name,children:[ee.template_name," - ",ee.category," (",ee.status,")",Ne?" [Default]":""]},ee.name)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),r.jsx("textarea",{value:We,onChange:ee=>ye(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:4,placeholder:"Enter your WhatsApp message..."})]})]}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"whitespace-pre-wrap",children:za()})})})]}),r.jsx("button",{onClick:()=>xe(null,null,function*(){ve(!0);try{yield B9({mobile_no:_.phone,customer_name:_.name,invoice_data:(G==null?void 0:G.name)||"",message:za()}),Be.success("Whatsap message sent successfully!"),U(null)}catch(ee){Be.error("Failed to send whatsap message: "+ee.message)}finally{ve(!1)}}),disabled:!_.phone||ie,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ie?"Sending...":"Send Whatsap Message"})]}),z==="sms"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:_.name,onChange:ee=>re(Ne=>je(H({},Ne),{name:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:_.phone,onChange:ee=>re(Ne=>je(H({},Ne),{phone:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMS Message Preview"}),r.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-200 dark:border-teal-800",children:r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[r.jsxs("p",{children:["Hi ",_.name||"Customer","!"]}),r.jsx("p",{className:"mt-1",children:"Thank you for your purchase at KLiK PoS."}),r.jsxs("p",{className:"mt-1",children:["Invoice Total:"," ",le(Le.grandTotal)]}),r.jsx("p",{className:"mt-1",children:"Thank you!"})]})})]}),r.jsx("button",{onClick:()=>{const ee=encodeURIComponent(`Hi ${_.name||"Customer"}!
Thank you for your purchase at KLiK PoS.
Invoice Total: ${le(Le.grandTotal)}
Thank you!`);window.open(`sms:${_.phone}?body=${ee}`),U(null)},disabled:!_.phone,className:"w-full py-3 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send SMS"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),r.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:bn.map(ee=>r.jsxs("div",{className:`min-w-[50%] sm:min-w-[300px] md:min-w-[350px] border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors flex-shrink-0 ${A||$?"bg-gray-50 dark:bg-gray-800":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-md ${ee.color} text-white flex items-center justify-center`,children:r.jsx("div",{className:"scale-75",children:ee.icon})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:ee.name})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),r.jsx("input",{type:"number",step:"0.01",value:ee.amount||"",onChange:Ne=>{const Ie=Ne.target.value,qe=Ie===""?0:parseFloat(Ie);rr(ee.id,isNaN(qe)?"0":qe.toString())},onBlur:Ne=>{const Ie=parseFloat(Ne.target.value);if(!isNaN(Ie)){const qe=parseFloat(Ie.toFixed(2));rr(ee.id,qe.toString())}},placeholder:"0.00",disabled:A||$,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm ${A||$?"cursor-not-allowed opacity-50":""}`})]})]},ee.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sales & Tax Charges"}),r.jsx("select",{value:v,onChange:ee=>Lr(ee.target.value),disabled:A||$,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${A||$?"cursor-not-allowed opacity-50":""}`,children:ft.map(ee=>r.jsxs("option",{value:ee.id,children:[ee.name," (",ee.rate,"%"," ",ee.is_inclusive?"Incl.":"Excl.",")"]},ee.id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tax Amount ",Le.isInclusive&&"(Included)"]}),r.jsx("div",{className:`px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg font-medium ${Le.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${le(Le.taxAmount)})`:le(Le.taxAmount)})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:ke?"Invoice Summary":"Payment Summary"}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"number",value:ge,onChange:ee=>an(ee.target.value),disabled:A||$,className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${A||$?"cursor-not-allowed opacity-50":""}`}),r.jsx("button",{onClick:Qa,disabled:A||$,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${A||$?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:r.jsx(Ub,{size:16})})]})]})}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:le(Le.subtotal)})]}),Le.couponDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[r.jsx("span",{children:"Coupon Discount"}),r.jsxs("span",{children:["-",le(Le.couponDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(it=Le.selectedTax)==null?void 0:it.rate,"%"," ",Le.isInclusive?"Incl.":"Excl.",")"]}),r.jsx("span",{className:`font-medium ${Le.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${le(Le.taxAmount)})`:le(Le.taxAmount)})]}),k!==0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:le(k)})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Grand Total"}),r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:le(Le.grandTotal)})]})}),(bt||ke)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),r.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:le(ja)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),r.jsx("span",{className:`font-bold ${_a>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:le(_a)})]}),ja>Le.grandTotal&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),r.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:le(ja-Le.grandTotal)})]})]})]})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600 flex-1 overflow-y-auto custom-scrollbar",children:A&&G?r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Print Format Preview:"}),r.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-gray-50 dark:bg-gray-700",children:r.jsx(ou,{invoice:G})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"KLiK PoS"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Invoice"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:Re}),ke&&r.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1",children:"Payment Pending"})]}),o&&r.jsxs("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.email}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.phone})]}),r.jsx("div",{className:"space-y-2 mb-4",children:n.length>0?n.map((ee,Ne)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:ee.name}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[ee.quantity," x ",le(ee.price)]})]}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:le(ee.quantity*ee.price)})]},Ne)):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(x==null?void 0:x.name)||(o==null?void 0:o.name)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(x==null?void 0:x.customer)||(o==null?void 0:o.name)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:le((x==null?void 0:x.grand_total)||Le.grandTotal)})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:r.jsx(ou,{invoice:x||W||{}})})]})}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:le(Le.subtotal)})]}),Le.couponDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-",le(Le.couponDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(mt=Le.selectedTax)==null?void 0:mt.rate,"%"," ",Le.isInclusive?"Incl.":"Excl.",")"]}),r.jsx("span",{className:`${Le.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${le(Le.taxAmount)})`:le(Le.taxAmount)})]}),k!==0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:le(k)})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:r.jsxs("div",{className:"flex justify-between font-bold",children:[r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:le(Le.grandTotal)})]})}),(bt||ke)&&Object.entries(p).filter(([,ee])=>ee>0).length>0&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Methods:"}),Object.entries(p).filter(([,ee])=>ee>0).map(([ee,Ne])=>r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:ee}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:le(Ne)})]},ee))]}),ke&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Outstanding Amount:"}),r.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:le(Le.grandTotal)})]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Payment to be collected separately"})]}),Le.selectedTax&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:r.jsxs("p",{className:`text-xs ${Le.isInclusive?"text-blue-500 dark:text-blue-400":"text-orange-500 dark:text-orange-400"}`,children:["Tax is"," ",Le.isInclusive?"inclusive":"exclusive"," ","of item prices"]})}),A&&((st=W==null?void 0:W.invoice)==null?void 0:st.custom_invoice_qr_code)&&r.jsx("div",{className:"mt-4 text-center",children:r.jsx("img",{src:W.invoice.custom_invoice_qr_code,alt:"Invoice QR Code",className:"mx-auto w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded-lg"})})]}),r.jsxs("div",{className:"text-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Thank you for your business!"}),ke&&r.jsx("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:"Invoice will be sent for payment processing"})]})]})})]}),A||x?r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex justify-end space-x-4",children:[A&&r.jsx("button",{onClick:t,className:"bg-beveren-500 px-6 py-2 border border-gray-300 dark:border-gray-600 text-white dark:text-gray-300 rounded-lg font-medium hover:bg-green-700 dark:hover:bg-gray-800 transition-colors",children:"New Order"}),x&&r.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Close"})]})}):r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:ue,disabled:A||$||D,className:`px-6 py-2 border  border-gray-300 dark:border-gray-600 text-gray-700 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center space-x-2 ${A||$||D?"cursor-not-allowed opacity-50":""}`,children:D?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:16,className:"animate-spin"}),r.jsx("span",{children:"Holding..."})]}):r.jsx("span",{children:"Hold Order"})}),r.jsx("button",{onClick:B,disabled:rt(),className:`px-8 py-2 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 ${ke?"bg-beveren-500 hover:bg-blue-700 text-white":"bg-beveren-600 hover:bg-beveren-700 text-white"}`,children:$?r.jsxs(r.Fragment,{children:[r.jsx(ws,{size:16,className:"animate-spin"}),r.jsx("span",{children:Ke()})]}):r.jsxs(r.Fragment,{children:[r.jsx(lu,{size:16}),r.jsx("span",{children:Ke()})]})})]})})]})})}const Q9=()=>{const e=window.csrf_token;return{createCustomer:i=>xe(null,null,function*(){var o;try{const u=yield(yield fetch("/api/method/klik_pos.api.customer.create_or_update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_data:i}),credentials:"include"})).json();if(!u.message||!u.message.success)throw new Error(((o=u.message)==null?void 0:o.error)||"Customer creation failed");return u.message}catch(d){throw console.error("❌ Error creating customer:",d),d}}),updateCustomer:(i,o)=>xe(null,null,function*(){var d;try{const g=yield(yield fetch("/api/method/klik_pos.api.customer.update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_id:i,customer_data:o}),credentials:"include"})).json();if(!g.message||!g.message.success)throw new Error(((d=g.message)==null?void 0:d.error)||"Customer update failed");return g.message}catch(u){throw console.error("❌ Error updating customer:",u),u}})}},X9={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var jh={exports:{}},wh,Xb;function Z9(){if(Xb)return wh;Xb=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wh=e,wh}var kh,Zb;function W9(){if(Zb)return kh;Zb=1;var e=Z9();function t(){}function n(){}return n.resetWarningCache=t,kh=function(){function i(u,g,h,m,x,v){if(v!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function o(){return i}var d={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return d.PropTypes=d,d},kh}var Wb;function J9(){return Wb||(Wb=1,jh.exports=W9()()),jh.exports}var e$=J9();const Pe=Sc(e$);var $h={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Jb;function t$(){return Jb||(Jb=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var d="",u=0;u<arguments.length;u++){var g=arguments[u];g&&(d=o(d,i(g)))}return d}function i(d){if(typeof d=="string"||typeof d=="number")return d;if(typeof d!="object")return"";if(Array.isArray(d))return n.apply(null,d);if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]"))return d.toString();var u="";for(var g in d)t.call(d,g)&&d[g]&&(u=o(u,g));return u}function o(d,u){return u?d?d+" "+u:d+u:d}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}($h)),$h.exports}var a$=t$();const vu=Sc(a$);function r$(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function n$(e,t,n){for(var i={},o="",d=0,u=0;u<e.length;){var g=n(e[u],o,i);g!==void 0&&(o+=g,t!==void 0&&(t===u?d=o.length-1:t>u&&(d=o.length))),u++}t===void 0&&(d=o.length);var h={value:o,caret:d};return h}function s$(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i$(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$(e,t){if(e){if(typeof e=="string")return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(e,t)}}function ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function im(e,t){for(var n=0,i=s$(t.split("")),o;!(o=i()).done;){var d=o.value;d===e&&n++}return n}function l$(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=e.length,d=im("(",e),u=im(")",e),g=d-u;g>0&&o<t.length;)e+=t[o].replace(n,i),t[o]===")"&&g--,o++;return e}function o$(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=c$(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$(e,t){if(e){if(typeof e=="string")return tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(e,t)}}function tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(o){return{text:o}};var i=im(t,e);return function(o){if(!o)return{text:"",template:e};for(var d=0,u="",g=o$(e.split("")),h;!(h=g()).done;){var m=h.value;if(m!==t){u+=m;continue}if(u+=o[d],d++,d===o.length&&o.length<i)break}return n&&(u=l$(u,e)),{text:u,template:e}}}function u$(e,t,n){typeof n=="string"&&(n=d$(n));var i=n(e)||{},o=i.text,d=i.template;if(o===void 0&&(o=e),d)if(t===void 0)t=o.length;else{for(var u=0,g=!1,h=-1;u<o.length&&u<d.length;){if(o[u]!==d[u]){if(t===0){g=!0,t=u;break}h=u,t--}u++}g||(t=h+1)}return{text:o,caret:t}}function f$(e){return e.hasAttribute("readonly")}function h$(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var av={Backspace:8,Delete:46};function m$(e){switch(e.keyCode){case av.Backspace:return"Backspace";case av.Delete:return"Delete"}}function g$(e){return e.selectionStart}function A2(e,t){t!==void 0&&(y$()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function y$(){if(typeof navigator!="undefined")return x$.test(navigator.userAgent)}var x$=/Android/i;function p$(e,t,n,i,o){lm(t,n,i,void 0,o)}function b$(e,t,n,i,o){if(!f$(t)){var d=m$(e);switch(d){case"Delete":case"Backspace":e.preventDefault();var u=h$(t);return u?(v$(t,u),lm(t,n,i,void 0,o)):lm(t,n,i,d,o)}}}function v$(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,A2(e,t.start)}function lm(e,t,n,i,o){var d=n$(e.value,g$(e),t),u=d.value,g=d.caret;if(i){var h=r$(u,g,i);u=h.value,g=h.caret}var m=u$(u,g,n),x=m.text;g=m.caret,e.value=x,A2(e,g),o&&o(u)}var N$=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(n),!0).forEach(function(i){j$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function j$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e,t){if(e==null)return{};var n=k$(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function k$(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function $$(e){var t=e.ref,n=e.parse,i=e.format,o=e.value,d=e.defaultValue,u=e.controlled,g=u===void 0?!0:u,h=e.onChange,m=e.onKeyDown,x=w$(e,N$),v=j.useRef(),b=j.useCallback(function(E){v.current=E,t&&(typeof t=="function"?t(E):t.current=E)},[t]),p=j.useCallback(function(E){return p$(E,v.current,n,i,h)},[v,n,i,h]),S=j.useCallback(function(E){if(m&&m(E),!E.defaultPrevented)return b$(E,v.current,n,i,h)},[v,n,i,h,m]),k=yl(yl({},x),{},{ref:b,onChange:p,onKeyDown:S});return g?yl(yl({},k),{},{value:i(nv(o)?"":o).text}):yl(yl({},k),{},{defaultValue:i(nv(d)?"":d).text})}function nv(e){return e==null}var S$=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function C$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(n),!0).forEach(function(i){_$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T$(e,t){if(e==null)return{};var n=E$(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function E$(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Nu(e,t){var n=e.inputComponent,i=n===void 0?"input":n,o=e.parse,d=e.format,u=e.value,g=e.defaultValue,h=e.onChange,m=e.controlled,x=e.onKeyDown,v=e.type,b=v===void 0?"text":v,p=T$(e,S$),S=$$(C$({ref:t,parse:o,format:d,value:u,defaultValue:g,onChange:h,controlled:m,onKeyDown:x,type:b},p));return Fe.createElement(i,S)}Nu=Fe.forwardRef(Nu);Nu.propTypes={parse:Pe.func.isRequired,format:Pe.func.isRequired,inputComponent:Pe.elementType,type:Pe.string,value:Pe.string,defaultValue:Pe.string,onChange:Pe.func,controlled:Pe.bool,onKeyDown:Pe.func,onCut:Pe.func,onPaste:Pe.func};function iv(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),i=t[0].split("."),o=0;o<3;o++){var d=Number(n[o]),u=Number(i[o]);if(d>u)return 1;if(u>d)return-1;if(!isNaN(d)&&isNaN(u))return 1;if(isNaN(d)&&!isNaN(u))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var O$={}.constructor;function Ci(e){return e!=null&&e.constructor===O$}function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function Gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,R$(i.key),i)}}function Vu(e,t,n){return t&&A$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$(e){var t=P$(e,"string");return Ll(t)=="symbol"?t:t+""}function P$(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Ll(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M$="1.2.0",D$="1.7.35",lv=" ext. ",L$=/^\d+$/,va=function(){function e(t){Gu(this,e),R2(t),this.metadata=t,M2.call(this,t)}return Vu(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,i){if(n&&L$.test(n)&&(i=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new ov(this.getCountryMetadata(n),this)}else if(i){if(!this.hasCallingCode(i))throw new Error("Unknown calling code: ".concat(i));this.numberingPlan=new ov(this.getNumberingPlanMetadata(i),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var i=this.countryCallingCodes()[n];if(i)return i.length===1&&i[0].length===3?void 0:i}},{key:"getCountryCodeForCallingCode",value:function(n){var i=this.getCountryCodesForCallingCode(n);if(i)return i[0]}},{key:"getNumberingPlanMetadata",value:function(n){var i=this.getCountryCodeForCallingCode(n);if(i)return this.getCountryMetadata(i);if(this.nonGeographic()){var o=this.nonGeographic()[n];if(o)return o}else{var d=this.countryCallingCodes()[n];if(d&&d.length===1&&d[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),ov=function(){function e(t,n){Gu(this,e),this.globalMetadataObject=n,this.metadata=t,M2.call(this,n.metadata)}return Vu(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,i=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return i.map(function(o){return new I$(o,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&cv(this.types(),n))return new F$(cv(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?lv:this.metadata[13]||lv}}])}(),I$=function(){function e(t,n){Gu(this,e),this._format=t,this.metadata=n}return Vu(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!U$.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),U$=/^\(?\$1\)?$/,F$=function(){function e(t,n){Gu(this,e),this.type=t,this.metadata=n}return Vu(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function cv(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function R2(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Ci(e)||!Ci(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Ci(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+B$(e)+": "+e,"."))}var B$=function(t){return Ll(t)};function Hs(e,t){if(t=new va(t),t.hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function P2(e,t){return t.countries.hasOwnProperty(e)}function M2(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?iv(t,M$)===-1?this.v2=!0:iv(t,D$)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Ku(e,t){return z$(e,void 0,t)}function z$(e,t,n){var i=n.type(t),o=i&&i.possibleLengths()||n.possibleLengths();if(!o)return"IS_POSSIBLE";var d=e.length,u=o[0];return u===d?"IS_POSSIBLE":u>d?"TOO_SHORT":o[o.length-1]<d?"TOO_LONG":o.indexOf(d,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function H$(e,t,n){if(t===void 0&&(t={}),n=new va(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return D2(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function D2(e,t){switch(Ku(e,t)){case"IS_POSSIBLE":return!0;default:return!1}}function Vn(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function q$(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=G$(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$(e,t){if(e){if(typeof e=="string")return dv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dv(e,t):void 0}}function dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var V$=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Zm(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new va(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var i=t.v2?e.nationalNumber:e.phone;if(Vn(i,n.nationalNumberPattern())){if(Sh(i,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||Sh(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var o=q$(V$),d;!(d=o()).done;){var u=d.value;if(Sh(i,u,n))return u}}}}function Sh(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:Vn(e,t.pattern())}function K$(e,t,n){if(t=t||{},n=new va(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return Zm(e,t,n.metadata)!==void 0;var i=t.v2?e.nationalNumber:e.phone;return Vn(i,n.nationalNumberPattern())}function Y$(e,t,n){var i=new va(n),o=i.getCountryCodesForCallingCode(e);return o?o.filter(function(d){return Q$(t,d,n)}):[]}function Q$(e,t,n){var i=new va(n);return i.selectNumberingPlan(t),i.numberingPlan.possibleLengths().indexOf(e.length)>=0}var Wm=2,X$=17,Z$=3,Ya="0-9０-９٠-٩۰-۹",W$="-‐-―−ー－",J$="／/",e8="．.",t8="  ­​⁠　",a8="()（）［］\\[\\]",r8="~⁓∼～",Jr="".concat(W$).concat(J$).concat(e8).concat(t8).concat(a8).concat(r8),Yu="+＋",n8=new RegExp("(["+Ya+"])");function L2(e,t,n,i){if(t){var o=new va(i);o.selectNumberingPlan(t,n);var d=new RegExp(o.IDDPrefix());if(e.search(d)===0){e=e.slice(e.match(d)[0].length);var u=e.match(n8);if(!(u&&u[1]!=null&&u[1].length>0&&u[1]==="0"))return e}}}function om(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),i=n.exec(e);if(i){var o,d,u=i.length-1,g=u>0&&i[u];if(t.nationalPrefixTransformRule()&&g)o=e.replace(n,t.nationalPrefixTransformRule()),u>1&&(d=i[1]);else{var h=i[0];o=e.slice(h.length),g&&(d=i[1])}var m;if(g){var x=e.indexOf(i[1]),v=e.slice(0,x);v===t.numberingPlan.nationalPrefix()&&(m=t.numberingPlan.nationalPrefix())}else m=i[0];return{nationalNumber:o,nationalPrefix:m,carrierCode:d}}}return{nationalNumber:e}}function cm(e,t){var n=om(e,t),i=n.carrierCode,o=n.nationalNumber;if(o!==e){if(!s8(e,o,t))return{nationalNumber:e};if(t.possibleLengths()&&!i8(o,t))return{nationalNumber:e}}return{nationalNumber:o,carrierCode:i}}function s8(e,t,n){return!(Vn(e,n.nationalNumberPattern())&&!Vn(t,n.nationalNumberPattern()))}function i8(e,t){switch(Ku(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function I2(e,t,n,i){var o=t?Hs(t,i):n;if(e.indexOf(o)===0){i=new va(i),i.selectNumberingPlan(t,n);var d=e.slice(o.length),u=cm(d,i),g=u.nationalNumber,h=cm(e,i),m=h.nationalNumber;if(!Vn(m,i.nationalNumberPattern())&&Vn(g,i.nationalNumberPattern())||Ku(m,i)==="TOO_LONG")return{countryCallingCode:o,number:d}}return{number:e}}function Jm(e,t,n,i){if(!e)return{};var o;if(e[0]!=="+"){var d=L2(e,t,n,i);if(d&&d!==e)o=!0,e="+"+d;else{if(t||n){var u=I2(e,t,n,i),g=u.countryCallingCode,h=u.number;if(g)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:g,number:h}}return{number:e}}}if(e[1]==="0")return{};i=new va(i);for(var m=2;m-1<=Z$&&m<=e.length;){var x=e.slice(1,m);if(i.hasCallingCode(x))return i.selectNumberingPlan(x),{countryCallingCodeSource:o?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:x,number:e.slice(m)};m++}return{}}function U2(e){return e.replace(new RegExp("[".concat(Jr,"]+"),"g")," ").trim()}var F2=/(\$\d)/;function B2(e,t,n){var i=n.useInternationalFormat,o=n.withNationalPrefix;n.carrierCode,n.metadata;var d=e.replace(new RegExp(t.pattern()),i?t.internationalFormat():o&&t.nationalPrefixFormattingRule()?t.format().replace(F2,t.nationalPrefixFormattingRule()):t.format());return i?U2(d):d}var l8=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function o8(e,t,n){var i=new va(n);if(i.selectNumberingPlan(e,t),i.defaultIDDPrefix())return i.defaultIDDPrefix();if(l8.test(i.IDDPrefix()))return i.IDDPrefix()}var c8=";ext=",xl=function(t){return"([".concat(Ya,"]{1,").concat(t,"})")};function z2(e){var t="20",n="15",i="9",o="6",d="[  \\t,]*",u="[:\\.．]?[  \\t,-]*",g="#?",h="(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)",m="(?:[xｘ#＃~～]|int|ｉｎｔ)",x="[- ]+",v="[  \\t]*",b="(?:,{2}|;)",p=c8+xl(t),S=d+h+u+xl(t)+g,k=d+m+u+xl(i)+g,E=x+xl(o)+"#",$=v+b+u+xl(n)+g,I=v+"(?:,)+"+u+xl(i)+g;return p+"|"+S+"|"+k+"|"+E+"|"+$+"|"+I}var d8="["+Ya+"]{"+Wm+"}",u8="["+Yu+"]{0,1}(?:["+Jr+"]*["+Ya+"]){3,}["+Jr+Ya+"]*",f8=new RegExp("^["+Yu+"]{0,1}(?:["+Jr+"]*["+Ya+"]){1,2}$","i"),h8=u8+"(?:"+z2()+")?",m8=new RegExp("^"+d8+"$|^"+h8+"$","i");function g8(e){return e.length>=Wm&&m8.test(e)}function y8(e){return f8.test(e)}function x8(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function p8(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=b8(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8(e,t){if(e){if(typeof e=="string")return uv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uv(e,t):void 0}}function uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fv(Object(n),!0).forEach(function(i){v8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function v8(e,t,n){return(t=N8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8(e){var t=j8(e,"string");return ic(t)=="symbol"?t:t+""}function j8(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ic(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv={formatExtension:function(t,n,i){return"".concat(t).concat(i.ext()).concat(n)}};function w8(e,t,n,i){if(n?n=hv(hv({},mv),n):n=mv,i=new va(i),e.country&&e.country!=="001"){if(!i.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));i.country(e.country)}else if(e.countryCallingCode)i.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var o=i.countryCallingCode(),d=n.v2?e.nationalNumber:e.phone,u;switch(t){case"NATIONAL":return d?(u=ju(d,e.carrierCode,"NATIONAL",i,n),Ch(u,e.ext,i,n.formatExtension)):"";case"INTERNATIONAL":return d?(u=ju(d,null,"INTERNATIONAL",i,n),u="+".concat(o," ").concat(u),Ch(u,e.ext,i,n.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(d);case"RFC3966":return x8({number:"+".concat(o).concat(d),ext:e.ext});case"IDD":if(!n.fromCountry)return;var g=$8(d,e.carrierCode,o,n.fromCountry,i);return Ch(g,e.ext,i,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function ju(e,t,n,i,o){var d=k8(i.formats(),e);return d?B2(e,d,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(d.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&o&&o.nationalPrefix===!1),carrierCode:t,metadata:i}):e}function k8(e,t){for(var n=p8(e),i;!(i=n()).done;){var o=i.value;if(o.leadingDigitsPatterns().length>0){var d=o.leadingDigitsPatterns()[o.leadingDigitsPatterns().length-1];if(t.search(d)!==0)continue}if(Vn(t,o.pattern()))return o}}function Ch(e,t,n,i){return t?i(e,t,n):e}function $8(e,t,n,i,o){var d=Hs(i,o.metadata);if(d===n){var u=ju(e,t,"NATIONAL",o);return n==="1"?n+" "+u:u}var g=o8(i,void 0,o.metadata);if(g)return"".concat(g," ").concat(n," ").concat(ju(e,null,"INTERNATIONAL",o))}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gv(Object(n),!0).forEach(function(i){S8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function S8(e,t,n){return(t=H2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,H2(i.key),i)}}function T8(e,t,n){return t&&_8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H2(e){var t=E8(e,"string");return lc(t)=="symbol"?t:t+""}function E8(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(lc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q2=function(){function e(t,n,i){if(C8(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(Ci(n)&&Ci(n.countries)){i=n;var o=t;if(!R8.test(o))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var d=Jm(o,void 0,void 0,i),u=d.countryCallingCode,g=d.number;if(n=g,t=u,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");R2(i);var h=A8(t,i),m=h.country,x=h.countryCallingCode;this.country=m,this.countryCallingCode=x,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return T8(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Y$(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return H$(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return K$(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new va(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return Zm(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,i){return w8(this,n,i?yv(yv({},i),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),O8=function(t){return/^[A-Z]{2}$/.test(t)};function A8(e,t){var n,i,o=new va(t);return O8(e)?(n=e,o.selectNumberingPlan(n),i=o.countryCallingCode()):i=e,{country:n,countryCallingCode:i}}var R8=/^\+\d+$/;function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function P8(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function M8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D8(e,t,n){return t=cc(t),L8(e,eg()?Reflect.construct(t,n||[],cc(e).constructor):t.apply(e,n))}function L8(e,t){if(t&&(dm(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8(e)}function I8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oc(e,t)}function um(e){var t=typeof Map=="function"?new Map:void 0;return um=function(i){if(i===null||!B8(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,o)}function o(){return F8(i,arguments,cc(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),oc(o,i)},um(e)}function F8(e,t,n){if(eg())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var o=new(e.bind.apply(e,i));return n&&oc(o,n.prototype),o}function eg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(eg=function(){return!!e})()}function B8(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function oc(e,t){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oc(e,t)}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cc(e)}var Bn=function(e){function t(n){var i;return M8(this,t),i=D8(this,t,[n]),Object.setPrototypeOf(i,t.prototype),i.name=i.constructor.name,i}return U8(t,e),P8(t)}(um(Error)),xv=new RegExp("(?:"+z2()+")$","i");function z8(e){var t=e.search(xv);if(t<0)return{};for(var n=e.slice(0,t),i=e.match(xv),o=1;o<i.length;){if(i[o])return{number:n,ext:i[o]};o++}}function H8(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=q8(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8(e,t){if(e){if(typeof e=="string")return pv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pv(e,t):void 0}}function pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var G8={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function G2(e){return G8[e]}function wu(e){for(var t="",n=H8(e.split("")),i;!(i=n()).done;){var o=i.value,d=G2(o);d&&(t+=d)}return t}function V8(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=K8(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8(e,t){if(e){if(typeof e=="string")return bv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bv(e,t):void 0}}function bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function fm(e){for(var t="",n=V8(e.split("")),i;!(i=n()).done;){var o=i.value;t+=V2(o,t)||""}return t}function V2(e,t,n){if(e==="+"){if(t){typeof n=="function"&&n("end");return}return"+"}return G2(e)}function Y8(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Q8(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8(e,t){if(e){if(typeof e=="string")return vv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vv(e,t):void 0}}function vv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function K2(e,t){var n=t.countries;t.defaultCountry;var i=t.metadata;i=new va(i);for(var o=Y8(n),d;!(d=o()).done;){var u=d.value;if(i.country(u),i.leadingDigits()){if(e&&e.search(i.leadingDigits())===0)return u}else if(Zm({phone:e,country:u},void 0,i.metadata))return u}}function Y2(e,t){var n=t.nationalNumber,i=t.defaultCountry,o=t.metadata,d=o.getCountryCodesForCallingCode(e);if(d)return d.length===1?d[0]:K2(n,{countries:d,defaultCountry:i,metadata:o.metadata})}var Q2="+",X8="[\\-\\.\\(\\)]?",Nv="(["+Ya+"]|"+X8+")",Z8="^\\"+Q2+Nv+"*["+Ya+"]"+Nv+"*$",W8=new RegExp(Z8,"g"),hm=Ya,J8="["+hm+"]+((\\-)*["+hm+"])*",eS="a-zA-Z",tS="["+eS+"]+((\\-)*["+hm+"])*",aS="^("+J8+"\\.)*"+tS+"\\.?$",rS=new RegExp(aS,"g"),jv="tel:",mm=";phone-context=",nS=";isub=";function sS(e){var t=e.indexOf(mm);if(t<0)return null;var n=t+mm.length;if(n>=e.length)return"";var i=e.indexOf(";",n);return i>=0?e.substring(n,i):e.substring(n)}function iS(e){return e===null?!0:e.length===0?!1:W8.test(e)||rS.test(e)}function lS(e,t){var n=t.extractFormattedPhoneNumber,i=sS(e);if(!iS(i))throw new Bn("NOT_A_NUMBER");var o;if(i===null)o=n(e)||"";else{o="",i.charAt(0)===Q2&&(o+=i);var d=e.indexOf(jv),u;d>=0?u=d+jv.length:u=0;var g=e.indexOf(mm);o+=e.substring(u,g)}var h=o.indexOf(nS);if(h>0&&(o=o.substring(0,h)),o!=="")return o}var oS=250,cS=new RegExp("["+Yu+Ya+"]"),dS=new RegExp("[^"+Ya+"#]+$");function uS(e,t,n){if(t=t||{},n=new va(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new Bn("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var i=hS(e,t.v2,t.extract),o=i.number,d=i.ext,u=i.error;if(!o){if(t.v2)throw u==="TOO_SHORT"?new Bn("TOO_SHORT"):new Bn("NOT_A_NUMBER");return{}}var g=gS(o,t.defaultCountry,t.defaultCallingCode,n),h=g.country,m=g.nationalNumber,x=g.countryCallingCode,v=g.countryCallingCodeSource,b=g.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new Bn("INVALID_COUNTRY");return{}}if(!m||m.length<Wm){if(t.v2)throw new Bn("TOO_SHORT");return{}}if(m.length>X$){if(t.v2)throw new Bn("TOO_LONG");return{}}if(t.v2){var p=new q2(x,m,n.metadata);return h&&(p.country=h),b&&(p.carrierCode=b),d&&(p.ext=d),p.__countryCallingCodeSource=v,p}var S=(t.extended?n.hasSelectedNumberingPlan():h)?Vn(m,n.nationalNumberPattern()):!1;return t.extended?{country:h,countryCallingCode:x,carrierCode:b,valid:S,possible:S?!0:!!(t.extended===!0&&n.possibleLengths()&&D2(m,n)),phone:m,ext:d}:S?mS(h,m,d):{}}function fS(e,t,n){if(e){if(e.length>oS){if(n)throw new Bn("TOO_LONG");return}if(t===!1)return e;var i=e.search(cS);if(!(i<0))return e.slice(i).replace(dS,"")}}function hS(e,t,n){var i=lS(e,{extractFormattedPhoneNumber:function(u){return fS(u,n,t)}});if(!i)return{};if(!g8(i))return y8(i)?{error:"TOO_SHORT"}:{};var o=z8(i);return o.ext?o:{number:i}}function mS(e,t,n){var i={country:e,phone:t};return n&&(i.ext=n),i}function gS(e,t,n,i){var o=Jm(fm(e),t,n,i.metadata),d=o.countryCallingCodeSource,u=o.countryCallingCode,g=o.number,h;if(u)i.selectNumberingPlan(u);else if(g&&(t||n))i.selectNumberingPlan(t,n),t&&(h=t),u=n||Hs(t,i.metadata);else return{};if(!g)return{countryCallingCodeSource:d,countryCallingCode:u};var m=cm(fm(g),i),x=m.nationalNumber,v=m.carrierCode,b=Y2(u,{nationalNumber:x,defaultCountry:t,metadata:i});return b&&(h=b,b==="001"||i.country(h)),{country:h,countryCallingCode:u,countryCallingCodeSource:d,nationalNumber:x,carrierCode:v}}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(n),!0).forEach(function(i){yS(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yS(e,t,n){return(t=xS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xS(e){var t=pS(e,"string");return dc(t)=="symbol"?t:t+""}function pS(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(dc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bS(e,t,n){return uS(e,kv(kv({},t),{},{v2:!0}),n)}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(n),!0).forEach(function(i){NS(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function NS(e,t,n){return(t=jS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jS(e){var t=wS(e,"string");return uc(t)=="symbol"?t:t+""}function wS(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(uc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e,t){return _S(e)||CS(e,t)||SS(e,t)||$S()}function $S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SS(e,t){if(e){if(typeof e=="string")return Sv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sv(e,t):void 0}}function Sv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function CS(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,d,u,g=[],h=!0,m=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(h=(i=d.call(n)).done)&&(g.push(i.value),g.length!==t);h=!0);}catch(x){m=!0,o=x}finally{try{if(!h&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw o}}return g}}function _S(e){if(Array.isArray(e))return e}function TS(e){var t=Array.prototype.slice.call(e),n=kS(t,4),i=n[0],o=n[1],d=n[2],u=n[3],g,h,m;if(typeof i=="string")g=i;else throw new TypeError("A text for parsing must be a string.");if(!o||typeof o=="string")u?(h=d,m=u):(h=void 0,m=d),o&&(h=vS({defaultCountry:o},h));else if(Ci(o))d?(h=o,m=d):m=o;else throw new Error("Invalid second argument: ".concat(o));return{text:g,options:h,metadata:m}}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cv(Object(n),!0).forEach(function(i){ES(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ES(e,t,n){return(t=OS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OS(e){var t=AS(e,"string");return fc(t)=="symbol"?t:t+""}function AS(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(fc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RS(e,t,n){t&&t.defaultCountry&&!P2(t.defaultCountry,n)&&(t=_v(_v({},t),{},{defaultCountry:void 0}));try{return bS(e,t,n)}catch(i){if(!(i instanceof Bn))throw i}}function PS(){var e=TS(arguments),t=e.text,n=e.options,i=e.metadata;return RS(t,n,i)}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function MS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,IS(i.key),i)}}function LS(e,t,n){return t&&DS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IS(e){var t=US(e,"string");return hc(t)=="symbol"?t:t+""}function US(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(hc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FS=function(){function e(t){var n=t.onCountryChange,i=t.onCallingCodeChange;MS(this,e),this.onCountryChange=n,this.onCallingCodeChange=i}return LS(e,[{key:"reset",value:function(n){var i=n.country,o=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(i,o)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(n){for(var i=0,o=Object.keys(n);i<o.length;i++){var d=o[i];this[d]=n[d]}}},{key:"initCountryAndCallingCode",value:function(n,i){this.setCountry(n),this.setCallingCode(i)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,i){this.international=!0,this.initCountryAndCallingCode(n,i)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function BS(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zS(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zS(e,t){if(e){if(typeof e=="string")return Tv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tv(e,t):void 0}}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Kr="x",_h=new RegExp(Kr);function du(e,t){if(t<1)return"";for(var n="";t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Ev(e,t){return e[t]===")"&&t++,HS(e.slice(0,t))}function HS(e){for(var t=[],n=0;n<e.length;)e[n]==="("?t.push(n):e[n]===")"&&t.pop(),n++;var i=0,o="";t.push(e.length);for(var d=0,u=t;d<u.length;d++){var g=u[d];o+=e.slice(i,g),i=g+1}return o}function qS(e,t,n){for(var i=BS(n.split("")),o;!(o=i()).done;){var d=o.value;if(e.slice(t+1).search(_h)<0)return;t=e.search(_h),e=e.replace(_h,d)}return[e,t]}function GS(e,t,n){var i=n.metadata,o=n.shouldTryNationalPrefixFormattingRule,d=n.getSeparatorAfterNationalPrefix,u=new RegExp("^(?:".concat(t.pattern(),")$"));if(u.test(e.nationalSignificantNumber))return KS(e,t,{metadata:i,shouldTryNationalPrefixFormattingRule:o,getSeparatorAfterNationalPrefix:d})}function VS(e,t){return Ku(e,t)==="IS_POSSIBLE"}function KS(e,t,n){var i=n.metadata,o=n.shouldTryNationalPrefixFormattingRule,d=n.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,o(t)){var u=Ov(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:d,metadata:i});if(u)return u}return Ov(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:d,metadata:i})}function Ov(e,t,n){var i=n.metadata,o=n.useNationalPrefixFormattingRule,d=n.getSeparatorAfterNationalPrefix,u=B2(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:o,metadata:i});if(o||(e.nationalPrefix?u=e.nationalPrefix+d(t)+u:e.complexPrefixBeforeNationalSignificantNumber&&(u=e.complexPrefixBeforeNationalSignificantNumber+" "+u)),YS(u,e))return u}function YS(e,t){return wu(e)===t.getNationalDigits()}function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function QS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WS(i.key),i)}}function ZS(e,t,n){return t&&XS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WS(e){var t=JS(e,"string");return mc(t)=="symbol"?t:t+""}function JS(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(mc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e7=function(){function e(){QS(this,e)}return ZS(e,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var i=this.context[0],o=i.branches,d=i.instructions;if(o)return{op:"|",args:o.concat([Th(d)])};if(d.length===0)throw new Error("Pattern is required");return d.length===1?d[0]:d}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var i=n.match(r7);if(!i){if(a7.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var o=i[1],d=n.slice(0,i.index),u=n.slice(i.index+o.length);switch(o){case"(?:":d&&this.parsePattern(d),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(d&&this.parsePattern(d),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var g=this.getContext(),h=g.branches;h.push(Th(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:h});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(d&&this.parsePattern(d),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Th(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":d&&this.parsePattern(d),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:t7(d)});break;default:throw new Error("Unknown operator: ".concat(o))}u&&this.parsePattern(u)}}])}();function t7(e){for(var t=[],n=0;n<e.length;){if(e[n]==="-"){if(n===0||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var i=e[n-1].charCodeAt(0)+1,o=e[n+1].charCodeAt(0)-1,d=i;d<=o;)t.push(String.fromCharCode(d)),d++}else t.push(e[n]);n++}return t}var a7=/[\(\)\[\]\?\:\|]/,r7=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Th(e){return e.length===1?e[0]:e}function Av(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=n7(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7(e,t){if(e){if(typeof e=="string")return Rv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rv(e,t):void 0}}function Rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function s7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i7(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o7(i.key),i)}}function l7(e,t,n){return t&&i7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o7(e){var t=c7(e,"string");return gc(t)=="symbol"?t:t+""}function c7(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(gc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d7=function(){function e(t){s7(this,e),this.matchTree=new e7().parse(t)}return l7(e,[{key:"match",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.allowOverflow;if(!n)throw new Error("String is required");var d=gm(n.split(""),this.matchTree,!0);if(d&&d.match&&delete d.matchedChars,!(d&&d.overflow&&!o))return d}}])}();function gm(e,t,n){if(typeof t=="string"){var i=e.join("");return t.indexOf(i)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:i.indexOf(t)===0?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var o=e.slice(),d=0;d<t.length;){var u=t[d],g=gm(o,u,n&&d===t.length-1);if(g){if(g.overflow)return g;if(g.match){if(o=o.slice(g.matchedChars.length),o.length===0)return d===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(g.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(g,null,2)))}}else return;d++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-o.length)}}switch(t.op){case"|":for(var h,m=Av(t.args),x;!(x=m()).done;){var v=x.value,b=gm(e,v,n);if(b){if(b.overflow)return b;if(b.match)return{match:!0,matchedChars:b.matchedChars};if(b.partialMatch)h=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(b,null,2)))}}return h?{partialMatch:!0}:void 0;case"[]":for(var p=Av(t.args),S;!(S=p()).done;){var k=S.value;if(e[0]===k)return e.length===1?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[k]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Pv(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u7(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u7(e,t){if(e){if(typeof e=="string")return Mv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mv(e,t):void 0}}function Mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function f7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h7(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g7(i.key),i)}}function m7(e,t,n){return t&&h7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g7(e){var t=y7(e,"string");return yc(t)=="symbol"?t:t+""}function y7(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(yc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ym="9",x7=15,p7=du(ym,x7),b7=/[- ]/,v7=function(){return/\[([^\[\]])*\]/g},N7=function(){return/\d(?=[^,}][^,}])/g},j7=new RegExp("["+Jr+"]*\\$1["+Jr+"]*(\\$\\d["+Jr+"]*)*$"),Dv=3,w7=function(){function e(t){t.state;var n=t.metadata;f7(this,e),this.metadata=n,this.resetFormat()}return m7(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,i){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),i.nationalSignificantNumber&&this.narrowDownMatchingFormats(i)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,i){var o=this;if(VS(i.nationalSignificantNumber,this.metadata))for(var d=Pv(this.matchingFormats),u;!(u=d()).done;){var g=u.value,h=GS(i,g,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(x){return o.shouldTryNationalPrefixFormattingRule(x,{international:i.international,nationalPrefix:i.nationalPrefix})},getSeparatorAfterNationalPrefix:function(x){return o.getSeparatorAfterNationalPrefix(x)}});if(h)return this.resetFormat(),this.chosenFormat=g,this.setNationalNumberTemplate(h.replace(/\d/g,Kr),i),this.populatedNationalNumberTemplate=h,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Kr),h}return this.formatNationalNumberWithNextDigits(n,i)}},{key:"formatNationalNumberWithNextDigits",value:function(n,i){var o=this.chosenFormat,d=this.chooseFormat(i);if(d)return d===o?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(i.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var i=this,o=n.nationalSignificantNumber,d=n.nationalPrefix,u=n.international,g=o,h=g.length-Dv;h<0&&(h=0),this.matchingFormats=this.matchingFormats.filter(function(m){return i.formatSuits(m,u,d)&&i.formatMatches(m,g,h)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,i,o){return!(o&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i&&!o&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,i,o){var d=n.leadingDigitsPatterns().length;if(d===0)return!0;o=Math.min(o,d-1);var u=n.leadingDigitsPatterns()[o];if(i.length<Dv)try{return new d7(u).match(i,{allowOverflow:!0})!==void 0}catch(g){return console.error(g),!0}return new RegExp("^(".concat(u,")")).test(i)}},{key:"getFormatFormat",value:function(n,i){return i?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var i=this,o=function(){var m=g.value;return i.chosenFormat===m?0:j7.test(i.getFormatFormat(m,n.international))?i.createTemplateForFormat(m,n)?(i.chosenFormat=m,0):(i.matchingFormats=i.matchingFormats.filter(function(x){return x!==m}),1):1},d,u=Pv(this.matchingFormats.slice()),g;!(g=u()).done&&(d=o(),d!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,i){if(!(n.pattern().indexOf("|")>=0)){var o=this.getTemplateForFormat(n,i);if(o)return this.setNationalNumberTemplate(o,i),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&b7.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,i){var o=n.IDDPrefix,d=n.missingPlus;return o?i&&i.spacing===!1?o:o+" ":d?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var i=-1,o=0,d=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";o<d.length+n.getDigitsWithoutInternationalPrefix().length;)i=this.template.indexOf(Kr,i+1),o++;return Ev(this.template,i+1)}}},{key:"setNationalNumberTemplate",value:function(n,i){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,i.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(i).replace(/[\d\+]/g,Kr)+du(Kr,i.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,i){var o=i.nationalSignificantNumber,d=i.international,u=i.nationalPrefix,g=i.complexPrefixBeforeNationalSignificantNumber,h=n.pattern();h=h.replace(v7(),"\\d").replace(N7(),"\\d");var m=p7.match(h)[0];if(!(o.length>m.length)){var x=new RegExp("^"+h+"$"),v=o.replace(/\d/g,ym);x.test(v)&&(m=v);var b=this.getFormatFormat(n,d),p;if(this.shouldTryNationalPrefixFormattingRule(n,{international:d,nationalPrefix:u})){var S=b.replace(F2,n.nationalPrefixFormattingRule());if(wu(n.nationalPrefixFormattingRule())===(u||"")+wu("$1")&&(b=S,p=!0,u))for(var k=u.length;k>0;)b=b.replace(/\d/,Kr),k--}var E=m.replace(new RegExp(h),b).replace(new RegExp(ym,"g"),Kr);return p||(g?E=du(Kr,g.length)+" "+E:u&&(E=du(Kr,u.length)+this.getSeparatorAfterNationalPrefix(n)+E)),d&&(E=U2(E)),E}}},{key:"formatNextNationalNumberDigits",value:function(n){var i=qS(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!i){this.resetFormat();return}return this.populatedNationalNumberTemplate=i[0],this.populatedNationalNumberTemplatePosition=i[1],Ev(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,i){var o=i.international,d=i.nationalPrefix;if(n.nationalPrefixFormattingRule()){var u=n.usesNationalPrefix();if(u&&d||!u&&!o)return!0}}}])}();function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function X2(e,t){return C7(e)||S7(e,t)||$7(e,t)||k7()}function k7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(e,t){if(e){if(typeof e=="string")return Lv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lv(e,t):void 0}}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function S7(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,d,u,g=[],h=!0,m=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(h=(i=d.call(n)).done)&&(g.push(i.value),g.length!==t);h=!0);}catch(x){m=!0,o=x}finally{try{if(!h&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw o}}return g}}function C7(e){if(Array.isArray(e))return e}function _7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T7(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,O7(i.key),i)}}function E7(e,t,n){return t&&T7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O7(e){var t=A7(e,"string");return xc(t)=="symbol"?t:t+""}function A7(e,t){if(xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(xc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R7="["+Jr+Ya+"]+",P7=new RegExp("^"+R7+"$","i"),M7="(?:["+Yu+"]["+Jr+Ya+"]*|["+Jr+Ya+"]+)",D7=new RegExp("[^"+Jr+Ya+"]+.*$"),L7=/[^\d\[\]]/,I7=function(){function e(t){var n=t.defaultCountry,i=t.defaultCallingCode,o=t.metadata,d=t.onNationalSignificantNumberChange;_7(this,e),this.defaultCountry=n,this.defaultCallingCode=i,this.metadata=o,this.onNationalSignificantNumberChange=d}return E7(e,[{key:"input",value:function(n,i){var o=B7(n),d=X2(o,2),u=d[0],g=d[1],h=wu(u),m;return g&&(i.digits||(i.startInternationalNumber(),h||(m=!0))),h&&this.inputDigits(h,i),{digits:h,justLeadingPlus:m}}},{key:"inputDigits",value:function(n,i){var o=i.digits,d=o.length<3&&o.length+n.length>=3;if(i.appendDigits(n),d&&this.extractIddPrefix(i),this.isWaitingForCountryCallingCode(i)){if(!this.extractCountryCallingCode(i))return}else i.appendNationalSignificantNumberDigits(n);i.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(i.getNationalDigits(),function(u){return i.update(u)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var i=n.international,o=n.callingCode;return i&&!o}},{key:"extractCountryCallingCode",value:function(n){var i=Jm("+"+n.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),o=i.countryCallingCode,d=i.number;if(o)return n.setCallingCode(o),n.update({nationalSignificantNumber:d}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var i=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=i&&L7.test(i)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,i){if(this.hasSelectedNumberingPlan){var o=om(n,this.metadata),d=o.nationalPrefix,u=o.nationalNumber,g=o.carrierCode;if(u!==n)return this.onExtractedNationalNumber(d,g,u,n,i),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,i,o){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,o);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var d=om(n,this.metadata),u=d.nationalPrefix,g=d.nationalNumber,h=d.carrierCode;if(g!==i)return this.onExtractedNationalNumber(u,h,g,n,o),!0}}},{key:"onExtractedNationalNumber",value:function(n,i,o,d,u){var g,h,m=d.lastIndexOf(o);if(m>=0&&m===d.length-o.length){h=!0;var x=d.slice(0,m);x!==n&&(g=x)}u({nationalPrefix:n,carrierCode:i,nationalSignificantNumber:o,nationalSignificantNumberMatchesInput:h,complexPrefixBeforeNationalSignificantNumber:g}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(i){return n.update(i)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var i=n.international,o=n.IDDPrefix,d=n.digits;if(n.nationalSignificantNumber,!(i||o)){var u=L2(d,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(u!==void 0&&u!==d)return n.update({IDDPrefix:d.slice(0,d.length-u.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var i=I2(n.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),o=i.countryCallingCode;if(i.number,o)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:o}),!0}}},{key:"startInternationalNumber",value:function(n,i){var o=i.country,d=i.callingCode;n.startInternationalNumber(o,d),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(i){return n.update(i)})}}])}();function U7(e){var t=e.search(M7);if(!(t<0)){e=e.slice(t);var n;return e[0]==="+"&&(n=!0,e=e.slice(1)),e=e.replace(D7,""),n&&(e="+"+e),e}}function F7(e){var t=U7(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function B7(e){var t=F7(e),n=X2(t,2),i=n[0],o=n[1];return P7.test(i)||(i=""),[i,o]}function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function z7(e,t){return V7(e)||G7(e,t)||q7(e,t)||H7()}function H7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,t){if(e){if(typeof e=="string")return Iv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iv(e,t):void 0}}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function G7(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,d,u,g=[],h=!0,m=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(h=(i=d.call(n)).done)&&(g.push(i.value),g.length!==t);h=!0);}catch(x){m=!0,o=x}finally{try{if(!h&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw o}}return g}}function V7(e){if(Array.isArray(e))return e}function K7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y7(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,X7(i.key),i)}}function Q7(e,t,n){return t&&Y7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X7(e){var t=Z7(e,"string");return pc(t)=="symbol"?t:t+""}function Z7(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(pc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zl=function(){function e(t,n){K7(this,e),this.metadata=new va(n);var i=this.getCountryAndCallingCode(t),o=z7(i,2),d=o[0],u=o[1];this.defaultCountry=d,this.defaultCallingCode=u,this.reset()}return Q7(e,[{key:"getCountryAndCallingCode",value:function(n){var i,o;return n&&(Ci(n)?(i=n.defaultCountry,o=n.defaultCallingCode):i=n),i&&!this.metadata.hasCountry(i)&&(i=void 0),[i,o]}},{key:"input",value:function(n){var i=this.parser.input(n,this.state),o=i.digits,d=i.justLeadingPlus;if(d)this.formattedOutput="+";else if(o){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var u;if(this.metadata.hasSelectedNumberingPlan()&&(u=this.formatter.format(o,this.state)),u===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var g=this.state.getNationalDigits();g&&(u=this.formatter.format(g,this.state))}this.formattedOutput=u?this.getFullNumber(u):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new FS({onCountryChange:function(o){n.country=o},onCallingCodeChange:function(o,d){n.metadata.selectNumberingPlan(d,o),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new w7({state:this.state,metadata:this.metadata}),this.parser=new I7({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var i=this;if(this.isInternational()){var o=function(g){return i.formatter.getInternationalPrefixBeforeCountryCallingCode(i.state,{spacing:!!g})+g},d=this.state.callingCode;return o(d?n?"".concat(d," ").concat(n):d:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,i=n.nationalSignificantNumber,o=n.complexPrefixBeforeNationalSignificantNumber,d=n.nationalPrefix,u=i,g=o||d;return g&&(u=g+u),u}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(n?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Kr)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,i=this.metadata.getCountryCodesForCallingCode(n);return i&&i.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Y2(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,i=n.digits,o=n.callingCode,d=n.country,u=n.nationalSignificantNumber;if(i){if(this.isInternational())return o?"+"+o+u:"+"+i;if(d||o){var g=d?this.metadata.countryCallingCode():o;return"+"+g+u}}}},{key:"getNumber",value:function(){var n=this.state,i=n.nationalSignificantNumber,o=n.carrierCode,d=n.callingCode,u=this._getCountry();if(i&&!(!u&&!d)){if(u&&u===this.defaultCountry){var g=new va(this.metadata.metadata);g.selectNumberingPlan(u);var h=g.numberingPlan.callingCode(),m=this.metadata.getCountryCodesForCallingCode(h);if(m.length>1){var x=K2(i,{countries:m,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});x&&(u=x)}}var v=new q2(u||d,i,this.metadata.metadata);return o&&(v.carrierCode=o),v}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function Uv(e){return new va(e).getCountries()}function W7(e,t,n){return n||(n=t,t=void 0),new zl(t,n).input(e)}function Z2(e){var t=e.inputFormat,n=e.country,i=e.metadata;return t==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Hs(n,i)):""}function xm(e,t){return t&&(e=e.slice(t.length),e[0]===" "&&(e=e.slice(1))),e}function J7(e,t,n){if(!(n&&n.ignoreRest)){var i=function(d){if(n)switch(d){case"end":n.ignoreRest=!0;break}};return V2(e,t,i)}}function W2(e){var t=e.onKeyDown,n=e.inputFormat;return j.useCallback(function(i){if(i.keyCode===tC&&n==="INTERNATIONAL"&&i.target instanceof HTMLInputElement&&eC(i.target)===aC.length){i.preventDefault();return}t&&t(i)},[t,n])}function eC(e){return e.selectionStart}var tC=8,aC="+",rC=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pm.apply(this,arguments)}function nC(e,t){if(e==null)return{};var n=sC(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function sC(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function iC(e){function t(n,i){var o=n.onKeyDown,d=n.country,u=n.inputFormat,g=n.metadata,h=g===void 0?e:g;n.international,n.withCountryCallingCode;var m=nC(n,rC),x=j.useCallback(function(b){var p=new zl(d,h),S=Z2({inputFormat:u,country:d,metadata:h}),k=p.input(S+b),E=p.getTemplate();return S&&(k=xm(k,S),E&&(E=xm(E,S))),{text:k,template:E}},[d,h]),v=W2({onKeyDown:o,inputFormat:u});return Fe.createElement(Nu,pm({},m,{ref:i,parse:J7,format:x,onKeyDown:v}))}return t=Fe.forwardRef(t),t.propTypes={value:Pe.string.isRequired,onChange:Pe.func.isRequired,onKeyDown:Pe.func,country:Pe.string,inputFormat:Pe.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:Pe.object},t}const lC=iC();var oC=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bm.apply(this,arguments)}function cC(e,t){if(e==null)return{};var n=dC(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function dC(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function uC(e){function t(n,i){var o=n.value,d=n.onChange,u=n.onKeyDown,g=n.country,h=n.inputFormat,m=n.metadata,x=m===void 0?e:m,v=n.inputComponent,b=v===void 0?"input":v;n.international,n.withCountryCallingCode;var p=cC(n,oC),S=Z2({inputFormat:h,country:g,metadata:x}),k=j.useCallback(function($){var I=fm($.target.value);if(I===o){var D=Fv(S,I,g,x);D.indexOf($.target.value)===0&&(I=I.slice(0,-1))}d(I)},[S,o,d,g,x]),E=W2({onKeyDown:u,inputFormat:h});return Fe.createElement(b,bm({},p,{ref:i,value:Fv(S,o,g,x),onChange:k,onKeyDown:E}))}return t=Fe.forwardRef(t),t.propTypes={value:Pe.string.isRequired,onChange:Pe.func.isRequired,onKeyDown:Pe.func,country:Pe.string,inputFormat:Pe.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:Pe.object,inputComponent:Pe.elementType},t}const fC=uC();function Fv(e,t,n,i){return xm(W7(e+t,n,i),e)}function hC(e){return Bv(e[0])+Bv(e[1])}function Bv(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var mC=["value","onChange","options","disabled","readOnly"],gC=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function yC(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=xC(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xC(e,t){if(e){if(typeof e=="string")return zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(e,t)}}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ku.apply(this,arguments)}function J2(e,t){if(e==null)return{};var n=pC(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function pC(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function e3(e){var t=e.value,n=e.onChange,i=e.options,o=e.disabled,d=e.readOnly,u=J2(e,mC),g=j.useCallback(function(h){var m=h.target.value;n(m==="ZZ"?void 0:m)},[n]);return j.useMemo(function(){return a3(i,t)},[i,t]),Fe.createElement("select",ku({},u,{disabled:o||d,readOnly:d,value:t||"ZZ",onChange:g}),i.map(function(h){var m=h.value,x=h.label,v=h.divider;return Fe.createElement("option",{key:v?"|":m||"ZZ",value:v?"|":m||"ZZ",disabled:!!v,style:v?bC:void 0},x)}))}e3.propTypes={value:Pe.string,onChange:Pe.func.isRequired,options:Pe.arrayOf(Pe.shape({value:Pe.string,label:Pe.string,divider:Pe.bool})).isRequired,disabled:Pe.bool,readOnly:Pe.bool};var bC={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function t3(e){var t=e.value,n=e.options,i=e.className,o=e.iconComponent;e.getIconAspectRatio;var d=e.arrowComponent,u=d===void 0?vC:d,g=e.unicodeFlags,h=J2(e,gC),m=j.useMemo(function(){return a3(n,t)},[n,t]);return Fe.createElement("div",{className:"PhoneInputCountry"},Fe.createElement(e3,ku({},h,{value:t,options:n,className:vu("PhoneInputCountrySelect",i)})),m&&(g&&t?Fe.createElement("div",{className:"PhoneInputCountryIconUnicode"},hC(t)):Fe.createElement(o,{"aria-hidden":!0,country:t,label:m.label,aspectRatio:g?1:void 0})),Fe.createElement(u,null))}t3.propTypes={iconComponent:Pe.elementType,arrowComponent:Pe.elementType,unicodeFlags:Pe.bool};function vC(){return Fe.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function a3(e,t){for(var n=yC(e),i;!(i=n()).done;){var o=i.value;if(!o.divider&&NC(o.value,t))return o}}function NC(e,t){return e==null?t==null:e===t}var jC=["country","countryName","flags","flagUrl"];function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vm.apply(this,arguments)}function wC(e,t){if(e==null)return{};var n=kC(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function kC(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function tg(e){var t=e.country,n=e.countryName,i=e.flags,o=e.flagUrl,d=wC(e,jC);return i&&i[t]?i[t]({title:n}):Fe.createElement("img",vm({},d,{alt:n,role:n?void 0:"presentation",src:o.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}tg.propTypes={country:Pe.string.isRequired,countryName:Pe.string.isRequired,flags:Pe.objectOf(Pe.elementType),flagUrl:Pe.string.isRequired};var $C=["aspectRatio"],SC=["title"],CC=["title"];function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$u.apply(this,arguments)}function ag(e,t){if(e==null)return{};var n=_C(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function _C(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Qu(e){var t=e.aspectRatio,n=ag(e,$C);return t===1?Fe.createElement(n3,n):Fe.createElement(r3,n)}Qu.propTypes={title:Pe.string.isRequired,aspectRatio:Pe.number};function r3(e){var t=e.title,n=ag(e,SC);return Fe.createElement("svg",$u({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),Fe.createElement("title",null,t),Fe.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},Fe.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),Fe.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),Fe.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),Fe.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),Fe.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),Fe.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),Fe.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}r3.propTypes={title:Pe.string.isRequired};function n3(e){var t=e.title,n=ag(e,CC);return Fe.createElement("svg",$u({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),Fe.createElement("title",null,t),Fe.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},Fe.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),Fe.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),Fe.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),Fe.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),Fe.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),Fe.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),Fe.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}n3.propTypes={title:Pe.string.isRequired};function TC(e){if(e.length<2||e[0]!=="+")return!1;for(var t=1;t<e.length;){var n=e.charCodeAt(t);if(!(n>=48&&n<=57))return!1;t++}return!0}function s3(e){TC(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function EC(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=OC(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OC(e,t){if(e){if(typeof e=="string")return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}}function Hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function AC(e,t){if(!t)return e;for(var n=[],i=[],o=n,d=function(){var m=g.value;if(m==="|")o.push({divider:!0});else if(m==="..."||m==="…")o=i;else{var x;m==="🌐"?x=void 0:x=m;var v=e.indexOf(e.filter(function(p){return p.value===x})[0]),b=e[v];e.splice(v,1),o.push(b)}},u=EC(t),g;!(g=u()).done;)d();return n.concat(e).concat(i)}function RC(e,t){if(e&&(e=e.filter(function(n){switch(n){case"🌐":case"|":case"...":case"…":return!0;default:return Xu(n,t)}}),e.length>0))return e}function Xu(e,t){return P2(e,t)?!0:(console.error("Country not found: ".concat(e)),!1)}function i3(e,t){return e&&(e=e.filter(function(n){return Xu(n,t)}),e.length===0&&(e=void 0)),e}var PC=["country","label","aspectRatio"];function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nm.apply(this,arguments)}function MC(e,t){if(e==null)return{};var n=DC(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function DC(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function l3(e){var t=e.flags,n=e.flagUrl,i=e.flagComponent,o=e.internationalIcon;function d(u){var g=u.country,h=u.label,m=u.aspectRatio,x=MC(u,PC),v=o===Qu?m:void 0;return Fe.createElement("div",Nm({},x,{className:vu("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":v===1,"PhoneInputCountryIcon--border":g})}),g?Fe.createElement(i,{country:g,countryName:h,flags:t,flagUrl:n,className:"PhoneInputCountryIconImg"}):Fe.createElement(o,{title:h,aspectRatio:v,className:"PhoneInputCountryIconImg"}))}return d.propTypes={country:Pe.string,label:Pe.string.isRequired,aspectRatio:Pe.number},d}l3({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:tg,internationalIcon:Qu});function LC(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=IC(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IC(e,t){if(e){if(typeof e=="string")return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function UC(e,t){for(var n=LC(e),i;!(i=n()).done;){var o=i.value;o&&FC(o,t)}}function FC(e,t){typeof e=="function"?e(t):e.current=t}var o3=Pe.shape({country_calling_codes:Pe.object.isRequired,countries:Pe.object.isRequired}),c3=Pe.objectOf(Pe.string);function Hn(e,t){var n="+"+Hs(e,t);return n}function BC(e){var t=e.value,n=e.phoneNumber,i=e.defaultCountry,o=e.getAnyCountry,d=e.countries,u=e.required,g=e.metadata,h;return n&&n.country?h=n.country:i&&(!t||kl(t,i,g))&&(h=i),d&&d.indexOf(h)<0&&(h=void 0),!h&&u&&d&&d.length>0&&(h=o()),h}function zC(e){var t=e.countries,n=e.countryNames,i=e.addInternationalOption,o=e.compareStringsLocales,d=e.compareStrings;d||(d=QC);var u=t.map(function(g){return{value:g,label:n[g]||g}});return u.sort(function(g,h){return d(g.label,h.label,o)}),i&&u.unshift({label:n.ZZ}),u}function d3(e,t){return PS(e||"",t)}function HC(e){return e.formatNational().replace(/\D/g,"")}function qC(e,t){var n=t.prevCountry,i=t.newCountry,o=t.metadata,d=t.useNationalFormat;if(n===i)return e;if(!e)return d?"":i?Hn(i,o):"";if(i){if(e[0]==="+"){if(d)return e.indexOf("+"+Hs(i,o))===0?XC(e,i,o):"";if(n){var u=Hn(i,o);return e.indexOf(u)===0?e:u}else{var g=Hn(i,o);return e.indexOf(g)===0?e:g}}}else if(e[0]!=="+")return Nl(e,n,o)||"";return e}function Nl(e,t,n){if(e){if(e[0]==="+"){if(e==="+")return;var i=new zl(t,n);return i.input(e),i.getNumberValue()}if(t){var o=f3(e,t,n);return"+".concat(Hs(t,n)).concat(o||"")}}}function GC(e,t,n){var i=f3(e,t,n);if(i){var o=i.length-VC(t,n);if(o>0)return e.slice(0,e.length-o)}return e}function VC(e,t){return t=new va(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function u3(e,t){var n=t.country,i=t.countries,o=t.defaultCountry,d=t.latestCountrySelectedByUser,u=t.required,g=t.metadata;if(e==="+")return n;var h=YC(e,g);if(h)return!i||i.indexOf(h)>=0?h:void 0;if(n){if(kl(e,n,g)){if(d&&kl(e,d,g))return d;if(o&&kl(e,o,g))return o;if(!u)return}else if(!u)return}return n}function KC(e,t){var n=t.prevPhoneDigits,i=t.country,o=t.defaultCountry,d=t.latestCountrySelectedByUser,u=t.countryRequired,g=t.getAnyCountry,h=t.countries,m=t.international,x=t.limitMaxLength,v=t.countryCallingCodeEditable,b=t.metadata;if(m&&v===!1&&i){var p=Hn(i,b);if(e.indexOf(p)!==0){var S,k=e&&e[0]!=="+";return k?(e=p+e,S=Nl(e,i,b)):e=p,{phoneDigits:e,value:S,country:i}}}m===!1&&i&&e&&e[0]==="+"&&(e=Gv(e,i,b)),e&&i&&x&&(e=GC(e,i,b)),e&&e[0]!=="+"&&(!i||m)&&(e="+"+e),!e&&n&&n[0]==="+"&&(m?i=void 0:i=o),e==="+"&&n&&n[0]==="+"&&n.length>1&&(i=void 0);var E;return e&&(e[0]==="+"&&(e==="+"||i&&Hn(i,b).indexOf(e)===0)?E=void 0:E=Nl(e,i,b)),E&&(i=u3(E,{country:i,countries:h,defaultCountry:o,latestCountrySelectedByUser:d,required:!1,metadata:b}),m===!1&&i&&e&&e[0]==="+"&&(e=Gv(e,i,b),E=Nl(e,i,b))),!i&&u&&(i=o||g()),{phoneDigits:e,country:i,value:E}}function Gv(e,t,n){if(e.indexOf(Hn(t,n))===0){var i=new zl(t,n);i.input(e);var o=i.getNumber();return o?o.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function YC(e,t){var n=new zl(null,t);return n.input(e),n.getCountry()}function QC(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function XC(e,t,n){if(t){var i="+"+Hs(t,n);if(e.length<i.length){if(i.indexOf(e)===0)return""}else if(e.indexOf(i)===0)return e.slice(i.length)}for(var o=0,d=Object.keys(n.country_calling_codes);o<d.length;o++){var u=d[o];if(e.indexOf(u)===1)return e.slice(1+u.length)}return""}function f3(e,t,n){var i=new zl(t,n);i.input(e);var o=i.getNumber();return o&&o.nationalNumber}function kl(e,t,n){for(var i=Hn(t,n),o=0;o<e.length&&o<i.length;){if(e[o]!==i[o])return!1;o++}return!0}function h3(e){var t=e.value,n=e.phoneNumber,i=e.defaultCountry,o=e.international,d=e.useNationalFormat,u=e.metadata;return(o===!1||d)&&n&&n.country?HC(n):!t&&o&&i?Hn(i,u):t}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(n),!0).forEach(function(i){ZC(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZC(e,t,n){return t=WC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WC(e){var t=JC(e,"string");return bc(t)=="symbol"?t:t+""}function JC(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(bc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e_(e,t,n){var i=e.metadata,o=e.countries,d=e.defaultCountry,u=e.value,g=e.reset,h=e.international,m=e.displayInitialValueAsLocalNumber,x=e.initialValueFormat,v=t.defaultCountry,b=t.value,p=t.reset;n.country;var S=n.value,k=n.hasUserSelectedACountry,E=n.latestCountrySelectedByUser,$=function(ge){return h3(Xd(Xd({},ge),{},{international:h,useNationalFormat:m||x==="national",metadata:i}))};if(g!==p)return{phoneDigits:$({value:void 0,defaultCountry:d}),value:void 0,country:d,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(d!==v){var I=!d||Xu(d,i),D=!S||h&&S===$({value:void 0,defaultCountry:v}),L=!u&&D;if(!k&&I&&L)return{country:d,phoneDigits:$({value:void 0,defaultCountry:d}),value:void 0}}if(!Kv(u,b)&&!Kv(u,S)){var A,P;if(u){u&&s3(u),A=d3(u,i);var W=i3(o,i);A&&A.country?(!W||W.indexOf(A.country)>=0)&&(P=A.country):(P=u3(u,{country:void 0,countries:W,metadata:i}),P||d&&u.indexOf(Hn(d,i))===0&&(P=d))}var Y;if(u){if(E){var G=P?E===P:kl(u,E,i);G?P||(P=E):Y={latestCountrySelectedByUser:void 0}}}else Y={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return Xd(Xd({},Y),{},{phoneDigits:$({phoneNumber:A,value:u,defaultCountry:d}),value:u,country:u?P:d})}}function Kv(e,t){return e===null&&(e=void 0),t===null&&(t=void 0),e===t}var t_=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function m3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yv(Object(n),!0).forEach(function(i){Vr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$l.apply(this,arguments)}function a_(e,t){if(e==null)return{};var n=r_(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function r_(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function n_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y3(i.key),i)}}function s_(e,t,n){return t&&Qv(e.prototype,t),n&&Qv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i_(e,t,n){return t=Su(t),l_(e,g3()?Reflect.construct(t,n||[],Su(e).constructor):t.apply(e,n))}function l_(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_(e)}function o_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g3=function(){return!!e})()}function Su(e){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Su(e)}function c_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jm(e,t)}function jm(e,t){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},jm(e,t)}function Vr(e,t,n){return t=y3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y3(e){var t=d_(e,"string");return Il(t)=="symbol"?t:t+""}function d_(e,t){if(Il(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Il(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u_=function(e){function t(n){var i;n_(this,t),i=i_(this,t,[n]),Vr(i,"setInputRef",function(E){UC([i.props.inputRef,i.inputRef],E)}),Vr(i,"isCountrySupportedWithError",function(E){var $=i.props.metadata;return Xu(E,$)}),Vr(i,"onCountryChange",function(E){var $=i.props,I=$.international,D=$.metadata,L=$.onChange,A=$.focusInputOnCountrySelection,P=i.state,W=P.phoneDigits,Y=P.country,G=qC(W,{prevCountry:Y,newCountry:E,metadata:D,useNationalFormat:!I}),ae=Nl(G,E,D);A&&i.inputRef.current.focus(),i.setState({country:E,latestCountrySelectedByUser:E,hasUserSelectedACountry:!0,phoneDigits:G,value:ae},function(){L(ae)})}),Vr(i,"onChange",function(E){var $=i.props,I=$.defaultCountry,D=$.onChange,L=$.addInternationalOption,A=$.international,P=$.limitMaxLength,W=$.countryCallingCodeEditable,Y=$.metadata,G=i.state,ae=G.countries,ge=G.phoneDigits,J=G.country,Ee=G.latestCountrySelectedByUser,K=KC(E,{prevPhoneDigits:ge,country:J,countryRequired:!L,defaultCountry:I,latestCountrySelectedByUser:Ee,getAnyCountry:function(){return i.getFirstSupportedCountry({countries:ae})},countries:ae,international:A,limitMaxLength:P,countryCallingCodeEditable:W,metadata:Y}),z=K.phoneDigits,U=K.country,_=K.value,re={phoneDigits:z,value:_,country:U};Ee&&_&&!kl(_,Ee,Y)&&(re.latestCountrySelectedByUser=void 0),W===!1&&!_&&z===i.state.phoneDigits&&(re.forceRerender={}),i.setState(re,function(){return D(_)})}),Vr(i,"_onFocus",function(){return i.setState({isFocused:!0})}),Vr(i,"_onBlur",function(){return i.setState({isFocused:!1})}),Vr(i,"onFocus",function(E){i._onFocus();var $=i.props.onFocus;$&&$(E)}),Vr(i,"onBlur",function(E){var $=i.props.onBlur;i._onBlur(),$&&$(E)}),Vr(i,"onCountryFocus",function(E){i._onFocus();var $=i.props.countrySelectProps;if($){var I=$.onFocus;I&&I(E)}}),Vr(i,"onCountryBlur",function(E){i._onBlur();var $=i.props.countrySelectProps;if($){var I=$.onBlur;I&&I(E)}}),i.inputRef=Fe.createRef();var o=i.props,d=o.value;o.labels;var u=o.international,g=o.addInternationalOption,h=o.displayInitialValueAsLocalNumber,m=o.initialValueFormat,x=o.metadata,v=i.props,b=v.defaultCountry,p=v.countries;b&&(i.isCountrySupportedWithError(b)||(b=void 0)),d&&s3(d),p=i3(p,x);var S=d3(d,x);i.CountryIcon=l3(i.props);var k=BC({value:d,phoneNumber:S,defaultCountry:b,required:!g,countries:p||Uv(x),getAnyCountry:function(){return i.getFirstSupportedCountry({countries:p})},metadata:x});return i.state={props:i.props,country:k,countries:p,phoneDigits:h3({value:d,phoneNumber:S,defaultCountry:b,international:u,useNationalFormat:h||m==="national",metadata:x}),value:d},i}return c_(t,e),s_(t,[{key:"componentDidMount",value:function(){var i=this.props.onCountryChange,o=this.props.defaultCountry,d=this.state.country;i&&(o&&(this.isCountrySupportedWithError(o)||(o=void 0)),d!==o&&i(d))}},{key:"componentDidUpdate",value:function(i,o){var d=this.props.onCountryChange,u=this.state.country;d&&u!==o.country&&d(u)}},{key:"getCountrySelectOptions",value:function(i){var o=i.countries,d=this.props,u=d.international,g=d.countryCallingCodeEditable,h=d.countryOptionsOrder,m=d.addInternationalOption,x=d.labels,v=d.locales,b=d.metadata;return this.useMemoCountrySelectOptions(function(){return AC(zC({countries:o||Uv(b),countryNames:x,addInternationalOption:u&&g===!1?!1:m,compareStringsLocales:v}),RC(h,b))},[o,h,m,x,b])}},{key:"useMemoCountrySelectOptions",value:function(i,o){return(!this.countrySelectOptionsMemoDependencies||!h_(o,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=i(),this.countrySelectOptionsMemoDependencies=o),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(i){var o=i.countries,d=this.getCountrySelectOptions({countries:o});return d[0].value}},{key:"render",value:function(){var i=this.props,o=i.name,d=i.disabled,u=i.readOnly,g=i.autoComplete,h=i.style,m=i.className;i.inputRef;var x=i.inputComponent,v=i.numberInputProps,b=i.smartCaret,p=i.countrySelectComponent,S=i.countrySelectProps,k=i.containerComponent,E=i.containerComponentProps;i.defaultCountry,i.countries,i.countryOptionsOrder;var $=i.labels;i.flags,i.flagComponent,i.flagUrl,i.addInternationalOption,i.internationalIcon,i.displayInitialValueAsLocalNumber,i.initialValueFormat,i.onCountryChange,i.limitMaxLength,i.countryCallingCodeEditable,i.focusInputOnCountrySelection,i.reset;var I=i.metadata,D=i.international;i.locales;var L=a_(i,t_),A=this.state,P=A.country,W=A.countries,Y=A.phoneDigits,G=A.isFocused,ae=b?lC:fC,ge=this.getCountrySelectOptions({countries:W});return Fe.createElement(k,$l({style:h,className:vu(m,"PhoneInput",{"PhoneInput--focus":G,"PhoneInput--disabled":d,"PhoneInput--readOnly":u})},E),Fe.createElement(p,$l({name:o?"".concat(o,"Country"):void 0,"aria-label":$.country},S,{value:P,options:ge,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:d||S&&S.disabled,readOnly:u||S&&S.readOnly,iconComponent:this.CountryIcon})),Fe.createElement(ae,$l({ref:this.setInputRef,type:"tel",autoComplete:g},v,L,{inputFormat:D===!0?"INTERNATIONAL":D===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:D?!0:void 0,withCountryCallingCode:D?!0:void 0,name:o,metadata:I,country:P,value:Y||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:d,readOnly:u,inputComponent:x,className:vu("PhoneInputInput",v&&v.className,L.className)})))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return m3({props:i},e_(i,o.props,o))}}])}(Fe.PureComponent),x3=Fe.forwardRef(function(e,t){return Fe.createElement(u_,$l({},f_(e),{inputRef:t}))});x3.propTypes={value:Pe.string,onChange:Pe.func.isRequired,onFocus:Pe.func,onBlur:Pe.func,disabled:Pe.bool,readOnly:Pe.bool,autoComplete:Pe.string,initialValueFormat:Pe.oneOf(["national"]),displayInitialValueAsLocalNumber:Pe.bool,defaultCountry:Pe.string,countries:Pe.arrayOf(Pe.string),labels:c3,locales:Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]),flagUrl:Pe.string,flags:Pe.objectOf(Pe.elementType),flagComponent:Pe.elementType,addInternationalOption:Pe.bool,internationalIcon:Pe.elementType,countryOptionsOrder:Pe.arrayOf(Pe.string),style:Pe.object,className:Pe.string,countrySelectComponent:Pe.elementType,countrySelectProps:Pe.object,inputComponent:Pe.elementType,numberInputProps:Pe.object,containerComponent:Pe.elementType,containerComponentProps:Pe.object,smartCaret:Pe.bool,international:Pe.bool,limitMaxLength:Pe.bool,countryCallingCodeEditable:Pe.bool,metadata:o3,onCountryChange:Pe.func,focusInputOnCountrySelection:Pe.bool};var Xv={autoComplete:"tel",countrySelectComponent:t3,flagComponent:tg,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:Qu,inputComponent:"input",containerComponent:"div",reset:Pe.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function f_(e){e=m3({},e);for(var t in Xv)e[t]===void 0&&(e[t]=Xv[t]);return e}function h_(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}const m_={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var g_=["metadata","labels"];function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wm.apply(this,arguments)}function y_(e,t){if(e==null)return{};var n=x_(e,t),i,o;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)i=d[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function x_(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,d;for(d=0;d<i.length;d++)o=i[d],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function p3(e){var t=Fe.forwardRef(function(n,i){var o=n.metadata,d=o===void 0?e:o,u=n.labels,g=u===void 0?m_:u,h=y_(n,g_);return Fe.createElement(x3,wm({},h,{ref:i,metadata:d,labels:g}))});return t.propTypes={metadata:o3,labels:c3},t}p3();const Zv=p3(X9),p_=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"Åland Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaçao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Côte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Réunion"},{"value":"BL","label":"Saint Barthélemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),b_=JSON.parse(`[{"value":"AF","label":"افغانستان"},{"value":"AX","label":"Åland"},{"value":"AL","label":"Shqipëria"},{"value":"DZ","label":"الجزائر"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Հայաստան"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Österreich"},{"value":"AZ","label":"Azərbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"‏البحرين"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Белару́сь"},{"value":"BE","label":"België"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bénin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"ʼbrug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetøya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":"България"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kâmpŭchéa"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Ködörösêse tî Bêafrîka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"中国"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"République du Congo"},{"value":"CD","label":"République démocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Côte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaçao"},{"value":"CY","label":"Κύπρος"},{"value":"CZ","label":"Česká republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"República Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"مصر‎"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":"ኤርትራ"},{"value":"EE","label":"Eesti"},{"value":"ET","label":"ኢትዮጵያ"},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Føroyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane française"},{"value":"PF","label":"Polynésie française"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"საქართველო"},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Ελλάδα"},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinée"},{"value":"GW","label":"Guiné-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haïti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"香港"},{"value":"HU","label":"Magyarország"},{"value":"IS","label":"Ísland"},{"value":"IN","label":"भारत"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"ایران"},{"value":"IQ","label":"العراق"},{"value":"IE","label":"Éire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"יִשְׂרָאֵל"},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"日本"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"الأردن"},{"value":"KZ","label":"Қазақстан"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"북한"},{"value":"KR","label":"대한민국"},{"value":"KW","label":"الكويت"},{"value":"KG","label":"Кыргызстан"},{"value":"LA","label":"ສປປລາວ"},{"value":"LV","label":"Latvija"},{"value":"LB","label":"لبنان"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"‏ليبيا"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"澳門"},{"value":"MK","label":"Северна Македонија"},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"M̧ajeļ"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"موريتانيا"},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"México"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Монгол улс"},{"value":"ME","label":"Црна Гора"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"المغرب"},{"value":"MZ","label":"Moçambique"},{"value":"MM","label":"မြန်မာ"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"नपल"},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Calédonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niuē"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":"عمان"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"فلسطين"},{"value":"PA","label":"Panamá"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Perú"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"قطر"},{"value":"RE","label":"La Réunion"},{"value":"RO","label":"România"},{"value":"RU","label":"Россия"},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthélemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"São Tomé e Príncipe"},{"value":"SA","label":"العربية السعودية"},{"value":"SN","label":"Sénégal"},{"value":"RS","label":"Србија"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"España"},{"value":"LK","label":"śrī laṃkāva"},{"value":"SD","label":"السودان"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":"سوريا"},{"value":"TW","label":"臺灣"},{"value":"TJ","label":"Тоҷикистон"},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":"ประเทศไทย"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"تونس"},{"value":"TR","label":"Türkiye"},{"value":"TM","label":"Türkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Україна"},{"value":"AE","label":"دولة الإمارات العربية المتحدة"},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"O‘zbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Việt Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":"الصحراء الغربية"},{"value":"YE","label":"اليَمَن"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var Eh,Wv;function v_(){if(Wv)return Eh;Wv=1;class e{constructor(){this.data=p_,this.labelMap={},this.valueMap={},this.data.forEach(i=>{this.labelMap[i.label.toLowerCase()]=i.value,this.valueMap[i.value.toLowerCase()]=i.label})}getValue(i){return this.labelMap[i.toLowerCase()]}getLabel(i){return this.valueMap[i.toLowerCase()]}getLabels(){return this.data.map(i=>i.label)}getValues(){return this.data.map(i=>i.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(i,o){return this.data.forEach(d=>{d.value===i&&(d.label=o,this.valueMap[d.value.toLowerCase()]=d.label)}),this}setEmpty(i){return this.data.unshift({value:"",label:i}),this.valueMap[""]=i,this.labelMap[i]="",this}native(){return this.nativeData=b_,this.nativeData.forEach(i=>{this.labelMap[i.label.toLowerCase()]=i.value,this.valueMap[i.value.toLowerCase()]=i.label}),this}}return Eh=()=>{if(!(this instanceof e))return new e},Eh}var N_=v_();const j_=Sc(N_);function Ul({customer:e,onClose:t,onSave:n,isFullPage:i=!1,prefilledName:o="",prefilledData:d={}}){const{createCustomer:u,updateCustomer:g}=Q9(),h=!!e,[m,x]=j.useState(!1),[v,b]=j.useState(null),{posDetails:p}=Mr(),S=j_().getData(),[k,E]=j.useState({customer_type:"individual",name:"",contactName:"",email:"",phone:"",address:{addressType:"Billing",street:"",buildingNumber:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},status:"active",vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash"});j.useEffect(()=>{if(p&&!h){let K="individual";p.business_type==="B2B"?K="company":(p.business_type==="B2C"||p.business_type==="B2B & B2C")&&(K="individual"),E(z=>je(H({},z),{customer_type:K}))}},[p,h]);const[$,I]=j.useState({});j.useEffect(()=>{var K,z,U,_,re,pe,R;e?E({customer_type:e.type||"individual",name:e.name,contactName:e.contactPerson||"",email:e.email,phone:e.phone,address:{addressType:((K=e.address)==null?void 0:K.addressType)||"Billing",street:((z=e.address)==null?void 0:z.street)||"",buildingNumber:((U=e.address)==null?void 0:U.buildingNumber)||"",city:((_=e.address)==null?void 0:_.city)||"",state:((re=e.address)==null?void 0:re.state)||"",zipCode:((pe=e.address)==null?void 0:pe.zipCode)||"",country:((R=e.address)==null?void 0:R.country)||"Saudi Arabia"},status:e.status,vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:e.preferredPaymentMethod||"Cash"}):d&&Object.keys(d).length>0?E(ie=>je(H({},ie),{name:d.name||ie.name,email:d.email||ie.email,phone:d.phone||ie.phone})):o&&E(ie=>je(H({},ie),{name:o}))},[e,o,d]);const D=(p==null?void 0:p.business_type)==="B2B",L=(p==null?void 0:p.business_type)==="B2C",A=(p==null?void 0:p.business_type)==="B2B & B2C",P=()=>D?[{value:"company",label:"Company",icon:Zo,desc:"Business customer"}]:L?[{value:"individual",label:"Individual",icon:Or,desc:"Personal customer"}]:A?[{value:"individual",label:"Individual",icon:Or,desc:"Personal customer"},{value:"company",label:"Company",icon:Zo,desc:"Business customer"}]:[{value:"individual",label:"Individual",icon:Or,desc:"Personal customer"},{value:"company",label:"Company",icon:Zo,desc:"Business customer"}],W=()=>{const K={},z=U=>U.trim()?U.replace(/\D/g,"").length>=10:!1;if(k.customer_type==="company"?(k.name.trim()||(K.name="Customer name is required"),k.contactName.trim()||(K.contactName="Contact name is required"),!k.email.trim()&&!k.phone.trim()&&(K.contact="Either email or phone number must be provided"),k.phone.trim()&&!z(k.phone)&&(K.phone="Phone number must have at least 10 digits including country code")):k.customer_type==="individual"&&(!k.email.trim()&&!k.phone.trim()?K.contact="Either email or phone number must be provided":k.phone.trim()&&!z(k.phone)&&(K.phone="Phone number must have at least 10 digits including country code")),k.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)&&(K.email="Please enter a valid email address"),k.customer_type==="company"&&(p!=null&&p.is_zatca_enabled)&&(!k.vatNumber.trim()&&!k.registrationNumber.trim()&&(K.vatOrRegistration="Either VAT number or Registration number must be provided"),k.registrationScheme&&k.registrationScheme!==""&&!k.registrationNumber.trim()&&(K.registrationNumber="Registration number is required when registration scheme is selected"),k.vatNumber.trim()&&(/^[3]\d{13}[3]$/.test(k.vatNumber.trim())||(K.vatNumber="VAT number must be 15 digits, start with 3 and end with 3 (ZATCA format)"))),k.customer_type==="company"&&p&&p.is_zatca_enabled===!0&&(k.address.street.trim()||(K.street="Street address is required for company"),k.address.buildingNumber.trim()?k.address.buildingNumber.trim().length!==4&&(K.buildingNumber="Building number must be exactly 4 digits"):K.buildingNumber="Building number is required for company",k.address.city.trim()||(K.city="City is required for company"),k.address.state.trim()||(K.state="State/Province is required for company"),k.address.zipCode.trim()||(K.zipCode="Zip code is required for company")),I(K),Object.keys(K).length>0){const U=Object.keys(K)[0];return U&&Be.error(K[U]),!1}return!0},Y=K=>xe(null,null,function*(){if(K.preventDefault(),b(null),!!W()){x(!0);try{const z=H({name:k.name,customer_type:k.customer_type,email:k.email,phone:k.phone,address:k.address,preferredPaymentMethod:k.preferredPaymentMethod},k.customer_type==="company"&&{contactName:k.contactName,vatNumber:k.vatNumber||void 0,registrationScheme:k.registrationScheme||void 0,registrationNumber:k.registrationNumber||void 0});if(h&&(e!=null&&e.id)){const U=yield g(e.id,z);n(je(H({},U),{id:e.id}))}else{const U=yield u(z);n(je(H({},U),{id:U.name}))}t()}catch(z){console.error("Customer save error:",z),b(z instanceof Error?z.message:"Failed to save customer. Please try again.")}finally{x(!1)}}}),G=[{value:"Commercial Registration number(CRN)",label:"Commercial Registration number(CRN)"},{value:"MOMRAH(MOM)",label:"MOMRAH(MOM)"},{value:"MHRSD(MLS)",label:"MHRSD(MLS)"},{value:"700(700)",label:"700(700)"},{value:"MISA(SAG)",label:"MISA(SAG)"},{value:"Other OD(OTH)",label:"Other OD(OTH)"}],ae=[{value:"Cash",label:"Cash"},{value:"Bank Card",label:"Bank Card"},{value:"Bank Payment",label:"Bank Payment"},{value:"Credit",label:"Credit"}],ge=[{value:"Billing",label:"Billing"},{value:"Shipping",label:"Shipping"},{value:"Office",label:"Office"},{value:"Personal",label:"Personal"},{value:"Plant",label:"Plant"},{value:"Postal",label:"Postal"},{value:"Shop",label:"Shop"},{value:"Subsidiary",label:"Subsidiary"},{value:"Warehouse",label:"Warehouse"},{value:"Current",label:"Current"},{value:"Permanent",label:"Permanent"},{value:"Other",label:"Other"}],J=P(),Ee=()=>{const K=z=>z.trim()?z.replace(/\D/g,"").length>=10:!1;if(k.customer_type==="individual"){const z=k.email.trim()!=="",U=K(k.phone);return z||U}else if(k.customer_type==="company"){const z=k.name.trim()!==""&&k.contactName.trim()!==""&&(k.email.trim()!==""||K(k.phone)),U=!(p!=null&&p.is_zatca_enabled)||k.address.street.trim()!==""&&k.address.buildingNumber.trim()!==""&&k.address.buildingNumber.trim().length===4&&k.address.city.trim()!==""&&k.address.state.trim()!==""&&k.address.zipCode.trim()!=="",_=z&&U;if(p&&p.is_zatca_enabled===!0){const re=k.vatNumber.trim()!==""||k.registrationNumber.trim()!=="";return _&&re}return _}return!1};return r.jsx("div",{className:i?"h-full":"fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:i?"h-full bg-white dark:bg-gray-800 flex flex-col":"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[!i&&r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?"Edit Customer":"Add New Customer"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(xr,{size:24})})]}),r.jsxs("form",{onSubmit:Y,className:i?"flex-1 flex flex-col":"flex flex-col h-full",children:[r.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[r.jsxs("div",{children:[(p==null?void 0:p.business_type)==="B2B & B2C"?r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:J.map(K=>{const z=K.icon;return r.jsxs("label",{className:`relative flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${k.customer_type===K.value?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600"}`,children:[r.jsx("input",{type:"radio",name:"customerType",value:K.value,checked:k.customer_type===K.value,onChange:U=>{E(_=>je(H({},_),{customer_type:U.target.value}))},className:"sr-only"}),r.jsx(z,{size:24,className:`mb-2 ${k.customer_type===K.value?"text-beveren-600":"text-gray-400"}`}),r.jsx("span",{className:`font-medium text-sm ${k.customer_type===K.value?"text-beveren-900 dark:text-beveren-100":"text-gray-900 dark:text-white"}`,children:K.label}),r.jsx("span",{className:`text-xs text-center mt-1 ${k.customer_type===K.value?"text-beveren-700 dark:text-beveren-300":"text-gray-500 dark:text-gray-400"}`,children:K.desc})]},K.value)})})]}):r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),r.jsx("div",{className:"bg-beveren-50 dark:bg-beveren-900/20 border-2 border-beveren-500 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[k.customer_type==="company"?r.jsx(Zo,{size:24,className:"text-beveren-600 mr-3"}):r.jsx(Or,{size:24,className:"text-beveren-600 mr-3"}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-beveren-900 dark:text-beveren-100",children:[k.customer_type==="company"?"Company":"Individual"," ","Customer"]}),r.jsx("p",{className:"text-sm text-beveren-700 dark:text-beveren-300 mt-1",children:k.customer_type==="company"?"Business customer (B2B)":"Personal customer (B2C)"})]})]})})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Or,{size:20,className:"mr-2"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Customer Name",k.customer_type==="company"&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",value:k.name,onChange:K=>E(z=>je(H({},z),{name:K.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${$.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),$.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.name})]}),k.customer_type==="company"&&(p==null?void 0:p.is_zatca_enabled)&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Country"}),r.jsx("input",{list:"country-list",id:"country",value:k.address.country,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{country:K.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),r.jsx("datalist",{id:"country-list",children:S.map(K=>r.jsx("option",{value:K.label},K.value))})]})]})]}),k.customer_type==="individual"&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mt-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(qn,{size:20,className:"mr-2"}),"Contact Information",r.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:k.email,onChange:K=>E(z=>je(H({},z),{email:K.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${$.email||$.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),$.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.email})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),r.jsx(Zv,{id:"phone",international:!0,defaultCountry:"SA",value:k.phone,onChange:K=>E(z=>je(H({},z),{phone:K||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),$.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.phone})]})})]}),$.contact&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.contact})]})]}),k.customer_type==="company"&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(qn,{size:20,className:"mr-2"}),"Contact Information",k.customer_type==="company"&&r.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"contactName",value:k.contactName,onChange:K=>E(z=>je(H({},z),{contactName:K.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${$.contactName?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name"}),$.contactName&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.contactName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:k.email,onChange:K=>E(z=>je(H({},z),{email:K.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${$.email||$.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),$.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.email})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),r.jsx(Zv,{id:"phone",international:!0,defaultCountry:"SA",value:k.phone,onChange:K=>E(z=>je(H({},z),{phone:K||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),$.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.phone})]}),$.contact&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.contact})]}),k.customer_type==="company"&&p&&p.is_zatca_enabled===!0&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ar,{size:20,className:"mr-2"}),"ZATCA Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),r.jsx("select",{id:"paymentMethod",value:k.preferredPaymentMethod,onChange:K=>E(z=>je(H({},z),{preferredPaymentMethod:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:ae.map(K=>r.jsx("option",{value:K.value,children:K.label},K.value))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),r.jsx("input",{type:"text",id:"vatNumber",value:k.vatNumber,onChange:K=>E(z=>je(H({},z),{vatNumber:K.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${$.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter VAT number"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"registrationScheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Scheme"}),r.jsxs("select",{id:"registrationScheme",value:k.registrationScheme,onChange:K=>E(z=>je(H({},z),{registrationScheme:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Registration Scheme"}),G.map(K=>r.jsx("option",{value:K.value,children:K.label},K.value))]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Number"," ",k.registrationScheme&&k.registrationScheme!==""?"*":""]}),r.jsx("input",{type:"text",id:"registrationNumber",value:k.registrationNumber,onChange:K=>E(z=>je(H({},z),{registrationNumber:K.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${$.registrationNumber||$.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter registration number"}),$.registrationNumber&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.registrationNumber})]})]}),$.vatOrRegistration&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.vatOrRegistration})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Du,{size:20,className:"mr-2"}),"Address",k.customer_type==="company"?"":" (Optional)"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Type"}),r.jsx("select",{id:"addressType",value:k.address.addressType,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{addressType:K.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:ge.map(K=>r.jsx("option",{value:K.value,children:K.label},K.value))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address",k.customer_type==="company"&&(p==null?void 0:p.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"street",value:k.address.street,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{street:K.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.street?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter street address"}),$.street&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.street})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"buildingNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Building Number (4 digits)",k.customer_type==="company"&&(p==null?void 0:p.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"buildingNumber",value:k.address.buildingNumber,onChange:K=>{const z=K.target.value.replace(/\D/g,"");z.length<=4&&E(U=>je(H({},U),{address:je(H({},U.address),{buildingNumber:z})}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.buildingNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"1234",maxLength:4}),$.buildingNumber&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.buildingNumber})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City",k.customer_type==="company"&&(p==null?void 0:p.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"city",value:k.address.city,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{city:K.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.city?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter city"}),$.city&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.city})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State/Province",k.customer_type==="company"&&(p==null?void 0:p.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"state",value:k.address.state,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{state:K.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.state?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter state/province"}),$.state&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.state})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Zip Code",k.customer_type==="company"&&(p==null?void 0:p.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"zipCode",value:k.address.zipCode,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{zipCode:K.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${$.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter zip code"}),$.zipCode&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:$.zipCode})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),r.jsx("input",{list:"country-list",id:"country",value:k.address.country,onChange:K=>E(z=>je(H({},z),{address:je(H({},z.address),{country:K.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),r.jsx("datalist",{id:"country-list",children:S.map(K=>r.jsx("option",{value:K.label},K.value))})]})]})]})]}),v&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:v})]}),r.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:m||!Ee(),className:`px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 ${m||!Ee()?"opacity-50 cursor-not-allowed":""}`,children:m?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"↻"}),r.jsx("span",{children:h?"Updating...":"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx($5,{size:18}),r.jsx("span",{children:h?"Update Customer":"Save Customer"})]})})})})]})]})})}function rg(e){const[t,n]=j.useState([]),[i,o]=j.useState(!0),[d,u]=j.useState(null),g=h=>xe(null,null,function*(){o(!0);try{const m=h?`?search=${encodeURIComponent(h)}`:"",v=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customers${m}`)).json();if(!v.message.success)throw new Error(v.error||"Failed to fetch customers");const p=v.message.data.map(S=>{var I;const k=[{street:"Sheikh Zayed Road",city:"Dubai",state:"Dubai",zipCode:"12345"},{street:"Corniche Road",city:"Abu Dhabi",state:"Abu Dhabi",zipCode:"54321"},{street:"Al Qasba",city:"Sharjah",state:"Sharjah",zipCode:"67890"},{street:"Al Rigga Road",city:"Deira",state:"Dubai",zipCode:"23456"}],E=Math.floor(Math.random()*k.length),$=k[E];return{id:S.name,type:S.customer_type==="Company"?"company":"individual",name:S.customer_name||`Customer ${S.name.slice(0,5)}`,email:S.email_id||`${S.name.slice(0,5)}@example.com`,phone:S.mobile_no||`+9715${Math.floor(Math.random()*9e6)+1e6}`,address:{street:($==null?void 0:$.street)||"",city:($==null?void 0:$.city)||"",state:($==null?void 0:$.state)||"",zipCode:($==null?void 0:$.zipCode)||"",country:"United Arab Emirates"},dateOfBirth:S.custom_date_of_birth||k_(),gender:S.custom_gender||w_(),loyaltyPoints:S.custom_loyalty_points||0,totalSpent:S.custom_total_spent||0,totalOrders:S.custom_total_orders||0,preferredPaymentMethod:$_(),notes:S.custom_notes||"",tags:((I=S.custom_tags)==null?void 0:I.split(",").filter(Boolean))||[],status:S.custom_status||"active",createdAt:S.creation||new Date().toISOString(),lastVisit:S.custom_last_visit||void 0,avatar:S.custom_avatar||void 0,defaultCurrency:S.default_currency,companyCurrency:S.company_currency}});n(p)}catch(m){u(m)}finally{o(!1)}});return j.useEffect(()=>{g(e)},[e]),{customers:t,isLoading:i,error:d,refetch:g}}function w_(){const e=["male","female","other"],t=Math.floor(Math.random()*e.length);return e[t]||"male"}function k_(){const e=new Date(1950,0,1),t=new Date(2005,0,1);return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toISOString()}function $_(){const e=["cash","card","mobile","loyalty"],t=Math.floor(Math.random()*e.length);return e[t]||"cash"}function S_(e){const[t,n]=j.useState(null),[i,o]=j.useState(!1),[d,u]=j.useState(null);return j.useEffect(()=>{if(!e)return;xe(null,null,function*(){var h;o(!0);try{const x=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${e}`)).json();if(!x.message||x.message.success===!1)throw new Error(((h=x.message)==null?void 0:h.error)||"Failed to fetch customer");const v=x.message,b={id:v.name,type:v.customer_type==="Company"?"company":"individual",name:v.customer_name||`Customer ${v.name.slice(0,5)}`,email:v.email_id||"",phone:v.mobile_no||"",address:{addressType:"Billing",street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:v.creation||new Date().toISOString(),lastVisit:void 0,avatar:void 0,defaultCurrency:void 0,companyCurrency:void 0,contactPerson:v.customer_name||"",companyName:v.customer_type==="Company"?v.customer_name:void 0,taxId:"",industry:"",employeeCount:""};n(b)}catch(m){m instanceof Error?u(m.message):u("Unknown error")}finally{o(!1)}})},[e]),{customer:t,isLoading:i,error:d}}function C_(e){return xe(this,null,function*(){const n=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(e)}`)).json();if(n!=null&&n.message&&Array.isArray(n.message))return n.message;throw new Error("Invalid response format")})}function b3(e){const[t,n]=j.useState(null),[i,o]=j.useState(!1),[d,u]=j.useState(null),g=()=>xe(null,null,function*(){var h,m;if(!e){n(null);return}o(!0),u(null);try{const x=yield fetch(`/api/method/klik_pos.api.customer.get_customer_statistics?customer_id=${encodeURIComponent(e)}`);if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const v=yield x.json();if((h=v==null?void 0:v.message)!=null&&h.success)n(v.message.data);else throw new Error(((m=v==null?void 0:v.message)==null?void 0:m.error)||"Failed to fetch customer statistics")}catch(x){console.error("Error fetching customer statistics:",x),u(x.message||"Failed to fetch customer statistics"),n(null)}finally{o(!1)}});return j.useEffect(()=>{g()},[e]),{statistics:t,isLoading:i,error:d,refetch:g}}function v3({cartItems:e,onUpdateQuantity:t,onRemoveItem:n,onClearCart:i,appliedCoupons:o,onApplyCoupon:d,onRemoveCoupon:u,isMobile:g=!1}){var Na,he;const[h,m]=j.useState(!1),[x,v]=j.useState(null),[b,p]=j.useState(!1);j.useEffect(()=>{},[x]);const[S,k]=j.useState(""),[E,$]=j.useState(!1),[I,D]=j.useState(!1),[L,A]=j.useState(!1);j.useRef(null);const{customers:P,isLoading:W,refetch:Y}=rg(),{refreshStockOnly:G}=Au();ya();const{posDetails:ae,loading:ge}=Mr(),{statistics:J}=b3((x==null?void 0:x.id)||null),[Ee,K]=j.useState(""),[z,U]=j.useState({});ae==null||ae.currency;const _=ae==null?void 0:ae.currency_symbol,[re,pe]=j.useState({}),[R,ie]=j.useState({}),[ve,V]=j.useState(new Set),_e=X=>{const ze=re[X.id]||{discountPercentage:0,discountAmount:0};let ht=X.price;return ze.discountPercentage>0&&(ht=X.price*(1-ze.discountPercentage/100)),ze.discountAmount>0&&(ht=Math.max(0,ht-ze.discountAmount)),Math.max(0,ht)},Ye=e.reduce((X,ze)=>{const ht=_e(ze);return X+ht*ze.quantity},0),Oe=e.reduce((X,ze)=>{const ht=ze.price*ze.quantity,ft=_e(ze)*ze.quantity;return X+(ht-ft)},0),We=o.reduce((X,ze)=>X+ze.value,0),ye=Math.max(0,Ye-We),$e=X=>{if(X.key==="Enter"&&S.trim()!=="")if(Ze.length===0){const ze=S.trim();let ht={};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ze))ht={email:ze};else if(/^[\d\s\+\-\(\)]+$/.test(ze)&&ze.replace(/[\s\+\-\(\)]/g,"").length>=7){let ft=ze;const He=ze.replace(/[\s\+\-\(\)]/g,"");!He.startsWith("966")&&!He.startsWith("+966")?He.startsWith("0")?ft="+966"+He.substring(1):ft="+966"+He:He.startsWith("966")&&!He.startsWith("+966")&&(ft="+"+He),ht={phone:ft}}else console.log("Detected name:",ze),ht={name:ze};U(ht),K(ze),D(!0),$(!1)}else Ze.length===1&&!b&&Q(Ze[0])},Ae=(X,ze,ht)=>{pe(ft=>je(H({},ft),{[X]:je(H({},ft[X]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:150}),{[ze]:typeof ht=="string"?ht:Math.max(0,ht)})}))},Ze=S.trim()===""?P:P.filter(X=>X.name.toLowerCase().includes(S.toLowerCase())||X.email.toLowerCase().includes(S.toLowerCase())||X.phone.includes(S)||X.tags.some(ze=>ze.toLowerCase().includes(S.toLowerCase()))),xt=()=>x?!0:(Be.error("Kindly choose customer"),!1),Q=X=>{v(X),k(X.name),$(!1),p(!1)},De=X=>xe(null,null,function*(){var ze;if(X&&X.customer_name)try{const ht=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(X.customer_name)}`);if(!ht.ok)throw new Error(`HTTP ${ht.status}: ${ht.statusText}`);const ft=yield ht.json();if(ft.message){const He=ft.message,yt={id:He.name,name:He.customer_name||He.name,email:He.email_id||"",phone:He.mobile_no||"",type:He.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:He.custom_loyalty_points||0,totalSpent:He.custom_total_spent||0,totalOrders:He.custom_total_orders||0,preferredPaymentMethod:"Cash",tags:((ze=He.custom_tags)==null?void 0:ze.split(",").filter(Boolean))||[],status:He.custom_status||"active",createdAt:He.creation||new Date().toISOString()};v(yt),k(""),Y&&Y()}}catch(ht){console.error("Error fetching customer details:",ht);const ft={id:X.customer_name||"",name:X.customer_name||"",email:"",phone:"",type:"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",tags:[],status:"active",createdAt:new Date().toISOString()};v(ft),k("")}D(!1),K(""),U({})}),Rt=X=>xe(null,null,function*(){console.log("OrderSummary: Payment completed, invoice created - modal stays open for preview")}),ia=X=>xe(null,null,function*(){A(!1),X?(console.log("OrderSummary: Payment was completed - clearing cart for next order"),Kt()):console.log("OrderSummary: Payment was not completed - keeping cart items");try{(yield G())?console.log("OrderSummary: Stock refreshed successfully - cashier can now see updated availability"):(console.log("OrderSummary: No stock updates needed"),Be.info("Stock is up to date"))}catch(ze){console.error("OrderSummary: Failed to refresh stock:",ze);const ht=(ze==null?void 0:ze.message)||"Unknown error";Be.error(`Failed to update stock: ${ht}`)}}),Pt=X=>xe(null,null,function*(){if(!x){Be.error("Kindly select a customer");return}try{A(!1);const ze=yield k2(X);ze&&ze.success?(Kt(),Be.success("Draft invoice created and order held successfully!")):Be.error("Failed to create draft invoice")}catch(ze){console.error("Error creating draft invoice:",ze),Be.error("Failed to create draft invoice: "+ze.message)}}),Kt=()=>{e.length!==0&&(i?i():[...e].forEach(ze=>{n&&n(ze.id)}),o.forEach(X=>{u(X.code)}),pe({}),v(null),k(""))},Aa=X=>{switch(X.type){case"company":return r.jsx(Zo,{size:14,className:"text-purple-600"});case"walk-in":return r.jsx(Or,{size:14,className:"text-gray-600"});default:return r.jsx(Or,{size:14,className:"text-blue-600"})}},Ra=X=>{const ze=new Set(ve);ze.has(X)?ze.delete(X):ze.add(X),V(ze)};return j.useEffect(()=>{if(P.length===1&&!x&&!W){const X=P[0];v(X),k(X.name),$(!1)}},[P,x,W]),j.useEffect(()=>{if(ae!=null&&ae.default_customer&&!x&&!ge&&!b){const X=ae.default_customer;console.log("Default customer details:",X);const ze={id:X.id,name:X.name,email:X.email,phone:X.phone,customer_type:X.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),defaultCurrency:X.default_currency};v(ze),k(ze.name),$(!1)}},[ae,x,ge,b]),j.useEffect(()=>{const X=()=>xe(null,null,function*(){const ze=H({},R);for(const ht of e){const ft=`${ht.item_code}`;if(!ze[ft])try{const He=yield C_(ht.id);Array.isArray(He)&&(ze[ft]=He)}catch(He){console.error("Error fetching batches",He)}}ie(ze)});e.length&&X()},[e]),r.jsxs("div",{className:`h-full flex flex-col bg-white dark:bg-gray-800 ${g?"":"border-l"} border-gray-200 dark:border-gray-700`,children:[!g&&r.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:S,onChange:X=>{k(X.target.value),$(X.target.value.length>0)},onKeyDown:$e,onFocus:()=>$(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),E&&Ze.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:Ze.slice(0,8).map(X=>r.jsx("button",{onClick:()=>Q(X),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[Aa(X),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:X.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[X.email," • ",X.phone]})]})]})},X.id))})]}),r.jsx("button",{onClick:()=>D(!0),className:"ml-2 p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",title:"Add New Customer",children:r.jsx(Gb,{size:16})})]}),x&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[console.log("Selected Customer Data (Mobile):",{name:x,phone:x.phone,phoneType:typeof x.phone,phoneLength:(Na=x.phone)==null?void 0:Na.length,phoneNotNA:x.phone!=="N/A",phoneTruthy:!!x.phone,totalOrders:x.totalOrders,realTimeOrders:J==null?void 0:J.total_orders,loyaltyPoints:x.loyaltyPoints}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[Aa(x),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:x.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[console.log("Phone rendering check:",{phone:x.phone,phoneExists:!!x.phone,phoneNotNA:x.phone!=="N/A",shouldShowPhone:x.phone&&x.phone!=="N/A"}),x.phone&&x.phone!=="N/A"&&x.phone.trim()!==""&&r.jsx("span",{children:x.phone}),x.phone&&x.phone!=="N/A"&&x.phone.trim()!==""&&((J==null?void 0:J.total_orders)||0)>0&&r.jsx("span",{className:"mx-2",children:"•"}),((J==null?void 0:J.total_orders)||0)>0&&r.jsxs("span",{children:[(J==null?void 0:J.total_orders)||0," orders"]}),(!x.phone||x.phone==="N/A"||x.phone.trim()==="")&&((J==null?void 0:J.total_orders)||0)===0&&r.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),r.jsx("button",{onClick:()=>{v(null),k(""),p(!0)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(xr,{size:14})})]})]})]})}),g&&r.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:S,onChange:X=>{k(X.target.value),$(X.target.value.length>0)},onKeyPress:$e,onFocus:()=>$(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),E&&Ze.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:Ze.slice(0,8).map(X=>r.jsx("button",{onClick:()=>Q(X),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[Aa(X),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:X.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[X.email," • ",X.phone]})]})]})},X.id))})]}),r.jsx("button",{onClick:()=>D(!0),className:"p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:r.jsx(Gb,{size:16})})]}),x&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[console.log("Selected Customer Data:",{name:x.name,phone:x.phone,phoneType:typeof x.phone,phoneLength:(he=x.phone)==null?void 0:he.length,phoneNotNA:x.phone!=="N/A",phoneTruthy:!!x.phone,totalOrders:x.totalOrders,realTimeOrders:J==null?void 0:J.total_orders,loyaltyPoints:x.loyaltyPoints}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[Aa(x),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:x.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[console.log("Phone rendering check (Desktop):",{phone:x.phone,phoneExists:!!x.phone,phoneNotNA:x.phone!=="N/A",shouldShowPhone:x.phone&&x.phone!=="N/A"}),x.phone&&x.phone!=="N/A"&&x.phone.trim()!==""&&r.jsx("span",{children:x.phone}),x.phone&&x.phone!=="N/A"&&x.phone.trim()!==""&&((J==null?void 0:J.total_orders)||0)>0&&r.jsx("span",{className:"mx-2",children:"•"}),((J==null?void 0:J.total_orders)||0)>0&&r.jsxs("span",{children:[(J==null?void 0:J.total_orders)||0," orders"]}),(!x.phone||x.phone==="N/A"||x.phone.trim()==="")&&((J==null?void 0:J.total_orders)||0)===0&&r.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),r.jsx("button",{onClick:()=>{v(null),k(""),p(!0)},className:"text-gray-400 hover:text-gray-600",children:r.jsx(xr,{size:14})})]})]})]}),r.jsx("div",{className:`${g?"flex-1 overflow-y-auto custom-scrollbar p-4":"flex-1 overflow-y-auto p-6 cart-scroll"}`,children:r.jsx("div",{className:"space-y-4",children:e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🛒"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]}):e.map(X=>{var yt;const ze=_e(X),ht=X.price*X.quantity,ft=ze*X.quantity,He=re[X.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:""};return r.jsxs("div",{className:`${g?"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden":""}`,children:[r.jsxs("div",{className:`flex items-center ${g?"p-3":"py-2"}`,children:[r.jsx("div",{className:"flex-shrink-0 mr-2",children:r.jsx("button",{onClick:()=>Ra(X.id),className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-500 transition-all duration-200",title:"Show/Hide Details",children:r.jsx("svg",{className:`${g?"w-3 h-3":"w-4 h-4"} text-beveren-500 dark:text-gray-400 transform transition-transform duration-200 ${ve.has(X.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),X.image&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:X.image,alt:X.name,className:`${g?"w-16 h-16":"w-12 h-12"} rounded-lg object-cover`,crossOrigin:"anonymous"})}),r.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[r.jsx("h4",{className:`font-semibold text-gray-900 dark:text-white ${g?"text-base":"text-sm"} truncate`,children:X.name}),r.jsx("p",{className:`text-gray-500 dark:text-gray-400 capitalize font-medium ${g?"text-sm":"text-xs"}`,children:X.category}),r.jsx("div",{className:`${g?"text-base":"text-sm"}`,children:ze<X.price?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-gray-400 line-through text-xs",children:[_,X.price.toFixed(2)]}),r.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[_,ze.toFixed(2)]})]}):r.jsxs("div",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[_,X.price.toFixed(2)]})})]}),r.jsxs("div",{className:"flex-shrink-0 flex items-center ml-10 space-x-1 min-w-[70px] justify-center",children:[r.jsx("button",{onClick:()=>t(X.id,X.quantity-1),className:`${g?"w-8 h-8":"w-5 h-5"} rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,children:r.jsx(Qm,{size:g?16:14,className:"text-gray-600 dark:text-gray-400"})}),r.jsx("span",{className:`${g?"w-10":"w-8"} text-center font-semibold text-gray-900 dark:text-white text-sm`,children:X.quantity}),r.jsx("button",{onClick:()=>t(X.id,X.quantity+1),className:`${g?"w-8 h-8":"w-7 h-7"} rounded-full bg-beveren-600 text-white flex items-center justify-center hover:bg-beveren-700 transition-colors`,children:r.jsx(tc,{size:g?16:14})})]}),r.jsx("div",{className:"flex-shrink-0 text-right min-w-[80px] px-2",children:ft<ht?r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-400 line-through text-xs",children:[_,ht.toFixed(2)]}),r.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${g?"text-base":"text-sm"}`,children:[_,ft.toFixed(2)]})]}):r.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${g?"text-base":"text-sm"}`,children:[_,ft.toFixed(2)]})}),r.jsx("div",{className:"flex-shrink-0 ml-2",children:r.jsx("button",{onClick:()=>n?n(X.id):t(X.id,0),className:`${g?"w-8 h-8":"w-6 h-6"} rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors`,title:"Remove item",children:r.jsx(xr,{size:g?16:12})})})]}),ve.has(X.id)&&r.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 ${g?"px-3 pb-3":"px-6 py-3 ml-7"} bg-gray-25 dark:bg-gray-750`,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-xs mb-1",children:"Quantity"}),r.jsx("input",{type:"number",min:"0",value:X.quantity,onChange:jt=>t(X.id,parseInt(jt.target.value)||0),className:`w-full ${g?"text-sm":"text-xs"} px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-xs mb-1",children:"Discount (%)"}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:He.discountPercentage||"",onChange:jt=>Ae(X.id,"discountPercentage",parseFloat(jt.target.value)||0),placeholder:"0.0",className:`w-full ${g?"text-sm":"text-xs"} px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-xs mb-1",children:"Batch"}),r.jsxs("select",{value:He.batchNumber||"",onChange:jt=>{var bt,Zt;const be=jt.target.value,ke=((Zt=(bt=R[X.item_code])==null?void 0:bt.find(ea=>ea.batch_no===be))==null?void 0:Zt.qty)||0;Ae(X.id,"batchNumber",be),Ae(X.id,"availableQuantity",ke)},className:`w-full ${g?"text-sm":"text-xs"} px-2 py-1.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent
                                bg-white text-gray-900 appearance-none`,style:{backgroundColor:"white",color:"#111827"},children:[r.jsx("option",{value:"",disabled:!0}),(yt=R[X.item_code])==null?void 0:yt.map(jt=>r.jsxs("option",{value:jt.batch_no,style:{backgroundColor:"white",color:"#111827"},children:[jt.batch_id," - ",jt.qty]},jt.batch_no))]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-xs mb-1",children:"Discount Amount ($)"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:He.discountAmount||"",onChange:jt=>Ae(X.id,"discountAmount",parseFloat(jt.target.value)||0),placeholder:"0.00",className:`w-full ${g?"text-sm":"text-xs"} px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-xs mb-1",children:"Serial No."}),r.jsx("input",{type:"text",value:He.serialNumber||"",onChange:jt=>Ae(X.id,"serialNumber",jt.target.value),placeholder:"Enter serial number",className:`w-full ${g?"text-sm":"text-xs"} px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white`})]})]})]}),(He.discountPercentage>0||He.discountAmount>0)&&r.jsxs("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"text-xs text-green-800 dark:text-green-300 font-medium",children:"Discount Applied:"}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400",children:[He.discountPercentage>0&&`${He.discountPercentage}% off`,He.discountPercentage>0&&He.discountAmount>0&&" + ",He.discountAmount>0&&`${He.discountAmount.toFixed(2)} off`]}),r.jsxs("span",{className:"text-xs font-semibold text-green-800 dark:text-green-300",children:["Save $",(ht-ft).toFixed(2)]})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600 flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>Ra(X.id),className:`px-3 py-1 ${g?"text-sm":"text-xs"} text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium`,children:"Collapse"}),r.jsx("button",{onClick:()=>{Be.success("Item details updated successfully!")},className:`px-3 py-1 ${g?"text-sm":"text-xs"} bg-beveren-600 text-white rounded-md hover:bg-beveren-700 transition-colors font-medium`,children:"Update"})]})]})]},X.id)})})}),e.length>0&&r.jsxs("div",{className:`${g?"flex-shrink-0 p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shadow-lg":"p-4 border-t border-gray-100 dark:border-gray-700"} space-y-3`,children:[r.jsxs("div",{className:`grid grid-cols-2 gap-3 ${g?"mb-3":""}`,children:[r.jsx("button",{onClick:()=>{if(!xt())return;const X={items:e.map(ze=>({id:ze.id,quantity:ze.quantity,price:_e(ze)})),customer:{id:x.id},subtotal:Ye,total:ye,appliedCoupons:o,itemDiscounts:re,totalItemDiscount:Oe,totalSavings:Oe+We,status:"held"};Pt(X)},className:"px-3 py-2 border border-beveren-600 text-beveren-600 dark:text-beveren-400 rounded-lg font-medium hover:bg-beveren-600 hover:text-white transition-colors text-sm",children:"Hold"}),r.jsx("button",{onClick:Kt,className:"px-3 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:"Clear Cart"})]}),r.jsxs("button",{onClick:()=>{xt()&&A(!0)},className:`w-full bg-beveren-600 text-white rounded-xl font-semibold hover:bg-beveren-700 transition-colors ${g?"py-3 text-base":"py-2 text-sm"}`,children:["Checkout ",_,ye.toFixed(2)]})]}),I&&r.jsx(Ul,{customer:null,onClose:()=>{D(!1),K(""),U({})},onSave:De,prefilledName:Ee,prefilledData:z}),L&&r.jsx(Xm,{isOpen:L,onClose:ia,cartItems:e.map(X=>je(H({},X),{discountedPrice:_e(X),itemDiscount:re[X.id]||{},originalPrice:X.price,finalAmount:_e(X)*X.quantity})),appliedCoupons:o,selectedCustomer:x,onCompletePayment:Rt,onHoldOrder:Pt,isMobile:g,itemDiscounts:re,totalItemDiscount:Oe})]})}const Jv=e=>{let t;const n=new Set,i=(m,x)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const b=t;t=(x!=null?x:typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(p=>p(t,b))}},o=()=>t,g={setState:i,getState:o,getInitialState:()=>h,subscribe:m=>(n.add(m),()=>n.delete(m))},h=t=e(i,o,g);return g},__=e=>e?Jv(e):Jv,T_=e=>e;function E_(e,t=T_){const n=Fe.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Fe.useDebugValue(n),n}const O_=e=>{const t=__(e),n=i=>E_(t,i);return Object.assign(n,t),n},A_=e=>O_;function R_(e,t){let n;try{n=e()}catch(o){return}return{getItem:o=>{var d;const u=h=>h===null?null:JSON.parse(h,void 0),g=(d=n.getItem(o))!=null?d:null;return g instanceof Promise?g.then(u):u(g)},setItem:(o,d)=>n.setItem(o,JSON.stringify(d,void 0)),removeItem:o=>n.removeItem(o)}}const km=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return km(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return km(i)(n)}}}},P_=(e,t)=>(n,i,o)=>{let d=H({storage:R_(()=>localStorage),partialize:k=>k,version:0,merge:(k,E)=>H(H({},E),k)},t),u=!1;const g=new Set,h=new Set;let m=d.storage;if(!m)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),n(...k)},i,o);const x=()=>{const k=d.partialize(H({},i()));return m.setItem(d.name,{state:k,version:d.version})},v=o.setState;o.setState=(k,E)=>{v(k,E),x()};const b=e((...k)=>{n(...k),x()},i,o);o.getInitialState=()=>b;let p;const S=()=>{var k,E;if(!m)return;u=!1,g.forEach(I=>{var D;return I((D=i())!=null?D:b)});const $=((E=d.onRehydrateStorage)==null?void 0:E.call(d,(k=i())!=null?k:b))||void 0;return km(m.getItem.bind(m))(d.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==d.version){if(d.migrate){const D=d.migrate(I.state,I.version);return D instanceof Promise?D.then(L=>[!0,L]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var D;const[L,A]=I;if(p=d.merge(A,(D=i())!=null?D:b),n(p,!0),L)return x()}).then(()=>{$==null||$(p,void 0),p=i(),u=!0,h.forEach(I=>I(p))}).catch(I=>{$==null||$(void 0,I)})};return o.persist={setOptions:k=>{d=H(H({},d),k),k.storage&&(m=k.storage)},clearStorage:()=>{m==null||m.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>S(),hasHydrated:()=>u,onHydrate:k=>(g.add(k),()=>{g.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},d.skipHydration||S(),p||b},M_=P_,ng=A_()(M_((e,t)=>({cartItems:[],appliedCoupons:[],selectedCustomer:null,addToCart:n=>e(i=>i.cartItems.find(d=>d.id===n.id)?{cartItems:i.cartItems.map(d=>d.id===n.id?je(H({},d),{quantity:d.quantity+1}):d)}:{cartItems:[...i.cartItems,je(H({},n),{quantity:1})]}),updateQuantity:(n,i)=>e(o=>i<=0?{cartItems:o.cartItems.filter(d=>d.id!==n)}:{cartItems:o.cartItems.map(d=>d.id===n?je(H({},d),{quantity:i}):d)}),removeItem:n=>e(i=>({cartItems:i.cartItems.filter(o=>o.id!==n)})),clearCart:()=>e(()=>({cartItems:[],appliedCoupons:[],selectedCustomer:null})),applyCoupon:n=>e(i=>i.appliedCoupons.some(o=>o.code===n.code)?i:{appliedCoupons:[...i.appliedCoupons,n]}),removeCoupon:n=>e(i=>({appliedCoupons:i.appliedCoupons.filter(o=>o.code!==n)})),setSelectedCustomer:n=>e(()=>({selectedCustomer:n}))}),{name:"beveren-cart-storage"})),D_={USD:"$",SAR:"ر.س",AED:"د.إ",EUR:"€",GBP:"£",JPY:"¥",CAD:"C$",AUD:"A$",CHF:"CHF",CNY:"¥",INR:"₹",KRW:"₩",MXN:"$",NZD:"NZ$",SGD:"S$",THB:"฿",TRY:"₺",ZAR:"R",BRL:"R$",RUB:"₽",SEK:"kr",NOK:"kr",DKK:"kr",PLN:"zł",CZK:"Kč",HUF:"Ft",ILS:"₪",EGP:"£",QAR:"ر.ق",KWD:"د.ك",BHD:"د.ب",OMR:"ر.ع",JOD:"د.أ",LBP:"ل.ل",PKR:"₨",BDT:"৳",LKR:"₨",NPR:"₨",AFN:"؋",IRR:"﷼",IQD:"د.ع",SYP:"£",YER:"﷼",MAD:"د.م",TND:"د.ت",DZD:"د.ج",LYD:"ل.د",ETB:"Br",KES:"KSh",UGX:"USh",TZS:"TSh",ZMW:"ZK",BWP:"P",SZL:"L",LSL:"L",NAD:"N$",MUR:"₨",SCR:"₨",MVR:"ރ",NIO:"C$",GTQ:"Q",HNL:"L",SVC:"$",BZD:"BZ$",JMD:"J$",TTD:"TT$",BBD:"Bds$",XCD:"$",AWG:"ƒ",ANG:"ƒ",SRD:"$",GYD:"G$",VEF:"Bs",COP:"$",PEN:"S/",BOB:"Bs",CLP:"$",ARS:"$",UYU:"$U",PYG:"₲",FKP:"£",FJD:"FJ$",PGK:"K",SBD:"SI$",VUV:"Vt",WST:"WS$",TOP:"T$",PHP:"₱",IDR:"Rp",MYR:"RM",VND:"₫",LAK:"₭",KHR:"៛",MMK:"K",BND:"B$"},L_=e=>D_[e.toUpperCase()]||e,St=(e,t)=>!e&&e!==0?"0.00":`${L_(t||"USD")} ${e.toFixed(2)}`;function Kn(){const e=ya(),t=Pr(),n=[{icon:Ec,path:"/pos",label:"POS"},{icon:x2,path:"/invoice",label:"Invoice"},{icon:Ds,path:"/customers",label:"Customers"},{icon:vl,path:"/dashboard",label:"Dashboard"},{icon:Dl,path:"/closing_shift",label:"Closing"}],i=o=>o==="/pos"?t.pathname==="/"||t.pathname==="/pos":t.pathname.startsWith(o);return r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 safe-area-pb",children:r.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:n.map((o,d)=>r.jsxs("button",{onClick:()=>e(o.path),className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 transition-colors ${i(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:[r.jsx(o.icon,{size:20,className:`mb-1 ${i(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`}),r.jsx("span",{className:`text-xs font-medium truncate ${i(o.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:o.label})]},d))})})}function I_({items:e,selectedCategory:t,onCategoryChange:n,searchQuery:i,onSearchChange:o,onScanBarcode:d,scannerOnly:u=!1}){const{t:g}=tn(),{user:h,logout:m}=zs(),{theme:x,toggleTheme:v}=Fu(),{posDetails:b,loading:p}=Mr(),{cartItems:S,addToCart:k}=ng(),E=ya(),[$,I]=j.useState(!1),[D,L]=j.useState("grid"),A=j.useRef(null);j.useEffect(()=>{if(!p&&b){const J=b.custom_default_view;J==="List View"?L("list"):J==="Grid View"&&L("grid")}},[b,p]),j.useEffect(()=>{function J(Ee){A.current&&!A.current.contains(Ee.target)&&I(!1)}return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[A]);const P=()=>xe(null,null,function*(){try{yield m(),window.location.href="/klik_pos/login"}catch(J){console.error("Logout error:",J),window.location.href="/klik_pos/login"}}),W=J=>J.split(" ").map(Ee=>Ee.charAt(0).toUpperCase()).join("").substring(0,2),Y=(h==null?void 0:h.full_name)||(h==null?void 0:h.name)||"Guest User";h!=null&&h.role;const G=W(Y),ae=S.reduce((J,Ee)=>J+Ee.quantity,0),ge=S.reduce((J,Ee)=>J+Ee.price*Ee.quantity,0);return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[r.jsxs("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-beveren-600 dark:text-beveren-400",children:"KLiK PoS"}),u&&r.jsx("div",{className:"bg-blue-600/90 text-white px-2 py-1 rounded-md text-xs font-medium",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),r.jsx("span",{children:"Scan Only"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2 relative",ref:A,children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:Y}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(h==null?void 0:h.email)||"No email"})]}),r.jsx("button",{onClick:()=>I(!$),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:r.jsx("span",{className:"text-white text-xs font-medium pointer-events-none",children:G})}),$&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-sm",children:G})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:Y}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(qn,{size:12,className:"text-gray-400 flex-shrink-0"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:(h==null?void 0:h.email)||"No email"})]}),r.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:(h==null?void 0:h.role)||"User"})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs(Tc,{to:"/settings",onClick:()=>I(!1),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Iu,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>{v(),I(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[x==="dark"?r.jsx(Uu,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}):r.jsx(Lu,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:x==="dark"?"Light Mode":"Dark Mode"})]}),r.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),r.jsxs("button",{onClick:()=>{P(),I(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[r.jsx(Mu,{size:14,className:"mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsx("div",{className:"px-4 pb-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:g("SEARCH_PRODUCTS"),value:i,onChange:J=>o(J.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),d&&r.jsx("button",{onClick:d,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:r.jsx(p2,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>L("grid"),className:`p-2 rounded-md transition-colors ${D==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:r.jsx(Ec,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>L("list"),className:`p-2 rounded-md transition-colors ${D==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:r.jsx(Ym,{className:"w-4 h-4"})})]})]})}),r.jsx("div",{className:"px-4 pb-2",children:r.jsx(v2,{selectedCategory:t,onCategoryChange:n,isMobile:!0})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:p?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):r.jsx(N2,{items:e,onAddToCart:k,isMobile:!0,scannerOnly:u,viewMode:D})}),ae>0&&r.jsx("button",{onClick:()=>E("/cart"),className:"fixed bottom-20 right-6 bg-beveren-600 text-white rounded-full p-4 shadow-lg hover:bg-beveren-700 transition-colors z-30",children:r.jsxs("div",{className:"relative",children:[r.jsx(rc,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:ae})]})}),ae>0&&r.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 z-40",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ae," items"]}),r.jsx("div",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:St(ge,(b==null?void 0:b.currency)||"USD")}),r.jsx("button",{onClick:()=>E("/cart"),className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors font-medium",children:"View Cart"})]})}),r.jsx(Kn,{})]})}function U_({message:e="Loading..."}){return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:e})]})})}function e1({onBarcodeDetected:e,onClose:t,isOpen:n}){const[i,o]=j.useState(""),[d,u]=j.useState(!1),[g,h]=j.useState(""),[m,x]=j.useState(""),[v,b]=j.useState(!1),p=j.useRef(null),S=j.useRef(null),k=j.useRef(null),E=j.useRef(null);j.useEffect(()=>{"BarcodeDetector"in window?b(!0):console.warn("BarcodeDetector not supported in this browser")},[]);const $=P=>{P.key==="Enter"&&i.trim()&&(P.preventDefault(),h(i.trim()),u(!0),setTimeout(()=>{e(i.trim()),o(""),u(!1),h(""),t()},1e3))};j.useEffect(()=>(n?I():(D(),L()),()=>{D(),L()}),[n]);const I=()=>xe(null,null,function*(){try{x("");const P=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});p.current&&(p.current.srcObject=P,S.current=P,p.current.onloadedmetadata=()=>{A()})}catch(P){console.error("Camera error:",P),x("Camera access denied or not available. Please use manual input.")}}),D=()=>{S.current&&(S.current.getTracks().forEach(P=>P.stop()),S.current=null),p.current&&(p.current.srcObject=null)},L=()=>{E.current&&(clearInterval(E.current),E.current=null)},A=()=>xe(null,null,function*(){if(!v){x("Barcode detection not supported in this browser. Please use manual input.");return}try{const P=new window.BarcodeDetector({formats:["code_128","code_39","ean_13","ean_8","upc_a","upc_e","qr_code"]});E.current=setInterval(()=>xe(null,null,function*(){if(p.current&&k.current&&p.current.videoWidth>0){const W=k.current,Y=W.getContext("2d");if(Y){W.width=p.current.videoWidth,W.height=p.current.videoHeight,Y.drawImage(p.current,0,0,W.width,W.height);try{const G=yield P.detect(W);if(G.length>0){const ae=G[0].rawValue;console.log("Barcode detected:",ae),L(),h(ae),u(!0),setTimeout(()=>{e(ae),u(!1),h(""),t()},1e3)}}catch(G){console.error("Barcode detection error:",G)}}}}),200)}catch(P){console.error("BarcodeDetector error:",P),x("Barcode detection failed. Please use manual input.")}});return n?r.jsxs("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center z-50",children:[r.jsx("canvas",{ref:k,style:{display:"none"}}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scan Barcode"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(xr,{size:24})})]}),d&&r.jsxs("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pl,{className:"text-green-600 dark:text-green-400 mr-2",size:20}),r.jsxs("span",{className:"text-green-800 dark:text-green-200 font-medium",children:["Barcode detected: ",g]})]}),r.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm mt-1",children:"Adding item to cart..."})]}),m&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Km,{className:"text-red-600 dark:text-red-400 mr-2",size:20}),r.jsx("span",{className:"text-red-800 dark:text-red-200 font-medium",children:m})]})}),!v&&r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[r.jsx("strong",{children:"Limited Support:"})," Camera barcode detection not fully supported in this browser. Manual input recommended."]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:[r.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsx("div",{className:"border-2 border-green-400 border-dashed rounded-lg w-64 h-32 flex items-center justify-center",children:r.jsxs("div",{className:"text-green-400 text-center",children:[r.jsx(m2,{size:32,className:"mx-auto mb-2 opacity-75"}),r.jsx("p",{className:"text-sm",children:"Point at barcode"})]})})}),r.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded text-sm",children:v?r.jsxs("span",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Scanning..."]}):r.jsxs("span",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-2"}),"Camera Active"]})})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v?"Hold the barcode steady in the scanning area":"Camera active - use manual input below for barcode entry"}),r.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:r.jsx("input",{type:"text",value:i,onChange:P=>o(P.target.value),onKeyPress:$,placeholder:"Or type barcode manually...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]}),r.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["BarcodeDetector support: ",v?"✅ Enabled":"❌ Not available"]})]})]}):null}function F_(e){const[t,n]=j.useState(!1),[i,o]=j.useState(null),{products:d}=Au();return{scanBarcode:h=>xe(null,null,function*(){if(!h.trim())return o("Please enter a valid barcode"),!1;n(!0),o(null);try{const m=d.find(x=>x.id===h||x.name.toLowerCase().includes(h.toLowerCase()));if(m)return e(m),!0;try{const v=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_barcode?barcode=${encodeURIComponent(h)}`)).json();if(v.message&&v.message.item_code){const b={id:v.message.item_code,name:v.message.item_name||v.message.item_code,category:v.message.item_group||"General",price:v.message.price||0,available:v.message.available||0,image:v.message.image,sold:0};return e(b),!0}else return o("Product not found for this barcode"),!1}catch(x){return console.error("API error:",x),o("Product not found for this barcode"),!1}}catch(m){return console.error("Barcode scanning error:",m),o("Error processing barcode"),!1}finally{n(!1)}}),isScanning:t,error:i,clearError:()=>o(null)}}function Hl(e){const[t,n]=j.useState(!1);return j.useEffect(()=>{const i=window.matchMedia(e);i.matches!==t&&n(i.matches);const o=()=>n(i.matches);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t,e]),t}function B_(){const[e,t]=j.useState("all"),[n,i]=j.useState(""),[o,d]=j.useState([]),[u,g]=j.useState([]),[h,m]=j.useState(!1),{products:x,isLoading:v,error:b,refetch:p}=Au(),{posDetails:S}=Mr(),k=(S==null?void 0:S.custom_use_scanner_fully)||!1,E=(S==null?void 0:S.hide_unavailable_items)||!1,$=Hl("(max-width: 1024px)"),I=z=>{if(!(z.available<=0)){if(k){console.log("Scanner-only mode enabled. Items can only be added via barcode scanning.");return}D(z)}},D=z=>{const U=o.find(_=>_.id===z.id);d(U?o.map(_=>_.id===z.id?je(H({},_),{quantity:_.quantity+1}):_):[...o,{id:z.id,name:z.name,category:z.category,price:z.price,image:z.image,quantity:1}]),k&&console.log(`✅ Added ${z.name} to cart via barcode scanning`)},L=(z,U)=>{U<=0?d(o.filter(_=>_.id!==z)):d(o.map(_=>_.id===z?je(H({},_),{quantity:U}):_))},A=z=>{d(o.filter(U=>U.id!==z))},P=()=>{d([])},W=z=>{u.some(U=>U.code===z.code)||g([...u,z])},Y=z=>{g(u.filter(U=>U.code!==z))},{scanBarcode:G}=F_(D),ae=z=>xe(null,null,function*(){(yield G(z))&&m(!1)}),ge=z=>{i(z),z.length>=8&&/^[0-9A-Za-z]+$/.test(z)&&console.log("Potential barcode input detected:",z)},J=z=>{z.key==="Enter"&&n.trim()&&(z.preventDefault(),n.length>=8&&/^[0-9A-Za-z]+$/.test(n)?(console.log("Processing as barcode:",n),ae(n.trim()),i("")):console.log("Processing as product search:",n))};j.useEffect(()=>{const z=setTimeout(()=>{n.length>=8&&/^[0-9A-Za-z]+$/.test(n)&&(console.log("Auto-processing potential barcode:",n),ae(n.trim()),i(""))},500);return()=>clearTimeout(z)},[n,ae]);const Ee=x.filter(z=>{if(E&&z.available<=0)return!1;const U=e==="all"||z.category===e,_=n===""||z.name.toLowerCase().includes(n.toLowerCase())||z.category.toLowerCase().includes(n.toLowerCase());return U&&_});if(v)return r.jsx(U_,{message:"Loading products..."});const K=k&&!$&&r.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-600/90 text-white px-3 py-1.5 rounded-lg shadow-lg backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),r.jsx("span",{className:"text-sm font-medium",children:"Scanner Only"})]})});if(b){const z=U=>U.includes("HTTP 403")||U.includes("403")?"Access denied. Please check your permissions or contact your administrator.":U.includes("HTTP 401")||U.includes("401")?"Authentication required. Please log in again.":U.includes("HTTP 404")||U.includes("404")?"Product service not available. Please contact your administrator.":U.includes("HTTP 500")||U.includes("500")?"Server error. Please try again later.":U.includes("Network error")||U.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":U.includes("Authentication required")?"Please log in to access products.":U;return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center p-8",children:[r.jsx("div",{className:"text-red-500 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Failed to Load Products"}),r.jsx("p",{className:"text-gray-600 mb-4",children:z(b)}),r.jsx("button",{onClick:p,className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:"Try Again"})]})})}return $?r.jsxs(r.Fragment,{children:[r.jsx(I_,{items:Ee,selectedCategory:e,onCategoryChange:t,searchQuery:n,onSearchChange:i,onScanBarcode:()=>m(!0),scannerOnly:k}),r.jsx(e1,{isOpen:h,onClose:()=>m(!1),onBarcodeDetected:ae})]}):r.jsxs(r.Fragment,{children:[K,r.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 pb-8",children:[r.jsx(yn,{}),r.jsx("div",{className:"flex-1 overflow-hidden ml-20",children:r.jsx(J5,{items:Ee,selectedCategory:e,onCategoryChange:t,searchQuery:n,onSearchChange:ge,onSearchKeyPress:J,onAddToCart:I,onScanBarcode:()=>m(!0),scannerOnly:k})}),r.jsx("div",{className:"w-[30%] min-w-[380px] max-w-[500px] bg-white shadow-lg overflow-y-auto",children:r.jsx(v3,{cartItems:o,onUpdateQuantity:L,onRemoveItem:A,onClearCart:P,appliedCoupons:u,onApplyCoupon:W,onRemoveCoupon:Y})})]}),r.jsx(e1,{isOpen:h,onClose:()=>m(!1),onBarcodeDetected:ae})]})}function z_(){const[e,t]=j.useState(!1),[n,i]=j.useState(null),[o,d]=j.useState(!1);return{createOpeningEntry:g=>xe(null,null,function*(){t(!0),i(null),d(!1);const h=window.csrf_token;console.log("Opening",g);try{const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_opening_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h},body:JSON.stringify({opening_balance:g}),credentials:"include"}),x=yield m.json();if(m.ok&&x.message)d(!0);else throw new Error(x._server_messages||"Failed to create opening entry")}catch(m){console.error("Error creating POS Opening Entry:",m),i(m.message||"Unexpected error occurred")}finally{t(!1)}}),isCreating:e,error:n,success:o}}const H_=({isOpen:e,onClose:t,onSuccess:n,currentUser:i})=>{const[o,d]=j.useState("form"),[u,g]=j.useState(""),[h,m]=j.useState([]),[x,v]=j.useState(""),{createOpeningEntry:b,isCreating:p,error:S,success:k}=z_(),{profiles:E,loading:$}=bk(),{posDetails:I}=Mr(),{modes:D,isLoading:L,error:A}=j2(u),P=J=>{switch(J.toLowerCase()){case"cash":return r.jsx(h2,{className:"w-5 h-5 text-green-600"});case"bank":return r.jsx(ar,{className:"w-5 h-5 text-blue-600"});default:return r.jsx(V5,{className:"w-5 h-5 text-gray-600"})}};j.useEffect(()=>{E&&E.length>0&&!u&&g(E[0])},[E,u]);const W=J=>{g(J),m([])};j.useEffect(()=>{if(D&&D.length>0){const J=D.map(Ee=>({mode_of_payment:Ee.mode_of_payment,opening_amount:0,type:Ee.type||"General",account:Ee.default_account||Ee.account}));m(J)}},[D]),j.useEffect(()=>{A&&v(A)},[A]);const Y=(J,Ee)=>{const K=[...h];K[J].opening_amount=Ee,m(K)},G=()=>xe(null,null,function*(){try{d("creating"),v("");const J=h.map(Ee=>({mode_of_payment:Ee.mode_of_payment,opening_amount:Ee.opening_amount||0}));console.log("Opening balance data:",J),yield b(J)}catch(J){console.error("Error creating opening entry:",J),v(J.message||"Failed to create opening entry"),d("form")}}),ae=h.reduce((J,Ee)=>J+(Ee.opening_amount||0),0);if(j.useEffect(()=>{k&&o==="creating"&&(d("success"),setTimeout(()=>{n()},1500))},[k,o,n]),j.useEffect(()=>{S&&o==="creating"&&(v(S),d("form"))},[S,o]),j.useEffect(()=>{e&&(d("form"),v(""),g(""),m([]))},[e]),!e)return null;const ge=u&&L;return r.jsx("div",{className:"fixed inset-0 bg-beveren-300 bg-opacity-10 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full max-h-[90vh] overflow-hidden",children:["        ",r.jsxs("div",{className:"bg-beveren-600 text-white px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"POS Opening Entry"}),r.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",disabled:p,children:r.jsx(xr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 relative",children:[o==="form"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"POS Profile"}),r.jsxs("select",{value:u,onChange:J=>W(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:$||ge,children:[(!E||E.length===0)&&r.jsx("option",{value:"",children:$?"Loading profiles...":"No profiles available"}),E&&Array.isArray(E)&&E.map((J,Ee)=>{console.log("Rendering profile option:",J);const K=typeof J=="string"?J:J==null?void 0:J.name,z=typeof J=="string"?J:(J==null?void 0:J.name)||`Profile ${Ee+1}`;return r.jsx("option",{value:K,children:z},K||Ee)})]})]}),ge&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment methods..."})]}),!ge&&h.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Opening Balances"}),r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:h.map((J,Ee)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[P(J.type),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900",children:J.mode_of_payment}),r.jsx("div",{className:"text-xs text-gray-500",children:J.type})]}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:J.opening_amount||"",onChange:K=>Y(Ee,parseFloat(K.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00",disabled:$})]},J.mode_of_payment))}),r.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[r.jsx("span",{children:"Total Opening Balance:"}),r.jsx("span",{className:"text-green-600",children:St(ae,(I==null?void 0:I.currency)||"USD")})]})})]}),x&&r.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:[r.jsx(Km,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("div",{children:x})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:$||p||ge,children:"Cancel"}),r.jsx("button",{onClick:G,disabled:$||p||ge||!u||h.length===0,className:"flex-1 px-4 py-2 bg-beveren-700 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:$?"Loading...":p?"Creating...":ge?"Loading...":"Start POS Session"})]})]}),o==="creating"&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Opening Entry"}),r.jsx("p",{className:"text-gray-600",children:"Please wait while we set up your POS session..."})]}),o==="success"&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Fk,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"POS Session Started!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Opening entry created successfully. Redirecting to POS..."}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]}),$&&o==="form"&&!ge&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})]})})};function q_(){const{isRTL:e}=tn(),[t,n]=j.useState(!1),[i,o]=j.useState(!1),[d,u]=j.useState(null),[g,h]=j.useState(!0),[m,x]=j.useState(null),{hasOpenEntry:v,isLoading:b,error:p,refetch:S}=Bw();j.useEffect(()=>{xe(null,null,function*(){try{h(!0),x(null),Fn.initializeSession();const I=yield Fn.getCurrentUserProfile();if(I)u({name:I.name,email:I.email||I.name,full_name:I.full_name||I.first_name+" "+(I.last_name||""),role:I.role_profile_name||"User",user_image:I.user_image});else{const D=yield Fn.getCurrentUser();D?u({name:D,email:D,full_name:D,role:"User"}):x("No user session found")}}catch(I){console.error("Error fetching current user:",I),x(I.message||"Failed to fetch user")}finally{h(!1)}})},[]),j.useEffect(()=>{!b&&!p?v===!0?(o(!0),n(!1)):v===!1&&(o(!1),n(!0)):p&&(console.error("Error checking POS opening status:",p),o(!1),n(!0))},[v,b,p]);const k=()=>{n(!1),o(!0),S()},E=()=>{n(!1)};return b?r.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),r.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):r.jsxs("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} pb-12`,children:[i&&r.jsx(B_,{}),!i&&!t&&r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"POS Not Ready"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please start a POS session to continue."}),r.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start POS Session"})]})}),r.jsx(H_,{isOpen:t,onClose:E,onSuccess:k,currentUser:d==null?void 0:d.name})]})}const G_={todaySales:{totalRevenue:324.98,totalTransactions:5,averageOrderValue:64.99,totalItems:12},weekSales:{totalRevenue:1847.32,totalTransactions:28,averageOrderValue:65.98,totalItems:89},monthSales:{totalRevenue:8234.56,totalTransactions:124,averageOrderValue:66.41,totalItems:387},giftCardUsage:{totalRedeemed:125,totalTransactions:4,averageDiscount:31.25},salesByDay:[{day:"Mon",sales:1234.56},{day:"Tue",sales:1456.78},{day:"Wed",sales:1678.9},{day:"Thu",sales:1890.12},{day:"Fri",sales:2012.34},{day:"Sat",sales:1789.45},{day:"Sun",sales:1567.23}]};function Zu(){const[e,t]=j.useState([]),[n,i]=j.useState(!0),[o,d]=j.useState(null),u=()=>xe(null,null,function*(){var g;i(!0);try{console.log("Fetching sales invoices...");const h=yield fetch("/api/method/klik_pos.api.sales_invoice.get_sales_invoices",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Sales invoices response:",{status:h.status,statusText:h.statusText,ok:h.ok}),!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);const m=yield h.json();if(console.log("Sales invoices data:",m),!m.message||!m.message.success)throw new Error(((g=m.message)==null?void 0:g.error)||m.error||"Failed to fetch invoices");const v=m.message.data.map(b=>({id:b.name,date:b.posting_date||new Date().toISOString().split("T")[0],time:b.posting_time||"00:00:00",cashier:b.cashier_name,cashierId:b.owner||"",customer:b.customer_name||"",customerId:b.customer||"",items:b.items||[],subtotal:(Number(b.base_grand_total)||0)-(Number(b.total_taxes_and_charges)||0)+(Number(b.discount_amount)||0),giftCardDiscount:Number(b.discount_amount)||0,giftCardCode:String(b.discount_code)||"",taxAmount:Number(b.total_taxes_and_charges)||0,totalAmount:Number(b.base_grand_total)||0,paymentMethod:b.mode_of_payment||"Cash",amountPaid:Number(b.base_rounded_total)||0,changeGiven:Number(b.change_amount)||0,status:b.status||"Completed",refundAmount:b.status==="Refunded"&&Number(b.base_grand_total)||0,custom_zatca_submit_status:b.custom_zatca_submit_status||"Draft",currency:b.currency||"USD",notes:b.remarks||""}));t(v),d(null)}catch(h){d(h.message||"Unknown error occurred")}finally{i(!1)}});return j.useEffect(()=>{u()},[]),{invoices:e,isLoading:n,error:o,refetch:u}}function V_(){var z,U;const e=ya(),t=Hl("(max-width: 1024px)"),{posDetails:n}=Mr(),{invoices:i}=Zu(),[o,d]=j.useState("today"),[u,g]=j.useState("all"),[h,m]=j.useState("all"),[x,v]=j.useState(!1),[b,p]=j.useState("bar"),S=G_,k=[...new Set(i.map(_=>_.cashier))],$=(()=>{switch(o){case"today":return S.todaySales;case"week":return S.weekSales;case"month":return S.monthSales;default:return S.todaySales}})(),I=i.filter(_=>{const re=u==="all"||_.cashier===u,pe=h==="all"||_.paymentMethod===h,R=new Date().toISOString().split("T")[0],ie=o==="today"&&_.date===R||o==="week"&&new Date(_.date)>=new Date(Date.now()-7*24*60*60*1e3)||o==="month"&&new Date(_.date)>=new Date(Date.now()-30*24*60*60*1e3);return re&&pe&&ie}),D={totalRevenue:I.reduce((_,re)=>_+re.totalAmount,0),totalTransactions:I.length,averageOrderValue:I.length>0?I.reduce((_,re)=>_+re.totalAmount,0)/I.length:0,totalItems:I.reduce((_,re)=>_+re.items.length,0)},A=(()=>{if(o!=="today")return[];const _=new Date().toISOString().split("T")[0],re=I.filter(R=>R.date===_),pe={};for(let R=9;R<=20;R++){const ie=`${R.toString().padStart(2,"0")}:00`;pe[ie]=0}return re.forEach(R=>{const ie=R.time.split(":");if(ie.length>=2){const ve=`${ie[0].padStart(2,"0")}:00`;pe.hasOwnProperty(ve)&&(pe[ve]+=R.totalAmount)}}),Object.entries(pe).map(([R,ie])=>({hour:R,sales:ie}))})(),W=(()=>{const _={};I.forEach(pe=>{const R=pe.paymentMethod||"Cash";_[R]||(_[R]={amount:0,transactions:0}),_[R].amount+=pe.totalAmount,_[R].transactions+=1});const re=Object.values(_).reduce((pe,R)=>pe+R.amount,0);return Object.entries(_).map(([pe,R])=>({method:pe,amount:R.amount,percentage:re>0?R.amount/re*100:0,transactions:R.transactions}))})(),G=(()=>{const _={};I.forEach(ie=>{const ve=ie.custom_zatca_submit_status||"Draft";_[ve]=(_[ve]||0)+1});const re=Object.values(_).reduce((ie,ve)=>ie+ve,0),pe={pending:"#f59e0b",reported:"#3b82f6","not reported":"#9ca3af",cleared:"#16a34a","not cleared":"#ef4444",draft:"#6b7280"},R=Object.entries(_).map(([ie,ve])=>{const V=ie.toLowerCase(),_e=pe[V]||"#9ca3af";return{status:ie,count:ve,percentage:re>0?ve/re*100:0,color:_e}});return{total:re,segments:R.sort((ie,ve)=>ve.count-ie.count)}})(),ge=(()=>{const _={};return I.forEach(pe=>{const R=pe.cashier||"Unknown";_[R]||(_[R]={name:R,sales:0,transactions:0}),_[R].sales+=pe.totalAmount,_[R].transactions+=1}),Object.values(_).sort((pe,R)=>R.sales-pe.sales)[0]||null})(),Ee=(()=>{const _={};return I.forEach(re=>{re.items.forEach(pe=>{const R=pe.item_code||pe.item_name||"Unknown";_[R]||(_[R]={name:pe.item_name||pe.item_code||"Unknown",sales:0,revenue:0}),_[R].sales+=pe.qty||0,_[R].revenue+=(pe.rate||0)*(pe.qty||0)})}),Object.entries(_).map(([re,pe])=>H({id:re},pe)).sort((re,pe)=>pe.revenue-re.revenue).slice(0,5)})(),K=I.sort((_,re)=>new Date(re.date+" "+re.time).getTime()-new Date(_.date+" "+_.time).getTime()).slice(0,5);return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>v(!x),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Zh,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Filters"})]})})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[x&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),r.jsxs("select",{value:o,onChange:_=>d(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),r.jsxs("select",{value:u,onChange:_=>g(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Cashiers"}),k.map(_=>r.jsx("option",{value:_,children:_},_))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),r.jsxs("select",{value:h,onChange:_=>m(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Methods"}),r.jsx("option",{value:"Cash",children:"Cash"}),r.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{d("today"),g("all"),m("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",(u!=="all"||h!=="all"?D.totalRevenue:$.totalRevenue).toFixed(2)]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Ss,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(ec,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u!=="all"||h!=="all"?D.totalTransactions:$.totalTransactions}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Ss,{className:"w-4 h-4 text-blue-500 mr-1"}),r.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"+8.2%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:r.jsx(rc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",(u!=="all"||h!=="all"?D.averageOrderValue:$.averageOrderValue).toFixed(2)]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Ss,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(vl,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u!=="all"||h!=="all"?D.totalItems:$.totalItems}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(qb,{className:"w-4 h-4 text-red-500 mr-1"}),r.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(Ib,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[o==="today"&&A.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>p("bar"),className:`px-2 py-1 text-xs rounded transition-colors ${b==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Bar"}),r.jsx("button",{onClick:()=>p("line"),className:`px-2 py-1 text-xs rounded transition-colors ${b==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Line"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ml,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Peak: ",((z=A.reduce((_,re)=>re.sales>_.sales?re:_,A[0]))==null?void 0:z.hour)||"N/A"]})]})]})]}),r.jsx("div",{className:"h-48 flex items-end justify-between space-x-1",children:A.map((_,re)=>{const pe=Math.max(...A.map(ie=>ie.sales)),R=pe>0?_.sales/pe*180:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[b==="bar"?r.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${R}px`,minHeight:"4px"},title:`${_.hour}: $${_.sales.toFixed(2)}`}):r.jsx("div",{className:"relative w-full h-full",children:r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[re>0&&r.jsx("line",{x1:"0",y1:`${100-A[re-1].sales/pe*100}`,x2:"100",y2:`${100-_.sales/pe*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),r.jsx("circle",{cx:"100",cy:`${100-_.sales/pe*100}`,r:"2",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),r.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["$",_.sales.toFixed(0)]})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:_.hour})]},re)})}),r.jsx("div",{className:"mt-3 text-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",r.jsxs("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:["$",A.reduce((_,re)=>_+re.sales,0).toFixed(2)]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),r.jsx(Fb,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("div",{className:"space-y-4",children:[W.map((_,re)=>{const pe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=pe[re%pe.length];return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 ${R} rounded`}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:_.method})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",_.amount.toFixed(2)]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.percentage.toFixed(1),"% • ",_.transactions," txns"]})]})]},_.method)}),W.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:W.map((_,re)=>{const pe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=pe[re%pe.length];return r.jsx("div",{className:R,style:{width:`${_.percentage}%`}},_.method)})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(n==null?void 0:n.is_zatca_enabled)&&G.total>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),r.jsx(vl,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 mb-4",children:G.segments.map((_,re)=>{const pe=Math.max(...G.segments.map(ie=>ie.count)),R=pe>0?_.count/pe*180:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${R}px`,minHeight:"4px",backgroundColor:_.color},title:`${_.status}: ${_.count} (${Math.round(_.percentage)}%)`}),r.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_.count})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center leading-tight",children:_.status})]},_.status)})}),r.jsx("div",{className:"space-y-2",children:G.segments.map(_=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:_.color}}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:_.status})]}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[_.count," (",Math.round(_.percentage),"%)"]})]},_.status))}),r.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:G.total})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gift Card Usage"}),r.jsx(y2,{className:"w-5 h-5 text-orange-600"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Redeemed"}),r.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["$",S.giftCardUsage.totalRedeemed.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:S.giftCardUsage.totalTransactions})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Discount"}),r.jsxs("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:["$",S.giftCardUsage.averageDiscount.toFixed(2)]})]}),r.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(S.giftCardUsage.totalTransactions/$.totalTransactions*100).toFixed(1),"% of all transactions"]})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),r.jsx(Ds,{className:"w-5 h-5 text-beveren-600"})]}),ge?r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[r.jsx("span",{className:"text-white font-bold text-xl",children:ge.name.split(" ").map(_=>_[0]).join("")}),r.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:"👑"})})]}),r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:ge.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[ge.transactions," transactions"]}),r.jsxs("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:["$",ge.sales.toFixed(2)]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[D.totalRevenue>0?(ge.sales/D.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Weekly Trend"}),r.jsx(Vm,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"h-24 flex items-end justify-between space-x-1 mb-4",children:S.salesByDay.map((_,re)=>r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${_.sales/Math.max(...S.salesByDay.map(pe=>pe.sales))*60}px`,minHeight:"4px"},title:`${_.day}: $${_.sales.toFixed(2)}`}),r.jsxs("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-1 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["$",_.sales.toFixed(0)]})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:_.day})]},re))}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Best day: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:"Friday"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),r.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),r.jsxs("div",{className:"space-y-3",children:[Ee.map((_,re)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:re+1})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[_.sales," sold"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",_.revenue.toFixed(2)]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",_.sales>0?(_.revenue/_.sales).toFixed(2):"0.00"," avg"]})]})]},_.id)),Ee.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),r.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),r.jsxs("div",{className:"space-y-3",children:[K.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:_.paymentMethod==="Cash"?r.jsx("span",{className:"text-lg",children:"💵"}):r.jsx(ar,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:_.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.customer," • ",_.time]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:St(_.totalAmount,_.currency||(n==null?void 0:n.currency)||"USD")}),r.jsx("div",{className:`text-xs ${_.status==="Completed"?"text-green-600 dark:text-green-400":_.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:_.status})]})]},_.id)),K.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]}),r.jsx(Kn,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx(yn,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"})}),r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[r.jsxs("button",{onClick:()=>v(!x),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Zh,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Filters"})]}),r.jsxs("button",{className:"hidden sm:flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(yu,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]})})}),r.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 ml-20",children:[x&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6 sm:mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),r.jsxs("select",{value:o,onChange:_=>d(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),r.jsxs("select",{value:u,onChange:_=>g(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Cashiers"}),k.map(_=>r.jsx("option",{value:_,children:_},_))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),r.jsxs("select",{value:h,onChange:_=>m(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Methods"}),r.jsx("option",{value:"Cash",children:"Cash"}),r.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{d("today"),g("all"),m("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:["$",(u!=="all"||h!=="all"?D.totalRevenue:$.totalRevenue).toFixed(2)]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Ss,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(ec,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:u!=="all"||h!=="all"?D.totalTransactions:$.totalTransactions}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Ss,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-blue-400",children:"+8.2%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:r.jsx(rc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:["$",(u!=="all"||h!=="all"?D.averageOrderValue:$.averageOrderValue).toFixed(2)]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Ss,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(vl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:u!=="all"||h!=="all"?D.totalItems:$.totalItems}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(qb,{className:"w-4 h-4 text-red-500 mr-1"}),r.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(Ib,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[o==="today"&&A.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>p("bar"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${b==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Bar"}),r.jsx("button",{onClick:()=>p("line"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${b==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Line"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ml,{className:"w-5 h-5 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Peak: ",((U=A.reduce((_,re)=>re.sales>_.sales?re:_,A[0]))==null?void 0:U.hour)||"N/A"]})]})]})]}),r.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between space-x-1",children:A.map((_,re)=>{const pe=Math.max(...A.map(ie=>ie.sales)),R=pe>0?_.sales/pe*180:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[b==="bar"?r.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${R}px`,minHeight:"4px"},title:`${_.hour}: $${_.sales.toFixed(2)}`}):r.jsx("div",{className:"relative w-full h-full",children:r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[re>0&&r.jsx("line",{x1:"0",y1:`${100-A[re-1].sales/pe*100}`,x2:"100",y2:`${100-_.sales/pe*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),r.jsx("circle",{cx:"100",cy:`${100-_.sales/pe*100}`,r:"3",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),r.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["$",_.sales.toFixed(0)]})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:_.hour})]},re)})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",r.jsxs("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:["$",A.reduce((_,re)=>_+re.sales,0).toFixed(2)]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),r.jsx(Fb,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("div",{className:"space-y-4",children:[W.map((_,re)=>{const pe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=pe[re%pe.length];return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 ${R} rounded`}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:_.method})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",_.amount.toFixed(2)]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.percentage.toFixed(1),"% • ",_.transactions," txns"]})]})]},_.method)}),W.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:W.map((_,re)=>{const pe=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],R=pe[re%pe.length];return r.jsx("div",{className:R,style:{width:`${_.percentage}%`}},_.method)})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(n==null?void 0:n.is_zatca_enabled)&&G.total>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),r.jsx(vl,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"h-64 flex items-end justify-between space-x-3 mb-6",children:G.segments.map((_,re)=>{const pe=Math.max(...G.segments.map(ie=>ie.count)),R=pe>0?_.count/pe*200:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${R}px`,minHeight:"4px",backgroundColor:_.color},title:`${_.status}: ${_.count} (${Math.round(_.percentage)}%)`}),r.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:_.count})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-tight",children:_.status})]},_.status)})}),r.jsx("div",{className:"space-y-3",children:G.segments.map(_=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:_.color}}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:_.status})]}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[_.count," (",Math.round(_.percentage),"%)"]})]},_.status))}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:G.total})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),r.jsx(Ds,{className:"w-5 h-5 text-beveren-600"})]}),ge?r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[r.jsx("span",{className:"text-white font-bold text-xl",children:ge.name.split(" ").map(_=>_[0]).join("")}),r.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:"👑"})})]}),r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:ge.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[ge.transactions," transactions"]}),r.jsxs("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:["$",ge.sales.toFixed(2)]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[D.totalRevenue>0?(ge.sales/D.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),r.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),r.jsxs("div",{className:"space-y-4",children:[Ee.map((_,re)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:re+1})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[_.sales," sold"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",_.revenue.toFixed(2)]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",_.sales>0?(_.revenue/_.sales).toFixed(2):"0.00"," avg"]})]})]},_.id)),Ee.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),r.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),r.jsxs("div",{className:"space-y-4",children:[K.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:_.paymentMethod==="Cash"?r.jsx("span",{className:"text-lg",children:"💵"}):r.jsx(ar,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:_.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.customer," • ",_.time]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",_.totalAmount.toFixed(2)]}),r.jsx("div",{className:`text-xs ${_.status==="Completed"?"text-green-600 dark:text-green-400":_.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:_.status})]})]},_.id)),K.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]})]})]})}function N3(e){const[t,n]=j.useState(null),[i,o]=j.useState(!1),[d,u]=j.useState(null);return j.useEffect(()=>{if(!e)return;xe(null,null,function*(){var h;o(!0);try{console.log("Fetching invoice details for:",e);const m=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Invoice details response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const x=yield m.json();if(console.log("Invoice details data:",x),!x.message||!x.message.success)throw new Error(((h=x.message)==null?void 0:h.error)||x.error||"Failed to fetch invoice");n(x.message.data)}catch(m){console.error("Error fetching invoice details:",m),m instanceof Error?u(m.message):u("Unknown error")}finally{o(!1)}})},[e]),{invoice:t,isLoading:i,error:d}}function vc({invoice:e,isOpen:t,onClose:n,onRefund:i,onCancel:o}){if(!t||!e)return null;const{invoice:d,isLoading:u,error:g}=N3(e.id||null);if(u)return r.jsx("div",{children:"Loading invoice..."});if(g)return r.jsxs("div",{children:["Error loading invoice: ",g]});const h=d||e,m=v=>{switch(v){case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},x=v=>xe(null,null,function*(){try{const b=yield Bu(v);console.log(b),Be.success(`Invoice returned: ${b.return_invoice}`)}catch(b){Be.error(b.message||"Failed to return invoice")}});return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:n}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m(h.status)}`,children:h.status})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(yu,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(ac,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(xr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(Zd,{icon:r.jsx(Vm,{}),label:"Date & Time",value:`${h.posting_date} at ${h.posting_time}`}),r.jsx(Zd,{icon:r.jsx(Or,{}),label:"Customer",value:h.customer}),r.jsx(Zd,{icon:r.jsx(Or,{}),label:"Cashier",value:h.cashier}),r.jsx(Zd,{icon:r.jsx(ar,{}),label:"Payment Method",value:h.paymentMethod})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Items"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item Code"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Quantity"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:h.items.map((v,b)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:v.item_name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:v.category})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs font-mono text-gray-800 dark:text-gray-200",children:v.item_code})}),r.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:v.qty}),r.jsxs("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:["$",v.rate.toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["$",v.amount.toFixed(2)]})]},b))})]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[h.giftCardCode&&r.jsx(K_,{code:h.giftCardCode,discount:h.giftCardDiscount}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Wd,{label:"Subtotal",value:h.total}),h.giftCardDiscount>0&&r.jsx(Wd,{label:"Gift Card Discount",value:-h.giftCardDiscount,color:"green"}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:r.jsx(Wd,{label:"Total",value:h.grand_total,bold:!0})}),h.status==="Refunded"&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:r.jsx(Wd,{label:"Refunded Amount",value:h.refundAmount,color:"red",bold:!0})})]})]}),r.jsxs("div",{className:"space-y-3",children:[h.status==="Paid"&&r.jsx(Oh,{onClick:()=>x(h.name),icon:r.jsx(bu,{}),color:"orange",text:"Process Returns"}),h.status==="Pending"&&r.jsx(Oh,{onClick:()=>o(h.id),icon:r.jsx(xi,{}),color:"red",text:"Cancel Order"}),r.jsx(Oh,{icon:r.jsx(ac,{}),text:"Print Receipt"})]}),h.notes&&r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"Notes"}),r.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:h.notes})]})]})]})})]})]})})}function Zd({icon:e,label:t,value:n}){return r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:e}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n})]})]})}function Wd({label:e,value:t,color:n,bold:i}){const o=`flex justify-between ${n?`text-${n}-600 dark:text-${n}-400`:""}`,d=i?"font-bold":"font-semibold";return r.jsxs("div",{className:o,children:[r.jsx("span",{className:i?"text-lg font-bold":"",children:e}),r.jsxs("span",{className:d,children:["$",Math.abs(t)]})]})}function K_({code:e,discount:t}){return r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(I5,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Gift Card Applied"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Code"}),r.jsx("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:e})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Discount"}),r.jsxs("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:["-$",t]})]})]})]})}function Oh({onClick:e,icon:t,text:n,color:i}){const o=i==="red"?"bg-red-600 hover:bg-red-700":i==="orange"?"bg-orange-600 hover:bg-orange-700":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700";return r.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl transition-colors ${o} text-white`,children:[t,r.jsx("span",{children:n})]})}function Y_(e,t,n){return xe(this,null,function*(){try{const i=yield fetch("/api/method/klik_pos.api.sales_invoice.returned_qty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e,sales_invoice:t,item:n})}),o=yield i.json();if(!i.ok)throw new Error(o.message||"Failed to get returned quantity");return{success:!0,data:o.message}}catch(i){return console.error("Error getting returned quantity:",i),{success:!1,error:i.message||"Failed to get returned quantity"}}})}function Ah(e,t,n,i){return xe(this,null,function*(){try{const o=new URLSearchParams(H(H(H({customer:e},t&&{start_date:t}),n&&{end_date:n}),i&&{shipping_address:i})),d=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_customer_invoices_for_return?${o}`),u=yield d.json();if(!d.ok||!u.message.success)throw new Error(u.message.error||"Failed to fetch customer invoices");return{success:!0,data:u.message.data}}catch(o){return console.error("Error fetching customer invoices for return:",o),{success:!1,error:o.message||"Failed to fetch customer invoices"}}})}function Q_(e,t){return xe(this,null,function*(){const n=window.csrf_token;try{const i=yield fetch("/api/method/klik_pos.api.sales_invoice.create_partial_return",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":n},body:JSON.stringify({invoice_name:e,return_items:t}),credentials:"include"}),o=yield i.json();if(console.log("Partial return response:",o),!i.ok)throw new Error(o.message||"Failed to create partial return");const d=o.message||o;if(!d.success)throw new Error(d.message||"Failed to create partial return");return{success:!0,returnInvoice:d.return_invoice,message:d.message}}catch(i){return console.error("Error creating partial return:",i),{success:!1,error:i.message||"Failed to create partial return"}}})}function X_(e){return xe(this,null,function*(){const t=window.csrf_token;try{const n=yield fetch("/api/method/klik_pos.api.sales_invoice.create_multi_invoice_return",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Frappe-CSRF-Token":t},body:new URLSearchParams({return_data:JSON.stringify(e)}).toString(),credentials:"include"}),i=yield n.json();if(console.log("Multi-invoice return response:",i),!n.ok)throw new Error(i.message||"Failed to create multi-invoice return");const o=i.message||i;if(!o.success)throw new Error(o.message||"Failed to create multi-invoice return");return{success:!0,createdReturns:o.created_returns,message:o.message}}catch(n){return console.error("Error creating multi-invoice return:",n),{success:!1,error:n.message||"Failed to create multi-invoice return"}}})}function Wu({invoice:e,isOpen:t,onClose:n,onSuccess:i}){const[o,d]=j.useState([]),[u,g]=j.useState(!1),[h,m]=j.useState(!0);j.useEffect(()=>{t&&e&&x()},[t,e]);const x=()=>xe(null,null,function*(){var $;m(!0);try{let I=e;if(!e.items||e.items.length===0){const A=yield a9(e.name||e.id);if(A.success&&A.data)I=A.data.data||A.data;else throw console.error("Failed to fetch invoice details:",A.error),new Error(A.error||"Failed to fetch invoice details from backend")}const D=[],L=I.items||I.items_list||I.sales_invoice_items||[];if(!Array.isArray(L))throw console.error("Items is not an array:",L),new Error("Invoice items not found in expected format");for(const A of L){console.log("Processing item:",A);const P=yield Y_(I.customer,I.name||I.id,A.item_code||A.id),W=P.success&&(($=P.data)==null?void 0:$.total_returned_qty)||0,Y=A.item_code||A.id,G=A.item_name||A.name,ae=A.qty||A.quantity,ge=A.rate||A.unitPrice,J=A.amount||A.total;console.log("Extracted values:",{itemCode:Y,itemName:G,qty:ae,rate:ge,amount:J,returnedQty:W}),D.push({item_code:Y,item_name:G,qty:ae,rate:ge,amount:J,returned_qty:W,available_qty:ae-W,return_qty:ae-W})}d(D)}catch(I){console.error("Error initializing return items:",I),Be.error("Failed to load return data")}finally{m(!1)}}),v=($,I)=>{d(D=>D.map(L=>{if(L.item_code===$){const A=Math.max(0,Math.min(I,L.available_qty));return je(H({},L),{return_qty:A})}return L}))},b=()=>{d($=>$.map(I=>je(H({},I),{return_qty:I.available_qty})))},p=()=>{d($=>$.map(I=>je(H({},I),{return_qty:0})))},S=()=>xe(null,null,function*(){const $=o.filter(D=>D.return_qty&&D.return_qty>0);if($.length===0){Be.error("Please select at least one item to return");return}g(!0);const I=e.id||e.name;try{const D=yield Q_(I,$);D.success?(Be.success(D.message||"Return created successfully"),i(D.returnInvoice),n()):Be.error(D.error||"Failed to create return")}catch(D){console.error("Error creating return:",D),Be.error("Failed to create return")}finally{g(!1)}}),k=o.reduce(($,I)=>$+(I.return_qty||0)*I.rate,0),E=o.some($=>($.return_qty||0)>0);return t?r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:r.jsx(Us,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Return Items"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice: ",(e==null?void 0:e.name)||(e==null?void 0:e.id)," • Customer: ",e==null?void 0:e.customer]})]})]}),r.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(xr,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading return data..."})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:b,className:"px-4 py-2 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors text-sm font-medium",children:"Return All Available"}),r.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear All"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),r.jsxs("p",{className:"text-xl font-bold text-black-600 dark:text-orange-400",children:["$",k.toFixed(2)]})]})]}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sold Qty"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Returned"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Qty"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:o.map($=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(xu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:$.item_name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",$.item_code]})]})]})}),r.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-900 dark:text-white",children:$.qty}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:$.returned_qty})}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("span",{className:`text-sm font-medium ${$.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:$.available_qty})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>v($.item_code,($.return_qty||0)-1),disabled:!$.return_qty||$.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(Qm,{className:"w-4 h-4"})}),r.jsx("input",{type:"number",min:"0",max:$.available_qty,value:$.return_qty||0,onChange:I=>v($.item_code,parseInt(I.target.value)||0),className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",disabled:$.available_qty===0}),r.jsx("button",{onClick:()=>v($.item_code,($.return_qty||0)+1),disabled:$.available_qty===0||($.return_qty||0)>=$.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(tc,{className:"w-4 h-4"})})]})}),r.jsxs("td",{className:"px-4 py-4 text-right text-sm text-gray-900 dark:text-white",children:["$",$.rate.toFixed(2)]}),r.jsxs("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:["$",(($.return_qty||0)*$.rate).toFixed(2)]})]},$.item_code))})]})})}),o.every($=>$.available_qty===0)&&r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(nc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Items Available for Return"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"All items from this invoice have already been returned."})]})]})})]})}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:E&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pl,{className:"w-4 h-4 text-green-500"}),r.jsxs("span",{children:[o.filter($=>($.return_qty||0)>0).length," item(s) selected for return"]})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),r.jsx("button",{onClick:S,disabled:!E||u||h,className:`px-6 py-2 rounded-lg font-medium transition-colors ${E&&!u&&!h?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:u?"Processing...":"Create Return"})]})]})})]})}):null}function Z_(){const[e,t]=j.useState(!1),[n,i]=j.useState(null),[o,d]=j.useState(!1);return{createClosingEntry:g=>xe(null,null,function*(){t(!0),i(null),d(!1);const h=window.csrf_token;try{console.log("Creating closing entry with:",g);const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_closing_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h,Accept:"application/json"},body:JSON.stringify({closing_balance:g}),credentials:"include"});if(console.log("Closing entry response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const x=yield m.json();if(console.log("Closing entry data:",x),x.message)d(!0);else throw new Error(x._server_messages||"Failed to create closing entry")}catch(m){console.error("Error creating POS Closing Entry:",m),i(m.message||"Unexpected error occurred")}finally{t(!1)}}),isCreating:e,error:n,success:o}}const Ju=()=>new Date,sg=e=>{if(!e)return!1;const t=new Date(e),n=Ju();return t.getUTCFullYear()===n.getUTCFullYear()&&t.getUTCMonth()===n.getUTCMonth()&&t.getUTCDate()===n.getUTCDate()},ig=e=>{if(!e)return!1;const t=new Date(e),n=Ju(),i=new Date(n);i.setUTCDate(n.getUTCDate()-n.getUTCDay()),i.setUTCHours(0,0,0,0);const o=new Date(i);return o.setUTCDate(i.getUTCDate()+6),o.setUTCHours(23,59,59,999),t>=i&&t<=o},lg=e=>{if(!e)return!1;const t=new Date(e),n=Ju();return t.getUTCFullYear()===n.getUTCFullYear()&&t.getUTCMonth()===n.getUTCMonth()},og=e=>{if(!e)return!1;const t=new Date(e),n=Ju();return t.getUTCFullYear()===n.getUTCFullYear()};function W_(){const e=ya(),t=Hl("(max-width: 1024px)"),[n,i]=j.useState(""),[o,d]=j.useState("all"),[u,g]=j.useState("today"),[h,m]=j.useState("all"),[x,v]=j.useState(null),[b,p]=j.useState(!1),[S,k]=j.useState(!1),[E,$]=j.useState({}),[I,D]=j.useState(!1),[L,A]=j.useState(null),[P,W]=j.useState(!1),[Y,G]=j.useState(null),{createClosingEntry:ae,isCreating:ge}=Z_(),{invoices:J,isLoading:Ee,error:K}=Zu(),{modes:z}=w2(),{posDetails:U}=Mr(),_=(U==null?void 0:U.custom_hide_expected_amount)||!1,re=Q=>{if(u==="all")return!0;if(u==="today")return sg(Q);if(u==="yesterday"){const De=new Date;De.setUTCDate(De.getUTCDate()-1);const Rt=new Date(Q);return Rt.getUTCFullYear()===De.getUTCFullYear()&&Rt.getUTCMonth()===De.getUTCMonth()&&Rt.getUTCDate()===De.getUTCDate()}return u==="week"?ig(Q):u==="month"?lg(Q):u==="year"?og(Q):!0},pe=Q=>{const De="px-2 py-1 rounded-full text-xs font-medium";switch((Q==null?void 0:Q.toLowerCase())||""){case"paid":return`${De} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${De} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${De} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${De} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${De} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${De} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${De} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${De} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${De} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${De} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${De} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${De} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${De} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},R=j.useMemo(()=>Ee?[]:K?[]:J.filter(Q=>{const De=n===""||Q.id.toLowerCase().includes(n.toLowerCase())||Q.customer.toLowerCase().includes(n.toLowerCase())||Q.cashier&&Q.cashier.toLowerCase().includes(n.toLowerCase()),Rt=o==="all"||Q.status===o,ia=h==="all"||Q.paymentMethod===h,Pt=re(Q.date);return De&&ia&&Rt&&Pt}),[J,n,o,u,h,Ee,K]);if(Ee)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(K)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:K.message}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const ie=Q=>{e(`/invoice/${Q.id}`)},ve=Q=>{V(Q),p(!1)},V=Q=>xe(null,null,function*(){try{const De=yield Bu(Q);Be.success(`Invoice returned: ${De.return_invoice}`)}catch(De){Be.error(De.message||"Failed to return invoice")}}),_e=Q=>{A(Q),D(!0)},Ye=Q=>{if(!Q||!Q.items)return console.log("No invoice or items found for:",Q==null?void 0:Q.id),!1;const De=Q.items.some(Rt=>{const ia=Rt.qty||Rt.quantity||0,Pt=Rt.returned_qty||0,Kt=Pt<ia;return console.log(`Item ${Rt.item_code}: sold=${ia}, returned=${Pt}, canReturn=${Kt}`),Kt});return console.log(`Invoice ${Q.id} has returnable items: ${De}`),De},Oe=Q=>{G(Q),W(!0)},We=()=>{W(!1),G(null),window.location.reload()},ye=Q=>{console.log("Cancelling invoice:",Q),p(!1)},$e=z.reduce((Q,De)=>(Q[De.name]={name:De.name,openingAmount:De.openingAmount||0,amount:De.amount||0,transactions:De.transactions||0},Q),{}),Ae=Object.values($e).reduce((Q,De)=>Q+De.amount,0),Ze=(Q,De)=>{$(Rt=>je(H({},Rt),{[Q]:parseFloat(De)||0}))},xt=()=>xe(null,null,function*(){console.log("Closing shift with amounts:",E);try{yield ae(E),k(!1),e("/")}catch(Q){console.error("Error closing shift:",Q)}});return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Closing Shift"}),r.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[r.jsx(tm,{className:"w-4 h-4"}),r.jsx("span",{children:"Close"})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[!_&&r.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Object.values($e).map(Q=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q.name}),Q.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-2xl",children:"💵"}):r.jsx(ar,{className:"w-8 h-8 text-beveren-600"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(Q.amount,(U==null?void 0:U.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Q.transactions," transactions"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ae>0?(Q.amount/Ae*100).toFixed(1):0,"% of total"]})]})]},Q.name))}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:Q=>i(Q.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:u,onChange:Q=>g(Q.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                          focus:outline-none focus:ring-2 focus:ring-beveren-500
                          bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400
                          cursor-not-allowed`,children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"yesterday",children:"Yesterday"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]}),r.jsxs("select",{value:o,onChange:Q=>d(Q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Unpaid",children:"Unpaid"}),r.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Return",children:"Return"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:h,onChange:Q=>m(Q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Payments"}),z.map(Q=>r.jsx("option",{value:Q.name,children:Q.name},Q.name))]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",R.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(U==null?void 0:U.is_zatca_enabled)&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:R.map(Q=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.id}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Q.date," ",Q.time]})]})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Q.customer}),Q.giftCardCode&&r.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Gift: ",Q.giftCardCode]})]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:St(Q.totalAmount,Q.currency)}),Q.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",St(Q.giftCardDiscount,Q.currency)," gift"]})]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:pe(Q.status),children:Q.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:pe(Q.custom_zatca_submit_status),children:Q.custom_zatca_submit_status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>ie(Q),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Is,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),Q.status==="Draft"&&r.jsxs("button",{onClick:()=>_e(Q),className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(Q.status)&&Ye(Q)&&r.jsxs("button",{onClick:()=>Oe(Q),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]})]})})]},Q.id))})]})})]})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),r.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xr,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"space-y-4",children:Object.values($e).map(Q=>r.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[Q.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-xl",children:"💵"}):r.jsx(ar,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Q.name})]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:St(Q.openingAmount,(U==null?void 0:U.currency)||"USD")})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:E[Q.name]||"",onChange:De=>Ze(Q.name,De.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},Q.name))}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),r.jsx("button",{onClick:xt,disabled:ge,className:`px-6 py-2 rounded-lg font-medium transition-colors ${ge?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:ge?"Closing...":"Close Shift"})]})]})}),r.jsx(vc,{invoice:x,isOpen:b,onClose:()=>p(!1),onRefund:ve,onCancel:ye}),r.jsx(Kn,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx(yn,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Closing Shift"})}),r.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(tm,{className:"w-4 h-4"}),r.jsx("span",{children:"Close"})]})]})})}),r.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 ml-20 space-y-6",children:[!_&&r.jsx(r.Fragment,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values($e).map(Q=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q.name}),Q.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-2xl",children:"💵"}):r.jsx(ar,{className:"w-8 h-8 text-orange-600"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(Q.amount,(U==null?void 0:U.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Q.transactions," transactions"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ae>0?(Q.amount/Ae*100).toFixed(1):0,"% of total"]})]})]},Q.name))})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:Q=>i(Q.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:u,onChange:Q=>g(Q.target.value),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                              focus:outline-none focus:ring-2 focus:ring-beveren-500
                              bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400
                              cursor-not-allowed`,children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"yesterday",children:"Yesterday"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]}),r.jsxs("select",{value:o,onChange:Q=>d(Q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Unpaid",children:"Unpaid"}),r.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Return",children:"Return"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:h,onChange:Q=>m(Q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Payments"}),z.map(Q=>r.jsx("option",{value:Q.name,children:Q.name},Q.name))]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",R.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(U==null?void 0:U.is_zatca_enabled)&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:R.map(Q=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Q.date," ",Q.time]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Q.customer})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Q.cashier}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:Q.paymentMethod})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:St(Q.totalAmount,Q.currency)}),Q.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",St(Q.giftCardDiscount,Q.currency)," gift card"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:pe(Q.status),children:Q.status})}),(U==null?void 0:U.is_zatca_enabled)&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:pe(Q.custom_zatca_submit_status),children:Q.custom_zatca_submit_status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>ie(Q),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Is,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),Q.status==="Draft"&&r.jsxs("button",{onClick:()=>_e(Q),className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(Q.status)&&Ye(Q)&&r.jsxs("button",{onClick:()=>Oe(Q),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]})]})})]},Q.id))})]})})]})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),r.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xr,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"space-y-4",children:Object.values($e).map(Q=>r.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[Q.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-xl",children:"💵"}):r.jsx(ar,{className:"w-5 h-5 text-beveren-600"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Q.name})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:St(Q.openingAmount,(U==null?void 0:U.currency)||"USD")})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:E[Q.name]||"",onChange:De=>Ze(Q.name,De.target.value),className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},Q.name))}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),r.jsx("button",{onClick:xt,disabled:ge,className:`px-6 py-2 rounded-lg font-medium transition-colors ${ge?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:ge?"Closing...":"Close Shift"})]})]})}),r.jsx(vc,{invoice:x,isOpen:b,onClose:()=>p(!1),onRefund:ve,onCancel:ye}),r.jsx(Wu,{invoice:Y,isOpen:P,onClose:()=>W(!1),onSuccess:We})]})]})}function J_(){const{user:e,logout:t}=zs(),{theme:n,toggleTheme:i}=Fu(),{language:o,setLanguage:d,t:u}=tn(),g=ya(),[h,m]=j.useState("profile"),x=P=>P.split(" ").map(W=>W.charAt(0).toUpperCase()).join("").substring(0,2),v=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||"Guest User",b=(e==null?void 0:e.email)||(e==null?void 0:e.name)||"No email",p=(e==null?void 0:e.role)||"User",S=x(v),k=()=>xe(null,null,function*(){try{yield t(),g("/login")}catch(P){console.error("Logout error:",P),g("/login")}}),E=[{id:"profile",title:"Profile Information",icon:Or,description:"View and manage your profile details"},{id:"appearance",title:"Appearance",icon:m5,description:"Customize the app's look and feel"},{id:"language",title:"Language & Region",icon:Bb,description:"Set your preferred language and region"},{id:"account",title:"Account Settings",icon:Iu,description:"Manage your account and security"}],$=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-beveren-600 to-beveren-700 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold",children:S})}),r.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-beveren-600 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:r.jsx(m2,{size:16})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold",children:v}),r.jsx("p",{className:"text-beveren-100 text-lg",children:b}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(O5,{size:16,className:"text-beveren-200"}),r.jsx("span",{className:"text-beveren-100 font-medium",children:p})]})]})]})}),r.jsx("div",{className:"grid gap-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.full_name)||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User ID"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:p})]}),(e==null?void 0:e.first_name)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.first_name})]}),(e==null?void 0:e.last_name)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.last_name})]})]})]})})]}),I=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Theme Settings"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[n==="dark"?r.jsx(Lu,{size:20,className:"text-gray-700 dark:text-gray-300"}):r.jsx(Uu,{size:20,className:"text-gray-700 dark:text-gray-300"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n==="dark"?"Dark Mode":"Light Mode"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="dark"?"Using dark theme for better low-light viewing":"Using light theme for optimal daytime viewing"})]})]}),r.jsxs("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",n),i()},className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",type:"button",children:["Switch to ",n==="dark"?"Light":"Dark"]})]})})]})}),D=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Language Preferences"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Bb,{size:20,className:"text-gray-700 dark:text-gray-300"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Current Language: ",o==="en"?"English":"Arabic"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface language and text direction"})]})]}),r.jsxs("button",{onClick:()=>d(o==="en"?"ar":"en"),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:["Switch to ",o==="en"?"Arabic":"English"]})]})})]})}),L=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Mu,{size:20,className:"text-red-600 dark:text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sign Out"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account and return to login"})]})]}),r.jsx("button",{onClick:k,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]})})]})}),A=()=>{switch(h){case"profile":return $();case"appearance":return I();case"language":return D();case"account":return L();default:return $()}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center space-x-4 mb-4",children:r.jsxs("button",{onClick:()=>g("/pos"),className:"flex items-center space-x-2 text-gray-600 hover:text-beveren-600 dark:text-gray-300 dark:hover:text-beveren-400 transition-colors group",type:"button",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-beveren-50 dark:bg-gray-800 dark:group-hover:bg-beveren-900 transition-colors",children:r.jsx(Oi,{size:20})}),r.jsx("span",{className:"font-medium",children:"Back to POS"})]})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Manage your account preferences and settings"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:r.jsx("nav",{className:"space-y-2",children:E.map(P=>{const W=P.icon;return r.jsxs("button",{onClick:()=>m(P.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${h===P.id?"bg-beveren-50 text-beveren-700 border border-beveren-200 dark:bg-beveren-900 dark:text-beveren-300 dark:border-beveren-700":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(W,{size:18}),r.jsx("span",{className:"font-medium",children:P.title})]}),r.jsx(Dk,{size:16,className:"text-gray-400 dark:text-gray-500"})]},P.id)})})})}),r.jsx("div",{className:"lg:col-span-3",children:A()})]})]})})}function eT(){const{t:e,language:t,setLanguage:n}=tn(),{user:i,logout:o}=zs(),{theme:d,toggleTheme:u}=Fu(),[g,h]=j.useState(!1),m=j.useRef(null);j.useEffect(()=>{function E($){m.current&&!m.current.contains($.target)&&h(!1)}return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[m]);const x=()=>xe(null,null,function*(){try{yield o(),window.location.href="/klik_pos/login"}catch(E){console.error("Logout error:",E),window.location.href="/klik_pos/login"}});new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});const v=E=>E.split(" ").map($=>$.charAt(0).toUpperCase()).join("").substring(0,2),b=(i==null?void 0:i.full_name)||(i==null?void 0:i.name)||"Guest User",p=(i==null?void 0:i.email)||(i==null?void 0:i.name)||"No email",S=(i==null?void 0:i.role)||"User",k=v(b);return r.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 relative z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center flex-1 max-w-md",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search menu",className:"w-full pl-10 pr-4 py-2 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:b}),r.jsx("p",{className:"text-sm text-gray-500",children:p})]}),r.jsxs("div",{className:"relative",ref:m,children:[r.jsx("button",{onClick:()=>{console.log("Avatar clicked, current showUserMenu:",g),h(!g)},className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:r.jsx("span",{className:"text-white font-medium text-sm pointer-events-none",children:k})}),g&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-base",children:k})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:b}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(qn,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white truncate",children:p})]}),r.jsx("p",{className:"text-xs text-beveren-600 font-medium mt-1",children:S})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs(Tc,{to:"/settings",onClick:()=>h(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[r.jsx(Iu,{size:16,className:"mr-3 text-gray-500"}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>{u(),h(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[d==="dark"?r.jsx(Uu,{size:16,className:"mr-3 text-gray-500"}):r.jsx(Lu,{size:16,className:"mr-3 text-gray-500"}),r.jsx("span",{children:d==="dark"?"Light Mode":"Dark Mode"})]}),r.jsxs("button",{onClick:()=>{n(t==="en"?"ar":"en"),h(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[r.jsx("span",{className:"mr-3 text-gray-500",children:"🌐"}),r.jsx("span",{children:t==="en"?"Switch to Arabic":"Switch to English"})]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{onClick:()=>{x(),h(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",type:"button",children:[r.jsx(Mu,{size:16,className:"mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsx("div",{className:"flex-1 max-w-md"})]})})})}function Rh({method:e,title:t,icon:n,selected:i,onSelect:o,total:d}){const{t:u}=tn(),[g,h]=j.useState(!1),m=()=>{o(),h(!0)},x=()=>{switch(n){case"cash":return r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"card":return r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"wallet":return r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"})});default:return null}};return r.jsxs("div",{onClick:m,className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${i?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`mx-auto mb-3 ${i?"text-green-600":"text-gray-400"}`,children:x()}),r.jsx("h3",{className:"font-semibold text-gray-800",children:t})]}),i&&g&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e==="cash"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u("AMOUNT_RECEIVED")}),r.jsx("input",{type:"number",defaultValue:d,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[u("CHANGE"),": ₨ 0.00"]})]}),e==="card"&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:u("INSERT_OR_TAP_CARD")}),r.jsx("div",{className:"animate-pulse",children:r.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mx-auto"})})]}),e==="wallet"&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded mx-auto mb-2 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500",children:"QR Code"})}),r.jsx("div",{className:"text-sm text-gray-600",children:u("SCAN_WITH_STC_PAY")})]})]})]})}function tT({qrCodeURL:e,caption:t}){return r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:e||"/placeholder.svg",alt:"ZATCA QR Code",className:"w-32 h-32 mx-auto border border-gray-200 rounded"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t})]})}function aT(){const t=Rm().invoiceId,{t:n,isRTL:i}=tn(),[o,d]=j.useState(null),[u,g]=j.useState(null),[h,m]=j.useState(!0);j.useEffect(()=>{x()},[t]);const x=()=>xe(null,null,function*(){try{const p={invoiceId:t,dateTime:new Date().toISOString(),items:[{itemCode:"ITEM001",nameEn:"Wireless Headphones",nameAr:"سماعات لاسلكية",qty:1,unitPrice:299,lineTotal:299}],subtotal:299,vat:14.95,total:313.95,qrCodeURL:"/placeholder.svg?height=128&width=128"};d(p)}catch(p){console.error("Failed to load invoice data:",p)}finally{m(!1)}}),v=p=>{g(p)},b=()=>xe(null,null,function*(){if(!(!u||!o))try{console.log("Processing payment:",u,o.invoiceId)}catch(p){console.error("Payment failed:",p)}});return h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"})}):o?r.jsxs("div",{className:`min-h-screen bg-gray-50 ${i?"rtl":"ltr"}`,children:[r.jsx(eT,{}),r.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:n("INVOICE_SUMMARY")}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n("INVOICE_ID"),": ",o.invoiceId]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[n("DATE_TIME"),": ",new Date(o.dateTime).toLocaleString()]})]}),r.jsx("div",{className:"border-t pt-4",children:o.items.map((p,S)=>r.jsxs("div",{className:"flex justify-between items-center py-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:i?p.nameAr:p.nameEn}),r.jsxs("div",{className:"text-sm text-gray-600",children:[p.qty," × ₨ ",p.unitPrice.toFixed(2)]})]}),r.jsxs("div",{className:"font-semibold",children:["₨ ",p.lineTotal.toFixed(2)]})]},S))}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:n("SUBTOTAL")}),r.jsxs("span",{children:["₨ ",o.subtotal.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:[n("VAT")," (5%)"]}),r.jsxs("span",{children:["₨ ",o.vat.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[r.jsx("span",{children:n("TOTAL")}),r.jsxs("span",{children:["₨ ",o.total.toFixed(2)]})]})]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsx(tT,{qrCodeURL:o.qrCodeURL,caption:n("SCAN_TO_VERIFY")})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:n("PAYMENT_METHODS")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Rh,{method:"cash",title:n("CASH"),icon:"cash",selected:u==="cash",onSelect:()=>v("cash"),total:o.total}),r.jsx(Rh,{method:"card",title:n("CARD"),icon:"card",selected:u==="card",onSelect:()=>v("card"),total:o.total}),r.jsx(Rh,{method:"wallet",title:n("DIGITAL_WALLET"),icon:"wallet",selected:u==="wallet",onSelect:()=>v("wallet"),total:o.total})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("button",{className:"text-green-700 hover:text-green-800 font-medium",children:n("BACK_TO_CART")}),r.jsx("button",{onClick:b,disabled:!u,className:"flex-1 bg-green-700 text-white py-3 px-6 rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n("CONFIRM_PAYMENT")})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:n("INVOICE_NOT_FOUND")})})})}function j3(){const e=ya(),t=Hl("(max-width: 1024px)"),[n,i]=j.useState(""),[o,d]=j.useState(!1),[u,g]=j.useState(null),[h,m]=j.useState({}),{customers:x,isLoading:v,error:b}=rg(n),p=j.useMemo(()=>v?[]:b?[]:x.sort((L,A)=>{const P=L.lastVisit?new Date(L.lastVisit).getTime():0;return(A.lastVisit?new Date(A.lastVisit).getTime():0)-P}),[x,v,b]),S=j.useMemo(()=>{if(v)return{total:0,totalOrders:0};const L=x.length,A=x.reduce((P,W)=>P+(W.totalOrders||0),0);return{total:L,totalOrders:A}},[x,v]);if(v)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customers..."})]})});if(b)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customers"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:b.message}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const k=(L,A)=>{let P="USD";if(A&&A.trim()&&A.length===3)try{new Intl.NumberFormat("en-US",{style:"currency",currency:A}),P=A}catch(W){console.warn(`Invalid currency code: ${A}, falling back to AED`),P="USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:P}).format(L)},E=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=L=>L.split(" ").map(A=>A.charAt(0).toUpperCase()).join("").substring(0,2),I=L=>{const A=L.target.value;i(A)},D=L=>{if(L.key==="Enter"&&n.trim()&&(L.preventDefault(),!p.find(P=>{var W;return P.name.toLowerCase()===n.toLowerCase()||((W=P.email)==null?void 0:W.toLowerCase())===n.toLowerCase()||P.phone===n}))){const P=n.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?m({email:P}):/^[\d\s+\-()]+$/.test(P)&&P.replace(/[\s+\-()]/g,"").length>=7?m({phone:P}):m({name:P}),d(!0),i("")}};return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Customers"}),r.jsxs("button",{onClick:()=>d(!0),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(tc,{size:16}),r.jsx("span",{children:"Add"})]})]})})}),r.jsx("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:r.jsxs("div",{className:"mx-auto w-full",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ds,{className:"text-orange-500",size:24}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:S.total})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"📦"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:S.totalOrders})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:n,onChange:I,onKeyPress:D,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:p.map(L=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${L.id}`),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-sm",children:$(L.name)})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",L.id]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[r.jsx(qn,{size:14,className:"mr-2 text-gray-400"}),L.email]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(pu,{size:14,className:"mr-2 text-gray-400"}),L.phone]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[L.totalOrders," orders"]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k(L.totalSpent,L.defaultCurrency||L.companyCurrency)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:L.lastVisit?E(L.lastVisit):"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:A=>{A.stopPropagation(),e(`/customers/${L.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:r.jsx(Is,{size:16})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),g(L),d(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:r.jsx(Fs,{size:16})})]})})]},L.id))})]})}),p.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ds,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n?"Try adjusting your search criteria.":"Get started by adding your first customer."})]})]})]})}),o&&r.jsxs(r.Fragment,{children:[console.log("Opening modal with prefilled data:",h),r.jsx(Ul,{customer:u,onClose:()=>{d(!1),g(null),m({})},onSave:L=>{console.log("Saving customer:",L),d(!1),g(null),m({})},prefilledData:h})]}),r.jsx(Kn,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx(yn,{}),r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),r.jsxs("button",{onClick:()=>d(!0),className:"bg-beveren-600 text-white px-6 py-3 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2",children:[r.jsx(tc,{size:20}),r.jsx("span",{children:"Add Customer"})]})]})})}),r.jsx("div",{className:"flex-1 px-6 py-8 mt-16 ml-20 max-w-none",children:r.jsxs("div",{className:"mx-auto w-full",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ds,{className:"text-orange-500",size:24}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:S.total})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"📦"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:S.totalOrders})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:n,onChange:I,onKeyPress:D,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:p.map(L=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${L.id}`),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-sm",children:$(L.name)})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",L.id]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[r.jsx(qn,{size:14,className:"mr-2 text-gray-400"}),L.email]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(pu,{size:14,className:"mr-2 text-gray-400"}),L.phone]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.totalOrders>0?`${L.totalOrders} orders`:"No orders"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:L.totalSpent>0?k(L.totalSpent,L.defaultCurrency||L.companyCurrency):"No purchases"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:L.lastVisit?E(L.lastVisit):"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:A=>{A.stopPropagation(),e(`/customers/${L.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:r.jsx(Is,{size:16})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),g(L),d(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:r.jsx(Fs,{size:16})})]})})]},L.id))})]})})})]})}),o&&r.jsxs(r.Fragment,{children:[console.log("Opening modal with prefilled data:",h),r.jsx(Ul,{customer:u,onClose:()=>{d(!1),g(null),m({})},onSave:L=>{console.log("Saving customer:",L),d(!1),g(null),m({})},prefilledData:h})]})]})}function rT(){const e=ya(),{cartItems:t,appliedCoupons:n,updateQuantity:i,removeItem:o,clearCart:d,applyCoupon:u,removeCoupon:g}=ng();return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Oi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," ",t.length===1?"item":"items"]})]})}),r.jsx("div",{className:"flex-1 pb-20",children:r.jsx(v3,{cartItems:t,onUpdateQuantity:i,onRemoveItem:o,onClearCart:d,appliedCoupons:n,onApplyCoupon:u,onRemoveCoupon:g,isMobile:!0})}),r.jsx(Kn,{})]})}function nT(){const e=ya();return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Oi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Customers"})]})})}),r.jsx("div",{className:"flex-1 pb-20 overflow-hidden",children:r.jsx(j3,{})}),r.jsx(Kn,{})]})}function sT(){const e=ya(),t=i=>{console.log("Saving customer:",i),e(-1)},n=()=>{e(-1)};return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Oi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Add Customer"})]})})}),r.jsx("div",{className:"flex-1 pb-20",children:r.jsx("div",{className:"h-full bg-white dark:bg-gray-800",children:r.jsx(Ul,{onClose:n,onSave:t,isFullPage:!0})})}),r.jsx(Kn,{})]})}function iT(){const e=ya(),{cartItems:t,appliedCoupons:n,selectedCustomer:i,clearCart:o}=ng(),{refreshStockOnly:d}=Au(),u=m=>xe(null,null,function*(){m?(console.log("MobilePaymentPage: Payment was completed - clearing cart for next order"),o()):console.log("MobilePaymentPage: Payment was not completed - keeping cart items");try{yield d(),console.log("Stock refreshed after payment modal close")}catch(x){console.error("Failed to refresh stock:",x)}e(-1)}),g=m=>xe(null,null,function*(){console.log("Payment completed:",m),console.log("MobilePaymentPage: Payment completed - cart will be cleared when page is closed")}),h=m=>{console.log("Order held:",m),o(),e("/pos")};return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Oi,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Payment"})]})})}),r.jsx("div",{className:"flex-1 pb-20",children:r.jsx(Xm,{isOpen:!0,onClose:u,cartItems:t,appliedCoupons:n,selectedCustomer:i,onCompletePayment:g,onHoldOrder:h,isMobile:!0,isFullPage:!0})}),r.jsx(Kn,{})]})}const hr=({element:e})=>{const{isAuthenticated:t,loading:n}=zs(),i=Pr();return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),r.jsx("p",{className:"text-beveren-600 mt-4",children:"Verifying access..."})]})}):t?e:r.jsx(Xj,{to:"/login",state:{from:i},replace:!0})};var e0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},t0=typeof window=="undefined"||"Deno"in globalThis;function Yr(){}function lT(e,t){return typeof e=="function"?e(t):e}function oT(e){return typeof e=="number"&&e>=0&&e!==1/0}function cT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $m(e,t){return typeof e=="function"?e(t):e}function dT(e,t){return typeof e=="function"?e(t):e}function t1(e,t){const{type:n="all",exact:i,fetchStatus:o,predicate:d,queryKey:u,stale:g}=e;if(u){if(i){if(t.queryHash!==cg(u,t.options))return!1}else if(!jc(t.queryKey,u))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||o&&o!==t.state.fetchStatus||d&&!d(t))}function a1(e,t){const{exact:n,status:i,predicate:o,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(n){if(Nc(t.options.mutationKey)!==Nc(d))return!1}else if(!jc(t.options.mutationKey,d))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function cg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nc)(e)}function Nc(e){return JSON.stringify(e,(t,n)=>Sm(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>jc(e[n],t[n])):!1}function w3(e,t){if(e===t)return e;const n=r1(e)&&r1(t);if(n||Sm(e)&&Sm(t)){const i=n?e:Object.keys(e),o=i.length,d=n?t:Object.keys(t),u=d.length,g=n?[]:{},h=new Set(i);let m=0;for(let x=0;x<u;x++){const v=n?x:d[x];(!n&&h.has(v)||n)&&e[v]===void 0&&t[v]===void 0?(g[v]=void 0,m++):(g[v]=w3(e[v],t[v]),g[v]===e[v]&&e[v]!==void 0&&m++)}return o===u&&m===o?e:g}return t}function r1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sm(e){if(!n1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!n1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function n1(e){return Object.prototype.toString.call(e)==="[object Object]"}function uT(e){return new Promise(t=>{setTimeout(t,e)})}function fT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?w3(e,t):t}function hT(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function mT(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var dg=Symbol();function k3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var vi,Es,Sl,l1,gT=(l1=class extends e0{constructor(){super();Lt(this,vi);Lt(this,Es);Lt(this,Sl);vt(this,Sl,t=>{if(!t0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ce(this,Es)||this.setEventListener(Ce(this,Sl))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,Es))==null||t.call(this),vt(this,Es,void 0))}setEventListener(t){var n;vt(this,Sl,t),(n=Ce(this,Es))==null||n.call(this),vt(this,Es,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){Ce(this,vi)!==t&&(vt(this,vi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ce(this,vi)=="boolean"?Ce(this,vi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vi=new WeakMap,Es=new WeakMap,Sl=new WeakMap,l1),$3=new gT,Cl,Os,_l,o1,yT=(o1=class extends e0{constructor(){super();Lt(this,Cl,!0);Lt(this,Os);Lt(this,_l);vt(this,_l,t=>{if(!t0&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){Ce(this,Os)||this.setEventListener(Ce(this,_l))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,Os))==null||t.call(this),vt(this,Os,void 0))}setEventListener(t){var n;vt(this,_l,t),(n=Ce(this,Os))==null||n.call(this),vt(this,Os,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,Cl)!==t&&(vt(this,Cl,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return Ce(this,Cl)}},Cl=new WeakMap,Os=new WeakMap,_l=new WeakMap,o1),Cu=new yT;function xT(){let e,t;const n=new Promise((o,d)=>{e=o,t=d});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},n.reject=o=>{i({status:"rejected",reason:o}),t(o)},n}function pT(e){return Math.min(1e3*Ep(2,e),3e4)}function S3(e){return(e!=null?e:"online")==="online"?Cu.isOnline():!0}var C3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ph(e){return e instanceof C3}function _3(e){let t=!1,n=0,i=!1,o;const d=xT(),u=k=>{var E;i||(b(new C3(k)),(E=e.abort)==null||E.call(e))},g=()=>{t=!0},h=()=>{t=!1},m=()=>$3.isFocused()&&(e.networkMode==="always"||Cu.isOnline())&&e.canRun(),x=()=>S3(e.networkMode)&&e.canRun(),v=k=>{var E;i||(i=!0,(E=e.onSuccess)==null||E.call(e,k),o==null||o(),d.resolve(k))},b=k=>{var E;i||(i=!0,(E=e.onError)==null||E.call(e,k),o==null||o(),d.reject(k))},p=()=>new Promise(k=>{var E;o=$=>{(i||m())&&k($)},(E=e.onPause)==null||E.call(e)}).then(()=>{var k;o=void 0,i||(k=e.onContinue)==null||k.call(e)}),S=()=>{if(i)return;let k;const E=n===0?e.initialPromise:void 0;try{k=E!=null?E:e.fn()}catch($){k=Promise.reject($)}Promise.resolve(k).then(v).catch($=>{var P,W,Y;if(i)return;const I=(P=e.retry)!=null?P:t0?0:3,D=(W=e.retryDelay)!=null?W:pT,L=typeof D=="function"?D(n,$):D,A=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,$);if(t||!A){b($);return}n++,(Y=e.onFail)==null||Y.call(e,n,$),uT(L).then(()=>m()?void 0:p()).then(()=>{t?b($):S()})})};return{promise:d,cancel:u,continue:()=>(o==null||o(),d),cancelRetry:g,continueRetry:h,canStart:x,start:()=>(x()?S():p().then(S),d)}}var bT=e=>setTimeout(e,0);function vT(){let e=[],t=0,n=g=>{g()},i=g=>{g()},o=bT;const d=g=>{t?e.push(g):o(()=>{n(g)})},u=()=>{const g=e;e=[],g.length&&o(()=>{i(()=>{g.forEach(h=>{n(h)})})})};return{batch:g=>{let h;t++;try{h=g()}finally{t--,t||u()}return h},batchCalls:g=>(...h)=>{d(()=>{g(...h)})},schedule:d,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{i=g},setScheduler:g=>{o=g}}}var Ga=vT(),Ni,c1,T3=(c1=class{constructor(){Lt(this,Ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oT(this.gcTime)&&vt(this,Ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:t0?1/0:5*60*1e3)}clearGcTimeout(){Ce(this,Ni)&&(clearTimeout(Ce(this,Ni)),vt(this,Ni,void 0))}},Ni=new WeakMap,c1),Tl,ji,_r,wi,Ba,kc,ki,Qr,Un,d1,NT=(d1=class extends T3{constructor(t){var n;super();Lt(this,Qr);Lt(this,Tl);Lt(this,ji);Lt(this,_r);Lt(this,wi);Lt(this,Ba);Lt(this,kc);Lt(this,ki);vt(this,ki,!1),vt(this,kc,t.defaultOptions),this.setOptions(t.options),this.observers=[],vt(this,wi,t.client),vt(this,_r,Ce(this,wi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,vt(this,Tl,wT(this.options)),this.state=(n=t.state)!=null?n:Ce(this,Tl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ce(this,Ba))==null?void 0:t.promise}setOptions(t){this.options=H(H({},Ce(this,kc)),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,_r).remove(this)}setData(t,n){const i=fT(this.state.data,t,this.options);return Ua(this,Qr,Un).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Ua(this,Qr,Un).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,o;const n=(i=Ce(this,Ba))==null?void 0:i.promise;return(o=Ce(this,Ba))==null||o.cancel(t),n?n.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Tl))}isActive(){return this.observers.some(t=>dT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$m(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Ce(this,Ba))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Ce(this,Ba))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Ce(this,Ba)&&(Ce(this,ki)?Ce(this,Ba).cancel({revert:!0}):Ce(this,Ba).cancelRetry()),this.scheduleGc()),Ce(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ua(this,Qr,Un).call(this,{type:"invalidate"})}fetch(t,n){var m,x,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,Ba))return Ce(this,Ba).continueRetry(),Ce(this,Ba).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(p=>p.options.queryFn);b&&this.setOptions(b.options)}const i=new AbortController,o=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(vt(this,ki,!0),i.signal)})},d=()=>{const b=k3(this.options,n),S=(()=>{const k={client:Ce(this,wi),queryKey:this.queryKey,meta:this.meta};return o(k),k})();return vt(this,ki,!1),this.options.persister?this.options.persister(b,S,this):b(S)},g=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ce(this,wi),state:this.state,fetchFn:d};return o(b),b})();(m=this.options.behavior)==null||m.onFetch(g,this),vt(this,ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=g.fetchOptions)==null?void 0:x.meta))&&Ua(this,Qr,Un).call(this,{type:"fetch",meta:(v=g.fetchOptions)==null?void 0:v.meta});const h=b=>{var p,S,k,E;Ph(b)&&b.silent||Ua(this,Qr,Un).call(this,{type:"error",error:b}),Ph(b)||((S=(p=Ce(this,_r).config).onError)==null||S.call(p,b,this),(E=(k=Ce(this,_r).config).onSettled)==null||E.call(k,this.state.data,b,this)),this.scheduleGc()};return vt(this,Ba,_3({initialPromise:n==null?void 0:n.initialPromise,fn:g.fetchFn,abort:i.abort.bind(i),onSuccess:b=>{var p,S,k,E;if(b===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch($){h($);return}(S=(p=Ce(this,_r).config).onSuccess)==null||S.call(p,b,this),(E=(k=Ce(this,_r).config).onSettled)==null||E.call(k,b,this.state.error,this),this.scheduleGc()},onError:h,onFail:(b,p)=>{Ua(this,Qr,Un).call(this,{type:"failed",failureCount:b,error:p})},onPause:()=>{Ua(this,Qr,Un).call(this,{type:"pause"})},onContinue:()=>{Ua(this,Qr,Un).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0})),Ce(this,Ba).start()}},Tl=new WeakMap,ji=new WeakMap,_r=new WeakMap,wi=new WeakMap,Ba=new WeakMap,kc=new WeakMap,ki=new WeakMap,Qr=new WeakSet,Un=function(t){const n=i=>{var o,d;switch(t.type){case"failed":return je(H({},i),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return je(H({},i),{fetchStatus:"paused"});case"continue":return je(H({},i),{fetchStatus:"fetching"});case"fetch":return je(H(H({},i),jT(i.data,this.options)),{fetchMeta:(o=t.meta)!=null?o:null});case"success":return vt(this,ji,void 0),H(je(H({},i),{data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(d=t.dataUpdatedAt)!=null?d:Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const u=t.error;return Ph(u)&&u.revert&&Ce(this,ji)?je(H({},Ce(this,ji)),{fetchStatus:"idle"}):je(H({},i),{error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"});case"invalidate":return je(H({},i),{isInvalidated:!0});case"setState":return H(H({},i),t.state)}};this.state=n(this.state),Ga.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Ce(this,_r).notify({query:this,type:"updated",action:t})})},d1);function jT(e,t){return H({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S3(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function wT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i!=null?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hn,u1,kT=(u1=class extends e0{constructor(t={}){super();Lt(this,hn);this.config=t,vt(this,hn,new Map)}build(t,n,i){var g;const o=n.queryKey,d=(g=n.queryHash)!=null?g:cg(o,n);let u=this.get(d);return u||(u=new NT({client:t,queryKey:o,queryHash:d,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(o)}),this.add(u)),u}add(t){Ce(this,hn).has(t.queryHash)||(Ce(this,hn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ce(this,hn).get(t.queryHash);n&&(t.destroy(),n===t&&Ce(this,hn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ga.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,hn).get(t)}getAll(){return[...Ce(this,hn).values()]}find(t){const n=H({exact:!0},t);return this.getAll().find(i=>t1(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>t1(t,i)):n}notify(t){Ga.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ga.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ga.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hn=new WeakMap,u1),mn,qa,$i,gn,$s,f1,$T=(f1=class extends T3{constructor(t){super();Lt(this,gn);Lt(this,mn);Lt(this,qa);Lt(this,$i);this.mutationId=t.mutationId,vt(this,qa,t.mutationCache),vt(this,mn,[]),this.state=t.state||ST(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,mn).includes(t)||(Ce(this,mn).push(t),this.clearGcTimeout(),Ce(this,qa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){vt(this,mn,Ce(this,mn).filter(n=>n!==t)),this.scheduleGc(),Ce(this,qa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,mn).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,qa).remove(this))}continue(){var t,n;return(n=(t=Ce(this,$i))==null?void 0:t.continue())!=null?n:this.execute(this.state.variables)}execute(t){return xe(this,null,function*(){var d,u,g,h,m,x,v,b,p,S,k,E,$,I,D,L,A,P,W,Y,G;const n=()=>{Ua(this,gn,$s).call(this,{type:"continue"})};vt(this,$i,_3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ae,ge)=>{Ua(this,gn,$s).call(this,{type:"failed",failureCount:ae,error:ge})},onPause:()=>{Ua(this,gn,$s).call(this,{type:"pause"})},onContinue:n,retry:(d=this.options.retry)!=null?d:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,qa).canRun(this)}));const i=this.state.status==="pending",o=!Ce(this,$i).canStart();try{if(i)n();else{Ua(this,gn,$s).call(this,{type:"pending",variables:t,isPaused:o}),yield(g=(u=Ce(this,qa).config).onMutate)==null?void 0:g.call(u,t,this);const ge=yield(m=(h=this.options).onMutate)==null?void 0:m.call(h,t);ge!==this.state.context&&Ua(this,gn,$s).call(this,{type:"pending",context:ge,variables:t,isPaused:o})}const ae=yield Ce(this,$i).start();return yield(v=(x=Ce(this,qa).config).onSuccess)==null?void 0:v.call(x,ae,t,this.state.context,this),yield(p=(b=this.options).onSuccess)==null?void 0:p.call(b,ae,t,this.state.context),yield(k=(S=Ce(this,qa).config).onSettled)==null?void 0:k.call(S,ae,null,this.state.variables,this.state.context,this),yield($=(E=this.options).onSettled)==null?void 0:$.call(E,ae,null,t,this.state.context),Ua(this,gn,$s).call(this,{type:"success",data:ae}),ae}catch(ae){try{throw yield(D=(I=Ce(this,qa).config).onError)==null?void 0:D.call(I,ae,t,this.state.context,this),yield(A=(L=this.options).onError)==null?void 0:A.call(L,ae,t,this.state.context),yield(W=(P=Ce(this,qa).config).onSettled)==null?void 0:W.call(P,void 0,ae,this.state.variables,this.state.context,this),yield(G=(Y=this.options).onSettled)==null?void 0:G.call(Y,void 0,ae,t,this.state.context),ae}finally{Ua(this,gn,$s).call(this,{type:"error",error:ae})}}finally{Ce(this,qa).runNext(this)}})}},mn=new WeakMap,qa=new WeakMap,$i=new WeakMap,gn=new WeakSet,$s=function(t){const n=i=>{switch(t.type){case"failed":return je(H({},i),{failureCount:t.failureCount,failureReason:t.error});case"pause":return je(H({},i),{isPaused:!0});case"continue":return je(H({},i),{isPaused:!1});case"pending":return je(H({},i),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return je(H({},i),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return je(H({},i),{data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=n(this.state),Ga.batch(()=>{Ce(this,mn).forEach(i=>{i.onMutationUpdate(t)}),Ce(this,qa).notify({mutation:this,type:"updated",action:t})})},f1);function ST(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zn,Xr,$c,h1,CT=(h1=class extends e0{constructor(t={}){super();Lt(this,zn);Lt(this,Xr);Lt(this,$c);this.config=t,vt(this,zn,new Set),vt(this,Xr,new Map),vt(this,$c,0)}build(t,n,i){const o=new $T({mutationCache:this,mutationId:++Bd(this,$c)._,options:t.defaultMutationOptions(n),state:i});return this.add(o),o}add(t){Ce(this,zn).add(t);const n=Jd(t);if(typeof n=="string"){const i=Ce(this,Xr).get(n);i?i.push(t):Ce(this,Xr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ce(this,zn).delete(t)){const n=Jd(t);if(typeof n=="string"){const i=Ce(this,Xr).get(n);if(i)if(i.length>1){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}else i[0]===t&&Ce(this,Xr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Jd(t);if(typeof n=="string"){const i=Ce(this,Xr).get(n),o=i==null?void 0:i.find(d=>d.state.status==="pending");return!o||o===t}else return!0}runNext(t){var i,o;const n=Jd(t);if(typeof n=="string"){const d=(i=Ce(this,Xr).get(n))==null?void 0:i.find(u=>u!==t&&u.state.isPaused);return(o=d==null?void 0:d.continue())!=null?o:Promise.resolve()}else return Promise.resolve()}clear(){Ga.batch(()=>{Ce(this,zn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ce(this,zn).clear(),Ce(this,Xr).clear()})}getAll(){return Array.from(Ce(this,zn))}find(t){const n=H({exact:!0},t);return this.getAll().find(i=>a1(n,i))}findAll(t={}){return this.getAll().filter(n=>a1(t,n))}notify(t){Ga.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ga.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yr))))}},zn=new WeakMap,Xr=new WeakMap,$c=new WeakMap,h1);function Jd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function s1(e){return{onFetch:(t,n)=>{var x,v,b,p,S;const i=t.options,o=(b=(v=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,d=((p=t.state.data)==null?void 0:p.pages)||[],u=((S=t.state.data)==null?void 0:S.pageParams)||[];let g={pages:[],pageParams:[]},h=0;const m=()=>xe(null,null,function*(){var D;let k=!1;const E=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(t.signal.aborted?k=!0:t.signal.addEventListener("abort",()=>{k=!0}),t.signal)})},$=k3(t.options,t.fetchOptions),I=(L,A,P)=>xe(null,null,function*(){if(k)return Promise.reject();if(A==null&&L.pages.length)return Promise.resolve(L);const Y=(()=>{const J={client:t.client,queryKey:t.queryKey,pageParam:A,direction:P?"backward":"forward",meta:t.options.meta};return E(J),J})(),G=yield $(Y),{maxPages:ae}=t.options,ge=P?mT:hT;return{pages:ge(L.pages,G,ae),pageParams:ge(L.pageParams,A,ae)}});if(o&&d.length){const L=o==="backward",A=L?_T:i1,P={pages:d,pageParams:u},W=A(i,P);g=yield I(P,W,L)}else{const L=e!=null?e:d.length;do{const A=h===0?(D=u[0])!=null?D:i.initialPageParam:i1(i,g);if(h>0&&A==null)break;g=yield I(g,A),h++}while(h<L)}return g});t.options.persister?t.fetchFn=()=>{var k,E;return(E=(k=t.options).persister)==null?void 0:E.call(k,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function i1(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function _T(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var sa,As,Rs,El,Ol,Ps,Al,Rl,m1,TT=(m1=class{constructor(e={}){Lt(this,sa);Lt(this,As);Lt(this,Rs);Lt(this,El);Lt(this,Ol);Lt(this,Ps);Lt(this,Al);Lt(this,Rl);vt(this,sa,e.queryCache||new kT),vt(this,As,e.mutationCache||new CT),vt(this,Rs,e.defaultOptions||{}),vt(this,El,new Map),vt(this,Ol,new Map),vt(this,Ps,0)}mount(){Bd(this,Ps)._++,Ce(this,Ps)===1&&(vt(this,Al,$3.subscribe(e=>xe(this,null,function*(){e&&(yield this.resumePausedMutations(),Ce(this,sa).onFocus())}))),vt(this,Rl,Cu.subscribe(e=>xe(this,null,function*(){e&&(yield this.resumePausedMutations(),Ce(this,sa).onOnline())}))))}unmount(){var e,t;Bd(this,Ps)._--,Ce(this,Ps)===0&&((e=Ce(this,Al))==null||e.call(this),vt(this,Al,void 0),(t=Ce(this,Rl))==null||t.call(this),vt(this,Rl,void 0))}isFetching(e){return Ce(this,sa).findAll(je(H({},e),{fetchStatus:"fetching"})).length}isMutating(e){return Ce(this,As).findAll(je(H({},e),{status:"pending"})).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ce(this,sa).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ce(this,sa).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($m(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return Ce(this,sa).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=Ce(this,sa).get(i.queryHash),d=o==null?void 0:o.state.data,u=lT(t,d);if(u!==void 0)return Ce(this,sa).build(this,i).setData(u,je(H({},n),{manual:!0}))}setQueriesData(e,t,n){return Ga.batch(()=>Ce(this,sa).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ce(this,sa).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ce(this,sa);Ga.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ce(this,sa);return Ga.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(H({type:"active"},e),t)))}cancelQueries(e,t={}){const n=H({revert:!0},t),i=Ga.batch(()=>Ce(this,sa).findAll(e).map(o=>o.cancel(n)));return Promise.all(i).then(Yr).catch(Yr)}invalidateQueries(e,t={}){return Ga.batch(()=>{var n,i;return Ce(this,sa).findAll(e).forEach(o=>{o.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(je(H({},e),{type:(i=(n=e==null?void 0:e.refetchType)!=null?n:e==null?void 0:e.type)!=null?i:"active"}),t)})}refetchQueries(e,t={}){var o;const n=je(H({},t),{cancelRefetch:(o=t.cancelRefetch)!=null?o:!0}),i=Ga.batch(()=>Ce(this,sa).findAll(e).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let u=d.fetch(void 0,n);return n.throwOnError||(u=u.catch(Yr)),d.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ce(this,sa).build(this,t);return n.isStaleByTime($m(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yr).catch(Yr)}fetchInfiniteQuery(e){return e.behavior=s1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yr).catch(Yr)}ensureInfiniteQueryData(e){return e.behavior=s1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cu.isOnline()?Ce(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,sa)}getMutationCache(){return Ce(this,As)}getDefaultOptions(){return Ce(this,Rs)}setDefaultOptions(e){vt(this,Rs,e)}setQueryDefaults(e,t){Ce(this,El).set(Nc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,El).values()],n={};return t.forEach(i=>{jc(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){Ce(this,Ol).set(Nc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,Ol).values()],n={};return t.forEach(i=>{jc(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=je(H(H(H({},Ce(this,Rs).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=cg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:je(H(H(H({},Ce(this,Rs).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){Ce(this,sa).clear(),Ce(this,As).clear()}},sa=new WeakMap,As=new WeakMap,Rs=new WeakMap,El=new WeakMap,Ol=new WeakMap,Ps=new WeakMap,Al=new WeakMap,Rl=new WeakMap,m1),ET=j.createContext(void 0),OT=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(ET.Provider,{value:e,children:t}));function AT(){window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&typeof e.reason=="object"&&e.reason.message&&e.reason.message.includes("fetch")&&console.error("Network/API error detected:",e.reason),e.preventDefault()})}function RT(){return Hl("(max-width: 1024px)")?null:r.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-beveren-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-10",children:r.jsxs("div",{className:"w-full py-1 flex justify-between items-center px-4",children:[r.jsxs("div",{className:"mx-auto text-xs text-gray-600 dark:text-gray-400",children:["© ",new Date().getFullYear()]}),r.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Powered by"," ",r.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline text-beveren-600 dark:text-beveren-400",children:"Beveren Software"})]})]})})}const PT=new TT;function MT(){return j.useEffect(()=>{AT()},[]),r.jsx(OT,{client:PT,children:r.jsx(Lw,{children:r.jsx(Y5,{children:r.jsx(Fw,{children:r.jsxs(Hw,{children:[r.jsx(Zj,{}),r.jsx(RT,{}),r.jsx(L9,{position:"top-center",autoClose:3e3})]})})})})})}function DT(){const e=ya(),{isAuthenticated:t,loading:n}=zs();return j.useEffect(()=>{n||(t?e("/pos",{replace:!0}):e("/login",{replace:!0}))},[t,n,e]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),r.jsx("p",{className:"text-beveren-600 mt-4",children:"Loading..."})]})})}function Cm({customer:e,isOpen:t,onClose:n,onSuccess:i,customers:o=[]}){const[d,u]=j.useState([]),[g,h]=j.useState(!1),[m,x]=j.useState(!1),[v,b]=j.useState(90),[p,S]=j.useState(""),[k,E]=j.useState(new Set),[$,I]=j.useState("select-customer"),[D,L]=j.useState(e||""),[A,P]=j.useState(""),[W,Y]=j.useState([]),[G,ae]=j.useState([]),[ge,J]=j.useState([]),[Ee,K]=j.useState([]),[z,U]=j.useState("");j.useEffect(()=>{t&&(e?(I("select-items"),L(e)):(I("select-customer"),L("")),Y([]),u([]),E(new Set),J([]),P(""),U(""),e&&(re(),_()))},[t,e]);const _=()=>xe(null,null,function*(){try{const $e=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${D}`)).json();$e.message&&Array.isArray($e.message)?K($e.message):K([])}catch(ye){console.error("Error loading customer addresses:",ye),K([])}}),re=()=>xe(null,null,function*(){try{const ye=new Date().toISOString().split("T")[0],$e=new Date(Date.now()-v*24*60*60*1e3).toISOString().split("T")[0],Ae=yield Ah(D,$e,ye,z);if(Ae.success&&Ae.data){const Ze=new Map;Ae.data.forEach(Q=>{Q.items.forEach(De=>{De.available_qty>0&&Ze.set(De.item_code,De.item_name)})});const xt=Array.from(Ze.entries()).map(([Q,De])=>({item_code:Q,item_name:De}));ae(xt),J(xt)}else ae([]),J([])}catch(ye){console.error("Error loading available items:",ye),ae([]),J([])}}),pe=()=>xe(null,null,function*(){if(W.length===0){Be.error("Please select at least one item to return");return}I("filter-invoices"),x(!0);try{const ye=new Date().toISOString().split("T")[0],$e=new Date(Date.now()-v*24*60*60*1e3).toISOString().split("T")[0],Ae=yield Ah(D,$e,ye,z);if(Ae.success&&Ae.data){const Ze=Ae.data.filter(xt=>xt.items.some(Q=>W.some(De=>De.item_code===Q.item_code&&Q.available_qty>0))).map(xt=>je(H({},xt),{items:xt.items.filter(Q=>W.some(De=>De.item_code===Q.item_code&&Q.available_qty>0)).map(Q=>je(H({},Q),{return_qty:Q.available_qty}))}));u(Ze),I("select-invoices")}else Be.error(Ae.error||"Failed to load customer invoices"),u([])}catch(ye){console.error("Error loading customer invoices:",ye),Be.error("Failed to load customer invoices"),u([])}finally{x(!1)}}),R=(ye,$e,Ae)=>{Y(Ae?Ze=>[...Ze,{item_code:ye,item_name:$e}]:Ze=>Ze.filter(xt=>xt.item_code!==ye))},ie=(ye,$e,Ae)=>{u(Ze=>Ze.map(xt=>{if(xt.name===ye){const Q=xt.items.map(De=>{if(De.item_code===$e){const Rt=Math.max(0,Math.min(Ae,De.available_qty));return je(H({},De),{return_qty:Rt})}return De});return je(H({},xt),{items:Q})}return xt}))},ve=ye=>{E($e=>{const Ae=new Set($e);return Ae.has(ye)?(Ae.delete(ye),u(Ze=>Ze.map(xt=>{if(xt.name===ye){const Q=xt.items.map(De=>je(H({},De),{return_qty:0}));return je(H({},xt),{items:Q})}return xt}))):Ae.add(ye),Ae})},V=ye=>{u($e=>$e.map(Ae=>{if(Ae.name===ye){const Ze=Ae.items.map(xt=>je(H({},xt),{return_qty:xt.available_qty}));return je(H({},Ae),{items:Ze})}return Ae})),E($e=>new Set($e).add(ye))},_e=d.filter(ye=>ye.name.toLowerCase().includes(p.toLowerCase())||ye.items.some($e=>$e.item_name.toLowerCase().includes(p.toLowerCase())||$e.item_code.toLowerCase().includes(p.toLowerCase()))),Ye=d.some(ye=>ye.items.some($e=>($e.return_qty||0)>0)),Oe=d.reduce((ye,$e)=>ye+$e.items.reduce((Ae,Ze)=>Ae+(Ze.return_qty||0)*Ze.rate,0),0),We=()=>xe(null,null,function*(){const ye=d.filter(Ae=>k.has(Ae.name)).map(Ae=>({invoice_name:Ae.name,return_items:Ae.items.filter(Ze=>(Ze.return_qty||0)>0)})).filter(Ae=>Ae.return_items.length>0);if(ye.length===0){Be.error("Please select at least one item to return");return}const $e={customer:e,invoice_returns:ye};h(!0),console.log("Data",$e);try{const Ae=yield X_($e);Ae.success?(Be.success(Ae.message||"Returns created successfully"),i(Ae.createdReturns||[]),n()):Be.error(Ae.error||"Failed to create returns")}catch(Ae){console.error("Error creating returns:",Ae),Be.error("Failed to create returns")}finally{h(!1)}});return t?r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-7xl h-[95vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:r.jsx(Us,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Multi-Invoice Return"}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Customer: ",D||"Not selected"]})]})]}),r.jsx("button",{onClick:n,className:"p-1.5 sm:p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(xr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),r.jsx("div",{className:"mt-3 sm:mt-4 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[!e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${$==="select-customer"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${$==="select-customer"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:"1"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Customer"})]}),r.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"})]}),r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${$==="select-items"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${$==="select-items"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"1":"2"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Items"})]}),r.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${$==="filter-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${$==="filter-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"2":"3"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Filter Invoices"})]}),r.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${$==="select-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${$==="select-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"3":"4"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Invoices"})]})]})})]}),$==="select-customer"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Customer"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a customer to process multi-invoice returns"})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:A,onChange:ye=>P(ye.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[r.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-60 sm:max-h-none",children:o&&o.length>0?o.filter(ye=>{var $e,Ae;return(($e=ye.customer_name)==null?void 0:$e.toLowerCase().includes(A.toLowerCase()))||((Ae=ye.name)==null?void 0:Ae.toLowerCase().includes(A.toLowerCase()))}).map(ye=>r.jsxs("button",{onClick:()=>xe(null,null,function*(){const $e=ye.name||ye.customer_name||"";L($e),I("select-items");try{const Ae=new Date().toISOString().split("T")[0],Ze=new Date(Date.now()-v*24*60*60*1e3).toISOString().split("T")[0],Q=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${$e}`)).json();Q.message&&Array.isArray(Q.message)?K(Q.message):K([]);const De=yield Ah($e,Ze,Ae,z);if(De.success&&De.data){const Rt=new Map;De.data.forEach(Pt=>{Pt.items.forEach(Kt=>{Kt.available_qty>0&&Rt.set(Kt.item_code,Kt.item_name)})});const ia=Array.from(Rt.entries()).map(([Pt,Kt])=>({item_code:Pt,item_name:Kt}));ae(ia),J(ia)}else ae([]),J([])}catch(Ae){console.error("Error loading customer data:",Ae),ae([]),J([]),K([])}}),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ye.customer_name||ye.name||"Unknown Customer"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ye.name||ye.customer_name||"No ID"})]},ye.name||ye.customer_name||Math.random())):A.trim()?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',A,'"']})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),o&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:A.trim()?`${o.filter(ye=>{var $e,Ae;return(($e=ye.customer_name)==null?void 0:$e.toLowerCase().includes(A.toLowerCase()))||((Ae=ye.name)==null?void 0:Ae.toLowerCase().includes(A.toLowerCase()))}).length} of ${o.length} customers`:`${o.length} customers total`})})]})]}),$==="select-items"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Items to Return"}),r.jsx("p",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400",children:"Choose which items you want to return from customer invoices"})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days to Look Back"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ml,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"number",min:"1",max:"365",value:v||"",onChange:ye=>{const $e=ye.target.value;if($e==="")b(0);else{const Ae=parseInt($e);!isNaN(Ae)&&Ae>0&&b(Ae)}},onBlur:ye=>{(!v||v<1)&&b(90)},className:"w-20 sm:w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"}),r.jsx("button",{onClick:re,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Refresh items with new days setting",children:r.jsx(Us,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Address (Optional)"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Du,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{list:"address-list",value:z,onChange:ye=>{U(ye.target.value),setTimeout(()=>re(),100)},className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                                  focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800
                                  text-gray-900 dark:text-white`}),r.jsx("datalist",{id:"address-list",children:Ee.map(ye=>r.jsxs("option",{value:ye.name,children:[ye.address_line1,", ",ye.city]},ye.name))})]})]}),W.length>0&&r.jsxs("button",{onClick:pe,disabled:m,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 ${m?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-orange-700"}`,children:[r.jsx(Zh,{className:"w-4 h-4"}),r.jsx("span",{children:m?"Loading...":`Find Invoices (${W.length} items)`})]})]})}),g?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading available items..."})]}):G.length>0?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Available Items (Last ",v," days)"]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[W.length," of ",G.length," selected"]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onChange:ye=>{const $e=ye.target.value.toLowerCase(),Ae=G.filter(Ze=>Ze.item_name.toLowerCase().includes($e)||Ze.item_code.toLowerCase().includes($e));J(Ae)}})]}),W.length>0&&r.jsx("button",{onClick:()=>Y([]),className:"px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700 transition-colors",children:"Clear All"})]})}),r.jsx("div",{className:"overflow-x-auto flex-1 min-h-0",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:W.length===ge.length&&ge.length>0,onChange:ye=>{ye.target.checked?Y(ge):Y([])},className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),r.jsx("span",{className:"text-xs text-gray-400",children:"All"})]})}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Name"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Code"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ge.map(ye=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox",checked:W.some($e=>$e.item_code===ye.item_code),onChange:$e=>R(ye.item_code,ye.item_name,$e.target.checked),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ye.item_name})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:ye.item_code})}),r.jsx("td",{className:"px-3 py-2 text-center",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W.some($e=>$e.item_code===ye.item_code)?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:W.some($e=>$e.item_code===ye.item_code)?"Selected":"Available"})})]},ye.item_code))})]})}),W.length>0&&r.jsx("div",{className:"mt-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[r.jsx("span",{className:"font-medium",children:W.length})," items selected for return"]})})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center min-h-0",children:[r.jsx(xu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Items Found"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No items found in customer invoices from the last ",v," days."]}),r.jsx("button",{onClick:re,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Refresh Items"})]})]}),$==="filter-invoices"&&r.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Filtering Invoices"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Finding invoices from the last ",v," days containing selected items..."]})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Filtering invoices..."})]})})]}),$==="select-invoices"&&r.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search invoices or items...",value:p,onChange:ye=>S(ye.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>I("select-items"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium",children:"← Back to Items"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),r.jsxs("p",{className:"text-xl font-bold text-beveren-600 dark:text-beveren-400",children:["$",Oe.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_e.length," invoice(s) found • ",k.size," selected"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected Items: ",W.map(ye=>ye.item_name).join(", ")]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{maxHeight:"calc(95vh - 320px)"},children:$==="select-invoices"&&r.jsx(r.Fragment,{children:m?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):_e.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Invoices Found"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No invoices found containing the selected items in the last ",v," days."]}),r.jsx("button",{onClick:()=>I("select-items"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"← Back to Items Selection"})]})}):r.jsx("div",{className:"space-y-6",children:_e.map(ye=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:k.has(ye.name),onChange:()=>ve(ye.name),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:ye.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{children:ye.posting_date}),r.jsxs("span",{children:["$",ye.grand_total.toFixed(2)]}),r.jsx("span",{className:"capitalize",children:ye.status})]})]})]}),r.jsx("button",{onClick:()=>V(ye.name),className:"px-3 py-1 text-sm bg-beveren-100 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 rounded hover:bg-beveren-200 dark:hover:bg-beveren-900/40 transition-colors",children:"Return All Available"})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Sold"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Returned"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Available"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Return Qty"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:ye.items.map($e=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xu,{className:"w-4 h-4 text-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:$e.item_name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:$e.item_code})]})]})}),r.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900 dark:text-white",children:$e.qty}),r.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600 dark:text-red-400",children:$e.returned_qty}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`text-sm font-medium ${$e.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:$e.available_qty})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("button",{onClick:()=>ie(ye.name,$e.item_code,($e.return_qty||0)-1),disabled:!$e.return_qty||$e.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(Qm,{className:"w-3 h-3"})}),r.jsx("input",{type:"number",min:"0",max:$e.available_qty,value:$e.return_qty||0,onChange:Ae=>ie(ye.name,$e.item_code,parseInt(Ae.target.value)||0),className:"w-12 px-1 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs",disabled:$e.available_qty===0}),r.jsx("button",{onClick:()=>ie(ye.name,$e.item_code,($e.return_qty||0)+1),disabled:$e.available_qty===0||($e.return_qty||0)>=$e.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(tc,{className:"w-3 h-3"})})]})}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:["$",(($e.return_qty||0)*$e.rate).toFixed(2)]})]},$e.item_code))})]})})]},ye.name))})})}),$==="select-invoices"&&r.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:Ye&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pl,{className:"w-4 h-4 text-orange-500"}),r.jsx("span",{children:"Items selected for return from multiple invoices"})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),r.jsx("button",{onClick:We,disabled:!Ye||g,className:`px-6 sm:px-8 py-3 rounded-lg font-semibold text-base sm:text-lg transition-colors shadow-lg ${Ye&&!g?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:g?"Processing...":"Create Returns"})]})]})})]})}):null}function LT(){const e=ya(),t=Hl("(max-width: 1024px)"),[n,i]=j.useState("all"),[o,d]=j.useState(""),[u,g]=j.useState("all"),[h,m]=j.useState("all"),[x,v]=j.useState("all"),[b,p]=j.useState("list"),[S,k]=j.useState(null),[E,$]=j.useState(!1),[I,D]=j.useState(!1),[L,A]=j.useState(!1),[P,W]=j.useState(""),[Y,G]=j.useState(""),[ae,ge]=j.useState(!1),[J,Ee]=j.useState(null),[K,z]=j.useState(!1),[U,_]=j.useState(null),{invoices:re,isLoading:pe,error:R}=Zu(),{modes:ie}=w2(),{customers:ve}=rg(),{posDetails:V}=Mr();j.useEffect(()=>{const be=ke=>{ke.key==="Escape"&&(ae&&ft(),I&&D(!1),L&&A(!1))};return document.addEventListener("keydown",be),()=>document.removeEventListener("keydown",be)},[ae,I,L]);const _e=[{id:"all",name:"All Invoices",icon:Dl,color:"text-gray-600"},{id:"Draft",name:"Draft",icon:Qk,color:"text-gray-500"},{id:"Unpaid",name:"Unpaid",icon:Ml,color:"text-yellow-600"},{id:"Partly Paid",name:"Partly Paid",icon:nc,color:"text-orange-600"},{id:"Paid",name:"Paid",icon:Pl,color:"text-green-600"},{id:"Overdue",name:"Overdue",icon:xi,color:"text-red-600"},{id:"Return",name:"Returns",icon:bu,color:"text-purple-600"},{id:"Cancelled",name:"Cancelled",icon:xi,color:"text-red-500"}],Ye=be=>{if(u==="all")return!0;if(u==="today")return sg(be);if(u==="yesterday"){const ke=new Date;ke.setUTCDate(ke.getUTCDate()-1);const bt=new Date(be);return bt.getUTCFullYear()===ke.getUTCFullYear()&&bt.getUTCMonth()===ke.getUTCMonth()&&bt.getUTCDate()===ke.getUTCDate()}return u==="week"?ig(be):u==="month"?lg(be):u==="year"?og(be):!0},Oe=be=>{const ke="px-2 py-1 rounded-full text-xs font-medium";switch((be==null?void 0:be.toLowerCase())||""){case"paid":return`${ke} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${ke} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${ke} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${ke} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${ke} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${ke} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${ke} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${ke} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${ke} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${ke} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${ke} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${ke} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${ke} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},We=j.useMemo(()=>pe?[]:R?[]:re.filter(be=>{const ke=o===""||be.id.toLowerCase().includes(o.toLowerCase())||be.customer.toLowerCase().includes(o.toLowerCase())||be.cashier&&be.cashier.toLowerCase().includes(o.toLowerCase()),bt=n==="all"||be.status===n,Zt=h==="all"||be.paymentMethod===h,ea=x==="all"||be.cashier===x,ta=Ye(be.date);return ke&&Zt&&ea&&bt&&ta}),[re,o,n,u,h,x,pe,R]),ye=j.useMemo(()=>[...new Set(re.map(be=>be.cashier).filter(Boolean))],[re]),$e=j.useMemo(()=>{if(!ve)return[];const be=ve.filter(bt=>bt&&(bt.customer_name||bt.name));if(!Y.trim())return be;const ke=Y.toLowerCase();return be.filter(bt=>{var ta,za;const Zt=((ta=bt.customer_name)==null?void 0:ta.toLowerCase())||"",ea=((za=bt.name)==null?void 0:za.toLowerCase())||"";return Zt.includes(ke)||ea.includes(ke)})},[ve,Y]),Ae=be=>be==="all"?re.length:re.filter(ke=>ke.status===be).length;if(pe)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(R)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:R.message}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const Ze=()=>r.jsx("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:o,onChange:be=>d(be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:u,onChange:be=>g(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"yesterday",children:"Yesterday"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]}),r.jsxs("select",{value:x,onChange:be=>v(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Cashiers"}),ye.map(be=>r.jsx("option",{value:be,children:be},be))]}),r.jsxs("select",{value:h,onChange:be=>m(be.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Payments"}),ie.map(be=>r.jsx("option",{value:be.name,children:be.name},be.name))]})]})}),xt=()=>r.jsxs("div",{className:"w-full max-w-none grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:We.length})]}),r.jsx(Dl,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(We.reduce((be,ke)=>be+ke.totalAmount,0),(V==null?void 0:V.currency)||"USD")})]}),r.jsx(ec,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(We.filter(be=>be.status==="Paid").reduce((be,ke)=>be+ke.totalAmount,0),(V==null?void 0:V.currency)||"USD")})]}),r.jsx(Pl,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(We.filter(be=>["Unpaid","Partly Paid","Overdue"].includes(be.status)).reduce((be,ke)=>be+ke.totalAmount,0),(V==null?void 0:V.currency)||"USD")})]}),r.jsx(nc,{className:"w-8 h-8 text-orange-600"})]})})]}),Q=()=>{var be;return r.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[n==="all"?"All Invoices":(be=_e.find(ke=>ke.id===n))==null?void 0:be.name," (",We.length,")"]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded-md transition-colors ${b==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsx(Ym,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>p("cards"),className:`p-2 rounded-md transition-colors ${b==="cards"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsx(Ec,{className:"w-4 h-4"})})]})]}),b==="list"?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(V==null?void 0:V.is_zatca_enabled)&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:We.map(ke=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ke.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ke.date," ",ke.time]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ke.customer})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ke.cashier}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:ke.paymentMethod})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:St(ke.totalAmount,ke.currency)}),ke.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",St(ke.giftCardDiscount,ke.currency)," gift card"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:Oe(ke.status),children:ke.status})}),(V==null?void 0:V.is_zatca_enabled)&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:Oe(ke.custom_zatca_submit_status),children:ke.custom_zatca_submit_status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>De(ke),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Is,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),ke.status==="Draft"&&r.jsxs("button",{onClick:()=>Rt(ke),className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ke.status)&&ia(ke)&&r.jsxs("button",{onClick:()=>Na(ke),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]})]})})]},ke.id))})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:We.map(ke=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ke.id}),r.jsx("span",{className:Oe(ke.status),children:ke.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:ke.customer})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:St(ke.totalAmount,ke.currency)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:ke.date})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cashier:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:ke.cashier})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-2",children:[r.jsx("button",{onClick:()=>De(ke),className:"flex-1 text-xs px-3 py-2 bg-beveren-600 text-white rounded hover:bg-beveren-700 transition-colors",children:"View"}),ke.status==="Draft"&&r.jsx("button",{onClick:()=>Rt(ke),className:"flex-1 text-xs px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(ke.status)&&ia(ke)&&r.jsx("button",{onClick:()=>Na(ke),className:"flex-1 text-xs px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"Return"})]})]},ke.id))})]})},De=be=>{e(`/invoice/${be.id}`)},Rt=be=>{Ee(be),ge(!0)},ia=be=>{if(!be||!be.items)return console.log("No invoice or items found for:",be==null?void 0:be.id),!1;const ke=be.items.some(bt=>{const Zt=bt.qty||bt.quantity||0,ea=bt.returned_qty||0,ta=ea<Zt;return console.log(`Item ${bt.item_code}: sold=${Zt}, returned=${ea}, canReturn=${ta}`),ta});return console.log(`Invoice ${be.id} has returnable items: ${ke}`),ke},Pt=be=>{Kt(be),$(!1)},Kt=be=>xe(null,null,function*(){try{const ke=yield Bu(be);e(`/invoice/${ke.return_invoice}`),Be.success(`Invoice returned: ${ke.return_invoice}`)}catch(ke){Be.error(ke.message||"Failed to return invoice")}}),Aa=be=>{console.log("Cancelling invoice:",be),$(!1)},Ra=()=>{W(""),A(!0)},Na=be=>{_(be),z(!0)},he=()=>{z(!1),_(null),window.location.reload()},X=()=>{e("/pos"),ge(!1),Ee(null)},ze=()=>{e("/pos"),ge(!1),Ee(null),Be.info("Navigate to the cart and use the Checkout button to process payment")},ht=()=>xe(null,null,function*(){if(J)try{Be.success(`Invoice ${J.id} submitted successfully`)}catch(be){Be.error(be.message||"Failed to submit invoice")}ge(!1),Ee(null)}),ft=()=>{ge(!1),Ee(null)},He=be=>{if(!be){Be.error("Invalid customer selection");return}W(be),D(!1),G(""),A(!0)},yt=be=>{Be.success(`Created ${be.length} return invoices successfully`),A(!1),W("")},jt=()=>{D(!1),G("")};return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invoice History"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:Ra,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[r.jsx(Ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Multi Return"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[r.jsx(yu,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[r.jsx("div",{className:"mb-6 w-full",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:_e.map(be=>r.jsxs("button",{onClick:()=>i(be.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-xs whitespace-nowrap ${n===be.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${be.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[r.jsx(be.icon,{className:"w-4 h-4"}),r.jsx("span",{children:be.name}),r.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:Ae(be.id)})]},be.id))})})})}),Ze(),xt(),Q()]}),r.jsx(vc,{invoice:S,isOpen:E,onClose:()=>$(!1),onRefund:Pt,onCancel:Aa}),I&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),r.jsx("button",{onClick:jt,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xi,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:Y,onChange:be=>G(be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:$e&&$e.length>0?$e.map(be=>r.jsxs("button",{onClick:()=>He(be.name||be.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:be.customer_name||be.name||"Unknown Customer"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:be.name||be.customer_name||"No ID"})]},be.name||be.customer_name||Math.random())):Y.trim()?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',Y,'"']})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),$e&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:Y.trim()?`${$e.length} of ${(ve==null?void 0:ve.length)||0} customers`:`${(ve==null?void 0:ve.length)||0} customers total`})})]})]})}),r.jsx(Cm,{customer:P,isOpen:L,onClose:()=>A(!1),onSuccess:yt,customers:ve}),ae&&J&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[r.jsx("div",{className:"absolute inset-0 -z-10",onClick:ft}),r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),r.jsx("button",{onClick:ft,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xi,{className:"w-5 h-5"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",J.id]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:X,className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[r.jsx(rc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),r.jsxs("button",{onClick:ze,className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[r.jsx(ar,{className:"w-5 h-5 text-orange-600 dark:text-green-400"}),r.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Payment"})]}),r.jsxs("button",{onClick:ht,className:"w-full flex items-center justify-center space-x-3 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors",children:[r.jsx(Hb,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),r.jsx("span",{className:"font-medium text-orange-900 dark:text-orange-100",children:"Submit Invoice"})]})]})]})]})}),r.jsx(Kn,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx(yn,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice History"})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:Ra,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(g2,{className:"w-4 h-4"}),r.jsx("span",{children:"Multi-Invoice Return"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(yu,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]})})}),r.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 ml-20 max-w-none",children:[r.jsx("div",{className:"mb-8 w-full max-w-none",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:_e.map(be=>r.jsxs("button",{onClick:()=>i(be.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${n===be.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${be.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[r.jsx(be.icon,{className:"w-5 h-5"}),r.jsx("span",{children:be.name}),r.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:Ae(be.id)})]},be.id))})})})}),Ze(),xt(),Q()]}),r.jsx(vc,{invoice:S,isOpen:E,onClose:()=>$(!1),onRefund:Pt,onCancel:Aa}),I&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),r.jsx("button",{onClick:jt,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xi,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:Y,onChange:be=>G(be.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:$e&&$e.length>0?$e.map(be=>r.jsxs("button",{onClick:()=>He(be.name||be.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:be.customer_name||be.name||"Unknown Customer"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:be.name||be.customer_name||"No ID"})]},be.name||be.customer_name||Math.random())):Y.trim()?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',Y,'"']})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),$e&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:Y.trim()?`${$e.length} of ${(ve==null?void 0:ve.length)||0} customers`:`${(ve==null?void 0:ve.length)||0} customers total`})})]})]})}),r.jsx(Cm,{customer:P,isOpen:L,onClose:()=>A(!1),onSuccess:yt,customers:ve}),ae&&J&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[r.jsx("div",{className:"absolute inset-0 -z-10",onClick:ft}),r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),r.jsx("button",{onClick:ft,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xi,{className:"w-5 h-5"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",J.id]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:X,className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[r.jsx(rc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),r.jsxs("button",{onClick:ze,className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[r.jsx(ar,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),r.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Payment"})]}),r.jsxs("button",{onClick:ht,className:"w-full flex items-center justify-center space-x-3 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors",children:[r.jsx(Hb,{className:"w-5 h-5 text-orange-600 dark:text-purple-400"}),r.jsx("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:"Submit Invoice"})]})]})]})]})}),r.jsx(Wu,{invoice:U,isOpen:K,onClose:()=>z(!1),onSuccess:he})]})]})}function IT(){var Ee,K,z,U,_,re,pe,R,ie,ve,V,_e,Ye;const{id:e}=Rm(),t=e!=null?e:"",{invoice:n,isLoading:i,error:o}=N3(t),{statistics:d,isLoading:u}=b3((n==null?void 0:n.customer)||null),g=ya(),[h,m]=j.useState(!1),[x,v]=j.useState(null),[b,p]=j.useState(!1),[S,k]=j.useState(!1),[E,$]=j.useState(!1),[I,D]=j.useState(null),[L,A]=j.useState(!1),P=()=>{g("/invoice")},W=Oe=>{const We="px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1";switch(Oe){case"Completed":case"Paid":return`${We} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"Pending":case"Unpaid":return`${We} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Cancelled":return`${We} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Refunded":return`${We} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;default:return We}},Y=()=>xe(null,null,function*(){var Oe,We,ye;if(!(n!=null&&n.customer)){Be.error("Customer information not available");return}A(!0);try{const $e=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(n.customer)}`);if(!$e.ok)throw new Error(`HTTP ${$e.status}: ${$e.statusText}`);const Ae=yield $e.json();if(((Oe=Ae==null?void 0:Ae.message)==null?void 0:Oe.success)!==!1){const Ze=Ae.message,xt={id:Ze.name,name:Ze.customer_name,type:((We=Ze.customer_type)==null?void 0:We.toLowerCase())==="company"?"company":"individual",email:Ze.email_id||"",phone:Ze.mobile_no||"",address:{addressType:"Billing",street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},status:"active",preferredPaymentMethod:"Cash"};D(xt),$(!0)}else throw new Error(((ye=Ae==null?void 0:Ae.message)==null?void 0:ye.error)||"Failed to fetch customer details")}catch($e){console.error("Error fetching customer details:",$e),Be.error($e.message||"Failed to fetch customer details")}finally{A(!1)}}),G=Oe=>{Be.success(`Return invoice created: ${Oe}`),g(`/invoice/${Oe}`)},ae=Oe=>{console.log("Saving customer:",Oe),$(!1),D(null),Be.success("Customer updated successfully!")},ge=Oe=>{Be.success(`${Oe.length} return invoices created successfully`),g("/invoice")},J=()=>!n||!n.items?!1:n.items.some(Oe=>{const We=Oe.qty||Oe.quantity||0;return(Oe.returned_qty||0)<We});return i?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[r.jsx(yn,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})})]}):o?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[r.jsx(yn,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(nc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error loading invoice: ",o]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})]}):n?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx(yn,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:P,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-beveren-200 dark:hover:bg-gray-700 rounded-lg",children:r.jsx(Oi,{size:20})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Invoice ",n.name||n.id]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.posting_date," at ",n.posting_time]})]}),r.jsxs("div",{className:W(n.status),children:[r.jsx(Pl,{size:16}),r.jsx("span",{children:n.status})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"sr-only",children:r.jsx(ou,{invoice:n})}),r.jsxs("button",{className:"group relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",onClick:()=>cu(n),children:[r.jsx(ac,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Print Invoice"})]}),r.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{v("email"),m(!0)},children:[r.jsx(Wh,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via Email"})]}),r.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>{v("whatsapp"),m(!0)},children:[r.jsx(Jh,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via WhatsApp"})]}),r.jsxs("button",{className:"group relative p-2 text-gray-400 cursor-not-allowed opacity-50",disabled:!0,children:[r.jsx(em,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"SMS (Disabled)"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(n.status)&&!n.is_return&&J()&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),r.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:hover:bg-orange-900 rounded-lg transition-all duration-200",onClick:()=>p(!0),children:[r.jsx(Us,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Return Items (Single Invoice)"})]}),r.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-indigo-100 dark:text-indigo-400 dark:hover:bg-indigo-900 rounded-lg transition-all duration-200",onClick:()=>k(!0),children:[r.jsx(g2,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Multi-Invoice Return"})]})]})]})]})})}),r.jsx("div",{className:"flex-1 pt-20 pb-20 overflow-auto",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"INVOICE"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["#",n.name||n.id]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.company}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(Ee=n.company_address_doc)==null?void 0:Ee.address_line1}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(K=n.company_address_doc)==null?void 0:K.county}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(z=n.company_address_doc)==null?void 0:z.phone})]})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Bill To:"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:n.customer}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(U=n.customer_address_doc)==null?void 0:U.address_line1}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(_=n.customer_address_doc)==null?void 0:_.email_id}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(re=n.customer_address_doc)==null?void 0:re.phone})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:n.posting_date})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:n.posting_time})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cashier:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:n.cashier_name||n.owner})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:n.paymentMethod})]})]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:(pe=n.items)==null?void 0:pe.map((Oe,We)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Oe.item_name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",Oe.item_code]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:Oe.category})]})}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 dark:text-white",children:Oe.qty}),r.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900 dark:text-white",children:St(Oe.rate,n.currency)}),r.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:St(Oe.amount,n.currency)})]},We))})]})}),n.taxes&&n.taxes.length>0&&r.jsxs("div",{className:"px-6 py-4 bg-beveren-50 dark:bg-beveren-900/20 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(x5,{className:"w-5 h-5 text-beveren-600 dark:text-beveren-400"}),r.jsx("h4",{className:"text-sm font-semibold text-beveren-900 dark:text-beveren-100",children:"Tax Details"})]}),r.jsxs("div",{className:"space-y-2",children:[n.taxes.map((Oe,We)=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-medium",children:Oe.account_head}),r.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400",children:["(",Oe.rate,"%)"]}),Oe.included_in_print_rate===1&&r.jsx("span",{className:"px-2 py-1 bg-beveren-100 dark:bg-beveren-800 text-beveren-800 dark:text-beveren-200 text-xs rounded-full",children:"Inclusive"})]}),r.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-semibold",children:St(Oe.tax_amount,n.currency)})]},We)),r.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-beveren-200 dark:border-beveren-700",children:[r.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-semibold",children:"Total Tax:"}),r.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-bold",children:St(n.total_taxes_and_charges,n.currency)})]})]})]}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700",children:r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"w-80 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:St(n.total,n.currency)})]}),n.total_taxes_and_charges>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:St(n.total_taxes_and_charges,n.currency)})]}),n.rounding_adjustment!==0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rounding:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:St(n.rounding_adjustment,n.currency)})]}),n.giftCardDiscount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gift Card Discount:"}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",St(n.giftCardDiscount,n.currency)]})]}),r.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Grand Total:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:St(n.grand_total,n.currency)})]}),n.paid_amount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),r.jsx("span",{className:"text-beveren-600 dark:text-beveren-400",children:St(n.paid_amount,n.currency)})]}),n.outstanding_amount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding:"}),r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:St(n.outstanding_amount,n.currency)})]}),n.status==="Refunded"&&n.refundAmount&&r.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-300 dark:border-gray-600 pt-2",children:[r.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Refunded Amount:"}),r.jsx("span",{className:"text-red-600 dark:text-red-400",children:St(n.refundAmount,n.currency)})]})]})})}),n.giftCardCode&&r.jsxs("div",{className:"px-6 py-4 bg-purple-50 dark:bg-purple-900/20 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("h4",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Gift Card Applied:"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Code: ",n.giftCardCode]}),r.jsxs("span",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:["-",St(n.giftCardDiscount,n.currency)]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-orange-50 dark:bg-orange-900/20 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(ar,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),r.jsx("h4",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Payment Details"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Payment Method:"}),r.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-medium",children:n.paymentMethod||"Cash"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W(n.status)}`,children:n.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Paid Amount:"}),r.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-semibold",children:St(n.paid_amount||0,n.currency)})]}),n.outstanding_amount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Outstanding:"}),r.jsx("span",{className:"text-red-900 dark:text-red-100 font-semibold",children:St(n.outstanding_amount,n.currency)})]})]})]})]}),n.notes&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.notes})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[r.jsx(Or,{size:20}),r.jsx("span",{children:"Customer Details"})]}),r.jsx("button",{onClick:Y,disabled:L,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Customer",children:L?r.jsx(bu,{size:16,className:"animate-spin"}):r.jsx(Fs,{size:16})})]})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsx("div",{children:r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:n.customer})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[r.jsx(qn,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(R=n.customer_address_doc)==null?void 0:R.email_id})]}),r.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[r.jsx(pu,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(ie=n.customer_address_doc)==null?void 0:ie.phone})]}),r.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[r.jsx(Du,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(ve=n.customer_address_doc)==null?void 0:ve.address_line1})]})]}),r.jsx("hr",{className:"border-gray-200 dark:border-gray-600"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ss,{className:"w-5 h-5 text-beveren-600"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Customer Statistics"})]}),u?r.jsxs("div",{className:"flex items-center justify-center py-4",children:[r.jsx(bu,{className:"w-4 h-4 animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading statistics..."})]}):d?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-beveren-50 to-beveren-100 dark:from-beveren-900/20 dark:to-beveren-800/20 rounded-lg p-4 border border-beveren-200 dark:border-beveren-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-beveren-600 rounded-lg",children:r.jsx(xu,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-beveren-700 dark:text-beveren-300 font-medium",children:"Total Orders"}),r.jsx("p",{className:"text-xl font-bold text-beveren-900 dark:text-beveren-100",children:d.total_orders})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:r.jsx(ec,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 font-medium",children:"Total Spent"}),r.jsx("p",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:St(d.total_spent,n.currency)})]})]})})]}),d.last_visit&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ml,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Visit:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(d.last_visit).toLocaleDateString()})]})})]}):r.jsxs("div",{className:"text-center py-4",children:[r.jsx(nc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Unable to load customer statistics"})]})]})]})]})})]})})}),h&&r.jsx(Xm,{isOpen:h,onClose:()=>{m(!1),v(null)},cartItems:[],appliedCoupons:[],selectedCustomer:{id:n.customer,name:n.customer,email:((V=n.customer_address_doc)==null?void 0:V.email_id)||"",phone:((_e=n.customer_address_doc)==null?void 0:_e.phone)||"",type:"individual",status:"active",loyaltyPoints:0,totalOrders:0,totalSpent:0,lastVisit:null,address:{addressType:"Billing",streetName:((Ye=n.customer_address_doc)==null?void 0:Ye.address_line1)||"",buildingNumber:"",subdivisionName:"",cityName:"",postalCode:"",country:"Saudi Arabia",isPrimary:!0},vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",tags:[]},onCompletePayment:()=>{m(!1),v(null)},onHoldOrder:()=>{m(!1),v(null)},isMobile:!1,isFullPage:!1,initialSharingMode:x,externalInvoiceData:n}),r.jsx(Wu,{invoice:n,isOpen:b,onClose:()=>p(!1),onSuccess:G}),r.jsx(Cm,{customer:(n==null?void 0:n.customer)||"",isOpen:S,onClose:()=>k(!1),onSuccess:ge}),E&&I&&r.jsx(Ul,{customer:I,onClose:()=>{$(!1),D(null)},onSave:ae})]})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[r.jsx(yn,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Invoice not found"})]})})]})}function UT(){const e=ya(),[t,n]=j.useState(""),[i,o]=j.useState("all"),[d,u]=j.useState("all"),[g,h]=j.useState(null),[m,x]=j.useState(!1),[v,b]=j.useState(!1),[p,S]=j.useState(null),[k,E]=j.useState(!1),[$,I]=j.useState(null),{id:D}=Rm(),{customer:L,isLoadingC:A,errorC:P}=S_(D),{invoices:W,isLoading:Y,error:G}=Zu(),{posDetails:ae}=Mr(),ge=V=>d==="all"?!0:d==="today"?sg(V):d==="week"?ig(V):d==="month"?lg(V):d==="year"?og(V):!0,J=j.useMemo(()=>Y||G||!L?[]:(console.log("CustomerPageDetails: Filtering invoices for customer:",{customerName:L.name,customerId:L.id,totalInvoices:W.length,sampleInvoice:W[0]}),W.filter(V=>{if(!(V.customer===L.name))return!1;const Ye=t===""||V.id.toLowerCase().includes(t.toLowerCase()),Oe=i==="all"||V.status===i,We=ge(V.date);return Ye&&Oe&&We})),[W,t,i,d,Y,G,L]);console.log("CustomerPageDetails: Filtered customer invoices:",{customerInvoicesCount:J.length,customerInvoices:J});const Ee=V=>{const _e="px-2 py-1 rounded-full text-xs font-medium";switch((V==null?void 0:V.toLowerCase())||""){case"paid":return`${_e} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${_e} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${_e} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${_e} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${_e} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${_e} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${_e} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${_e} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${_e} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${_e} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${_e} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${_e} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${_e} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},K=V=>{if(!V||!V.items)return console.log("No invoice or items found for:",V==null?void 0:V.id),!1;const _e=V.items.some(Ye=>{const Oe=Ye.qty||Ye.quantity||0,We=Ye.returned_qty||0,ye=We<Oe;return console.log(`Item ${Ye.item_code}: sold=${Oe}, returned=${We}, canReturn=${ye}`),ye});return console.log(`Invoice ${V.id} has returnable items:`,_e),_e},z=V=>{e(`/invoice/${V.id}`),h(V),x(!0)},U=V=>{R(V),x(!1)},_=V=>{e(`/invoice/${V.id}/edit`)},re=V=>{S(V),b(!0)},pe=()=>{b(!1),S(null),window.location.reload()},R=V=>xe(null,null,function*(){try{const _e=yield Bu(V);e(`/invoice/${_e.return_invoice}`),Be.success(`Invoice returned: ${_e.return_invoice}`)}catch(_e){Be.error(_e.message||"Failed to return invoice")}}),ie=V=>{console.log("Saving customer:",V),E(!1),I(null)},ve=j.useMemo(()=>{const V=J.length,_e=J.reduce((We,ye)=>We+ye.totalAmount,0),Ye=J.filter(We=>We.status==="Unpaid"||We.status==="Overdue").reduce((We,ye)=>We+ye.totalAmount,0),Oe=V>0?_e/V:0;return{totalInvoices:V,totalRevenue:_e,outstandingAmount:Ye,avgOrderValue:Oe}},[J]);return A?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customer details..."})]})}):P&&!L?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customer"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:(P==null?void 0:P.message)||"Failed to load customer details"}),r.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Go Back"})]})}):L?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx(yn,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(Oi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.customer_name||L.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",L.name]})]})]}),r.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",L),I(L),E(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{children:"Update Customer"})]})]})})}),r.jsx("div",{className:"flex-1 overflow-auto pt-20 ml-20",children:r.jsxs("div",{className:"px-6 py-8 max-w-none",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center",children:r.jsx(Or,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.customer_name||L.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(qn,{className:"w-4 h-4"}),r.jsx("span",{children:L.email_id||"No email provided"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(pu,{className:"w-4 h-4"}),r.jsx("span",{children:L.mobile_no||"No phone provided"})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(Du,{className:"w-4 h-4"}),r.jsx("span",{children:L.territory||"No territory specified"})]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("span",{children:["Customer Group: ",L.customer_group]})}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("span",{children:["Type: ",L.customer_type]})})]})]}),r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})}),L.creation&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Vm,{className:"w-4 h-4"}),r.jsxs("span",{children:["Created: ",new Date(L.creation).toLocaleDateString()]})]})}),L.modified&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ml,{className:"w-4 h-4"}),r.jsxs("span",{children:["Updated: ",new Date(L.modified).toLocaleDateString()]})]})})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ve.totalInvoices})]}),r.jsx(Dl,{className:"w-8 h-8 text-beveren-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(ve.totalRevenue,(ae==null?void 0:ae.currency)||"USD")})]}),r.jsx(ec,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(ve.outstandingAmount,(ae==null?void 0:ae.currency)||"USD")})]}),r.jsx(Km,{className:`w-8 h-8 ${ve.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:St(ve.avgOrderValue,(ae==null?void 0:ae.currency)||"USD")})]}),r.jsx(Ss,{className:"w-8 h-8 text-blue-600"})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:V=>n(V.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:i,onChange:V=>o(V.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Unpaid",children:"Unpaid"}),r.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Return",children:"Return"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:d,onChange:V=>u(V.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",J.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(ae==null?void 0:ae.is_zatca_enabled)&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"ZATCA Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:J.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:ae!=null&&ae.is_zatca_enabled?7:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):J.map(V=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[V.date," ",V.time]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:V.date}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:V.time})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:V.paymentMethod})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:St(V.totalAmount,V.currency)}),V.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",St(V.giftCardDiscount,V.currency)," gift card"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:Ee(V.status),children:V.status})}),(ae==null?void 0:ae.is_zatca_enabled)&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:Ee(V.custom_zatca_submit_status),children:V.custom_zatca_submit_status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>z(V),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Is,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),V.status==="Draft"&&r.jsxs("button",{onClick:()=>_(V),className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(V.status)&&K(V)&&r.jsxs("button",{onClick:()=>re(V),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]})]})})]},V.id))})]})})]})]})}),r.jsx(vc,{invoice:g,isOpen:m,onClose:()=>x(!1),onRefund:U,onCancel:V=>{x(!1)}}),r.jsx(Wu,{invoice:p,isOpen:v,onClose:()=>b(!1),onSuccess:pe}),k&&r.jsx(Ul,{customer:$,onClose:()=>{E(!1),I(null)},onSave:ie})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Customer not found"}),r.jsx("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"The requested customer could not be found."}),r.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded hover:bg-yellow-200 dark:hover:bg-yellow-800",children:"Go Back"})]})})}const FT=jw([{path:"/",element:r.jsx(MT,{}),children:[{index:!0,element:r.jsx(DT,{})},{path:"login",element:r.jsx(Iw,{})},{path:"pos",element:r.jsx(hr,{element:r.jsx(q_,{})})},{path:"dashboard",element:r.jsx(hr,{element:r.jsx(V_,{})})},{path:"closing_shift",element:r.jsx(hr,{element:r.jsx(W_,{})})},{path:"invoice",element:r.jsx(hr,{element:r.jsx(LT,{})})},{path:"invoice/:id",element:r.jsx(hr,{element:r.jsx(IT,{})})},{path:"customers",element:r.jsx(hr,{element:r.jsx(j3,{})})},{path:"customers/:id",element:r.jsx(hr,{element:r.jsx(UT,{})})},{path:"cart",element:r.jsx(hr,{element:r.jsx(rT,{})})},{path:"mobile/customers",element:r.jsx(hr,{element:r.jsx(nT,{})})},{path:"mobile/add-customer",element:r.jsx(hr,{element:r.jsx(sT,{})})},{path:"mobile/payment",element:r.jsx(hr,{element:r.jsx(iT,{})})},{path:"settings",element:r.jsx(hr,{element:r.jsx(J_,{})})},{path:"payment/:invoiceId",element:r.jsx(hr,{element:r.jsx(aT,{})})}]}],{basename:"/klik_pos"}),BT=({children:e})=>r.jsx(pk,{url:"http://localhost:8000",enableSocket:!1,children:e});$N.createRoot(document.getElementById("root")).render(r.jsx(Fe.StrictMode,{children:r.jsx(BT,{children:r.jsx(Mw,{router:FT})})}))});export default zT();
