var mk=Object.defineProperty,gk=Object.defineProperties;var yk=Object.getOwnPropertyDescriptors;var vu=Object.getOwnPropertySymbols;var Xb=Object.prototype.hasOwnProperty,Wb=Object.prototype.propertyIsEnumerable;var Ao=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Kh=e=>{throw TypeError(e)},Zb=Math.pow,Vh=(e,t,a)=>t in e?mk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,U=(e,t)=>{for(var a in t||(t={}))Xb.call(t,a)&&Vh(e,a,t[a]);if(vu)for(var a of vu(t))Wb.call(t,a)&&Vh(e,a,t[a]);return e},de=(e,t)=>gk(e,yk(t));var Lt=(e,t)=>{var a={};for(var s in e)Xb.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&vu)for(var s of vu(e))t.indexOf(s)<0&&Wb.call(e,s)&&(a[s]=e[s]);return a};var pk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Yh=(e,t,a)=>Vh(e,typeof t!="symbol"?t+"":t,a),Qh=(e,t,a)=>t.has(e)||Kh("Cannot "+a);var Ee=(e,t,a)=>(Qh(e,t,"read from private field"),a?a.call(e):t.get(e)),ta=(e,t,a)=>t.has(e)?Kh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),It=(e,t,a,s)=>(Qh(e,t,"write to private field"),s?s.call(e,a):t.set(e,a),a),Wa=(e,t,a)=>(Qh(e,t,"access private method"),a);var wu=(e,t,a,s)=>({set _(l){It(e,t,l,a)},get _(){return Ee(e,t,s)}});var oe=(e,t,a)=>new Promise((s,l)=>{var c=h=>{try{f(a.next(h))}catch(m){l(m)}},u=h=>{try{f(a.throw(h))}catch(m){l(m)}},f=h=>h.done?s(h.value):Promise.resolve(h.value).then(c,u);f((a=a.apply(e,t)).next())}),$i=function(e,t){this[0]=e,this[1]=t},Xh=(e,t,a)=>{var s=(u,f,h,m)=>{try{var y=a[u](f),w=(f=y.value)instanceof $i,b=y.done;Promise.resolve(w?f[0]:f).then(v=>w?s(u==="return"?u:"next",f[1]?{done:v.done,value:v.value}:v,h,m):h({value:v,done:b})).catch(v=>s("throw",v,h,m))}catch(v){m(v)}},l=u=>c[u]=f=>new Promise((h,m)=>s(u,f,h,m)),c={};return a=a.apply(e,t),c[Ao("asyncIterator")]=()=>c,l("next"),l("throw"),l("return"),c},Wh=e=>{var t=e[Ao("asyncIterator")],a=!1,s,l={};return t==null?(t=e[Ao("iterator")](),s=c=>l[c]=u=>t[c](u)):(t=t.call(e),s=c=>l[c]=u=>{if(a){if(a=!1,c==="throw")throw u;return u}return a=!0,{done:!1,value:new $i(new Promise(f=>{var h=t[c](u);h instanceof Object||Kh("Object expected"),f(h)}),1)}}),l[Ao("iterator")]=()=>l,s("next"),"throw"in t?s("throw"):l.throw=c=>{throw c},"return"in t&&s("return"),l},Jb=(e,t,a)=>(t=e[Ao("asyncIterator")])?t.call(e):(e=e[Ao("iterator")](),t={},a=(s,l)=>(l=e[s])&&(t[s]=c=>new Promise((u,f,h)=>(c=l.call(e,c),h=c.done,Promise.resolve(c.value).then(m=>u({value:m,done:h}),f)))),a("next"),a("return"),t);var ZM=pk(qr=>{function xk(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function ml(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zh={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function bk(){if(ev)return yc;ev=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:s,key:u,ref:l!==void 0?l:null,props:c}}return yc.Fragment=t,yc.jsx=a,yc.jsxs=a,yc}var tv;function vk(){return tv||(tv=1,Zh.exports=bk()),Zh.exports}var r=vk(),Jh={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function wk(){if(av)return Ft;av=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function $(z,me,T){this.props=z,this.context=me,this.refs=N,this.updater=T||v}$.prototype.isReactComponent={},$.prototype.setState=function(z,me){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,me,"setState")},$.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=$.prototype;function L(z,me,T){this.props=z,this.context=me,this.refs=N,this.updater=T||v}var M=L.prototype=new C;M.constructor=L,k(M,$.prototype),M.isPureReactComponent=!0;var B=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function ae(z,me,T,ee,ue,P){return T=P.ref,{$$typeof:e,type:z,key:me,ref:T!==void 0?T:null,props:P}}function q(z,me){return ae(z.type,me,void 0,void 0,void 0,z.props)}function G(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function H(z){var me={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(T){return me[T]})}var V=/\/+/g;function Z(z,me){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):me.toString(36)}function J(){}function Ne(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(J,J):(z.status="pending",z.then(function(me){z.status==="pending"&&(z.status="fulfilled",z.value=me)},function(me){z.status==="pending"&&(z.status="rejected",z.reason=me)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function je(z,me,T,ee,ue){var P=typeof z;(P==="undefined"||P==="boolean")&&(z=null);var K=!1;if(z===null)K=!0;else switch(P){case"bigint":case"string":case"number":K=!0;break;case"object":switch(z.$$typeof){case e:case t:K=!0;break;case y:return K=z._init,je(K(z._payload),me,T,ee,ue)}}if(K)return ue=ue(z),K=ee===""?"."+Z(z,0):ee,B(ue)?(T="",K!=null&&(T=K.replace(V,"$&/")+"/"),je(ue,me,T,"",function(Ye){return Ye})):ue!=null&&(G(ue)&&(ue=q(ue,T+(ue.key==null||z&&z.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+K)),me.push(ue)),1;K=0;var ke=ee===""?".":ee+":";if(B(z))for(var Ie=0;Ie<z.length;Ie++)ee=z[Ie],P=ke+Z(ee,Ie),K+=je(ee,me,T,P,ue);else if(Ie=b(z),typeof Ie=="function")for(z=Ie.call(z),Ie=0;!(ee=z.next()).done;)ee=ee.value,P=ke+Z(ee,Ie++),K+=je(ee,me,T,P,ue);else if(P==="object"){if(typeof z.then=="function")return je(Ne(z),me,T,ee,ue);throw me=String(z),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return K}function X(z,me,T){if(z==null)return z;var ee=[],ue=0;return je(z,ee,"","",function(P){return me.call(T,P,ue++)}),ee}function re(z){if(z._status===-1){var me=z._result;me=me(),me.then(function(T){(z._status===0||z._status===-1)&&(z._status=1,z._result=T)},function(T){(z._status===0||z._status===-1)&&(z._status=2,z._result=T)}),z._status===-1&&(z._status=0,z._result=me)}if(z._status===1)return z._result.default;throw z._result}var ne=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Ae(){}return Ft.Children={map:X,forEach:function(z,me,T){X(z,function(){me.apply(this,arguments)},T)},count:function(z){var me=0;return X(z,function(){me++}),me},toArray:function(z){return X(z,function(me){return me})||[]},only:function(z){if(!G(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ft.Component=$,Ft.Fragment=a,Ft.Profiler=l,Ft.PureComponent=L,Ft.StrictMode=s,Ft.Suspense=h,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(z){return O.H.useMemoCache(z)}},Ft.cache=function(z){return function(){return z.apply(null,arguments)}},Ft.cloneElement=function(z,me,T){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ee=k({},z.props),ue=z.key,P=void 0;if(me!=null)for(K in me.ref!==void 0&&(P=void 0),me.key!==void 0&&(ue=""+me.key),me)!R.call(me,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&me.ref===void 0||(ee[K]=me[K]);var K=arguments.length-2;if(K===1)ee.children=T;else if(1<K){for(var ke=Array(K),Ie=0;Ie<K;Ie++)ke[Ie]=arguments[Ie+2];ee.children=ke}return ae(z.type,ue,void 0,void 0,P,ee)},Ft.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Ft.createElement=function(z,me,T){var ee,ue={},P=null;if(me!=null)for(ee in me.key!==void 0&&(P=""+me.key),me)R.call(me,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ue[ee]=me[ee]);var K=arguments.length-2;if(K===1)ue.children=T;else if(1<K){for(var ke=Array(K),Ie=0;Ie<K;Ie++)ke[Ie]=arguments[Ie+2];ue.children=ke}if(z&&z.defaultProps)for(ee in K=z.defaultProps,K)ue[ee]===void 0&&(ue[ee]=K[ee]);return ae(z,P,void 0,void 0,null,ue)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(z){return{$$typeof:f,render:z}},Ft.isValidElement=G,Ft.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:re}},Ft.memo=function(z,me){return{$$typeof:m,type:z,compare:me===void 0?null:me}},Ft.startTransition=function(z){var me=O.T,T={};O.T=T;try{var ee=z(),ue=O.S;ue!==null&&ue(T,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ae,ne)}catch(P){ne(P)}finally{O.T=me}},Ft.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ft.use=function(z){return O.H.use(z)},Ft.useActionState=function(z,me,T){return O.H.useActionState(z,me,T)},Ft.useCallback=function(z,me){return O.H.useCallback(z,me)},Ft.useContext=function(z){return O.H.useContext(z)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(z,me){return O.H.useDeferredValue(z,me)},Ft.useEffect=function(z,me,T){var ee=O.H;if(typeof T=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(z,me)},Ft.useId=function(){return O.H.useId()},Ft.useImperativeHandle=function(z,me,T){return O.H.useImperativeHandle(z,me,T)},Ft.useInsertionEffect=function(z,me){return O.H.useInsertionEffect(z,me)},Ft.useLayoutEffect=function(z,me){return O.H.useLayoutEffect(z,me)},Ft.useMemo=function(z,me){return O.H.useMemo(z,me)},Ft.useOptimistic=function(z,me){return O.H.useOptimistic(z,me)},Ft.useReducer=function(z,me,T){return O.H.useReducer(z,me,T)},Ft.useRef=function(z){return O.H.useRef(z)},Ft.useState=function(z){return O.H.useState(z)},Ft.useSyncExternalStore=function(z,me,T){return O.H.useSyncExternalStore(z,me,T)},Ft.useTransition=function(){return O.H.useTransition()},Ft.version="19.1.0",Ft}var rv;function qg(){return rv||(rv=1,Jh.exports=wk()),Jh.exports}var x=qg();const We=ml(x),n3=xk({__proto__:null,default:We},[x]);var em={exports:{}},pc={},tm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Nk(){return nv||(nv=1,function(e){function t(X,re){var ne=X.length;X.push(re);e:for(;0<ne;){var Ae=ne-1>>>1,z=X[Ae];if(0<l(z,re))X[Ae]=re,X[ne]=z,ne=Ae;else break e}}function a(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],ne=X.pop();if(ne!==re){X[0]=ne;e:for(var Ae=0,z=X.length,me=z>>>1;Ae<me;){var T=2*(Ae+1)-1,ee=X[T],ue=T+1,P=X[ue];if(0>l(ee,ne))ue<z&&0>l(P,ee)?(X[Ae]=P,X[ue]=ne,Ae=ue):(X[Ae]=ee,X[T]=ne,Ae=T);else if(ue<z&&0>l(P,ne))X[Ae]=P,X[ue]=ne,Ae=ue;else break e}}return re}function l(X,re){var ne=X.sortIndex-re.sortIndex;return ne!==0?ne:X.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,w=null,b=3,v=!1,k=!1,N=!1,$=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;function B(X){for(var re=a(m);re!==null;){if(re.callback===null)s(m);else if(re.startTime<=X)s(m),re.sortIndex=re.expirationTime,t(h,re);else break;re=a(m)}}function O(X){if(N=!1,B(X),!k)if(a(h)!==null)k=!0,R||(R=!0,Z());else{var re=a(m);re!==null&&je(O,re.startTime-X)}}var R=!1,ae=-1,q=5,G=-1;function H(){return $?!0:!(e.unstable_now()-G<q)}function V(){if($=!1,R){var X=e.unstable_now();G=X;var re=!0;try{e:{k=!1,N&&(N=!1,L(ae),ae=-1),v=!0;var ne=b;try{t:{for(B(X),w=a(h);w!==null&&!(w.expirationTime>X&&H());){var Ae=w.callback;if(typeof Ae=="function"){w.callback=null,b=w.priorityLevel;var z=Ae(w.expirationTime<=X);if(X=e.unstable_now(),typeof z=="function"){w.callback=z,B(X),re=!0;break t}w===a(h)&&s(h),B(X)}else s(h);w=a(h)}if(w!==null)re=!0;else{var me=a(m);me!==null&&je(O,me.startTime-X),re=!1}}break e}finally{w=null,b=ne,v=!1}re=void 0}}finally{re?Z():R=!1}}}var Z;if(typeof M=="function")Z=function(){M(V)};else if(typeof MessageChannel!="undefined"){var J=new MessageChannel,Ne=J.port2;J.port1.onmessage=V,Z=function(){Ne.postMessage(null)}}else Z=function(){C(V,0)};function je(X,re){ae=C(function(){X(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var ne=b;b=re;try{return X()}finally{b=ne}},e.unstable_requestPaint=function(){$=!0},e.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=b;b=X;try{return re()}finally{b=ne}},e.unstable_scheduleCallback=function(X,re,ne){var Ae=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ae+ne:Ae):ne=Ae,X){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ne+z,X={id:y++,callback:re,priorityLevel:X,startTime:ne,expirationTime:z,sortIndex:-1},ne>Ae?(X.sortIndex=ne,t(m,X),a(h)===null&&X===a(m)&&(N?(L(ae),ae=-1):N=!0,je(O,ne-Ae))):(X.sortIndex=z,t(h,X),k||v||(k=!0,R||(R=!0,Z()))),X},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(X){var re=b;return function(){var ne=b;b=re;try{return X.apply(this,arguments)}finally{b=ne}}}}(am)),am}var sv;function jk(){return sv||(sv=1,tm.exports=Nk()),tm.exports}var rm={exports:{}},Za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function kk(){if(iv)return Za;iv=1;var e=qg();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(h,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:h,containerInfo:m,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Za.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(h,m,null,y)},Za.flushSync=function(h){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,h)return h()}finally{u.T=m,s.p=y,s.d.f()}},Za.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Za.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Za.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:v}):y==="script"&&s.d.X(h,{crossOrigin:w,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Za.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Za.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Za.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Za.requestFormReset=function(h){s.d.r(h)},Za.unstable_batchedUpdates=function(h,m){return h(m)},Za.useFormState=function(h,m,y){return u.H.useFormState(h,m,y)},Za.useFormStatus=function(){return u.H.useHostTransitionStatus()},Za.version="19.1.0",Za}var ov;function s3(){if(ov)return rm.exports;ov=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rm.exports=kk(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Sk(){if(lv)return pc;lv=1;var e=jk(),t=qg(),a=s3();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(s(188))}function h(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,d=i;;){var g=o.return;if(g===null)break;var p=g.alternate;if(p===null){if(d=g.return,d!==null){o=d;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===o)return f(g),n;if(p===d)return f(g),i;p=p.sibling}throw Error(s(188))}if(o.return!==d.return)o=g,d=p;else{for(var S=!1,A=g.child;A;){if(A===o){S=!0,o=g,d=p;break}if(A===d){S=!0,d=g,o=p;break}A=A.sibling}if(!S){for(A=p.child;A;){if(A===o){S=!0,o=p,d=g;break}if(A===d){S=!0,d=p,o=g;break}A=A.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var J=Symbol.for("react.client.reference");function Ne(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===J?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case $:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case G:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case M:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case B:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return i=n.displayName||null,i!==null?i:Ne(n.type)||"Memo";case q:i=n._payload,n=n._init;try{return Ne(n(i))}catch(o){}}return null}var je=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ae=[],z=-1;function me(n){return{current:n}}function T(n){0>z||(n.current=Ae[z],Ae[z]=null,z--)}function ee(n,i){z++,Ae[z]=n.current,n.current=i}var ue=me(null),P=me(null),K=me(null),ke=me(null);function Ie(n,i){switch(ee(K,i),ee(P,n),ee(ue,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?kb(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=kb(i),n=Sb(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}T(ue),ee(ue,n)}function Ye(){T(ue),T(P),T(K)}function De(n){n.memoizedState!==null&&ee(ke,n);var i=ue.current,o=Sb(i,n.type);i!==o&&(ee(P,n),ee(ue,o))}function gt(n){P.current===n&&(T(ue),T(P)),ke.current===n&&(T(ke),uc._currentValue=ne)}var lt=Object.prototype.hasOwnProperty,Ht=e.unstable_scheduleCallback,Ce=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,xe=e.unstable_requestPaint,Pe=e.unstable_now,Be=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,$t=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,E=e.unstable_LowPriority,we=e.unstable_IdlePriority,Ue=e.log,Ut=e.unstable_setDisableYieldValue,bt=null,st=null;function Yt(n){if(typeof Ue=="function"&&Ut(n),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(bt,n)}catch(i){}}var he=Math.clz32?Math.clz32:Oe,Fe=Math.log,Je=Math.LN2;function Oe(n){return n>>>=0,n===0?32:31-(Fe(n)/Je|0)|0}var He=256,_t=4194304;function at(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function St(n,i,o){var d=n.pendingLanes;if(d===0)return 0;var g=0,p=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var A=d&134217727;return A!==0?(d=A&~p,d!==0?g=at(d):(S&=A,S!==0?g=at(S):o||(o=A&~n,o!==0&&(g=at(o))))):(A=d&~p,A!==0?g=at(A):S!==0?g=at(S):o||(o=d&~n,o!==0&&(g=at(o)))),g===0?0:i!==0&&i!==g&&(i&p)===0&&(p=g&-g,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:g}function ma(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ba(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(){var n=He;return He<<=1,(He&4194048)===0&&(He=256),n}function Er(){var n=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),n}function yr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function tr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yr(n,i,o,d,g,p){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,Y=n.expirationTimes,ye=n.hiddenUpdates;for(o=S&~o;0<o;){var $e=31-he(o),Re=1<<$e;A[$e]=0,Y[$e]=-1;var be=ye[$e];if(be!==null)for(ye[$e]=null,$e=0;$e<be.length;$e++){var ve=be[$e];ve!==null&&(ve.lane&=-536870913)}o&=~Re}d!==0&&lr(n,d,0),p!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=p&~(S&~i))}function lr(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-he(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|o&4194090}function Le(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var d=31-he(o),g=1<<d;g&i|n[d]&i&&(n[d]|=i),o&=~g}}function ka(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function W(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:qb(n.type))}function se(n,i){var o=re.p;try{return re.p=n,i()}finally{re.p=o}}var F=Math.random().toString(36).slice(2),Q="__reactFiber$"+F,Te="__reactProps$"+F,Ve="__reactContainer$"+F,ct="__reactEvents$"+F,it="__reactListeners$"+F,yt="__reactHandles$"+F,Rt="__reactResources$"+F,jt="__reactMarker$"+F;function Pt(n){delete n[Q],delete n[Te],delete n[ct],delete n[it],delete n[yt]}function Xe(n){var i=n[Q];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Ve]||o[Q]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Eb(n);n!==null;){if(o=n[Q])return o;n=Eb(n)}return i}n=o,o=n.parentNode}return null}function aa(n){if(n=n[Q]||n[Ve]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function na(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Zt(n){var i=n[Rt];return i||(i=n[Rt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(n){n[jt]=!0}var kt=new Set,Xt={};function sa(n,i){ce(n,i),ce(n+"Capture",i)}function ce(n,i){for(Xt[n]=i,n=0;n<i.length;n++)kt.add(i[n])}var Se=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},qe={};function pt(n){return lt.call(qe,n)?!0:lt.call(Qe,n)?!1:Se.test(n)?qe[n]=!0:(Qe[n]=!0,!1)}function xt(n,i,o){if(pt(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function ht(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function rt(n,i,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+d)}}var Jt,Sa;function $a(n){if(Jt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Jt=i&&i[1]||"",Sa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+n+Sa}var Tr=!1;function ia(n,i){if(!n||Tr)return"";Tr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ve){var be=ve}Reflect.construct(n,[],Re)}else{try{Re.call()}catch(ve){be=ve}n.call(Re.prototype)}}else{try{throw Error()}catch(ve){be=ve}(Re=n())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=d.DetermineComponentFrameRoot(),S=p[0],A=p[1];if(S&&A){var Y=S.split(`
`),ye=A.split(`
`);for(g=d=0;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ye.length&&!ye[g].includes("DetermineComponentFrameRoot");)g++;if(d===Y.length||g===ye.length)for(d=Y.length-1,g=ye.length-1;1<=d&&0<=g&&Y[d]!==ye[g];)g--;for(;1<=d&&0<=g;d--,g--)if(Y[d]!==ye[g]){if(d!==1||g!==1)do if(d--,g--,0>g||Y[d]!==ye[g]){var $e=`
`+Y[d].replace(" at new "," at ");return n.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",n.displayName)),$e}while(1<=d&&0<=g);break}}}finally{Tr=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?$a(o):""}function gn(n){switch(n.tag){case 26:case 27:case 5:return $a(n.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return ia(n.type,!1);case 11:return ia(n.type.render,!1);case 1:return ia(n.type,!0);case 31:return $a("Activity");default:return""}}function ti(n){try{var i="";do i+=gn(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ya(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function hd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function md(n){var i=hd(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,p=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,p.call(this,S)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ai(n){n._valueTracker||(n._valueTracker=md(n))}function yn(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return n&&(d=hd(n)?n.checked?"true":"false":n.value),n=d,n!==o?(i.setValue(n),!0):!1}function ri(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(i){return n.body}}var Z0=/[\n"\\]/g;function cr(n){return n.replace(Z0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wl(n,i,o,d,g,p,S,A){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),i!=null?S==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ya(i)):n.value!==""+Ya(i)&&(n.value=""+Ya(i)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),i!=null?Nl(n,S,Ya(i)):o!=null?Nl(n,S,Ya(o)):d!=null&&n.removeAttribute("value"),g==null&&p!=null&&(n.defaultChecked=!!p),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Ya(A):n.removeAttribute("name")}function gd(n,i,o,d,g,p,S,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+Ya(o):"",i=i!=null?""+Ya(i):o,A||i===n.value||(n.value=i),n.defaultValue=i}d=d!=null?d:g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=A?n.checked:!!d,n.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function Nl(n,i,o){i==="number"&&ri(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function En(n,i,o,d){if(n=n.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=i.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&d&&(n[o].defaultSelected=!0)}else{for(o=""+Ya(o),i=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,d&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function ni(n,i,o){if(i!=null&&(i=""+Ya(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Ya(o):""}function jl(n,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(s(92));if(je(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=Ya(i),n.defaultValue=o,d=n.textContent,d===o&&d!==""&&d!==null&&(n.value=d)}function is(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var yd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pd(n,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,o):typeof o!="number"||o===0||yd.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function kl(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&o[g]!==d&&pd(n,g,d)}else for(var p in i)i.hasOwnProperty(p)&&pd(n,p,i[p])}function si(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),J0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(n){return J0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Sl=null;function ii(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Tn=null,os=null;function $l(n){var i=aa(n);if(i&&(n=i.stateNode)){var o=n[Te]||null;e:switch(n=i.stateNode,i.type){case"input":if(wl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+cr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==n&&d.form===n.form){var g=d[Te]||null;if(!g)throw Error(s(90));wl(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===n.form&&yn(d)}break e;case"textarea":ni(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&En(n,!!o.multiple,i,!1)}}}var oi=!1;function Cl(n,i,o){if(oi)return n(i,o);oi=!0;try{var d=n(i);return d}finally{if(oi=!1,(Tn!==null||os!==null)&&(Jd(),Tn&&(i=Tn,n=os,os=Tn=null,$l(i),n)))for(i=0;i<n.length;i++)$l(n[i])}}function ls(n,i){var o=n.stateNode;if(o===null)return null;var d=o[Te]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var dr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Xi=!1;if(dr)try{var li={};Object.defineProperty(li,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch(n){Xi=!1}var pr=null,ur=null,An=null;function ci(){if(An)return An;var n,i=ur,o=i.length,d,g="value"in pr?pr.value:pr.textContent,p=g.length;for(n=0;n<o&&i[n]===g[n];n++);var S=o-n;for(d=1;d<=S&&i[o-d]===g[p-d];d++);return An=g.slice(n,1<d?1-d:void 0)}function cs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Wi(){return!0}function xd(){return!1}function Qa(n){function i(o,d,g,p,S){this._reactName=o,this._targetInst=g,this.type=d,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wi:xd,this.isPropagationStopped=xd,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Qa(Qr),ds=y({},Qr,{view:0,detail:0}),va=Qa(ds),j,_,D,I=y({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==D&&(D&&n.type==="mousemove"?(j=n.screenX-D.screenX,_=n.screenY-D.screenY):_=j=0,D=n),j)},movementY:function(n){return"movementY"in n?n.movementY:_}}),ie=Qa(I),fe=y({},I,{dataTransfer:0}),pe=Qa(fe),Ge=y({},ds,{relatedTarget:0}),Nt=Qa(Ge),Ke=y({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),tt=Qa(Ke),At=y({},Qr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ca=Qa(At),Dt=y({},Qr,{data:0}),Ct=Qa(Dt),mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ba={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pa(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Aa[n])?!!i[n]:!1}function Ar(){return pa}var di=y({},ds,{key:function(n){if(n.key){var i=mt[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ba[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(n){return n.type==="keypress"?cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pn=Qa(di),us=y({},I,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Qa(us),eo=y({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),bd=Qa(eo),ON=y({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),RN=Qa(ON),PN=y({},I,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),MN=Qa(PN),DN=y({},Qr,{newState:0,oldState:0}),LN=Qa(DN),IN=[9,13,27,32],ef=dr&&"CompositionEvent"in window,_l=null;dr&&"documentMode"in document&&(_l=document.documentMode);var UN=dr&&"TextEvent"in window&&!_l,Ry=dr&&(!ef||_l&&8<_l&&11>=_l),Py=" ",My=!1;function Dy(n,i){switch(n){case"keyup":return IN.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var to=!1;function FN(n,i){switch(n){case"compositionend":return Ly(i);case"keypress":return i.which!==32?null:(My=!0,Py);case"textInput":return n=i.data,n===Py&&My?null:n;default:return null}}function BN(n,i){if(to)return n==="compositionend"||!ef&&Dy(n,i)?(n=ci(),An=ur=pr=null,to=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ry&&i.locale!=="ko"?null:i.data;default:return null}}var zN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!zN[n.type]:i==="textarea"}function Uy(n,i,o,d){Tn?os?os.push(d):os=[d]:Tn=d,i=su(i,"onChange"),0<i.length&&(o=new Zi("onChange","change",null,o,d),n.push({event:o,listeners:i}))}var El=null,Tl=null;function HN(n){bb(n,0)}function vd(n){var i=na(n);if(yn(i))return n}function Fy(n,i){if(n==="change")return i}var By=!1;if(dr){var tf;if(dr){var af="oninput"in document;if(!af){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),af=typeof zy.oninput=="function"}tf=af}else tf=!1;By=tf&&(!document.documentMode||9<document.documentMode)}function Hy(){El&&(El.detachEvent("onpropertychange",qy),Tl=El=null)}function qy(n){if(n.propertyName==="value"&&vd(Tl)){var i=[];Uy(i,Tl,n,ii(n)),Cl(HN,i)}}function qN(n,i,o){n==="focusin"?(Hy(),El=i,Tl=o,El.attachEvent("onpropertychange",qy)):n==="focusout"&&Hy()}function GN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vd(Tl)}function VN(n,i){if(n==="click")return vd(i)}function KN(n,i){if(n==="input"||n==="change")return vd(i)}function YN(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var xr=typeof Object.is=="function"?Object.is:YN;function Al(n,i){if(xr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var g=o[d];if(!lt.call(i,g)||!xr(n[g],i[g]))return!1}return!0}function Gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vy(n,i){var o=Gy(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=i&&d>=i)return{node:o,offset:i-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gy(o)}}function Ky(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ky(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Yy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ri(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch(d){o=!1}if(o)n=i.contentWindow;else break;i=ri(n.document)}return i}function rf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var QN=dr&&"documentMode"in document&&11>=document.documentMode,ao=null,nf=null,Ol=null,sf=!1;function Qy(n,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sf||ao==null||ao!==ri(d)||(d=ao,"selectionStart"in d&&rf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ol&&Al(Ol,d)||(Ol=d,d=su(nf,"onSelect"),0<d.length&&(i=new Zi("onSelect","select",null,i,o),n.push({event:i,listeners:d}),i.target=ao)))}function ui(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var ro={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},of={},Xy={};dr&&(Xy=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function fi(n){if(of[n])return of[n];if(!ro[n])return n;var i=ro[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Xy)return of[n]=i[o];return n}var Wy=fi("animationend"),Zy=fi("animationiteration"),Jy=fi("animationstart"),XN=fi("transitionrun"),WN=fi("transitionstart"),ZN=fi("transitioncancel"),ep=fi("transitionend"),tp=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Xr(n,i){tp.set(n,i),sa(i,[n])}var ap=new WeakMap;function Or(n,i){if(typeof n=="object"&&n!==null){var o=ap.get(n);return o!==void 0?o:(i={value:n,source:i,stack:ti(i)},ap.set(n,i),i)}return{value:n,source:i,stack:ti(i)}}var Rr=[],no=0,cf=0;function wd(){for(var n=no,i=cf=no=0;i<n;){var o=Rr[i];Rr[i++]=null;var d=Rr[i];Rr[i++]=null;var g=Rr[i];Rr[i++]=null;var p=Rr[i];if(Rr[i++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}p!==0&&rp(o,g,p)}}function Nd(n,i,o,d){Rr[no++]=n,Rr[no++]=i,Rr[no++]=o,Rr[no++]=d,cf|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function df(n,i,o,d){return Nd(n,i,o,d),jd(n)}function so(n,i){return Nd(n,null,null,i),jd(n)}function rp(n,i,o){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o);for(var g=!1,p=n.return;p!==null;)p.childLanes|=o,d=p.alternate,d!==null&&(d.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(g=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,g&&i!==null&&(g=31-he(o),n=p.hiddenUpdates,d=n[g],d===null?n[g]=[i]:d.push(i),i.lane=o|536870912),p):null}function jd(n){if(50<rc)throw rc=0,yh=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var io={};function JN(n,i,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(n,i,o,d){return new JN(n,i,o,d)}function uf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function On(n,i){var o=n.alternate;return o===null?(o=br(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function np(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function kd(n,i,o,d,g,p){var S=0;if(d=n,typeof n=="function")uf(n)&&(S=1);else if(typeof n=="string")S=tk(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case G:return n=br(31,o,i,g),n.elementType=G,n.lanes=p,n;case k:return hi(o.children,g,p,i);case N:S=8,g|=24;break;case $:return n=br(12,o,i,g|2),n.elementType=$,n.lanes=p,n;case O:return n=br(13,o,i,g),n.elementType=O,n.lanes=p,n;case R:return n=br(19,o,i,g),n.elementType=R,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case M:S=10;break e;case L:S=9;break e;case B:S=11;break e;case ae:S=14;break e;case q:S=16,d=null;break e}S=29,o=Error(s(130,n===null?"null":typeof n,"")),d=null}return i=br(S,o,i,g),i.elementType=n,i.type=d,i.lanes=p,i}function hi(n,i,o,d){return n=br(7,n,d,i),n.lanes=o,n}function ff(n,i,o){return n=br(6,n,null,i),n.lanes=o,n}function hf(n,i,o){return i=br(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var oo=[],lo=0,Sd=null,$d=0,Pr=[],Mr=0,mi=null,Rn=1,Pn="";function gi(n,i){oo[lo++]=$d,oo[lo++]=Sd,Sd=n,$d=i}function sp(n,i,o){Pr[Mr++]=Rn,Pr[Mr++]=Pn,Pr[Mr++]=mi,mi=n;var d=Rn;n=Pn;var g=32-he(d)-1;d&=~(1<<g),o+=1;var p=32-he(i)+g;if(30<p){var S=g-g%5;p=(d&(1<<S)-1).toString(32),d>>=S,g-=S,Rn=1<<32-he(i)+g|o<<g|d,Pn=p+n}else Rn=1<<p|o<<g|d,Pn=n}function mf(n){n.return!==null&&(gi(n,1),sp(n,1,0))}function gf(n){for(;n===Sd;)Sd=oo[--lo],oo[lo]=null,$d=oo[--lo],oo[lo]=null;for(;n===mi;)mi=Pr[--Mr],Pr[Mr]=null,Pn=Pr[--Mr],Pr[Mr]=null,Rn=Pr[--Mr],Pr[Mr]=null}var ar=null,wa=null,ra=!1,yi=null,xn=!1,yf=Error(s(519));function pi(n){var i=Error(s(418,""));throw Ml(Or(i,n)),yf}function ip(n){var i=n.stateNode,o=n.type,d=n.memoizedProps;switch(i[Q]=n,i[Te]=d,o){case"dialog":Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(o=0;o<sc.length;o++)Kt(sc[o],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"input":Kt("invalid",i),gd(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ai(i);break;case"select":Kt("invalid",i);break;case"textarea":Kt("invalid",i),jl(i,d.value,d.defaultValue,d.children),ai(i)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||jb(i.textContent,o)?(d.popover!=null&&(Kt("beforetoggle",i),Kt("toggle",i)),d.onScroll!=null&&Kt("scroll",i),d.onScrollEnd!=null&&Kt("scrollend",i),d.onClick!=null&&(i.onclick=iu),i=!0):i=!1,i||pi(n)}function op(n){for(ar=n.return;ar;)switch(ar.tag){case 5:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:ar=ar.return}}function Rl(n){if(n!==ar)return!1;if(!ra)return op(n),ra=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Oh(n.type,n.memoizedProps)),o=!o),o&&wa&&pi(n),op(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){wa=Zr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}wa=null}}else i===27?(i=wa,Cs(n.type)?(n=Dh,Dh=null,wa=n):wa=i):wa=ar?Zr(n.stateNode.nextSibling):null;return!0}function Pl(){wa=ar=null,ra=!1}function lp(){var n=yi;return n!==null&&(mr===null?mr=n:mr.push.apply(mr,n),yi=null),n}function Ml(n){yi===null?yi=[n]:yi.push(n)}var pf=me(null),xi=null,Mn=null;function fs(n,i,o){ee(pf,i._currentValue),i._currentValue=o}function Dn(n){n._currentValue=pf.current,T(pf)}function xf(n,i,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===o)break;n=n.return}}function bf(n,i,o,d){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var p=g.dependencies;if(p!==null){var S=g.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=g;for(var Y=0;Y<i.length;Y++)if(A.context===i[Y]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),xf(p.return,o,n),d||(S=null);break e}p=A.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(s(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),xf(S,o,n),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===n){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Dl(n,i,o,d){n=null;for(var g=i,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var A=g.type;xr(g.pendingProps.value,S.value)||(n!==null?n.push(A):n=[A])}}else if(g===ke.current){if(S=g.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(uc):n=[uc])}g=g.return}n!==null&&bf(i,n,o,d),i.flags|=262144}function Cd(n){for(n=n.firstContext;n!==null;){if(!xr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function bi(n){xi=n,Mn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xa(n){return cp(xi,n)}function _d(n,i){return xi===null&&bi(n),cp(n,i)}function cp(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Mn===null){if(n===null)throw Error(s(308));Mn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Mn=Mn.next=i;return o}var ej=typeof AbortController!="undefined"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},tj=e.unstable_scheduleCallback,aj=e.unstable_NormalPriority,Da={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new ej,data:new Map,refCount:0}}function Ll(n){n.refCount--,n.refCount===0&&tj(aj,function(){n.controller.abort()})}var Il=null,wf=0,co=0,uo=null;function rj(n,i){if(Il===null){var o=Il=[];wf=0,co=jh(),uo={status:"pending",value:void 0,then:function(d){o.push(d)}}}return wf++,i.then(dp,dp),i}function dp(){if(--wf===0&&Il!==null){uo!==null&&(uo.status="fulfilled");var n=Il;Il=null,co=0,uo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function nj(n,i){var o=[],d={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),d}var up=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&rj(n,i),up!==null&&up(n,i)};var vi=me(null);function Nf(){var n=vi.current;return n!==null?n:ga.pooledCache}function Ed(n,i){i===null?ee(vi,vi.current):ee(vi,i.pool)}function fp(){var n=Nf();return n===null?null:{parent:Da._currentValue,pool:n}}var Ul=Error(s(460)),hp=Error(s(474)),Td=Error(s(542)),jf={then:function(){}};function mp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ad(){}function gp(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Ad,Ad),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,pp(n),n;default:if(typeof i.status=="string")i.then(Ad,Ad);else{if(n=ga,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,pp(n),n}throw Fl=i,Ul}}var Fl=null;function yp(){if(Fl===null)throw Error(s(459));var n=Fl;return Fl=null,n}function pp(n){if(n===Ul||n===Td)throw Error(s(483))}var hs=!1;function kf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gs(n,i,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(oa&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=jd(n),rp(n,null,o),i}return Nd(n,d,i,o),jd(n)}function Bl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,Le(n,o)}}function $f(n,i){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var g=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?g=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?g=p=i:p=p.next=i}else g=p=i;o={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:d.shared,callbacks:d.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Cf=!1;function zl(){if(Cf){var n=uo;if(n!==null)throw n}}function Hl(n,i,o,d){Cf=!1;var g=n.updateQueue;hs=!1;var p=g.firstBaseUpdate,S=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var Y=A,ye=Y.next;Y.next=null,S===null?p=ye:S.next=ye,S=Y;var $e=n.alternate;$e!==null&&($e=$e.updateQueue,A=$e.lastBaseUpdate,A!==S&&(A===null?$e.firstBaseUpdate=ye:A.next=ye,$e.lastBaseUpdate=Y))}if(p!==null){var Re=g.baseState;S=0,$e=ye=Y=null,A=p;do{var be=A.lane&-536870913,ve=be!==A.lane;if(ve?(Wt&be)===be:(d&be)===be){be!==0&&be===co&&(Cf=!0),$e!==null&&($e=$e.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Mt=n,Tt=A;be=i;var fa=o;switch(Tt.tag){case 1:if(Mt=Tt.payload,typeof Mt=="function"){Re=Mt.call(fa,Re,be);break e}Re=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Tt.payload,be=typeof Mt=="function"?Mt.call(fa,Re,be):Mt,be==null)break e;Re=y({},Re,be);break e;case 2:hs=!0}}be=A.callback,be!==null&&(n.flags|=64,ve&&(n.flags|=8192),ve=g.callbacks,ve===null?g.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$e===null?(ye=$e=ve,Y=Re):$e=$e.next=ve,S|=be;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;ve=A,A=ve.next,ve.next=null,g.lastBaseUpdate=ve,g.shared.pending=null}}while(!0);$e===null&&(Y=Re),g.baseState=Y,g.firstBaseUpdate=ye,g.lastBaseUpdate=$e,p===null&&(g.shared.lanes=0),js|=S,n.lanes=S,n.memoizedState=Re}}function xp(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function bp(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)xp(o[n],i)}var fo=me(null),Od=me(0);function vp(n,i){n=Hn,ee(Od,n),ee(fo,i),Hn=n|i.baseLanes}function _f(){ee(Od,Hn),ee(fo,fo.current)}function Ef(){Hn=Od.current,T(fo),T(Od)}var ys=0,Bt=null,da=null,Oa=null,Rd=!1,ho=!1,wi=!1,Pd=0,ql=0,mo=null,sj=0;function Ca(){throw Error(s(321))}function Tf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!xr(n[o],i[o]))return!1;return!0}function Af(n,i,o,d,g,p){return ys=p,Bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?rx:nx,wi=!1,p=o(d,g),wi=!1,ho&&(p=Np(i,o,d,g)),wp(n),p}function wp(n){X.H=Fd;var i=da!==null&&da.next!==null;if(ys=0,Oa=da=Bt=null,Rd=!1,ql=0,mo=null,i)throw Error(s(300));n===null||za||(n=n.dependencies,n!==null&&Cd(n)&&(za=!0))}function Np(n,i,o,d){Bt=n;var g=0;do{if(ho&&(mo=null),ql=0,ho=!1,25<=g)throw Error(s(301));if(g+=1,Oa=da=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=fj,p=i(o,d)}while(ho);return p}function ij(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Gl(i):i,n=n.useState()[0],(da!==null?da.memoizedState:null)!==n&&(Bt.flags|=1024),i}function Of(){var n=Pd!==0;return Pd=0,n}function Rf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Pf(n){if(Rd){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rd=!1}ys=0,Oa=da=Bt=null,ho=!1,ql=Pd=0,mo=null}function fr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oa===null?Bt.memoizedState=Oa=n:Oa=Oa.next=n,Oa}function Ra(){if(da===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=da.next;var i=Oa===null?Bt.memoizedState:Oa.next;if(i!==null)Oa=i,da=n;else{if(n===null)throw Bt.alternate===null?Error(s(467)):Error(s(310));da=n,n={memoizedState:da.memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},Oa===null?Bt.memoizedState=Oa=n:Oa=Oa.next=n}return Oa}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(n){var i=ql;return ql+=1,mo===null&&(mo=[]),n=gp(mo,n,i),i=Bt,(Oa===null?i.memoizedState:Oa.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?rx:nx),n}function Md(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gl(n);if(n.$$typeof===M)return Xa(n)}throw Error(s(438,String(n)))}function Df(n){var i=null,o=Bt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=Bt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Mf(),Bt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),d=0;d<n;d++)o[d]=H;return i.index++,o}function Ln(n,i){return typeof i=="function"?i(n):i}function Dd(n){var i=Ra();return Lf(i,da,n)}function Lf(n,i,o){var d=n.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var g=n.baseQueue,p=d.pending;if(p!==null){if(g!==null){var S=g.next;g.next=p.next,p.next=S}i.baseQueue=g=p,d.pending=null}if(p=n.baseState,g===null)n.memoizedState=p;else{i=g.next;var A=S=null,Y=null,ye=i,$e=!1;do{var Re=ye.lane&-536870913;if(Re!==ye.lane?(Wt&Re)===Re:(ys&Re)===Re){var be=ye.revertLane;if(be===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Re===co&&($e=!0);else if((ys&be)===be){ye=ye.next,be===co&&($e=!0);continue}else Re={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Y===null?(A=Y=Re,S=p):Y=Y.next=Re,Bt.lanes|=be,js|=be;Re=ye.action,wi&&o(p,Re),p=ye.hasEagerState?ye.eagerState:o(p,Re)}else be={lane:Re,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},Y===null?(A=Y=be,S=p):Y=Y.next=be,Bt.lanes|=Re,js|=Re;ye=ye.next}while(ye!==null&&ye!==i);if(Y===null?S=p:Y.next=A,!xr(p,n.memoizedState)&&(za=!0,$e&&(o=uo,o!==null)))throw o;n.memoizedState=p,n.baseState=S,n.baseQueue=Y,d.lastRenderedState=p}return g===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function If(n){var i=Ra(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var d=o.dispatch,g=o.pending,p=i.memoizedState;if(g!==null){o.pending=null;var S=g=g.next;do p=n(p,S.action),S=S.next;while(S!==g);xr(p,i.memoizedState)||(za=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,d]}function jp(n,i,o){var d=Bt,g=Ra(),p=ra;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=i();var S=!xr((da||g).memoizedState,o);S&&(g.memoizedState=o,za=!0),g=g.queue;var A=$p.bind(null,d,g,n);if(Vl(2048,8,A,[n]),g.getSnapshot!==i||S||Oa!==null&&Oa.memoizedState.tag&1){if(d.flags|=2048,go(9,Ld(),Sp.bind(null,d,g,o,i),null),ga===null)throw Error(s(349));p||(ys&124)!==0||kp(d,i,o)}return o}function kp(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Bt.updateQueue,i===null?(i=Mf(),Bt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Sp(n,i,o,d){i.value=o,i.getSnapshot=d,Cp(i)&&_p(n)}function $p(n,i,o){return o(function(){Cp(i)&&_p(n)})}function Cp(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!xr(n,o)}catch(d){return!0}}function _p(n){var i=so(n,2);i!==null&&kr(i,n,2)}function Uf(n){var i=fr();if(typeof n=="function"){var o=n;if(n=o(),wi){Yt(!0);try{o()}finally{Yt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:n},i}function Ep(n,i,o,d){return n.baseState=o,Lf(n,da,typeof d=="function"?d:Ln)}function oj(n,i,o,d,g){if(Ud(n))throw Error(s(485));if(n=i.action,n!==null){var p={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};X.T!==null?o(!0):p.isTransition=!1,d(p),o=i.pending,o===null?(p.next=i.pending=p,Tp(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Tp(n,i){var o=i.action,d=i.payload,g=n.state;if(i.isTransition){var p=X.T,S={};X.T=S;try{var A=o(g,d),Y=X.S;Y!==null&&Y(S,A),Ap(n,i,A)}catch(ye){Ff(n,i,ye)}finally{X.T=p}}else try{p=o(g,d),Ap(n,i,p)}catch(ye){Ff(n,i,ye)}}function Ap(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Op(n,i,d)},function(d){return Ff(n,i,d)}):Op(n,i,o)}function Op(n,i,o){i.status="fulfilled",i.value=o,Rp(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Tp(n,o)))}function Ff(n,i,o){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,Rp(i),i=i.next;while(i!==d)}n.action=null}function Rp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Pp(n,i){return i}function Mp(n,i){if(ra){var o=ga.formState;if(o!==null){e:{var d=Bt;if(ra){if(wa){t:{for(var g=wa,p=xn;g.nodeType!==8;){if(!p){g=null;break t}if(g=Zr(g.nextSibling),g===null){g=null;break t}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){wa=Zr(g.nextSibling),d=g.data==="F!";break e}}pi(d)}d=!1}d&&(i=o[0])}}return o=fr(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:i},o.queue=d,o=ex.bind(null,Bt,d),d.dispatch=o,d=Uf(!1),p=Gf.bind(null,Bt,!1,d.queue),d=fr(),g={state:i,dispatch:null,action:n,pending:null},d.queue=g,o=oj.bind(null,Bt,g,p,o),g.dispatch=o,d.memoizedState=n,[i,o,!1]}function Dp(n){var i=Ra();return Lp(i,da,n)}function Lp(n,i,o){if(i=Lf(n,i,Pp)[0],n=Dd(Ln)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Gl(i)}catch(S){throw S===Ul?Td:S}else d=i;i=Ra();var g=i.queue,p=g.dispatch;return o!==i.memoizedState&&(Bt.flags|=2048,go(9,Ld(),lj.bind(null,g,o),null)),[d,p,n]}function lj(n,i){n.action=i}function Ip(n){var i=Ra(),o=da;if(o!==null)return Lp(i,o,n);Ra(),i=i.memoizedState,o=Ra();var d=o.queue.dispatch;return o.memoizedState=n,[i,d,!1]}function go(n,i,o,d){return n={tag:n,create:o,deps:d,inst:i,next:null},i=Bt.updateQueue,i===null&&(i=Mf(),Bt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,i.lastEffect=n),n}function Ld(){return{destroy:void 0,resource:void 0}}function Up(){return Ra().memoizedState}function Id(n,i,o,d){var g=fr();d=d===void 0?null:d,Bt.flags|=n,g.memoizedState=go(1|i,Ld(),o,d)}function Vl(n,i,o,d){var g=Ra();d=d===void 0?null:d;var p=g.memoizedState.inst;da!==null&&d!==null&&Tf(d,da.memoizedState.deps)?g.memoizedState=go(i,p,o,d):(Bt.flags|=n,g.memoizedState=go(1|i,p,o,d))}function Fp(n,i){Id(8390656,8,n,i)}function Bp(n,i){Vl(2048,8,n,i)}function zp(n,i){return Vl(4,2,n,i)}function Hp(n,i){return Vl(4,4,n,i)}function qp(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Gp(n,i,o){o=o!=null?o.concat([n]):null,Vl(4,4,qp.bind(null,i,n),o)}function Bf(){}function Vp(n,i){var o=Ra();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&Tf(i,d[1])?d[0]:(o.memoizedState=[n,i],n)}function Kp(n,i){var o=Ra();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&Tf(i,d[1]))return d[0];if(d=n(),wi){Yt(!0);try{n()}finally{Yt(!1)}}return o.memoizedState=[d,i],d}function zf(n,i,o){return o===void 0||(ys&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=Xx(),Bt.lanes|=n,js|=n,o)}function Yp(n,i,o,d){return xr(o,i)?o:fo.current!==null?(n=zf(n,o,d),xr(n,i)||(za=!0),n):(ys&42)===0?(za=!0,n.memoizedState=o):(n=Xx(),Bt.lanes|=n,js|=n,i)}function Qp(n,i,o,d,g){var p=re.p;re.p=p!==0&&8>p?p:8;var S=X.T,A={};X.T=A,Gf(n,!1,i,o);try{var Y=g(),ye=X.S;if(ye!==null&&ye(A,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var $e=nj(Y,d);Kl(n,i,$e,jr(n))}else Kl(n,i,d,jr(n))}catch(Re){Kl(n,i,{then:function(){},status:"rejected",reason:Re},jr())}finally{re.p=p,X.T=S}}function cj(){}function Hf(n,i,o,d){if(n.tag!==5)throw Error(s(476));var g=Xp(n).queue;Qp(n,g,i,ne,o===null?cj:function(){return Wp(n),o(d)})}function Xp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:ne},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Wp(n){var i=Xp(n).next.queue;Kl(n,i,{},jr())}function qf(){return Xa(uc)}function Zp(){return Ra().memoizedState}function Jp(){return Ra().memoizedState}function dj(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=jr();n=ms(o);var d=gs(i,n,o);d!==null&&(kr(d,i,o),Bl(d,i,o)),i={cache:vf()},n.payload=i;return}i=i.return}}function uj(n,i,o){var d=jr();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ud(n)?tx(i,o):(o=df(n,i,o,d),o!==null&&(kr(o,n,d),ax(o,i,d)))}function ex(n,i,o){var d=jr();Kl(n,i,o,d)}function Kl(n,i,o,d){var g={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ud(n))tx(i,g);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var S=i.lastRenderedState,A=p(S,o);if(g.hasEagerState=!0,g.eagerState=A,xr(A,S))return Nd(n,i,g,0),ga===null&&wd(),!1}catch(Y){}finally{}if(o=df(n,i,g,d),o!==null)return kr(o,n,d),ax(o,i,d),!0}return!1}function Gf(n,i,o,d){if(d={lane:2,revertLane:jh(),action:d,hasEagerState:!1,eagerState:null,next:null},Ud(n)){if(i)throw Error(s(479))}else i=df(n,o,d,2),i!==null&&kr(i,n,2)}function Ud(n){var i=n.alternate;return n===Bt||i!==null&&i===Bt}function tx(n,i){ho=Rd=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function ax(n,i,o){if((o&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,Le(n,o)}}var Fd={readContext:Xa,use:Md,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useLayoutEffect:Ca,useInsertionEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useSyncExternalStore:Ca,useId:Ca,useHostTransitionStatus:Ca,useFormState:Ca,useActionState:Ca,useOptimistic:Ca,useMemoCache:Ca,useCacheRefresh:Ca},rx={readContext:Xa,use:Md,useCallback:function(n,i){return fr().memoizedState=[n,i===void 0?null:i],n},useContext:Xa,useEffect:Fp,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Id(4194308,4,qp.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Id(4194308,4,n,i)},useInsertionEffect:function(n,i){Id(4,2,n,i)},useMemo:function(n,i){var o=fr();i=i===void 0?null:i;var d=n();if(wi){Yt(!0);try{n()}finally{Yt(!1)}}return o.memoizedState=[d,i],d},useReducer:function(n,i,o){var d=fr();if(o!==void 0){var g=o(i);if(wi){Yt(!0);try{o(i)}finally{Yt(!1)}}}else g=i;return d.memoizedState=d.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},d.queue=n,n=n.dispatch=uj.bind(null,Bt,n),[d.memoizedState,n]},useRef:function(n){var i=fr();return n={current:n},i.memoizedState=n},useState:function(n){n=Uf(n);var i=n.queue,o=ex.bind(null,Bt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Bf,useDeferredValue:function(n,i){var o=fr();return zf(o,n,i)},useTransition:function(){var n=Uf(!1);return n=Qp.bind(null,Bt,n.queue,!0,!1),fr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var d=Bt,g=fr();if(ra){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ga===null)throw Error(s(349));(Wt&124)!==0||kp(d,i,o)}g.memoizedState=o;var p={value:o,getSnapshot:i};return g.queue=p,Fp($p.bind(null,d,p,n),[n]),d.flags|=2048,go(9,Ld(),Sp.bind(null,d,p,o,i),null),o},useId:function(){var n=fr(),i=ga.identifierPrefix;if(ra){var o=Pn,d=Rn;o=(d&~(1<<32-he(d)-1)).toString(32)+o,i="«"+i+"R"+o,o=Pd++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=sj++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:qf,useFormState:Mp,useActionState:Mp,useOptimistic:function(n){var i=fr();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Gf.bind(null,Bt,!0,o),o.dispatch=i,[n,i]},useMemoCache:Df,useCacheRefresh:function(){return fr().memoizedState=dj.bind(null,Bt)}},nx={readContext:Xa,use:Md,useCallback:Vp,useContext:Xa,useEffect:Bp,useImperativeHandle:Gp,useInsertionEffect:zp,useLayoutEffect:Hp,useMemo:Kp,useReducer:Dd,useRef:Up,useState:function(){return Dd(Ln)},useDebugValue:Bf,useDeferredValue:function(n,i){var o=Ra();return Yp(o,da.memoizedState,n,i)},useTransition:function(){var n=Dd(Ln)[0],i=Ra().memoizedState;return[typeof n=="boolean"?n:Gl(n),i]},useSyncExternalStore:jp,useId:Zp,useHostTransitionStatus:qf,useFormState:Dp,useActionState:Dp,useOptimistic:function(n,i){var o=Ra();return Ep(o,da,n,i)},useMemoCache:Df,useCacheRefresh:Jp},fj={readContext:Xa,use:Md,useCallback:Vp,useContext:Xa,useEffect:Bp,useImperativeHandle:Gp,useInsertionEffect:zp,useLayoutEffect:Hp,useMemo:Kp,useReducer:If,useRef:Up,useState:function(){return If(Ln)},useDebugValue:Bf,useDeferredValue:function(n,i){var o=Ra();return da===null?zf(o,n,i):Yp(o,da.memoizedState,n,i)},useTransition:function(){var n=If(Ln)[0],i=Ra().memoizedState;return[typeof n=="boolean"?n:Gl(n),i]},useSyncExternalStore:jp,useId:Zp,useHostTransitionStatus:qf,useFormState:Ip,useActionState:Ip,useOptimistic:function(n,i){var o=Ra();return da!==null?Ep(o,da,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Jp},yo=null,Yl=0;function Bd(n){var i=Yl;return Yl+=1,yo===null&&(yo=[]),gp(yo,n,i)}function Ql(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function zd(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function sx(n){var i=n._init;return i(n._payload)}function ix(n){function i(le,te){if(n){var ge=le.deletions;ge===null?(le.deletions=[te],le.flags|=16):ge.push(te)}}function o(le,te){if(!n)return null;for(;te!==null;)i(le,te),te=te.sibling;return null}function d(le){for(var te=new Map;le!==null;)le.key!==null?te.set(le.key,le):te.set(le.index,le),le=le.sibling;return te}function g(le,te){return le=On(le,te),le.index=0,le.sibling=null,le}function p(le,te,ge){return le.index=ge,n?(ge=le.alternate,ge!==null?(ge=ge.index,ge<te?(le.flags|=67108866,te):ge):(le.flags|=67108866,te)):(le.flags|=1048576,te)}function S(le){return n&&le.alternate===null&&(le.flags|=67108866),le}function A(le,te,ge,_e){return te===null||te.tag!==6?(te=ff(ge,le.mode,_e),te.return=le,te):(te=g(te,ge),te.return=le,te)}function Y(le,te,ge,_e){var dt=ge.type;return dt===k?$e(le,te,ge.props.children,_e,ge.key):te!==null&&(te.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===q&&sx(dt)===te.type)?(te=g(te,ge.props),Ql(te,ge),te.return=le,te):(te=kd(ge.type,ge.key,ge.props,null,le.mode,_e),Ql(te,ge),te.return=le,te)}function ye(le,te,ge,_e){return te===null||te.tag!==4||te.stateNode.containerInfo!==ge.containerInfo||te.stateNode.implementation!==ge.implementation?(te=hf(ge,le.mode,_e),te.return=le,te):(te=g(te,ge.children||[]),te.return=le,te)}function $e(le,te,ge,_e,dt){return te===null||te.tag!==7?(te=hi(ge,le.mode,_e,dt),te.return=le,te):(te=g(te,ge),te.return=le,te)}function Re(le,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=ff(""+te,le.mode,ge),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return ge=kd(te.type,te.key,te.props,null,le.mode,ge),Ql(ge,te),ge.return=le,ge;case v:return te=hf(te,le.mode,ge),te.return=le,te;case q:var _e=te._init;return te=_e(te._payload),Re(le,te,ge)}if(je(te)||Z(te))return te=hi(te,le.mode,ge,null),te.return=le,te;if(typeof te.then=="function")return Re(le,Bd(te),ge);if(te.$$typeof===M)return Re(le,_d(le,te),ge);zd(le,te)}return null}function be(le,te,ge,_e){var dt=te!==null?te.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return dt!==null?null:A(le,te,""+ge,_e);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return ge.key===dt?Y(le,te,ge,_e):null;case v:return ge.key===dt?ye(le,te,ge,_e):null;case q:return dt=ge._init,ge=dt(ge._payload),be(le,te,ge,_e)}if(je(ge)||Z(ge))return dt!==null?null:$e(le,te,ge,_e,null);if(typeof ge.then=="function")return be(le,te,Bd(ge),_e);if(ge.$$typeof===M)return be(le,te,_d(le,ge),_e);zd(le,ge)}return null}function ve(le,te,ge,_e,dt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return le=le.get(ge)||null,A(te,le,""+_e,dt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return le=le.get(_e.key===null?ge:_e.key)||null,Y(te,le,_e,dt);case v:return le=le.get(_e.key===null?ge:_e.key)||null,ye(te,le,_e,dt);case q:var qt=_e._init;return _e=qt(_e._payload),ve(le,te,ge,_e,dt)}if(je(_e)||Z(_e))return le=le.get(ge)||null,$e(te,le,_e,dt,null);if(typeof _e.then=="function")return ve(le,te,ge,Bd(_e),dt);if(_e.$$typeof===M)return ve(le,te,ge,_d(te,_e),dt);zd(te,_e)}return null}function Mt(le,te,ge,_e){for(var dt=null,qt=null,wt=te,Ot=te=0,qa=null;wt!==null&&Ot<ge.length;Ot++){wt.index>Ot?(qa=wt,wt=null):qa=wt.sibling;var ea=be(le,wt,ge[Ot],_e);if(ea===null){wt===null&&(wt=qa);break}n&&wt&&ea.alternate===null&&i(le,wt),te=p(ea,te,Ot),qt===null?dt=ea:qt.sibling=ea,qt=ea,wt=qa}if(Ot===ge.length)return o(le,wt),ra&&gi(le,Ot),dt;if(wt===null){for(;Ot<ge.length;Ot++)wt=Re(le,ge[Ot],_e),wt!==null&&(te=p(wt,te,Ot),qt===null?dt=wt:qt.sibling=wt,qt=wt);return ra&&gi(le,Ot),dt}for(wt=d(wt);Ot<ge.length;Ot++)qa=ve(wt,le,Ot,ge[Ot],_e),qa!==null&&(n&&qa.alternate!==null&&wt.delete(qa.key===null?Ot:qa.key),te=p(qa,te,Ot),qt===null?dt=qa:qt.sibling=qa,qt=qa);return n&&wt.forEach(function(Os){return i(le,Os)}),ra&&gi(le,Ot),dt}function Tt(le,te,ge,_e){if(ge==null)throw Error(s(151));for(var dt=null,qt=null,wt=te,Ot=te=0,qa=null,ea=ge.next();wt!==null&&!ea.done;Ot++,ea=ge.next()){wt.index>Ot?(qa=wt,wt=null):qa=wt.sibling;var Os=be(le,wt,ea.value,_e);if(Os===null){wt===null&&(wt=qa);break}n&&wt&&Os.alternate===null&&i(le,wt),te=p(Os,te,Ot),qt===null?dt=Os:qt.sibling=Os,qt=Os,wt=qa}if(ea.done)return o(le,wt),ra&&gi(le,Ot),dt;if(wt===null){for(;!ea.done;Ot++,ea=ge.next())ea=Re(le,ea.value,_e),ea!==null&&(te=p(ea,te,Ot),qt===null?dt=ea:qt.sibling=ea,qt=ea);return ra&&gi(le,Ot),dt}for(wt=d(wt);!ea.done;Ot++,ea=ge.next())ea=ve(wt,le,Ot,ea.value,_e),ea!==null&&(n&&ea.alternate!==null&&wt.delete(ea.key===null?Ot:ea.key),te=p(ea,te,Ot),qt===null?dt=ea:qt.sibling=ea,qt=ea);return n&&wt.forEach(function(hk){return i(le,hk)}),ra&&gi(le,Ot),dt}function fa(le,te,ge,_e){if(typeof ge=="object"&&ge!==null&&ge.type===k&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:e:{for(var dt=ge.key;te!==null;){if(te.key===dt){if(dt=ge.type,dt===k){if(te.tag===7){o(le,te.sibling),_e=g(te,ge.props.children),_e.return=le,le=_e;break e}}else if(te.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===q&&sx(dt)===te.type){o(le,te.sibling),_e=g(te,ge.props),Ql(_e,ge),_e.return=le,le=_e;break e}o(le,te);break}else i(le,te);te=te.sibling}ge.type===k?(_e=hi(ge.props.children,le.mode,_e,ge.key),_e.return=le,le=_e):(_e=kd(ge.type,ge.key,ge.props,null,le.mode,_e),Ql(_e,ge),_e.return=le,le=_e)}return S(le);case v:e:{for(dt=ge.key;te!==null;){if(te.key===dt)if(te.tag===4&&te.stateNode.containerInfo===ge.containerInfo&&te.stateNode.implementation===ge.implementation){o(le,te.sibling),_e=g(te,ge.children||[]),_e.return=le,le=_e;break e}else{o(le,te);break}else i(le,te);te=te.sibling}_e=hf(ge,le.mode,_e),_e.return=le,le=_e}return S(le);case q:return dt=ge._init,ge=dt(ge._payload),fa(le,te,ge,_e)}if(je(ge))return Mt(le,te,ge,_e);if(Z(ge)){if(dt=Z(ge),typeof dt!="function")throw Error(s(150));return ge=dt.call(ge),Tt(le,te,ge,_e)}if(typeof ge.then=="function")return fa(le,te,Bd(ge),_e);if(ge.$$typeof===M)return fa(le,te,_d(le,ge),_e);zd(le,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,te!==null&&te.tag===6?(o(le,te.sibling),_e=g(te,ge),_e.return=le,le=_e):(o(le,te),_e=ff(ge,le.mode,_e),_e.return=le,le=_e),S(le)):o(le,te)}return function(le,te,ge,_e){try{Yl=0;var dt=fa(le,te,ge,_e);return yo=null,dt}catch(wt){if(wt===Ul||wt===Td)throw wt;var qt=br(29,wt,null,le.mode);return qt.lanes=_e,qt.return=le,qt}finally{}}}var po=ix(!0),ox=ix(!1),Dr=me(null),bn=null;function ps(n){var i=n.alternate;ee(La,La.current&1),ee(Dr,n),bn===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(bn=n)}function lx(n){if(n.tag===22){if(ee(La,La.current),ee(Dr,n),bn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(bn=n)}}else xs()}function xs(){ee(La,La.current),ee(Dr,Dr.current)}function In(n){T(Dr),bn===n&&(bn=null),T(La)}var La=me(0);function Hd(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Mh(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vf(n,i,o,d){i=n.memoizedState,o=o(d,i),o=o==null?i:y({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Kf={enqueueSetState:function(n,i,o){n=n._reactInternals;var d=jr(),g=ms(d);g.payload=i,o!=null&&(g.callback=o),i=gs(n,g,d),i!==null&&(kr(i,n,d),Bl(i,n,d))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var d=jr(),g=ms(d);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=gs(n,g,d),i!==null&&(kr(i,n,d),Bl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=jr(),d=ms(o);d.tag=2,i!=null&&(d.callback=i),i=gs(n,d,o),i!==null&&(kr(i,n,o),Bl(i,n,o))}};function cx(n,i,o,d,g,p,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,p,S):i.prototype&&i.prototype.isPureReactComponent?!Al(o,d)||!Al(g,p):!0}function dx(n,i,o,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==n&&Kf.enqueueReplaceState(i,i.state,null)}function Ni(n,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(n=n.defaultProps){o===i&&(o=y({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}var qd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ux(n){qd(n)}function fx(n){console.error(n)}function hx(n){qd(n)}function Gd(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function mx(n,i,o){try{var d=n.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Yf(n,i,o){return o=ms(o),o.tag=3,o.payload={element:null},o.callback=function(){Gd(n,i)},o}function gx(n){return n=ms(n),n.tag=3,n}function yx(n,i,o,d){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var p=d.value;n.payload=function(){return g(p)},n.callback=function(){mx(i,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){mx(i,o,d),typeof g!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function hj(n,i,o,d,g){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Dl(i,o,g,!0),o=Dr.current,o!==null){switch(o.tag){case 13:return bn===null?xh():o.alternate===null&&Na===0&&(Na=3),o.flags&=-257,o.flags|=65536,o.lanes=g,d===jf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),vh(n,d,g)),!1;case 22:return o.flags|=65536,d===jf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),vh(n,d,g)),!1}throw Error(s(435,o.tag))}return vh(n,d,g),xh(),!1}if(ra)return i=Dr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==yf&&(n=Error(s(422),{cause:d}),Ml(Or(n,o)))):(d!==yf&&(i=Error(s(423),{cause:d}),Ml(Or(i,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,d=Or(d,o),g=Yf(n.stateNode,d,g),$f(n,g),Na!==4&&(Na=2)),!1;var p=Error(s(520),{cause:d});if(p=Or(p,o),ac===null?ac=[p]:ac.push(p),Na!==4&&(Na=2),i===null)return!0;d=Or(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=Yf(o.stateNode,d,n),$f(o,n),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ks===null||!ks.has(p))))return o.flags|=65536,g&=-g,o.lanes|=g,g=gx(g),yx(g,n,o,d),$f(o,g),!1}o=o.return}while(o!==null);return!1}var px=Error(s(461)),za=!1;function Ga(n,i,o,d){i.child=n===null?ox(i,null,o,d):po(i,n.child,o,d)}function xx(n,i,o,d,g){o=o.render;var p=i.ref;if("ref"in d){var S={};for(var A in d)A!=="ref"&&(S[A]=d[A])}else S=d;return bi(i),d=Af(n,i,o,S,p,g),A=Of(),n!==null&&!za?(Rf(n,i,g),Un(n,i,g)):(ra&&A&&mf(i),i.flags|=1,Ga(n,i,d,g),i.child)}function bx(n,i,o,d,g){if(n===null){var p=o.type;return typeof p=="function"&&!uf(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,vx(n,i,p,d,g)):(n=kd(o.type,null,d,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!ah(n,g)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Al,o(S,d)&&n.ref===i.ref)return Un(n,i,g)}return i.flags|=1,n=On(p,d),n.ref=i.ref,n.return=i,i.child=n}function vx(n,i,o,d,g){if(n!==null){var p=n.memoizedProps;if(Al(p,d)&&n.ref===i.ref)if(za=!1,i.pendingProps=d=p,ah(n,g))(n.flags&131072)!==0&&(za=!0);else return i.lanes=n.lanes,Un(n,i,g)}return Qf(n,i,o,d,g)}function wx(n,i,o){var d=i.pendingProps,g=d.children,p=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=p!==null?p.baseLanes|o:o,n!==null){for(g=i.child=n.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;i.childLanes=p&~d}else i.childLanes=0,i.child=null;return Nx(n,i,d,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ed(i,p!==null?p.cachePool:null),p!==null?vp(i,p):_f(),lx(i);else return i.lanes=i.childLanes=536870912,Nx(n,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(Ed(i,p.cachePool),vp(i,p),xs(),i.memoizedState=null):(n!==null&&Ed(i,null),_f(),xs());return Ga(n,i,g,o),i.child}function Nx(n,i,o,d){var g=Nf();return g=g===null?null:{parent:Da._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},n!==null&&Ed(i,null),_f(),lx(i),n!==null&&Dl(n,i,d,!0),null}function Vd(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Qf(n,i,o,d,g){return bi(i),o=Af(n,i,o,d,void 0,g),d=Of(),n!==null&&!za?(Rf(n,i,g),Un(n,i,g)):(ra&&d&&mf(i),i.flags|=1,Ga(n,i,o,g),i.child)}function jx(n,i,o,d,g,p){return bi(i),i.updateQueue=null,o=Np(i,d,o,g),wp(n),d=Of(),n!==null&&!za?(Rf(n,i,p),Un(n,i,p)):(ra&&d&&mf(i),i.flags|=1,Ga(n,i,o,p),i.child)}function kx(n,i,o,d,g){if(bi(i),i.stateNode===null){var p=io,S=o.contextType;typeof S=="object"&&S!==null&&(p=Xa(S)),p=new o(d,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Kf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=d,p.state=i.memoizedState,p.refs={},kf(i),S=o.contextType,p.context=typeof S=="object"&&S!==null?Xa(S):io,p.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Vf(i,o,S,d),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Kf.enqueueReplaceState(p,p.state,null),Hl(i,d,p,g),zl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){p=i.stateNode;var A=i.memoizedProps,Y=Ni(o,A);p.props=Y;var ye=p.context,$e=o.contextType;S=io,typeof $e=="object"&&$e!==null&&(S=Xa($e));var Re=o.getDerivedStateFromProps;$e=typeof Re=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,$e||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||ye!==S)&&dx(i,p,d,S),hs=!1;var be=i.memoizedState;p.state=be,Hl(i,d,p,g),zl(),ye=i.memoizedState,A||be!==ye||hs?(typeof Re=="function"&&(Vf(i,o,Re,d),ye=i.memoizedState),(Y=hs||cx(i,o,Y,d,be,ye,S))?($e||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ye),p.props=d,p.state=ye,p.context=S,d=Y):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{p=i.stateNode,Sf(n,i),S=i.memoizedProps,$e=Ni(o,S),p.props=$e,Re=i.pendingProps,be=p.context,ye=o.contextType,Y=io,typeof ye=="object"&&ye!==null&&(Y=Xa(ye)),A=o.getDerivedStateFromProps,(ye=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Re||be!==Y)&&dx(i,p,d,Y),hs=!1,be=i.memoizedState,p.state=be,Hl(i,d,p,g),zl();var ve=i.memoizedState;S!==Re||be!==ve||hs||n!==null&&n.dependencies!==null&&Cd(n.dependencies)?(typeof A=="function"&&(Vf(i,o,A,d),ve=i.memoizedState),($e=hs||cx(i,o,$e,d,be,ve,Y)||n!==null&&n.dependencies!==null&&Cd(n.dependencies))?(ye||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(d,ve,Y),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(d,ve,Y)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&be===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&be===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ve),p.props=d,p.state=ve,p.context=Y,d=$e):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&be===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&be===n.memoizedState||(i.flags|=1024),d=!1)}return p=d,Vd(n,i),d=(i.flags&128)!==0,p||d?(p=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&d?(i.child=po(i,n.child,null,g),i.child=po(i,null,o,g)):Ga(n,i,o,g),i.memoizedState=p.state,n=i.child):n=Un(n,i,g),n}function Sx(n,i,o,d){return Pl(),i.flags|=256,Ga(n,i,o,d),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(n){return{baseLanes:n,cachePool:fp()}}function Zf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Lr),n}function $x(n,i,o){var d=i.pendingProps,g=!1,p=(i.flags&128)!==0,S;if((S=p)||(S=n!==null&&n.memoizedState===null?!1:(La.current&2)!==0),S&&(g=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,n===null){if(ra){if(g?ps(i):xs(),ra){var A=wa,Y;if(Y=A){e:{for(Y=A,A=xn;Y.nodeType!==8;){if(!A){A=null;break e}if(Y=Zr(Y.nextSibling),Y===null){A=null;break e}}A=Y}A!==null?(i.memoizedState={dehydrated:A,treeContext:mi!==null?{id:Rn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},Y=br(18,null,null,0),Y.stateNode=A,Y.return=i,i.child=Y,ar=i,wa=null,Y=!0):Y=!1}Y||pi(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Mh(A)?i.lanes=32:i.lanes=536870912,null;In(i)}return A=d.children,d=d.fallback,g?(xs(),g=i.mode,A=Kd({mode:"hidden",children:A},g),d=hi(d,g,o,null),A.return=i,d.return=i,A.sibling=d,i.child=A,g=i.child,g.memoizedState=Wf(o),g.childLanes=Zf(n,S,o),i.memoizedState=Xf,d):(ps(i),Jf(i,A))}if(Y=n.memoizedState,Y!==null&&(A=Y.dehydrated,A!==null)){if(p)i.flags&256?(ps(i),i.flags&=-257,i=eh(n,i,o)):i.memoizedState!==null?(xs(),i.child=n.child,i.flags|=128,i=null):(xs(),g=d.fallback,A=i.mode,d=Kd({mode:"visible",children:d.children},A),g=hi(g,A,o,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,po(i,n.child,null,o),d=i.child,d.memoizedState=Wf(o),d.childLanes=Zf(n,S,o),i.memoizedState=Xf,i=g);else if(ps(i),Mh(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var ye=S.dgst;S=ye,d=Error(s(419)),d.stack="",d.digest=S,Ml({value:d,source:null,stack:null}),i=eh(n,i,o)}else if(za||Dl(n,i,o,!1),S=(o&n.childLanes)!==0,za||S){if(S=ga,S!==null&&(d=o&-o,d=(d&42)!==0?1:ka(d),d=(d&(S.suspendedLanes|o))!==0?0:d,d!==0&&d!==Y.retryLane))throw Y.retryLane=d,so(n,d),kr(S,n,d),px;A.data==="$?"||xh(),i=eh(n,i,o)}else A.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=Y.treeContext,wa=Zr(A.nextSibling),ar=i,ra=!0,yi=null,xn=!1,n!==null&&(Pr[Mr++]=Rn,Pr[Mr++]=Pn,Pr[Mr++]=mi,Rn=n.id,Pn=n.overflow,mi=i),i=Jf(i,d.children),i.flags|=4096);return i}return g?(xs(),g=d.fallback,A=i.mode,Y=n.child,ye=Y.sibling,d=On(Y,{mode:"hidden",children:d.children}),d.subtreeFlags=Y.subtreeFlags&65011712,ye!==null?g=On(ye,g):(g=hi(g,A,o,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,A=n.child.memoizedState,A===null?A=Wf(o):(Y=A.cachePool,Y!==null?(ye=Da._currentValue,Y=Y.parent!==ye?{parent:ye,pool:ye}:Y):Y=fp(),A={baseLanes:A.baseLanes|o,cachePool:Y}),g.memoizedState=A,g.childLanes=Zf(n,S,o),i.memoizedState=Xf,d):(ps(i),o=n.child,n=o.sibling,o=On(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,n!==null&&(S=i.deletions,S===null?(i.deletions=[n],i.flags|=16):S.push(n)),i.child=o,i.memoizedState=null,o)}function Jf(n,i){return i=Kd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Kd(n,i){return n=br(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function eh(n,i,o){return po(i,n.child,null,o),n=Jf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Cx(n,i,o){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),xf(n.return,i,o)}function th(n,i,o,d,g){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:g}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=d,p.tail=o,p.tailMode=g)}function _x(n,i,o){var d=i.pendingProps,g=d.revealOrder,p=d.tail;if(Ga(n,i,d.children,o),d=La.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cx(n,o,i);else if(n.tag===19)Cx(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(ee(La,d),g){case"forwards":for(o=i.child,g=null;o!==null;)n=o.alternate,n!==null&&Hd(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),th(i,!1,g,o,p);break;case"backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Hd(n)===null){i.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}th(i,!0,o,null,p);break;case"together":th(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Un(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),js|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Dl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=On(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=On(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function ah(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Cd(n)))}function mj(n,i,o){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),fs(i,Da,n.memoizedState.cache),Pl();break;case 27:case 5:De(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:fs(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(ps(i),i.flags|=128,null):(o&i.child.childLanes)!==0?$x(n,i,o):(ps(i),n=Un(n,i,o),n!==null?n.sibling:null);ps(i);break;case 19:var g=(n.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Dl(n,i,o,!1),d=(o&i.childLanes)!==0),g){if(d)return _x(n,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ee(La,La.current),d)break;return null;case 22:case 23:return i.lanes=0,wx(n,i,o);case 24:fs(i,Da,n.memoizedState.cache)}return Un(n,i,o)}function Ex(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)za=!0;else{if(!ah(n,o)&&(i.flags&128)===0)return za=!1,mj(n,i,o);za=(n.flags&131072)!==0}else za=!1,ra&&(i.flags&1048576)!==0&&sp(i,$d,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")uf(d)?(n=Ni(d,n),i.tag=1,i=kx(null,i,d,n,o)):(i.tag=0,i=Qf(null,i,d,n,o));else{if(d!=null){if(g=d.$$typeof,g===B){i.tag=11,i=xx(null,i,d,n,o);break e}else if(g===ae){i.tag=14,i=bx(null,i,d,n,o);break e}}throw i=Ne(d)||d,Error(s(306,i,""))}}return i;case 0:return Qf(n,i,i.type,i.pendingProps,o);case 1:return d=i.type,g=Ni(d,i.pendingProps),kx(n,i,d,g,o);case 3:e:{if(Ie(i,i.stateNode.containerInfo),n===null)throw Error(s(387));d=i.pendingProps;var p=i.memoizedState;g=p.element,Sf(n,i),Hl(i,d,null,o);var S=i.memoizedState;if(d=S.cache,fs(i,Da,d),d!==p.cache&&bf(i,[Da],o,!0),zl(),d=S.element,p.isDehydrated)if(p={element:d,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Sx(n,i,d,o);break e}else if(d!==g){g=Or(Error(s(424)),i),Ml(g),i=Sx(n,i,d,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(wa=Zr(n.firstChild),ar=i,ra=!0,yi=null,xn=!0,o=ox(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Pl(),d===g){i=Un(n,i,o);break e}Ga(n,i,d,o)}i=i.child}return i;case 26:return Vd(n,i),n===null?(o=Rb(i.type,null,i.pendingProps,null))?i.memoizedState=o:ra||(o=i.type,n=i.pendingProps,d=ou(K.current).createElement(o),d[Q]=i,d[Te]=n,Ka(d,o,n),Et(d),i.stateNode=d):i.memoizedState=Rb(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return De(i),n===null&&ra&&(d=i.stateNode=Tb(i.type,i.pendingProps,K.current),ar=i,xn=!0,g=wa,Cs(i.type)?(Dh=g,wa=Zr(d.firstChild)):wa=g),Ga(n,i,i.pendingProps.children,o),Vd(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ra&&((g=d=wa)&&(d=zj(d,i.type,i.pendingProps,xn),d!==null?(i.stateNode=d,ar=i,wa=Zr(d.firstChild),xn=!1,g=!0):g=!1),g||pi(i)),De(i),g=i.type,p=i.pendingProps,S=n!==null?n.memoizedProps:null,d=p.children,Oh(g,p)?d=null:S!==null&&Oh(g,S)&&(i.flags|=32),i.memoizedState!==null&&(g=Af(n,i,ij,null,null,o),uc._currentValue=g),Vd(n,i),Ga(n,i,d,o),i.child;case 6:return n===null&&ra&&((n=o=wa)&&(o=Hj(o,i.pendingProps,xn),o!==null?(i.stateNode=o,ar=i,wa=null,n=!0):n=!1),n||pi(i)),null;case 13:return $x(n,i,o);case 4:return Ie(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=po(i,null,d,o):Ga(n,i,d,o),i.child;case 11:return xx(n,i,i.type,i.pendingProps,o);case 7:return Ga(n,i,i.pendingProps,o),i.child;case 8:return Ga(n,i,i.pendingProps.children,o),i.child;case 12:return Ga(n,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,fs(i,i.type,d.value),Ga(n,i,d.children,o),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,bi(i),g=Xa(g),d=d(g),i.flags|=1,Ga(n,i,d,o),i.child;case 14:return bx(n,i,i.type,i.pendingProps,o);case 15:return vx(n,i,i.type,i.pendingProps,o);case 19:return _x(n,i,o);case 31:return d=i.pendingProps,o=i.mode,d={mode:d.mode,children:d.children},n===null?(o=Kd(d,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=On(n.child,d),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return wx(n,i,o);case 24:return bi(i),d=Xa(Da),n===null?(g=Nf(),g===null&&(g=ga,p=vf(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=o),g=p),i.memoizedState={parent:d,cache:g},kf(i),fs(i,Da,g)):((n.lanes&o)!==0&&(Sf(n,i),Hl(i,null,null,o),zl()),g=n.memoizedState,p=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),fs(i,Da,d)):(d=p.cache,fs(i,Da,d),d!==g.cache&&bf(i,[Da],o,!0))),Ga(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fn(n){n.flags|=4}function Tx(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ib(i)){if(i=Dr.current,i!==null&&((Wt&4194048)===Wt?bn!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||i!==bn))throw Fl=jf,hp;n.flags|=8192}}function Yd(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Er():536870912,n.lanes|=i,wo|=i)}function Xl(n,i){if(!ra)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function xa(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(i)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=d,n.childLanes=o,i}function gj(n,i,o){var d=i.pendingProps;switch(gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xa(i),null;case 1:return xa(i),null;case 3:return o=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Dn(Da),Ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Rl(i)?Fn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lp())),xa(i),null;case 26:return o=i.memoizedState,n===null?(Fn(i),o!==null?(xa(i),Tx(i,o)):(xa(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Fn(i),xa(i),Tx(i,o)):(xa(i),i.flags&=-16777217):(n.memoizedProps!==d&&Fn(i),xa(i),i.flags&=-16777217),null;case 27:gt(i),o=K.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Fn(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return xa(i),null}n=ue.current,Rl(i)?ip(i):(n=Tb(g,d,o),i.stateNode=n,Fn(i))}return xa(i),null;case 5:if(gt(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Fn(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return xa(i),null}if(n=ue.current,Rl(i))ip(i);else{switch(g=ou(K.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?g.createElement(o,{is:d.is}):g.createElement(o)}}n[Q]=i,n[Te]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(Ka(n,o,d),o){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Fn(i)}}return xa(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&Fn(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(n=K.current,Rl(i)){if(n=i.stateNode,o=i.memoizedProps,d=null,g=ar,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}n[Q]=i,n=!!(n.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||jb(n.nodeValue,o)),n||pi(i)}else n=ou(n).createTextNode(d),n[Q]=i,i.stateNode=n}return xa(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Rl(i),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Q]=i}else Pl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xa(i),g=!1}else g=lp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(In(i),i):(In(i),null)}if(In(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=d!==null,n=n!==null&&n.memoizedState!==null,o){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var p=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(p=d.memoizedState.cachePool.pool),p!==g&&(d.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Yd(i,i.updateQueue),xa(i),null;case 4:return Ye(),n===null&&Ch(i.stateNode.containerInfo),xa(i),null;case 10:return Dn(i.type),xa(i),null;case 19:if(T(La),g=i.memoizedState,g===null)return xa(i),null;if(d=(i.flags&128)!==0,p=g.rendering,p===null)if(d)Xl(g,!1);else{if(Na!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Hd(n),p!==null){for(i.flags|=128,Xl(g,!1),n=p.updateQueue,i.updateQueue=n,Yd(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)np(o,n),o=o.sibling;return ee(La,La.current&1|2),i.child}n=n.sibling}g.tail!==null&&Pe()>Wd&&(i.flags|=128,d=!0,Xl(g,!1),i.lanes=4194304)}else{if(!d)if(n=Hd(p),n!==null){if(i.flags|=128,d=!0,n=n.updateQueue,i.updateQueue=n,Yd(i,n),Xl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!ra)return xa(i),null}else 2*Pe()-g.renderingStartTime>Wd&&o!==536870912&&(i.flags|=128,d=!0,Xl(g,!1),i.lanes=4194304);g.isBackwards?(p.sibling=i.child,i.child=p):(n=g.last,n!==null?n.sibling=p:i.child=p,g.last=p)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Pe(),i.sibling=null,n=La.current,ee(La,d?n&1|2:n&1),i):(xa(i),null);case 22:case 23:return In(i),Ef(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(xa(i),i.subtreeFlags&6&&(i.flags|=8192)):xa(i),o=i.updateQueue,o!==null&&Yd(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),n!==null&&T(vi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Dn(Da),xa(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function yj(n,i){switch(gf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Dn(Da),Ye(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return gt(i),null;case 13:if(In(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Pl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return T(La),null;case 4:return Ye(),null;case 10:return Dn(i.type),null;case 22:case 23:return In(i),Ef(),n!==null&&T(vi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Dn(Da),null;case 25:return null;default:return null}}function Ax(n,i){switch(gf(i),i.tag){case 3:Dn(Da),Ye();break;case 26:case 27:case 5:gt(i);break;case 4:Ye();break;case 13:In(i);break;case 19:T(La);break;case 10:Dn(i.type);break;case 22:case 23:In(i),Ef(),n!==null&&T(vi);break;case 24:Dn(Da)}}function Wl(n,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&n)===n){d=void 0;var p=o.create,S=o.inst;d=p(),S.destroy=d}o=o.next}while(o!==g)}}catch(A){ha(i,i.return,A)}}function bs(n,i,o){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var p=g.next;d=p;do{if((d.tag&n)===n){var S=d.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,g=i;var Y=o,ye=A;try{ye()}catch($e){ha(g,Y,$e)}}}d=d.next}while(d!==p)}}catch($e){ha(i,i.return,$e)}}function Ox(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{bp(i,o)}catch(d){ha(n,n.return,d)}}}function Rx(n,i,o){o.props=Ni(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(d){ha(n,i,d)}}function Zl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof o=="function"?n.refCleanup=o(d):o.current=d}}catch(g){ha(n,i,g)}}function vn(n,i){var o=n.ref,d=n.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(g){ha(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){ha(n,i,g)}else o.current=null}function Px(n){var i=n.type,o=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(g){ha(n,n.return,g)}}function rh(n,i,o){try{var d=n.stateNode;Lj(d,n.type,o,i),d[Te]=i}catch(g){ha(n,n.return,g)}}function Mx(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Cs(n.type)||n.tag===4}function nh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Mx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Cs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sh(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=iu));else if(d!==4&&(d===27&&Cs(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(sh(n,i,o),n=n.sibling;n!==null;)sh(n,i,o),n=n.sibling}function Qd(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(d!==4&&(d===27&&Cs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Qd(n,i,o),n=n.sibling;n!==null;)Qd(n,i,o),n=n.sibling}function Dx(n){var i=n.stateNode,o=n.memoizedProps;try{for(var d=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Ka(i,d,o),i[Q]=n,i[Te]=o}catch(p){ha(n,n.return,p)}}var Bn=!1,_a=!1,ih=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,Ha=null;function pj(n,i){if(n=n.containerInfo,Th=hu,n=Yy(n),rf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var g=d.anchorOffset,p=d.focusNode;d=d.focusOffset;try{o.nodeType,p.nodeType}catch(Tt){o=null;break e}var S=0,A=-1,Y=-1,ye=0,$e=0,Re=n,be=null;t:for(;;){for(var ve;Re!==o||g!==0&&Re.nodeType!==3||(A=S+g),Re!==p||d!==0&&Re.nodeType!==3||(Y=S+d),Re.nodeType===3&&(S+=Re.nodeValue.length),(ve=Re.firstChild)!==null;)be=Re,Re=ve;for(;;){if(Re===n)break t;if(be===o&&++ye===g&&(A=S),be===p&&++$e===d&&(Y=S),(ve=Re.nextSibling)!==null)break;Re=be,be=Re.parentNode}Re=ve}o=A===-1||Y===-1?null:{start:A,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ah={focusedElem:n,selectionRange:o},hu=!1,Ha=i;Ha!==null;)if(i=Ha,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ha=n;else for(;Ha!==null;){switch(i=Ha,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=i,g=p.memoizedProps,p=p.memoizedState,d=o.stateNode;try{var Mt=Ni(o.type,g,o.elementType===o.type);n=d.getSnapshotBeforeUpdate(Mt,p),d.__reactInternalSnapshotBeforeUpdate=n}catch(Tt){ha(o,o.return,Tt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Ph(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ph(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ha=n;break}Ha=i.return}}function Ix(n,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:vs(n,o),d&4&&Wl(5,o);break;case 1:if(vs(n,o),d&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(S){ha(o,o.return,S)}else{var g=Ni(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(S){ha(o,o.return,S)}}d&64&&Ox(o),d&512&&Zl(o,o.return);break;case 3:if(vs(n,o),d&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{bp(n,i)}catch(S){ha(o,o.return,S)}}break;case 27:i===null&&d&4&&Dx(o);case 26:case 5:vs(n,o),i===null&&d&4&&Px(o),d&512&&Zl(o,o.return);break;case 12:vs(n,o);break;case 13:vs(n,o),d&4&&Bx(n,o),d&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=$j.bind(null,o),qj(n,o))));break;case 22:if(d=o.memoizedState!==null||Bn,!d){i=i!==null&&i.memoizedState!==null||_a,g=Bn;var p=_a;Bn=d,(_a=i)&&!p?ws(n,o,(o.subtreeFlags&8772)!==0):vs(n,o),Bn=g,_a=p}break;case 30:break;default:vs(n,o)}}function Ux(n){var i=n.alternate;i!==null&&(n.alternate=null,Ux(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Pt(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ya=null,hr=!1;function zn(n,i,o){for(o=o.child;o!==null;)Fx(n,i,o),o=o.sibling}function Fx(n,i,o){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(bt,o)}catch(p){}switch(o.tag){case 26:_a||vn(o,i),zn(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_a||vn(o,i);var d=ya,g=hr;Cs(o.type)&&(ya=o.stateNode,hr=!1),zn(n,i,o),oc(o.stateNode),ya=d,hr=g;break;case 5:_a||vn(o,i);case 6:if(d=ya,g=hr,ya=null,zn(n,i,o),ya=d,hr=g,ya!==null)if(hr)try{(ya.nodeType===9?ya.body:ya.nodeName==="HTML"?ya.ownerDocument.body:ya).removeChild(o.stateNode)}catch(p){ha(o,i,p)}else try{ya.removeChild(o.stateNode)}catch(p){ha(o,i,p)}break;case 18:ya!==null&&(hr?(n=ya,_b(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),gc(n)):_b(ya,o.stateNode));break;case 4:d=ya,g=hr,ya=o.stateNode.containerInfo,hr=!0,zn(n,i,o),ya=d,hr=g;break;case 0:case 11:case 14:case 15:_a||bs(2,o,i),_a||bs(4,o,i),zn(n,i,o);break;case 1:_a||(vn(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Rx(o,i,d)),zn(n,i,o);break;case 21:zn(n,i,o);break;case 22:_a=(d=_a)||o.memoizedState!==null,zn(n,i,o),_a=d;break;default:zn(n,i,o)}}function Bx(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gc(n)}catch(o){ha(i,i.return,o)}}function xj(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Lx),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Lx),i;default:throw Error(s(435,n.tag))}}function oh(n,i){var o=xj(n);i.forEach(function(d){var g=Cj.bind(null,n,d);o.has(d)||(o.add(d),d.then(g,g))})}function vr(n,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var g=o[d],p=n,S=i,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(Cs(A.type)){ya=A.stateNode,hr=!1;break e}break;case 5:ya=A.stateNode,hr=!1;break e;case 3:case 4:ya=A.stateNode.containerInfo,hr=!0;break e}A=A.return}if(ya===null)throw Error(s(160));Fx(p,S,g),ya=null,hr=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zx(i,n),i=i.sibling}var Wr=null;function zx(n,i){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vr(i,n),wr(n),d&4&&(bs(3,n,n.return),Wl(3,n),bs(5,n,n.return));break;case 1:vr(i,n),wr(n),d&512&&(_a||o===null||vn(o,o.return)),d&64&&Bn&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var g=Wr;if(vr(i,n),wr(n),d&512&&(_a||o===null||vn(o,o.return)),d&4){var p=o!==null?o.memoizedState:null;if(d=n.memoizedState,o===null)if(d===null)if(n.stateNode===null){e:{d=n.type,o=n.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":p=g.getElementsByTagName("title")[0],(!p||p[jt]||p[Q]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(d),g.head.insertBefore(p,g.querySelector("head > title"))),Ka(p,d,o),p[Q]=n,Et(p),d=p;break e;case"link":var S=Db("link","href",g).get(d+(o.href||""));if(S){for(var A=0;A<S.length;A++)if(p=S[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(A,1);break t}}p=g.createElement(d),Ka(p,d,o),g.head.appendChild(p);break;case"meta":if(S=Db("meta","content",g).get(d+(o.content||""))){for(A=0;A<S.length;A++)if(p=S[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(A,1);break t}}p=g.createElement(d),Ka(p,d,o),g.head.appendChild(p);break;default:throw Error(s(468,d))}p[Q]=n,Et(p),d=p}n.stateNode=d}else Lb(g,n.type,n.stateNode);else n.stateNode=Mb(g,d,n.memoizedProps);else p!==d?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,d===null?Lb(g,n.type,n.stateNode):Mb(g,d,n.memoizedProps)):d===null&&n.stateNode!==null&&rh(n,n.memoizedProps,o.memoizedProps)}break;case 27:vr(i,n),wr(n),d&512&&(_a||o===null||vn(o,o.return)),o!==null&&d&4&&rh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(vr(i,n),wr(n),d&512&&(_a||o===null||vn(o,o.return)),n.flags&32){g=n.stateNode;try{is(g,"")}catch(ve){ha(n,n.return,ve)}}d&4&&n.stateNode!=null&&(g=n.memoizedProps,rh(n,g,o!==null?o.memoizedProps:g)),d&1024&&(ih=!0);break;case 6:if(vr(i,n),wr(n),d&4){if(n.stateNode===null)throw Error(s(162));d=n.memoizedProps,o=n.stateNode;try{o.nodeValue=d}catch(ve){ha(n,n.return,ve)}}break;case 3:if(du=null,g=Wr,Wr=lu(i.containerInfo),vr(i,n),Wr=g,wr(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{gc(i.containerInfo)}catch(ve){ha(n,n.return,ve)}ih&&(ih=!1,Hx(n));break;case 4:d=Wr,Wr=lu(n.stateNode.containerInfo),vr(i,n),wr(n),Wr=d;break;case 12:vr(i,n),wr(n);break;case 13:vr(i,n),wr(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hh=Pe()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,oh(n,d)));break;case 22:g=n.memoizedState!==null;var Y=o!==null&&o.memoizedState!==null,ye=Bn,$e=_a;if(Bn=ye||g,_a=$e||Y,vr(i,n),_a=$e,Bn=ye,wr(n),d&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||Y||Bn||_a||ji(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){Y=o=i;try{if(p=Y.stateNode,g)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=Y.stateNode;var Re=Y.memoizedProps.style,be=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;A.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ve){ha(Y,Y.return,ve)}}}else if(i.tag===6){if(o===null){Y=i;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(ve){ha(Y,Y.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,oh(n,o))));break;case 19:vr(i,n),wr(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,oh(n,d)));break;case 30:break;case 21:break;default:vr(i,n),wr(n)}}function wr(n){var i=n.flags;if(i&2){try{for(var o,d=n.return;d!==null;){if(Mx(d)){o=d;break}d=d.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,p=nh(n);Qd(n,p,g);break;case 5:var S=o.stateNode;o.flags&32&&(is(S,""),o.flags&=-33);var A=nh(n);Qd(n,A,S);break;case 3:case 4:var Y=o.stateNode.containerInfo,ye=nh(n);sh(n,ye,Y);break;default:throw Error(s(161))}}catch($e){ha(n,n.return,$e)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Hx(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Hx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function vs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ix(n,i.alternate,i),i=i.sibling}function ji(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:bs(4,i,i.return),ji(i);break;case 1:vn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Rx(i,i.return,o),ji(i);break;case 27:oc(i.stateNode);case 26:case 5:vn(i,i.return),ji(i);break;case 22:i.memoizedState===null&&ji(i);break;case 30:ji(i);break;default:ji(i)}n=n.sibling}}function ws(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=n,p=i,S=p.flags;switch(p.tag){case 0:case 11:case 15:ws(g,p,o),Wl(4,p);break;case 1:if(ws(g,p,o),d=p,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ye){ha(d,d.return,ye)}if(d=p,g=d.updateQueue,g!==null){var A=d.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)xp(Y[g],A)}catch(ye){ha(d,d.return,ye)}}o&&S&64&&Ox(p),Zl(p,p.return);break;case 27:Dx(p);case 26:case 5:ws(g,p,o),o&&d===null&&S&4&&Px(p),Zl(p,p.return);break;case 12:ws(g,p,o);break;case 13:ws(g,p,o),o&&S&4&&Bx(g,p);break;case 22:p.memoizedState===null&&ws(g,p,o),Zl(p,p.return);break;case 30:break;default:ws(g,p,o)}i=i.sibling}}function lh(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ll(o))}function ch(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ll(n))}function wn(n,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qx(n,i,o,d),i=i.sibling}function qx(n,i,o,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:wn(n,i,o,d),g&2048&&Wl(9,i);break;case 1:wn(n,i,o,d);break;case 3:wn(n,i,o,d),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ll(n)));break;case 12:if(g&2048){wn(n,i,o,d),n=i.stateNode;try{var p=i.memoizedProps,S=p.id,A=p.onPostCommit;typeof A=="function"&&A(S,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Y){ha(i,i.return,Y)}}else wn(n,i,o,d);break;case 13:wn(n,i,o,d);break;case 23:break;case 22:p=i.stateNode,S=i.alternate,i.memoizedState!==null?p._visibility&2?wn(n,i,o,d):Jl(n,i):p._visibility&2?wn(n,i,o,d):(p._visibility|=2,xo(n,i,o,d,(i.subtreeFlags&10256)!==0)),g&2048&&lh(S,i);break;case 24:wn(n,i,o,d),g&2048&&ch(i.alternate,i);break;default:wn(n,i,o,d)}}function xo(n,i,o,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,S=i,A=o,Y=d,ye=S.flags;switch(S.tag){case 0:case 11:case 15:xo(p,S,A,Y,g),Wl(8,S);break;case 23:break;case 22:var $e=S.stateNode;S.memoizedState!==null?$e._visibility&2?xo(p,S,A,Y,g):Jl(p,S):($e._visibility|=2,xo(p,S,A,Y,g)),g&&ye&2048&&lh(S.alternate,S);break;case 24:xo(p,S,A,Y,g),g&&ye&2048&&ch(S.alternate,S);break;default:xo(p,S,A,Y,g)}i=i.sibling}}function Jl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,d=i,g=d.flags;switch(d.tag){case 22:Jl(o,d),g&2048&&lh(d.alternate,d);break;case 24:Jl(o,d),g&2048&&ch(d.alternate,d);break;default:Jl(o,d)}i=i.sibling}}var ec=8192;function bo(n){if(n.subtreeFlags&ec)for(n=n.child;n!==null;)Gx(n),n=n.sibling}function Gx(n){switch(n.tag){case 26:bo(n),n.flags&ec&&n.memoizedState!==null&&rk(Wr,n.memoizedState,n.memoizedProps);break;case 5:bo(n);break;case 3:case 4:var i=Wr;Wr=lu(n.stateNode.containerInfo),bo(n),Wr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=ec,ec=16777216,bo(n),ec=i):bo(n));break;default:bo(n)}}function Vx(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function tc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Ha=d,Yx(d,n)}Vx(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kx(n),n=n.sibling}function Kx(n){switch(n.tag){case 0:case 11:case 15:tc(n),n.flags&2048&&bs(9,n,n.return);break;case 3:tc(n);break;case 12:tc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Xd(n)):tc(n);break;default:tc(n)}}function Xd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Ha=d,Yx(d,n)}Vx(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:bs(8,i,i.return),Xd(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Xd(i));break;default:Xd(i)}n=n.sibling}}function Yx(n,i){for(;Ha!==null;){var o=Ha;switch(o.tag){case 0:case 11:case 15:bs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ll(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Ha=d;else e:for(o=n;Ha!==null;){d=Ha;var g=d.sibling,p=d.return;if(Ux(d),d===o){Ha=null;break e}if(g!==null){g.return=p,Ha=g;break e}Ha=p}}}var bj={getCacheForType:function(n){var i=Xa(Da),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},vj=typeof WeakMap=="function"?WeakMap:Map,oa=0,ga=null,Vt=null,Wt=0,la=0,Nr=null,Ns=!1,vo=!1,dh=!1,Hn=0,Na=0,js=0,ki=0,uh=0,Lr=0,wo=0,ac=null,mr=null,fh=!1,hh=0,Wd=1/0,Zd=null,ks=null,Va=0,Ss=null,No=null,jo=0,mh=0,gh=null,Qx=null,rc=0,yh=null;function jr(){if((oa&2)!==0&&Wt!==0)return Wt&-Wt;if(X.T!==null){var n=co;return n!==0?n:jh()}return W()}function Xx(){Lr===0&&(Lr=(Wt&536870912)===0||ra?Ta():536870912);var n=Dr.current;return n!==null&&(n.flags|=32),Lr}function kr(n,i,o){(n===ga&&(la===2||la===9)||n.cancelPendingCommit!==null)&&(ko(n,0),$s(n,Wt,Lr,!1)),tr(n,o),((oa&2)===0||n!==ga)&&(n===ga&&((oa&2)===0&&(ki|=o),Na===4&&$s(n,Wt,Lr,!1)),Nn(n))}function Wx(n,i,o){if((oa&6)!==0)throw Error(s(327));var d=!o&&(i&124)===0&&(i&n.expiredLanes)===0||ma(n,i),g=d?jj(n,i):bh(n,i,!0),p=d;do{if(g===0){vo&&!d&&$s(n,i,0,!1);break}else{if(o=n.current.alternate,p&&!wj(o)){g=bh(n,i,!1),p=!1;continue}if(g===2){if(p=i,n.errorRecoveryDisabledLanes&p)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var A=n;g=ac;var Y=A.current.memoizedState.isDehydrated;if(Y&&(ko(A,S).flags|=256),S=bh(A,S,!1),S!==2){if(dh&&!Y){A.errorRecoveryDisabledLanes|=p,ki|=p,g=4;break e}p=mr,mr=g,p!==null&&(mr===null?mr=p:mr.push.apply(mr,p))}g=S}if(p=!1,g!==2)continue}}if(g===1){ko(n,0),$s(n,i,0,!0);break}e:{switch(d=n,p=g,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:$s(d,i,Lr,!Ns);break e;case 2:mr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=hh+300-Pe(),10<g)){if($s(d,i,Lr,!Ns),St(d,0,!0)!==0)break e;d.timeoutHandle=$b(Zx.bind(null,d,o,mr,Zd,fh,i,Lr,ki,wo,Ns,p,2,-0,0),g);break e}Zx(d,o,mr,Zd,fh,i,Lr,ki,wo,Ns,p,0,-0,0)}}break}while(!0);Nn(n)}function Zx(n,i,o,d,g,p,S,A,Y,ye,$e,Re,be,ve){if(n.timeoutHandle=-1,Re=i.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(dc={stylesheets:null,count:0,unsuspend:ak},Gx(i),Re=nk(),Re!==null)){n.cancelPendingCommit=Re(sb.bind(null,n,i,p,o,d,g,S,A,Y,$e,1,be,ve)),$s(n,p,S,!ye);return}sb(n,i,p,o,d,g,S,A,Y)}function wj(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var g=o[d],p=g.getSnapshot;g=g.value;try{if(!xr(p(),g))return!1}catch(S){return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $s(n,i,o,d){i&=~uh,i&=~ki,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var g=i;0<g;){var p=31-he(g),S=1<<p;d[p]=-1,g&=~S}o!==0&&lr(n,o,i)}function Jd(){return(oa&6)===0?(nc(0),!1):!0}function ph(){if(Vt!==null){if(la===0)var n=Vt.return;else n=Vt,Mn=xi=null,Pf(n),yo=null,Yl=0,n=Vt;for(;n!==null;)Ax(n.alternate,n),n=n.return;Vt=null}}function ko(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Uj(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),ph(),ga=n,Vt=o=On(n.current,null),Wt=i,la=0,Nr=null,Ns=!1,vo=ma(n,i),dh=!1,wo=Lr=uh=ki=js=Na=0,mr=ac=null,fh=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var g=31-he(d),p=1<<g;i|=n[g],d&=~p}return Hn=i,wd(),o}function Jx(n,i){Bt=null,X.H=Fd,i===Ul||i===Td?(i=yp(),la=3):i===hp?(i=yp(),la=4):la=i===px?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nr=i,Vt===null&&(Na=1,Gd(n,Or(i,n.current)))}function eb(){var n=X.H;return X.H=Fd,n===null?Fd:n}function tb(){var n=X.A;return X.A=bj,n}function xh(){Na=4,Ns||(Wt&4194048)!==Wt&&Dr.current!==null||(vo=!0),(js&134217727)===0&&(ki&134217727)===0||ga===null||$s(ga,Wt,Lr,!1)}function bh(n,i,o){var d=oa;oa|=2;var g=eb(),p=tb();(ga!==n||Wt!==i)&&(Zd=null,ko(n,i)),i=!1;var S=Na;e:do try{if(la!==0&&Vt!==null){var A=Vt,Y=Nr;switch(la){case 8:ph(),S=6;break e;case 3:case 2:case 9:case 6:Dr.current===null&&(i=!0);var ye=la;if(la=0,Nr=null,So(n,A,Y,ye),o&&vo){S=0;break e}break;default:ye=la,la=0,Nr=null,So(n,A,Y,ye)}}Nj(),S=Na;break}catch($e){Jx(n,$e)}while(!0);return i&&n.shellSuspendCounter++,Mn=xi=null,oa=d,X.H=g,X.A=p,Vt===null&&(ga=null,Wt=0,wd()),S}function Nj(){for(;Vt!==null;)ab(Vt)}function jj(n,i){var o=oa;oa|=2;var d=eb(),g=tb();ga!==n||Wt!==i?(Zd=null,Wd=Pe()+500,ko(n,i)):vo=ma(n,i);e:do try{if(la!==0&&Vt!==null){i=Vt;var p=Nr;t:switch(la){case 1:la=0,Nr=null,So(n,i,p,1);break;case 2:case 9:if(mp(p)){la=0,Nr=null,rb(i);break}i=function(){la!==2&&la!==9||ga!==n||(la=7),Nn(n)},p.then(i,i);break e;case 3:la=7;break e;case 4:la=5;break e;case 7:mp(p)?(la=0,Nr=null,rb(i)):(la=0,Nr=null,So(n,i,p,7));break;case 5:var S=null;switch(Vt.tag){case 26:S=Vt.memoizedState;case 5:case 27:var A=Vt;if(!S||Ib(S)){la=0,Nr=null;var Y=A.sibling;if(Y!==null)Vt=Y;else{var ye=A.return;ye!==null?(Vt=ye,eu(ye)):Vt=null}break t}}la=0,Nr=null,So(n,i,p,5);break;case 6:la=0,Nr=null,So(n,i,p,6);break;case 8:ph(),Na=6;break e;default:throw Error(s(462))}}kj();break}catch($e){Jx(n,$e)}while(!0);return Mn=xi=null,X.H=d,X.A=g,oa=o,Vt!==null?0:(ga=null,Wt=0,wd(),Na)}function kj(){for(;Vt!==null&&!Ze();)ab(Vt)}function ab(n){var i=Ex(n.alternate,n,Hn);n.memoizedProps=n.pendingProps,i===null?eu(n):Vt=i}function rb(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=jx(o,i,i.pendingProps,i.type,void 0,Wt);break;case 11:i=jx(o,i,i.pendingProps,i.type.render,i.ref,Wt);break;case 5:Pf(i);default:Ax(o,i),i=Vt=np(i,Hn),i=Ex(o,i,Hn)}n.memoizedProps=n.pendingProps,i===null?eu(n):Vt=i}function So(n,i,o,d){Mn=xi=null,Pf(i),yo=null,Yl=0;var g=i.return;try{if(hj(n,g,i,o,Wt)){Na=1,Gd(n,Or(o,n.current)),Vt=null;return}}catch(p){if(g!==null)throw Vt=g,p;Na=1,Gd(n,Or(o,n.current)),Vt=null;return}i.flags&32768?(ra||d===1?n=!0:vo||(Wt&536870912)!==0?n=!1:(Ns=n=!0,(d===2||d===9||d===3||d===6)&&(d=Dr.current,d!==null&&d.tag===13&&(d.flags|=16384))),nb(i,n)):eu(i)}function eu(n){var i=n;do{if((i.flags&32768)!==0){nb(i,Ns);return}n=i.return;var o=gj(i.alternate,i,Hn);if(o!==null){Vt=o;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=n}while(i!==null);Na===0&&(Na=5)}function nb(n,i){do{var o=yj(n.alternate,n);if(o!==null){o.flags&=32767,Vt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Vt=n;return}Vt=n=o}while(n!==null);Na=6,Vt=null}function sb(n,i,o,d,g,p,S,A,Y){n.cancelPendingCommit=null;do tu();while(Va!==0);if((oa&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=cf,Yr(n,o,p,S,A,Y),n===ga&&(Vt=ga=null,Wt=0),No=i,Ss=n,jo=o,mh=p,gh=g,Qx=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,_j(vt,function(){return db(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,g=re.p,re.p=2,S=oa,oa|=4;try{pj(n,i,o)}finally{oa=S,re.p=g,X.T=d}}Va=1,ib(),ob(),lb()}}function ib(){if(Va===1){Va=0;var n=Ss,i=No,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var d=re.p;re.p=2;var g=oa;oa|=4;try{zx(i,n);var p=Ah,S=Yy(n.containerInfo),A=p.focusedElem,Y=p.selectionRange;if(S!==A&&A&&A.ownerDocument&&Ky(A.ownerDocument.documentElement,A)){if(Y!==null&&rf(A)){var ye=Y.start,$e=Y.end;if($e===void 0&&($e=ye),"selectionStart"in A)A.selectionStart=ye,A.selectionEnd=Math.min($e,A.value.length);else{var Re=A.ownerDocument||document,be=Re&&Re.defaultView||window;if(be.getSelection){var ve=be.getSelection(),Mt=A.textContent.length,Tt=Math.min(Y.start,Mt),fa=Y.end===void 0?Tt:Math.min(Y.end,Mt);!ve.extend&&Tt>fa&&(S=fa,fa=Tt,Tt=S);var le=Vy(A,Tt),te=Vy(A,fa);if(le&&te&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==te.node||ve.focusOffset!==te.offset)){var ge=Re.createRange();ge.setStart(le.node,le.offset),ve.removeAllRanges(),Tt>fa?(ve.addRange(ge),ve.extend(te.node,te.offset)):(ge.setEnd(te.node,te.offset),ve.addRange(ge))}}}}for(Re=[],ve=A;ve=ve.parentNode;)ve.nodeType===1&&Re.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Re.length;A++){var _e=Re[A];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}hu=!!Th,Ah=Th=null}finally{oa=g,re.p=d,X.T=o}}n.current=i,Va=2}}function ob(){if(Va===2){Va=0;var n=Ss,i=No,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var d=re.p;re.p=2;var g=oa;oa|=4;try{Ix(n,i.alternate,i)}finally{oa=g,re.p=d,X.T=o}}Va=3}}function lb(){if(Va===4||Va===3){Va=0,xe();var n=Ss,i=No,o=jo,d=Qx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Va=5:(Va=0,No=Ss=null,cb(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(ks=null),Fa(o),i=i.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(bt,i,void 0,(i.current.flags&128)===128)}catch(Y){}if(d!==null){i=X.T,g=re.p,re.p=2,X.T=null;try{for(var p=n.onRecoverableError,S=0;S<d.length;S++){var A=d[S];p(A.value,{componentStack:A.stack})}}finally{X.T=i,re.p=g}}(jo&3)!==0&&tu(),Nn(n),g=n.pendingLanes,(o&4194090)!==0&&(g&42)!==0?n===yh?rc++:(rc=0,yh=n):rc=0,nc(0)}}function cb(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ll(i)))}function tu(n){return ib(),ob(),lb(),db()}function db(){if(Va!==5)return!1;var n=Ss,i=mh;mh=0;var o=Fa(jo),d=X.T,g=re.p;try{re.p=32>o?32:o,X.T=null,o=gh,gh=null;var p=Ss,S=jo;if(Va=0,No=Ss=null,jo=0,(oa&6)!==0)throw Error(s(331));var A=oa;if(oa|=4,Kx(p.current),qx(p,p.current,S,o),oa=A,nc(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(bt,p)}catch(Y){}return!0}finally{re.p=g,X.T=d,cb(n,i)}}function ub(n,i,o){i=Or(o,i),i=Yf(n.stateNode,i,2),n=gs(n,i,2),n!==null&&(tr(n,2),Nn(n))}function ha(n,i,o){if(n.tag===3)ub(n,n,o);else for(;i!==null;){if(i.tag===3){ub(i,n,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))){n=Or(o,n),o=gx(2),d=gs(i,o,2),d!==null&&(yx(o,d,i,n),tr(d,2),Nn(d));break}}i=i.return}}function vh(n,i,o){var d=n.pingCache;if(d===null){d=n.pingCache=new vj;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(o)||(dh=!0,g.add(o),n=Sj.bind(null,n,i,o),i.then(n,n))}function Sj(n,i,o){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ga===n&&(Wt&o)===o&&(Na===4||Na===3&&(Wt&62914560)===Wt&&300>Pe()-hh?(oa&2)===0&&ko(n,0):uh|=o,wo===Wt&&(wo=0)),Nn(n)}function fb(n,i){i===0&&(i=Er()),n=so(n,i),n!==null&&(tr(n,i),Nn(n))}function $j(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),fb(n,o)}function Cj(n,i){var o=0;switch(n.tag){case 13:var d=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(i),fb(n,o)}function _j(n,i){return Ht(n,i)}var au=null,$o=null,wh=!1,ru=!1,Nh=!1,Si=0;function Nn(n){n!==$o&&n.next===null&&($o===null?au=$o=n:$o=$o.next=n),ru=!0,wh||(wh=!0,Tj())}function nc(n,i){if(!Nh&&ru){Nh=!0;do for(var o=!1,d=au;d!==null;){if(n!==0){var g=d.pendingLanes;if(g===0)var p=0;else{var S=d.suspendedLanes,A=d.pingedLanes;p=(1<<31-he(42|n)+1)-1,p&=g&~(S&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,yb(d,p))}else p=Wt,p=St(d,d===ga?p:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(p&3)===0||ma(d,p)||(o=!0,yb(d,p));d=d.next}while(o);Nh=!1}}function Ej(){hb()}function hb(){ru=wh=!1;var n=0;Si!==0&&(Ij()&&(n=Si),Si=0);for(var i=Pe(),o=null,d=au;d!==null;){var g=d.next,p=mb(d,i);p===0?(d.next=null,o===null?au=g:o.next=g,g===null&&($o=o)):(o=d,(n!==0||(p&3)!==0)&&(ru=!0)),d=g}nc(n)}function mb(n,i){for(var o=n.suspendedLanes,d=n.pingedLanes,g=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var S=31-he(p),A=1<<S,Y=g[S];Y===-1?((A&o)===0||(A&d)!==0)&&(g[S]=ba(A,i)):Y<=i&&(n.expiredLanes|=A),p&=~A}if(i=ga,o=Wt,o=St(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,o===0||n===i&&(la===2||la===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Ce(d),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ma(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(d!==null&&Ce(d),Fa(o)){case 2:case 8:o=$t;break;case 32:o=vt;break;case 268435456:o=we;break;default:o=vt}return d=gb.bind(null,n),o=Ht(o,d),n.callbackPriority=i,n.callbackNode=o,i}return d!==null&&d!==null&&Ce(d),n.callbackPriority=2,n.callbackNode=null,2}function gb(n,i){if(Va!==0&&Va!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(tu()&&n.callbackNode!==o)return null;var d=Wt;return d=St(n,n===ga?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(Wx(n,d,i),mb(n,Pe()),n.callbackNode!=null&&n.callbackNode===o?gb.bind(null,n):null)}function yb(n,i){if(tu())return null;Wx(n,i,!0)}function Tj(){Fj(function(){(oa&6)!==0?Ht(et,Ej):hb()})}function jh(){return Si===0&&(Si=Ta()),Si}function pb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qi(""+n)}function xb(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function Aj(n,i,o,d,g){if(i==="submit"&&o&&o.stateNode===g){var p=pb((g[Te]||null).action),S=d.submitter;S&&(i=(i=S[Te]||null)?pb(i.formAction):S.getAttribute("formAction"),i!==null&&(p=i,S=null));var A=new Zi("action","action",null,d,g);n.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Si!==0){var Y=S?xb(g,S):new FormData(g);Hf(o,{pending:!0,data:Y,method:g.method,action:p},null,Y)}}else typeof p=="function"&&(A.preventDefault(),Y=S?xb(g,S):new FormData(g),Hf(o,{pending:!0,data:Y,method:g.method,action:p},p,Y))},currentTarget:g}]})}}for(var kh=0;kh<lf.length;kh++){var Sh=lf[kh],Oj=Sh.toLowerCase(),Rj=Sh[0].toUpperCase()+Sh.slice(1);Xr(Oj,"on"+Rj)}Xr(Wy,"onAnimationEnd"),Xr(Zy,"onAnimationIteration"),Xr(Jy,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(XN,"onTransitionRun"),Xr(WN,"onTransitionStart"),Xr(ZN,"onTransitionCancel"),Xr(ep,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function bb(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],g=d.event;d=d.listeners;e:{var p=void 0;if(i)for(var S=d.length-1;0<=S;S--){var A=d[S],Y=A.instance,ye=A.currentTarget;if(A=A.listener,Y!==p&&g.isPropagationStopped())break e;p=A,g.currentTarget=ye;try{p(g)}catch($e){qd($e)}g.currentTarget=null,p=Y}else for(S=0;S<d.length;S++){if(A=d[S],Y=A.instance,ye=A.currentTarget,A=A.listener,Y!==p&&g.isPropagationStopped())break e;p=A,g.currentTarget=ye;try{p(g)}catch($e){qd($e)}g.currentTarget=null,p=Y}}}}function Kt(n,i){var o=i[ct];o===void 0&&(o=i[ct]=new Set);var d=n+"__bubble";o.has(d)||(vb(i,n,2,!1),o.add(d))}function $h(n,i,o){var d=0;i&&(d|=4),vb(o,n,d,i)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ch(n){if(!n[nu]){n[nu]=!0,kt.forEach(function(o){o!=="selectionchange"&&(Pj.has(o)||$h(o,!1,n),$h(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[nu]||(i[nu]=!0,$h("selectionchange",!1,i))}}function vb(n,i,o,d){switch(qb(i)){case 2:var g=ok;break;case 8:g=lk;break;default:g=Bh}o=g.bind(null,i,o,n),g=void 0,!Xi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?n.addEventListener(i,o,{capture:!0,passive:g}):n.addEventListener(i,o,!0):g!==void 0?n.addEventListener(i,o,{passive:g}):n.addEventListener(i,o,!1)}function _h(n,i,o,d,g){var p=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var A=d.stateNode.containerInfo;if(A===g)break;if(S===4)for(S=d.return;S!==null;){var Y=S.tag;if((Y===3||Y===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;A!==null;){if(S=Xe(A),S===null)return;if(Y=S.tag,Y===5||Y===6||Y===26||Y===27){d=p=S;continue e}A=A.parentNode}}d=d.return}Cl(function(){var ye=p,$e=ii(o),Re=[];e:{var be=tp.get(n);if(be!==void 0){var ve=Zi,Mt=n;switch(n){case"keypress":if(cs(o)===0)break e;case"keydown":case"keyup":ve=pn;break;case"focusin":Mt="focus",ve=Nt;break;case"focusout":Mt="blur",ve=Nt;break;case"beforeblur":case"afterblur":ve=Nt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=pe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=bd;break;case Wy:case Zy:case Jy:ve=tt;break;case ep:ve=RN;break;case"scroll":case"scrollend":ve=va;break;case"wheel":ve=MN;break;case"copy":case"cut":case"paste":ve=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Ji;break;case"toggle":case"beforetoggle":ve=LN}var Tt=(i&4)!==0,fa=!Tt&&(n==="scroll"||n==="scrollend"),le=Tt?be!==null?be+"Capture":null:be;Tt=[];for(var te=ye,ge;te!==null;){var _e=te;if(ge=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ge===null||le===null||(_e=ls(te,le),_e!=null&&Tt.push(ic(te,_e,ge))),fa)break;te=te.return}0<Tt.length&&(be=new ve(be,Mt,null,o,$e),Re.push({event:be,listeners:Tt}))}}if((i&7)===0){e:{if(be=n==="mouseover"||n==="pointerover",ve=n==="mouseout"||n==="pointerout",be&&o!==Sl&&(Mt=o.relatedTarget||o.fromElement)&&(Xe(Mt)||Mt[Ve]))break e;if((ve||be)&&(be=$e.window===$e?$e:(be=$e.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(Mt=o.relatedTarget||o.toElement,ve=ye,Mt=Mt?Xe(Mt):null,Mt!==null&&(fa=c(Mt),Tt=Mt.tag,Mt!==fa||Tt!==5&&Tt!==27&&Tt!==6)&&(Mt=null)):(ve=null,Mt=ye),ve!==Mt)){if(Tt=ie,_e="onMouseLeave",le="onMouseEnter",te="mouse",(n==="pointerout"||n==="pointerover")&&(Tt=Ji,_e="onPointerLeave",le="onPointerEnter",te="pointer"),fa=ve==null?be:na(ve),ge=Mt==null?be:na(Mt),be=new Tt(_e,te+"leave",ve,o,$e),be.target=fa,be.relatedTarget=ge,_e=null,Xe($e)===ye&&(Tt=new Tt(le,te+"enter",Mt,o,$e),Tt.target=ge,Tt.relatedTarget=fa,_e=Tt),fa=_e,ve&&Mt)t:{for(Tt=ve,le=Mt,te=0,ge=Tt;ge;ge=Co(ge))te++;for(ge=0,_e=le;_e;_e=Co(_e))ge++;for(;0<te-ge;)Tt=Co(Tt),te--;for(;0<ge-te;)le=Co(le),ge--;for(;te--;){if(Tt===le||le!==null&&Tt===le.alternate)break t;Tt=Co(Tt),le=Co(le)}Tt=null}else Tt=null;ve!==null&&wb(Re,be,ve,Tt,!1),Mt!==null&&fa!==null&&wb(Re,fa,Mt,Tt,!0)}}e:{if(be=ye?na(ye):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var dt=Fy;else if(Iy(be))if(By)dt=KN;else{dt=GN;var qt=qN}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ye&&si(ye.elementType)&&(dt=Fy):dt=VN;if(dt&&(dt=dt(n,ye))){Uy(Re,dt,o,$e);break e}qt&&qt(n,be,ye),n==="focusout"&&ye&&be.type==="number"&&ye.memoizedProps.value!=null&&Nl(be,"number",be.value)}switch(qt=ye?na(ye):window,n){case"focusin":(Iy(qt)||qt.contentEditable==="true")&&(ao=qt,nf=ye,Ol=null);break;case"focusout":Ol=nf=ao=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Qy(Re,o,$e);break;case"selectionchange":if(QN)break;case"keydown":case"keyup":Qy(Re,o,$e)}var wt;if(ef)e:{switch(n){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else to?Dy(n,o)&&(Ot="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ry&&o.locale!=="ko"&&(to||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&to&&(wt=ci()):(pr=$e,ur="value"in pr?pr.value:pr.textContent,to=!0)),qt=su(ye,Ot),0<qt.length&&(Ot=new Ct(Ot,n,null,o,$e),Re.push({event:Ot,listeners:qt}),wt?Ot.data=wt:(wt=Ly(o),wt!==null&&(Ot.data=wt)))),(wt=UN?FN(n,o):BN(n,o))&&(Ot=su(ye,"onBeforeInput"),0<Ot.length&&(qt=new Ct("onBeforeInput","beforeinput",null,o,$e),Re.push({event:qt,listeners:Ot}),qt.data=wt)),Aj(Re,n,ye,o,$e)}bb(Re,i)})}function ic(n,i,o){return{instance:n,listener:i,currentTarget:o}}function su(n,i){for(var o=i+"Capture",d=[];n!==null;){var g=n,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ls(n,o),g!=null&&d.unshift(ic(n,g,p)),g=ls(n,i),g!=null&&d.push(ic(n,g,p))),n.tag===3)return d;n=n.return}return[]}function Co(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function wb(n,i,o,d,g){for(var p=i._reactName,S=[];o!==null&&o!==d;){var A=o,Y=A.alternate,ye=A.stateNode;if(A=A.tag,Y!==null&&Y===d)break;A!==5&&A!==26&&A!==27||ye===null||(Y=ye,g?(ye=ls(o,p),ye!=null&&S.unshift(ic(o,ye,Y))):g||(ye=ls(o,p),ye!=null&&S.push(ic(o,ye,Y)))),o=o.return}S.length!==0&&n.push({event:i,listeners:S})}var Mj=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function Nb(n){return(typeof n=="string"?n:""+n).replace(Mj,`
`).replace(Dj,"")}function jb(n,i){return i=Nb(i),Nb(n)===i}function iu(){}function ua(n,i,o,d,g,p){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||is(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&is(n,""+d);break;case"className":ht(n,"class",d);break;case"tabIndex":ht(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ht(n,o,d);break;case"style":kl(n,d,p);break;case"data":if(i!=="object"){ht(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=Qi(""+d),n.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&ua(n,i,"name",g.name,g,null),ua(n,i,"formEncType",g.formEncType,g,null),ua(n,i,"formMethod",g.formMethod,g,null),ua(n,i,"formTarget",g.formTarget,g,null)):(ua(n,i,"encType",g.encType,g,null),ua(n,i,"method",g.method,g,null),ua(n,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=Qi(""+d),n.setAttribute(o,d);break;case"onClick":d!=null&&(n.onclick=iu);break;case"onScroll":d!=null&&Kt("scroll",n);break;case"onScrollEnd":d!=null&&Kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}o=Qi(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""+d):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":d===!0?n.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,d):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(o,d):n.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(o):n.setAttribute(o,d);break;case"popover":Kt("beforetoggle",n),Kt("toggle",n),xt(n,"popover",d);break;case"xlinkActuate":rt(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":rt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":rt(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":rt(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":rt(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":rt(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":rt(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":rt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":rt(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":xt(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yi.get(o)||o,xt(n,o,d))}}function Eh(n,i,o,d,g,p){switch(o){case"style":kl(n,d,p);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof d=="string"?is(n,d):(typeof d=="number"||typeof d=="bigint")&&is(n,""+d);break;case"onScroll":d!=null&&Kt("scroll",n);break;case"onScrollEnd":d!=null&&Kt("scrollend",n);break;case"onClick":d!=null&&(n.onclick=iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),p=n[Te]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(i,p,g),typeof d=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,d,g);break e}o in n?n[o]=d:d===!0?n.setAttribute(o,""):xt(n,o,d)}}}function Ka(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",n),Kt("load",n);var d=!1,g=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ua(n,i,p,S,o,null)}}g&&ua(n,i,"srcSet",o.srcSet,o,null),d&&ua(n,i,"src",o.src,o,null);return;case"input":Kt("invalid",n);var A=p=S=g=null,Y=null,ye=null;for(d in o)if(o.hasOwnProperty(d)){var $e=o[d];if($e!=null)switch(d){case"name":g=$e;break;case"type":S=$e;break;case"checked":Y=$e;break;case"defaultChecked":ye=$e;break;case"value":p=$e;break;case"defaultValue":A=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(s(137,i));break;default:ua(n,i,d,$e,o,null)}}gd(n,p,A,Y,ye,S,g,!1),ai(n);return;case"select":Kt("invalid",n),d=S=p=null;for(g in o)if(o.hasOwnProperty(g)&&(A=o[g],A!=null))switch(g){case"value":p=A;break;case"defaultValue":S=A;break;case"multiple":d=A;default:ua(n,i,g,A,o,null)}i=p,o=S,n.multiple=!!d,i!=null?En(n,!!d,i,!1):o!=null&&En(n,!!d,o,!0);return;case"textarea":Kt("invalid",n),p=g=d=null;for(S in o)if(o.hasOwnProperty(S)&&(A=o[S],A!=null))switch(S){case"value":d=A;break;case"defaultValue":g=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ua(n,i,S,A,o,null)}jl(n,d,g,p),ai(n);return;case"option":for(Y in o)if(o.hasOwnProperty(Y)&&(d=o[Y],d!=null))switch(Y){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ua(n,i,Y,d,o,null)}return;case"dialog":Kt("beforetoggle",n),Kt("toggle",n),Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":Kt("load",n);break;case"video":case"audio":for(d=0;d<sc.length;d++)Kt(sc[d],n);break;case"image":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"embed":case"source":case"link":Kt("error",n),Kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in o)if(o.hasOwnProperty(ye)&&(d=o[ye],d!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ua(n,i,ye,d,o,null)}return;default:if(si(i)){for($e in o)o.hasOwnProperty($e)&&(d=o[$e],d!==void 0&&Eh(n,i,$e,d,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(d=o[A],d!=null&&ua(n,i,A,d,o,null))}function Lj(n,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,S=null,A=null,Y=null,ye=null,$e=null;for(ve in o){var Re=o[ve];if(o.hasOwnProperty(ve)&&Re!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":Y=Re;default:d.hasOwnProperty(ve)||ua(n,i,ve,null,d,Re)}}for(var be in d){var ve=d[be];if(Re=o[be],d.hasOwnProperty(be)&&(ve!=null||Re!=null))switch(be){case"type":p=ve;break;case"name":g=ve;break;case"checked":ye=ve;break;case"defaultChecked":$e=ve;break;case"value":S=ve;break;case"defaultValue":A=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,i));break;default:ve!==Re&&ua(n,i,be,ve,d,Re)}}wl(n,S,A,Y,ye,$e,p,g);return;case"select":ve=S=A=be=null;for(p in o)if(Y=o[p],o.hasOwnProperty(p)&&Y!=null)switch(p){case"value":break;case"multiple":ve=Y;default:d.hasOwnProperty(p)||ua(n,i,p,null,d,Y)}for(g in d)if(p=d[g],Y=o[g],d.hasOwnProperty(g)&&(p!=null||Y!=null))switch(g){case"value":be=p;break;case"defaultValue":A=p;break;case"multiple":S=p;default:p!==Y&&ua(n,i,g,p,d,Y)}i=A,o=S,d=ve,be!=null?En(n,!!o,be,!1):!!d!=!!o&&(i!=null?En(n,!!o,i,!0):En(n,!!o,o?[]:"",!1));return;case"textarea":ve=be=null;for(A in o)if(g=o[A],o.hasOwnProperty(A)&&g!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ua(n,i,A,null,d,g)}for(S in d)if(g=d[S],p=o[S],d.hasOwnProperty(S)&&(g!=null||p!=null))switch(S){case"value":be=g;break;case"defaultValue":ve=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&ua(n,i,S,g,d,p)}ni(n,be,ve);return;case"option":for(var Mt in o)if(be=o[Mt],o.hasOwnProperty(Mt)&&be!=null&&!d.hasOwnProperty(Mt))switch(Mt){case"selected":n.selected=!1;break;default:ua(n,i,Mt,null,d,be)}for(Y in d)if(be=d[Y],ve=o[Y],d.hasOwnProperty(Y)&&be!==ve&&(be!=null||ve!=null))switch(Y){case"selected":n.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:ua(n,i,Y,be,d,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)be=o[Tt],o.hasOwnProperty(Tt)&&be!=null&&!d.hasOwnProperty(Tt)&&ua(n,i,Tt,null,d,be);for(ye in d)if(be=d[ye],ve=o[ye],d.hasOwnProperty(ye)&&be!==ve&&(be!=null||ve!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(s(137,i));break;default:ua(n,i,ye,be,d,ve)}return;default:if(si(i)){for(var fa in o)be=o[fa],o.hasOwnProperty(fa)&&be!==void 0&&!d.hasOwnProperty(fa)&&Eh(n,i,fa,void 0,d,be);for($e in d)be=d[$e],ve=o[$e],!d.hasOwnProperty($e)||be===ve||be===void 0&&ve===void 0||Eh(n,i,$e,be,d,ve);return}}for(var le in o)be=o[le],o.hasOwnProperty(le)&&be!=null&&!d.hasOwnProperty(le)&&ua(n,i,le,null,d,be);for(Re in d)be=d[Re],ve=o[Re],!d.hasOwnProperty(Re)||be===ve||be==null&&ve==null||ua(n,i,Re,be,d,ve)}var Th=null,Ah=null;function ou(n){return n.nodeType===9?n:n.ownerDocument}function kb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sb(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Oh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rh=null;function Ij(){var n=window.event;return n&&n.type==="popstate"?n===Rh?!1:(Rh=n,!0):(Rh=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,Uj=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,Fj=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb!="undefined"?function(n){return Cb.resolve(null).then(n).catch(Bj)}:$b;function Bj(n){setTimeout(function(){throw n})}function Cs(n){return n==="head"}function _b(n,i){var o=i,d=0,g=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<d&&8>d){o=d;var S=n.ownerDocument;if(o&1&&oc(S.documentElement),o&2&&oc(S.body),o&4)for(o=S.head,oc(o),S=o.firstChild;S;){var A=S.nextSibling,Y=S.nodeName;S[jt]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=A}}if(g===0){n.removeChild(p),gc(i);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:d=o.charCodeAt(0)-48;else d=0;o=p}while(o);gc(i)}function Ph(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ph(o),Pt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function zj(n,i,o,d){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[jt])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Zr(n.nextSibling),n===null)break}return null}function Hj(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Zr(n.nextSibling),n===null))return null;return n}function Mh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function qj(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Zr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Dh=null;function Eb(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function Tb(n,i,o){switch(i=ou(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function oc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Pt(n)}var Ir=new Map,Ab=new Set;function lu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qn=re.d;re.d={f:Gj,r:Vj,D:Kj,C:Yj,L:Qj,m:Xj,X:Zj,S:Wj,M:Jj};function Gj(){var n=qn.f(),i=Jd();return n||i}function Vj(n){var i=aa(n);i!==null&&i.tag===5&&i.type==="form"?Wp(i):qn.r(n)}var _o=typeof document=="undefined"?null:document;function Ob(n,i,o){var d=_o;if(d&&typeof i=="string"&&i){var g=cr(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),Ab.has(g)||(Ab.add(g),n={rel:n,crossOrigin:o,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),Ka(i,"link",n),Et(i),d.head.appendChild(i)))}}function Kj(n){qn.D(n),Ob("dns-prefetch",n,null)}function Yj(n,i){qn.C(n,i),Ob("preconnect",n,i)}function Qj(n,i,o){qn.L(n,i,o);var d=_o;if(d&&n&&i){var g='link[rel="preload"][as="'+cr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+cr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+cr(o.imageSizes)+'"]')):g+='[href="'+cr(n)+'"]';var p=g;switch(i){case"style":p=Eo(n);break;case"script":p=To(n)}Ir.has(p)||(n=y({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Ir.set(p,n),d.querySelector(g)!==null||i==="style"&&d.querySelector(lc(p))||i==="script"&&d.querySelector(cc(p))||(i=d.createElement("link"),Ka(i,"link",n),Et(i),d.head.appendChild(i)))}}function Xj(n,i){qn.m(n,i);var o=_o;if(o&&n){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+cr(d)+'"][href="'+cr(n)+'"]',p=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(n)}if(!Ir.has(p)&&(n=y({rel:"modulepreload",href:n},i),Ir.set(p,n),o.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cc(p)))return}d=o.createElement("link"),Ka(d,"link",n),Et(d),o.head.appendChild(d)}}}function Wj(n,i,o){qn.S(n,i,o);var d=_o;if(d&&n){var g=Zt(d).hoistableStyles,p=Eo(n);i=i||"default";var S=g.get(p);if(!S){var A={loading:0,preload:null};if(S=d.querySelector(lc(p)))A.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Ir.get(p))&&Lh(n,o);var Y=S=d.createElement("link");Et(Y),Ka(Y,"link",n),Y._p=new Promise(function(ye,$e){Y.onload=ye,Y.onerror=$e}),Y.addEventListener("load",function(){A.loading|=1}),Y.addEventListener("error",function(){A.loading|=2}),A.loading|=4,cu(S,i,d)}S={type:"stylesheet",instance:S,count:1,state:A},g.set(p,S)}}}function Zj(n,i){qn.X(n,i);var o=_o;if(o&&n){var d=Zt(o).hoistableScripts,g=To(n),p=d.get(g);p||(p=o.querySelector(cc(g)),p||(n=y({src:n,async:!0},i),(i=Ir.get(g))&&Ih(n,i),p=o.createElement("script"),Et(p),Ka(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},d.set(g,p))}}function Jj(n,i){qn.M(n,i);var o=_o;if(o&&n){var d=Zt(o).hoistableScripts,g=To(n),p=d.get(g);p||(p=o.querySelector(cc(g)),p||(n=y({src:n,async:!0,type:"module"},i),(i=Ir.get(g))&&Ih(n,i),p=o.createElement("script"),Et(p),Ka(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},d.set(g,p))}}function Rb(n,i,o,d){var g=(g=K.current)?lu(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Eo(o.href),o=Zt(g).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Eo(o.href);var p=Zt(g).hoistableStyles,S=p.get(n);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,S),(p=g.querySelector(lc(n)))&&!p._p&&(S.instance=p,S.state.loading=5),Ir.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ir.set(n,o),p||ek(g,n,o,S.state))),i&&d===null)throw Error(s(528,""));return S}if(i&&d!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(o),o=Zt(g).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Eo(n){return'href="'+cr(n)+'"'}function lc(n){return'link[rel="stylesheet"]['+n+"]"}function Pb(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function ek(n,i,o,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),Ka(i,"link",o),Et(i),n.head.appendChild(i))}function To(n){return'[src="'+cr(n)+'"]'}function cc(n){return"script[async]"+n}function Mb(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+cr(o.href)+'"]');if(d)return i.instance=d,Et(d),d;var g=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),Et(d),Ka(d,"style",g),cu(d,o.precedence,n),i.instance=d;case"stylesheet":g=Eo(o.href);var p=n.querySelector(lc(g));if(p)return i.state.loading|=4,i.instance=p,Et(p),p;d=Pb(o),(g=Ir.get(g))&&Lh(d,g),p=(n.ownerDocument||n).createElement("link"),Et(p);var S=p;return S._p=new Promise(function(A,Y){S.onload=A,S.onerror=Y}),Ka(p,"link",d),i.state.loading|=4,cu(p,o.precedence,n),i.instance=p;case"script":return p=To(o.src),(g=n.querySelector(cc(p)))?(i.instance=g,Et(g),g):(d=o,(g=Ir.get(p))&&(d=y({},o),Ih(d,g)),n=n.ownerDocument||n,g=n.createElement("script"),Et(g),Ka(g,"link",d),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,cu(d,o.precedence,n));return i.instance}function cu(n,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,p=g,S=0;S<d.length;S++){var A=d[S];if(A.dataset.precedence===i)p=A;else if(p!==g)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Lh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Ih(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var du=null;function Db(n,i,o){if(du===null){var d=new Map,g=du=new Map;g.set(o,d)}else g=du,d=g.get(o),d||(d=new Map,g.set(o,d));if(d.has(n))return d;for(d.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var p=o[g];if(!(p[jt]||p[Q]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(i)||"";S=n+S;var A=d.get(S);A?A.push(p):d.set(S,[p])}}return d}function Lb(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function tk(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ib(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var dc=null;function ak(){}function rk(n,i,o){if(dc===null)throw Error(s(475));var d=dc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Eo(o.href),p=n.querySelector(lc(g));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=uu.bind(d),n.then(d,d)),i.state.loading|=4,i.instance=p,Et(p);return}p=n.ownerDocument||n,o=Pb(o),(g=Ir.get(g))&&Lh(o,g),p=p.createElement("link"),Et(p);var S=p;S._p=new Promise(function(A,Y){S.onload=A,S.onerror=Y}),Ka(p,"link",o),i.instance=p}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=uu.bind(d),n.addEventListener("load",i),n.addEventListener("error",i))}}function nk(){if(dc===null)throw Error(s(475));var n=dc;return n.stylesheets&&n.count===0&&Uh(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Uh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function uu(){if(this.count--,this.count===0){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fu=null;function Uh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fu=new Map,i.forEach(sk,n),fu=null,uu.call(n))}function sk(n,i){if(!(i.state.loading&4)){var o=fu.get(n);if(o)var d=o.get(null);else{o=new Map,fu.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var S=g[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}g=i.instance,S=g.getAttribute("data-precedence"),p=o.get(S)||d,p===d&&o.set(null,g),o.set(S,g),this.count++,d=uu.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),p?p.parentNode.insertBefore(g,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var uc={$$typeof:M,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function ik(n,i,o,d,g,p,S,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ub(n,i,o,d,g,p,S,A,Y,ye,$e,Re){return n=new ik(n,i,o,S,A,Y,ye,Re),i=1,p===!0&&(i|=24),p=br(3,null,null,i),n.current=p,p.stateNode=n,i=vf(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:d,isDehydrated:o,cache:i},kf(p),n}function Fb(n){return n?(n=io,n):io}function Bb(n,i,o,d,g,p){g=Fb(g),d.context===null?d.context=g:d.pendingContext=g,d=ms(i),d.payload={element:o},p=p===void 0?null:p,p!==null&&(d.callback=p),o=gs(n,d,i),o!==null&&(kr(o,n,i),Bl(o,n,i))}function zb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Fh(n,i){zb(n,i),(n=n.alternate)&&zb(n,i)}function Hb(n){if(n.tag===13){var i=so(n,67108864);i!==null&&kr(i,n,67108864),Fh(n,67108864)}}var hu=!0;function ok(n,i,o,d){var g=X.T;X.T=null;var p=re.p;try{re.p=2,Bh(n,i,o,d)}finally{re.p=p,X.T=g}}function lk(n,i,o,d){var g=X.T;X.T=null;var p=re.p;try{re.p=8,Bh(n,i,o,d)}finally{re.p=p,X.T=g}}function Bh(n,i,o,d){if(hu){var g=zh(d);if(g===null)_h(n,i,d,mu,o),Gb(n,d);else if(dk(g,n,i,o,d))d.stopPropagation();else if(Gb(n,d),i&4&&-1<ck.indexOf(n)){for(;g!==null;){var p=aa(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=at(p.pendingLanes);if(S!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var Y=1<<31-he(S);A.entanglements[1]|=Y,S&=~Y}Nn(p),(oa&6)===0&&(Wd=Pe()+500,nc(0))}}break;case 13:A=so(p,2),A!==null&&kr(A,p,2),Jd(),Fh(p,2)}if(p=zh(d),p===null&&_h(n,i,d,mu,o),p===g)break;g=p}g!==null&&d.stopPropagation()}else _h(n,i,d,null,o)}}function zh(n){return n=ii(n),Hh(n)}var mu=null;function Hh(n){if(mu=null,n=Xe(n),n!==null){var i=c(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=u(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return mu=n,null}function qb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case et:return 2;case $t:return 8;case vt:case E:return 32;case we:return 268435456;default:return 32}default:return 32}}var qh=!1,_s=null,Es=null,Ts=null,fc=new Map,hc=new Map,As=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(n,i){switch(n){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":fc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(i.pointerId)}}function mc(n,i,o,d,g,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:p,targetContainers:[g]},i!==null&&(i=aa(i),i!==null&&Hb(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function dk(n,i,o,d,g){switch(i){case"focusin":return _s=mc(_s,n,i,o,d,g),!0;case"dragenter":return Es=mc(Es,n,i,o,d,g),!0;case"mouseover":return Ts=mc(Ts,n,i,o,d,g),!0;case"pointerover":var p=g.pointerId;return fc.set(p,mc(fc.get(p)||null,n,i,o,d,g)),!0;case"gotpointercapture":return p=g.pointerId,hc.set(p,mc(hc.get(p)||null,n,i,o,d,g)),!0}return!1}function Vb(n){var i=Xe(n.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){n.blockedOn=i,se(n.priority,function(){if(o.tag===13){var d=jr();d=ka(d);var g=so(o,d);g!==null&&kr(g,o,d),Fh(o,d)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gu(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=zh(n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);Sl=d,o.target.dispatchEvent(d),Sl=null}else return i=aa(o),i!==null&&Hb(i),n.blockedOn=o,!1;i.shift()}return!0}function Kb(n,i,o){gu(n)&&o.delete(i)}function uk(){qh=!1,_s!==null&&gu(_s)&&(_s=null),Es!==null&&gu(Es)&&(Es=null),Ts!==null&&gu(Ts)&&(Ts=null),fc.forEach(Kb),hc.forEach(Kb)}function yu(n,i){n.blockedOn===i&&(n.blockedOn=null,qh||(qh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uk)))}var pu=null;function Yb(n){pu!==n&&(pu=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pu===n&&(pu=null);for(var i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],g=n[i+2];if(typeof d!="function"){if(Hh(d||o)===null)continue;break}var p=aa(o);p!==null&&(n.splice(i,3),i-=3,Hf(p,{pending:!0,data:g,method:o.method,action:d},d,g))}}))}function gc(n){function i(Y){return yu(Y,n)}_s!==null&&yu(_s,n),Es!==null&&yu(Es,n),Ts!==null&&yu(Ts,n),fc.forEach(i),hc.forEach(i);for(var o=0;o<As.length;o++){var d=As[o];d.blockedOn===n&&(d.blockedOn=null)}for(;0<As.length&&(o=As[0],o.blockedOn===null);)Vb(o),o.blockedOn===null&&As.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var g=o[d],p=o[d+1],S=g[Te]||null;if(typeof p=="function")S||Yb(o);else if(S){var A=null;if(p&&p.hasAttribute("formAction")){if(g=p,S=p[Te]||null)A=S.formAction;else if(Hh(g)!==null)continue}else A=S.action;typeof A=="function"?o[d+1]=A:(o.splice(d,3),d-=3),Yb(o)}}}function Gh(n){this._internalRoot=n}xu.prototype.render=Gh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,d=jr();Bb(o,d,n,i,null,null)},xu.prototype.unmount=Gh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Bb(n.current,2,null,n,null,null),Jd(),i[Ve]=null}};function xu(n){this._internalRoot=n}xu.prototype.unstable_scheduleHydration=function(n){if(n){var i=W();n={blockedOn:null,target:n,priority:i};for(var o=0;o<As.length&&i!==0&&i<As[o].priority;o++);As.splice(o,0,n),o===0&&Vb(n)}};var Qb=t.version;if(Qb!=="19.1.0")throw Error(s(527,Qb,"19.1.0"));re.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=h(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var fk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{bt=bu.inject(fk),st=bu}catch(n){}}return pc.createRoot=function(n,i){if(!l(n))throw Error(s(299));var o=!1,d="",g=ux,p=fx,S=hx,A=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Ub(n,1,!1,null,null,o,d,g,p,S,A,null),n[Ve]=i.current,Ch(n),new Gh(i)},pc.hydrateRoot=function(n,i,o){if(!l(n))throw Error(s(299));var d=!1,g="",p=ux,S=fx,A=hx,Y=null,ye=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Y=o.unstable_transitionCallbacks),o.formState!==void 0&&(ye=o.formState)),i=Ub(n,1,!0,i,o!=null?o:null,d,g,p,S,A,Y,ye),i.context=Fb(null),o=i.current,d=jr(),d=ka(d),g=ms(d),g.callback=null,gs(o,g,d),o=d,i.current.lanes=o,tr(i,o),Nn(i),n[Ve]=i.current,Ch(n),new xu(i)},pc.version="19.1.0",pc}var cv;function $k(){if(cv)return em.exports;cv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),em.exports=Sk(),em.exports}var Ck=$k();const _k=ml(Ck);var xc={},dv;function Ek(){if(dv)return xc;dv=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.parse=u,xc.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,v){const k=new c,N=b.length;if(N<2)return k;const $=(v==null?void 0:v.decode)||y;let C=0;do{const L=b.indexOf("=",C);if(L===-1)break;const M=b.indexOf(";",C),B=M===-1?N:M;if(L>B){C=b.lastIndexOf(";",L-1)+1;continue}const O=f(b,C,L),R=h(b,L,O),ae=b.slice(O,R);if(k[ae]===void 0){let q=f(b,L+1,B),G=h(b,B,q);const H=$(b.slice(q,G));k[ae]=H}C=B+1}while(C<N);return k}function f(b,v,k){do{const N=b.charCodeAt(v);if(N!==32&&N!==9)return v}while(++v<k);return k}function h(b,v,k){for(;v>k;){const N=b.charCodeAt(--v);if(N!==32&&N!==9)return v+1}return k}function m(b,v,k){const N=(k==null?void 0:k.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const $=N(v);if(!t.test($))throw new TypeError(`argument val is invalid: ${v}`);let C=b+"="+$;if(!k)return C;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);C+="; Max-Age="+k.maxAge}if(k.domain){if(!a.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);C+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);C+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);C+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(C+="; HttpOnly"),k.secure&&(C+="; Secure"),k.partitioned&&(C+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return C}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch(v){return b}}function w(b){return l.call(b)==="[object Date]"}return xc}Ek();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i3=e=>{throw TypeError(e)},Tk=(e,t,a)=>t.has(e)||i3("Cannot "+a),nm=(e,t,a)=>(Tk(e,t,"read from private field"),a?a.call(e):t.get(e)),Ak=(e,t,a)=>t.has(e)?i3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),uv="popstate";function Ok(e={}){function t(s,l){let{pathname:c,search:u,hash:f}=s.location;return Tc("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(s,l){return typeof l=="string"?l:Qs(l)}return Pk(t,a,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Ea(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(a){}}}function Rk(){return Math.random().toString(36).substring(2,10)}function fv(e,t){return{usr:e.state,key:e.key,idx:t}}function Tc(e,t,a=null,s){return de(U({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xs(t):t),{state:a,key:t&&t.key||s||Rk()})}function Qs({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Xs(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Pk(e,t,a,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,u=l.history,f="POP",h=null,m=y();m==null&&(m=0,u.replaceState(de(U({},u.state),{idx:m}),""));function y(){return(u.state||{idx:null}).idx}function w(){f="POP";let $=y(),C=$==null?null:$-m;m=$,h&&h({action:f,location:N.location,delta:C})}function b($,C){f="PUSH";let L=Tc(N.location,$,C);m=y()+1;let M=fv(L,m),B=N.createHref(L);try{u.pushState(M,"",B)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;l.location.assign(B)}c&&h&&h({action:f,location:N.location,delta:1})}function v($,C){f="REPLACE";let L=Tc(N.location,$,C);m=y();let M=fv(L,m),B=N.createHref(L);u.replaceState(M,"",B),c&&h&&h({action:f,location:N.location,delta:0})}function k($){return o3($)}let N={get action(){return f},get location(){return e(l,u)},listen($){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(uv,w),h=$,()=>{l.removeEventListener(uv,w),h=null}},createHref($){return t(l,$)},createURL:k,encodeLocation($){let C=k($);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:v,go($){return u.go($)}};return N}function o3(e,t=!1){let a="http://localhost";typeof window!="undefined"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(a,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Qs(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}var Sc,hv=class{constructor(e){if(Ak(this,Sc,new Map),e)for(let[t,a]of e)this.set(t,a)}get(e){if(nm(this,Sc).has(e))return nm(this,Sc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){nm(this,Sc).set(e,t)}};Sc=new WeakMap;var Mk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Dk(e){return Mk.has(e)}var Lk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Ik(e){return Lk.has(e)}function Uk(e){return e.index===!0}function Ju(e,t,a=[],s={}){return e.map((l,c)=>{let u=[...a,String(c)],f=typeof l.id=="string"?l.id:u.join("-");if(Gt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Gt(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),Uk(l)){let h=de(U(U({},l),t(l)),{id:f});return s[f]=h,h}else{let h=de(U(U({},l),t(l)),{id:f,children:void 0});return s[f]=h,l.children&&(h.children=Ju(l.children,t,u,s)),h}})}function Us(e,t,a="/"){return Bu(e,t,a,!1)}function Bu(e,t,a,s){let l=typeof t=="string"?Xs(t):t,c=Gr(l.pathname||"/",a);if(c==null)return null;let u=l3(e);Bk(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=Zk(c);f=Xk(u[h],m,s)}return f}function Fk(e,t){let{route:a,pathname:s,params:l}=e;return{id:a.id,pathname:s,params:l,data:t[a.id],handle:a.handle}}function l3(e,t=[],a=[],s=""){let l=(c,u,f)=>{let h={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};h.relativePath.startsWith("/")&&(Gt(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=Cn([s,h.relativePath]),y=a.concat(h);c.children&&c.children.length>0&&(Gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),l3(c.children,t,y,m)),!(c.path==null&&!c.index)&&t.push({path:m,score:Yk(m,c.index),routesMeta:y})};return e.forEach((c,u)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,u);else for(let h of c3(c.path))l(c,u,h)}),t}function c3(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,l=a.endsWith("?"),c=a.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let u=c3(s.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),l&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function Bk(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Qk(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var zk=/^:[\w-]+$/,Hk=3,qk=2,Gk=1,Vk=10,Kk=-2,mv=e=>e==="*";function Yk(e,t){let a=e.split("/"),s=a.length;return a.some(mv)&&(s+=Kk),t&&(s+=qk),a.filter(l=>!mv(l)).reduce((l,c)=>l+(zk.test(c)?Hk:c===""?Gk:Vk),s)}function Qk(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Xk(e,t,a=!1){let{routesMeta:s}=e,l={},c="/",u=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,y=c==="/"?t:t.slice(c.length)||"/",w=e0({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),b=h.route;if(!w&&m&&a&&!s[s.length-1].route.index&&(w=e0({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!w)return null;Object.assign(l,w.params),u.push({params:l,pathname:Cn([c,w.pathname]),pathnameBase:t6(Cn([c,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(c=Cn([c,w.pathnameBase]))}return u}function e0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=Wk(e.path,e.caseSensitive,e.end),l=t.match(a);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:w},b)=>{if(y==="*"){let k=f[b]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const v=f[b];return w&&!v?m[y]=void 0:m[y]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:e}}function Wk(e,t=!1,a=!0){Ea(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Zk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ea(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function Jk(e,t="/"){let{pathname:a,search:s="",hash:l=""}=typeof e=="string"?Xs(e):e;return{pathname:a?a.startsWith("/")?a:e6(a,t):t,search:a6(s),hash:r6(l)}}function e6(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function sm(e,t,a,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d3(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function y0(e){let t=d3(e);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function p0(e,t,a,s=!1){let l;typeof e=="string"?l=Xs(e):(l=U({},e),Gt(!l.pathname||!l.pathname.includes("?"),sm("?","pathname","search",l)),Gt(!l.pathname||!l.pathname.includes("#"),sm("#","pathname","hash",l)),Gt(!l.search||!l.search.includes("#"),sm("#","search","hash",l)));let c=e===""||l.pathname==="",u=c?"/":l.pathname,f;if(u==null)f=a;else{let w=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),w-=1;l.pathname=b.join("/")}f=w>=0?t[w]:"/"}let h=Jk(l,f),m=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Cn=e=>e.join("/").replace(/\/\/+/g,"/"),t6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,t0=class{constructor(e,t,a,s=!1){this.status=e,this.statusText=t||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Ac(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var u3=["POST","PUT","PATCH","DELETE"],n6=new Set(u3),s6=["GET",...u3],i6=new Set(s6),o6=new Set([301,302,303,307,308]),l6=new Set([307,308]),im={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d6=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),f3="remix-router-transitions",h3=Symbol("ResetLoaderData");function u6(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,a=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";Gt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],l=e.mapRouteProperties||d6,c={},u=Ju(e.routes,l,void 0,c),f,h=e.basename||"/",m=e.dataStrategy||y6,y=U({unstable_middleware:!1},e.future),w=null,b=new Set,v=null,k=null,N=null,$=e.hydrationData!=null,C=Us(u,e.history.location,h),L=!1,M=null,B;if(C==null&&!e.patchRoutesOnNavigation){let W=Fr(404,{pathname:e.history.location.pathname}),{matches:se,route:F}=$v(u);B=!0,C=se,M={[F.id]:W}}else if(C&&!e.hydrationData&&lr(C,u,e.history.location.pathname).active&&(C=null),C)if(C.some(W=>W.route.lazy))B=!1;else if(!C.some(W=>W.route.loader))B=!0;else{let W=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let F=C.findIndex(Q=>se[Q.route.id]!==void 0);B=C.slice(0,F+1).every(Q=>!Vm(Q.route,W,se))}else B=C.every(F=>!Vm(F.route,W,se))}else{B=!1,C=[];let W=lr(null,u,e.history.location.pathname);W.active&&W.matches&&(L=!0,C=W.matches)}let O,R={historyAction:e.history.action,location:e.history.location,matches:C,initialized:B,navigation:im,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||M,fetchers:new Map,blockers:new Map},ae="POP",q=!1,G,H=!1,V=new Map,Z=null,J=!1,Ne=!1,je=new Set,X=new Map,re=0,ne=-1,Ae=new Map,z=new Set,me=new Map,T=new Map,ee=new Set,ue=new Map,P,K=null;function ke(){if(w=e.history.listen(({action:W,location:se,delta:F})=>{if(P){P(),P=void 0;return}Ea(ue.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=ba({currentLocation:R.location,nextLocation:se,historyAction:W});if(Q&&F!=null){let Te=new Promise(Ve=>{P=Ve});e.history.go(F*-1),ma(Q,{state:"blocked",location:se,proceed(){ma(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Te.then(()=>e.history.go(F))},reset(){let Ve=new Map(R.blockers);Ve.set(Q,bc),De({blockers:Ve})}});return}return Ce(W,se)}),a){C6(t,V);let W=()=>_6(t,V);t.addEventListener("pagehide",W),Z=()=>t.removeEventListener("pagehide",W)}return R.initialized||Ce("POP",R.location,{initialHydration:!0}),O}function Ie(){w&&w(),Z&&Z(),b.clear(),G&&G.abort(),R.fetchers.forEach((W,se)=>he(se)),R.blockers.forEach((W,se)=>St(se))}function Ye(W){return b.add(W),()=>b.delete(W)}function De(W,se={}){R=U(U({},R),W);let F=[],Q=[];R.fetchers.forEach((Te,Ve)=>{Te.state==="idle"&&(ee.has(Ve)?F.push(Ve):Q.push(Ve))}),ee.forEach(Te=>{!R.fetchers.has(Te)&&!X.has(Te)&&F.push(Te)}),[...b].forEach(Te=>Te(R,{deletedFetchers:F,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),F.forEach(Te=>he(Te)),Q.forEach(Te=>R.fetchers.delete(Te))}function gt(W,se,{flushSync:F}={}){var Rt,jt;let Q=R.actionData!=null&&R.navigation.formMethod!=null&&Cr(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Rt=W.state)==null?void 0:Rt._isRedirect)!==!0,Te;se.actionData?Object.keys(se.actionData).length>0?Te=se.actionData:Te=null:Q?Te=R.actionData:Te=null;let Ve=se.loaderData?kv(R.loaderData,se.loaderData,se.matches||[],se.errors):R.loaderData,ct=R.blockers;ct.size>0&&(ct=new Map(ct),ct.forEach((Pt,Xe)=>ct.set(Xe,bc)));let it=q===!0||R.navigation.formMethod!=null&&Cr(R.navigation.formMethod)&&((jt=W.state)==null?void 0:jt._isRedirect)!==!0;f&&(u=f,f=void 0),J||ae==="POP"||(ae==="PUSH"?e.history.push(W,W.state):ae==="REPLACE"&&e.history.replace(W,W.state));let yt;if(ae==="POP"){let Pt=V.get(R.location.pathname);Pt&&Pt.has(W.pathname)?yt={currentLocation:R.location,nextLocation:W}:V.has(W.pathname)&&(yt={currentLocation:W,nextLocation:R.location})}else if(H){let Pt=V.get(R.location.pathname);Pt?Pt.add(W.pathname):(Pt=new Set([W.pathname]),V.set(R.location.pathname,Pt)),yt={currentLocation:R.location,nextLocation:W}}De(de(U({},se),{actionData:Te,loaderData:Ve,historyAction:ae,location:W,initialized:!0,navigation:im,revalidation:"idle",restoreScrollPosition:Yr(W,se.matches||R.matches),preventScrollReset:it,blockers:ct}),{viewTransitionOpts:yt,flushSync:F===!0}),ae="POP",q=!1,H=!1,J=!1,Ne=!1,K==null||K.resolve(),K=null}function lt(W,se){return oe(this,null,function*(){if(typeof W=="number"){e.history.go(W);return}let F=Gm(R.location,R.matches,h,W,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:Q,submission:Te,error:Ve}=gv(!1,F,se),ct=R.location,it=Tc(R.location,Q,se&&se.state);it=U(U({},it),e.history.encodeLocation(it));let yt=se&&se.replace!=null?se.replace:void 0,Rt="PUSH";yt===!0?Rt="REPLACE":yt===!1||Te!=null&&Cr(Te.formMethod)&&Te.formAction===R.location.pathname+R.location.search&&(Rt="REPLACE");let jt=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,Pt=(se&&se.flushSync)===!0,Xe=ba({currentLocation:ct,nextLocation:it,historyAction:Rt});if(Xe){ma(Xe,{state:"blocked",location:it,proceed(){ma(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),lt(W,se)},reset(){let aa=new Map(R.blockers);aa.set(Xe,bc),De({blockers:aa})}});return}yield Ce(Rt,it,{submission:Te,pendingError:Ve,preventScrollReset:jt,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:Pt})})}function Ht(){K||(K=E6()),Ut(),De({revalidation:"loading"});let W=K.promise;return R.navigation.state==="submitting"?W:R.navigation.state==="idle"?(Ce(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),W):(Ce(ae||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:H===!0}),W)}function Ce(W,se,F){return oe(this,null,function*(){G&&G.abort(),G=null,ae=W,J=(F&&F.startUninterruptedRevalidation)===!0,tr(R.location,R.matches),q=(F&&F.preventScrollReset)===!0,H=(F&&F.enableViewTransition)===!0;let Q=f||u,Te=F&&F.overrideNavigation,Ve=F!=null&&F.initialHydration&&R.matches&&R.matches.length>0&&!L?R.matches:Us(Q,se,h),ct=(F&&F.flushSync)===!0;if(Ve&&R.initialized&&!Ne&&N6(R.location,se)&&!(F&&F.submission&&Cr(F.submission.formMethod))){gt(se,{matches:Ve},{flushSync:ct});return}let it=lr(Ve,Q,se.pathname);if(it.active&&it.matches&&(Ve=it.matches),!Ve){let{error:Zt,notFoundMatches:Et,route:kt}=Ta(se.pathname);gt(se,{matches:Et,loaderData:{},errors:{[kt.id]:Zt}},{flushSync:ct});return}G=new AbortController;let yt=Uo(e.history,se,G.signal,F&&F.submission),Rt=new hv(e.unstable_getContext?yield e.unstable_getContext():void 0),jt;if(F&&F.pendingError)jt=[Ei(Ve).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&Cr(F.submission.formMethod)){let Zt=yield Ze(yt,se,F.submission,Ve,Rt,it.active,F&&F.initialHydration===!0,{replace:F.replace,flushSync:ct});if(Zt.shortCircuited)return;if(Zt.pendingActionResult){let[Et,kt]=Zt.pendingActionResult;if($r(kt)&&Ac(kt.error)&&kt.error.status===404){G=null,gt(se,{matches:Zt.matches,loaderData:{},errors:{[Et]:kt.error}});return}}Ve=Zt.matches||Ve,jt=Zt.pendingActionResult,Te=om(se,F.submission),ct=!1,it.active=!1,yt=Uo(e.history,yt.url,yt.signal)}let{shortCircuited:Pt,matches:Xe,loaderData:aa,errors:na}=yield xe(yt,se,Ve,Rt,it.active,Te,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ct,jt);Pt||(G=null,gt(se,de(U({matches:Xe||Ve},Sv(jt)),{loaderData:aa,errors:na})))})}function Ze(yt,Rt,jt,Pt,Xe,aa,na){return oe(this,arguments,function*(W,se,F,Q,Te,Ve,ct,it={}){Ut();let Zt=S6(se,F);if(De({navigation:Zt},{flushSync:it.flushSync===!0}),Ve){let Xt=yield Le(Q,se.pathname,W.signal);if(Xt.type==="aborted")return{shortCircuited:!0};if(Xt.type==="error"){let sa=Ei(Xt.partialMatches).route.id;return{matches:Xt.partialMatches,pendingActionResult:[sa,{type:"error",error:Xt.error}]}}else if(Xt.matches)Q=Xt.matches;else{let{notFoundMatches:sa,error:ce,route:Se}=Ta(se.pathname);return{matches:sa,pendingActionResult:[Se.id,{type:"error",error:ce}]}}}let Et,kt=$c(Q,se);if(!kt.route.action&&!kt.route.lazy)Et={type:"error",error:Fr(405,{method:W.method,pathname:se.pathname,routeId:kt.route.id})};else{let Xt=qo(l,c,W,Q,kt,ct?[]:s,Te),sa=yield we(W,Xt,Te,null);if(Et=sa[kt.route.id],!Et){for(let ce of Q)if(sa[ce.route.id]){Et=sa[ce.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(Ti(Et)){let Xt;return it&&it.replace!=null?Xt=it.replace:Xt=wv(Et.response.headers.get("Location"),new URL(W.url),h)===R.location.pathname+R.location.search,yield E(W,Et,!0,{submission:F,replace:Xt}),{shortCircuited:!0}}if($r(Et)){let Xt=Ei(Q,kt.route.id);return(it&&it.replace)!==!0&&(ae="PUSH"),{matches:Q,pendingActionResult:[Xt.route.id,Et,kt.route.id]}}return{matches:Q,pendingActionResult:[kt.route.id,Et]}})}function xe(W,se,F,Q,Te,Ve,ct,it,yt,Rt,jt,Pt){return oe(this,null,function*(){let Xe=Ve||om(se,ct),aa=ct||it||_v(Xe),na=!J&&!Rt;if(Te){if(na){let Jt=Pe(Pt);De(U({navigation:Xe},Jt!==void 0?{actionData:Jt}:{}),{flushSync:jt})}let rt=yield Le(F,se.pathname,W.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){let Jt=Ei(rt.partialMatches).route.id;return{matches:rt.partialMatches,loaderData:{},errors:{[Jt]:rt.error}}}else if(rt.matches)F=rt.matches;else{let{error:Jt,notFoundMatches:Sa,route:$a}=Ta(se.pathname);return{matches:Sa,loaderData:{},errors:{[$a.id]:Jt}}}}let Zt=f||u,{dsMatches:Et,revalidatingFetchers:kt}=yv(W,Q,l,c,e.history,R,F,aa,se,Rt?[]:s,Rt===!0,Ne,je,ee,me,z,Zt,h,e.patchRoutesOnNavigation!=null,Pt);if(ne=++re,!e.dataStrategy&&!Et.some(rt=>rt.shouldLoad)&&kt.length===0){let rt=He();return gt(se,U(U({matches:F,loaderData:{},errors:Pt&&$r(Pt[1])?{[Pt[0]]:Pt[1].error}:null},Sv(Pt)),rt?{fetchers:new Map(R.fetchers)}:{}),{flushSync:jt}),{shortCircuited:!0}}if(na){let rt={};if(!Te){rt.navigation=Xe;let Jt=Pe(Pt);Jt!==void 0&&(rt.actionData=Jt)}kt.length>0&&(rt.fetchers=Be(kt)),De(rt,{flushSync:jt})}kt.forEach(rt=>{Je(rt.key),rt.controller&&X.set(rt.key,rt.controller)});let Xt=()=>kt.forEach(rt=>Je(rt.key));G&&G.signal.addEventListener("abort",Xt);let{loaderResults:sa,fetcherResults:ce}=yield Ue(Et,kt,W,Q);if(W.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",Xt),kt.forEach(rt=>X.delete(rt.key));let Se=Nu(sa);if(Se)return yield E(W,Se.result,!0,{replace:yt}),{shortCircuited:!0};if(Se=Nu(ce),Se)return z.add(Se.key),yield E(W,Se.result,!0,{replace:yt}),{shortCircuited:!0};let{loaderData:Qe,errors:qe}=jv(R,F,sa,Pt,kt,ce);Rt&&R.errors&&(qe=U(U({},R.errors),qe));let pt=He(),xt=_t(ne),ht=pt||xt||kt.length>0;return U({matches:F,loaderData:Qe,errors:qe},ht?{fetchers:new Map(R.fetchers)}:{})})}function Pe(W){if(W&&!$r(W[1]))return{[W[0]]:W[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Be(W){return W.forEach(se=>{let F=R.fetchers.get(se.key),Q=vc(void 0,F?F.data:void 0);R.fetchers.set(se.key,Q)}),new Map(R.fetchers)}function et(W,se,F,Q){return oe(this,null,function*(){Je(W);let Te=(Q&&Q.flushSync)===!0,Ve=f||u,ct=Gm(R.location,R.matches,h,F,se,Q==null?void 0:Q.relative),it=Us(Ve,ct,h),yt=lr(it,Ve,ct);if(yt.active&&yt.matches&&(it=yt.matches),!it){st(W,se,Fr(404,{pathname:ct}),{flushSync:Te});return}let{path:Rt,submission:jt,error:Pt}=gv(!0,ct,Q);if(Pt){st(W,se,Pt,{flushSync:Te});return}let Xe=$c(it,Rt),aa=new hv(e.unstable_getContext?yield e.unstable_getContext():void 0),na=(Q&&Q.preventScrollReset)===!0;if(jt&&Cr(jt.formMethod)){yield $t(W,se,Rt,Xe,it,aa,yt.active,Te,na,jt);return}me.set(W,{routeId:se,path:Rt}),yield vt(W,se,Rt,Xe,it,aa,yt.active,Te,na,jt)})}function $t(W,se,F,Q,Te,Ve,ct,it,yt,Rt){return oe(this,null,function*(){Ut(),me.delete(W);function jt(ia){if(!ia.route.action&&!ia.route.lazy){let gn=Fr(405,{method:Rt.formMethod,pathname:F,routeId:se});return st(W,se,gn,{flushSync:it}),!0}return!1}if(!ct&&jt(Q))return;let Pt=R.fetchers.get(W);bt(W,$6(Rt,Pt),{flushSync:it});let Xe=new AbortController,aa=Uo(e.history,F,Xe.signal,Rt);if(ct){let ia=yield Le(Te,F,aa.signal,W);if(ia.type==="aborted")return;if(ia.type==="error"){st(W,se,ia.error,{flushSync:it});return}else if(ia.matches){if(Te=ia.matches,Q=$c(Te,F),jt(Q))return}else{st(W,se,Fr(404,{pathname:F}),{flushSync:it});return}}X.set(W,Xe);let na=re,Zt=qo(l,c,aa,Te,Q,s,Ve),kt=(yield we(aa,Zt,Ve,W))[Q.route.id];if(aa.signal.aborted){X.get(W)===Xe&&X.delete(W);return}if(ee.has(W)){if(Ti(kt)||$r(kt)){bt(W,Ms(void 0));return}}else{if(Ti(kt))if(X.delete(W),ne>na){bt(W,Ms(void 0));return}else return z.add(W),bt(W,vc(Rt)),E(aa,kt,!1,{fetcherSubmission:Rt,preventScrollReset:yt});if($r(kt)){st(W,se,kt.error);return}}let Xt=R.navigation.location||R.location,sa=Uo(e.history,Xt,Xe.signal),ce=f||u,Se=R.navigation.state!=="idle"?Us(ce,R.navigation.location,h):R.matches;Gt(Se,"Didn't find any matches after fetcher action");let Qe=++re;Ae.set(W,Qe);let qe=vc(Rt,kt.data);R.fetchers.set(W,qe);let{dsMatches:pt,revalidatingFetchers:xt}=yv(sa,Ve,l,c,e.history,R,Se,Rt,Xt,s,!1,Ne,je,ee,me,z,ce,h,e.patchRoutesOnNavigation!=null,[Q.route.id,kt]);xt.filter(ia=>ia.key!==W).forEach(ia=>{let gn=ia.key,ti=R.fetchers.get(gn),Ya=vc(void 0,ti?ti.data:void 0);R.fetchers.set(gn,Ya),Je(gn),ia.controller&&X.set(gn,ia.controller)}),De({fetchers:new Map(R.fetchers)});let ht=()=>xt.forEach(ia=>Je(ia.key));Xe.signal.addEventListener("abort",ht);let{loaderResults:rt,fetcherResults:Jt}=yield Ue(pt,xt,sa,Ve);if(Xe.signal.aborted)return;if(Xe.signal.removeEventListener("abort",ht),Ae.delete(W),X.delete(W),xt.forEach(ia=>X.delete(ia.key)),R.fetchers.has(W)){let ia=Ms(kt.data);R.fetchers.set(W,ia)}let Sa=Nu(rt);if(Sa)return E(sa,Sa.result,!1,{preventScrollReset:yt});if(Sa=Nu(Jt),Sa)return z.add(Sa.key),E(sa,Sa.result,!1,{preventScrollReset:yt});let{loaderData:$a,errors:Tr}=jv(R,Se,rt,void 0,xt,Jt);_t(Qe),R.navigation.state==="loading"&&Qe>ne?(Gt(ae,"Expected pending action"),G&&G.abort(),gt(R.navigation.location,{matches:Se,loaderData:$a,errors:Tr,fetchers:new Map(R.fetchers)})):(De({errors:Tr,loaderData:kv(R.loaderData,$a,Se,Tr),fetchers:new Map(R.fetchers)}),Ne=!1)})}function vt(W,se,F,Q,Te,Ve,ct,it,yt,Rt){return oe(this,null,function*(){let jt=R.fetchers.get(W);bt(W,vc(Rt,jt?jt.data:void 0),{flushSync:it});let Pt=new AbortController,Xe=Uo(e.history,F,Pt.signal);if(ct){let kt=yield Le(Te,F,Xe.signal,W);if(kt.type==="aborted")return;if(kt.type==="error"){st(W,se,kt.error,{flushSync:it});return}else if(kt.matches)Te=kt.matches,Q=$c(Te,F);else{st(W,se,Fr(404,{pathname:F}),{flushSync:it});return}}X.set(W,Pt);let aa=re,na=qo(l,c,Xe,Te,Q,s,Ve),Et=(yield we(Xe,na,Ve,W))[Q.route.id];if(X.get(W)===Pt&&X.delete(W),!Xe.signal.aborted){if(ee.has(W)){bt(W,Ms(void 0));return}if(Ti(Et))if(ne>aa){bt(W,Ms(void 0));return}else{z.add(W),yield E(Xe,Et,!1,{preventScrollReset:yt});return}if($r(Et)){st(W,se,Et.error);return}bt(W,Ms(Et.data))}})}function E(it,yt,Rt){return oe(this,arguments,function*(W,se,F,{submission:Q,fetcherSubmission:Te,preventScrollReset:Ve,replace:ct}={}){se.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let jt=se.response.headers.get("Location");Gt(jt,"Expected a Location header on the redirect Response"),jt=wv(jt,new URL(W.url),h);let Pt=Tc(R.location,jt,{_isRedirect:!0});if(a){let kt=!1;if(se.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(Gg.test(jt)){const Xt=o3(jt,!0);kt=Xt.origin!==t.location.origin||Gr(Xt.pathname,h)==null}if(kt){ct?t.location.replace(jt):t.location.assign(jt);return}}G=null;let Xe=ct===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:aa,formAction:na,formEncType:Zt}=R.navigation;!Q&&!Te&&aa&&na&&Zt&&(Q=_v(R.navigation));let Et=Q||Te;if(l6.has(se.response.status)&&Et&&Cr(Et.formMethod))yield Ce(Xe,Pt,{submission:de(U({},Et),{formAction:jt}),preventScrollReset:Ve||q,enableViewTransition:F?H:void 0});else{let kt=om(Pt,Q);yield Ce(Xe,Pt,{overrideNavigation:kt,fetcherSubmission:Te,preventScrollReset:Ve||q,enableViewTransition:F?H:void 0})}})}function we(W,se,F,Q){return oe(this,null,function*(){let Te,Ve={};try{Te=yield p6(m,W,se,Q,F,!1)}catch(ct){return se.filter(it=>it.shouldLoad).forEach(it=>{Ve[it.route.id]={type:"error",error:ct}}),Ve}if(W.signal.aborted)return Ve;for(let[ct,it]of Object.entries(Te))if(j6(it)){let yt=it.result;Ve[ct]={type:"redirect",response:v6(yt,W,ct,se,h)}}else Ve[ct]=yield b6(it);return Ve})}function Ue(W,se,F,Q){return oe(this,null,function*(){let Te=we(F,W,Q,null),Ve=Promise.all(se.map(yt=>oe(null,null,function*(){if(yt.matches&&yt.match&&yt.request&&yt.controller){let jt=(yield we(yt.request,yt.matches,Q,yt.key))[yt.match.route.id];return{[yt.key]:jt}}else return Promise.resolve({[yt.key]:{type:"error",error:Fr(404,{pathname:yt.path})}})}))),ct=yield Te,it=(yield Ve).reduce((yt,Rt)=>Object.assign(yt,Rt),{});return{loaderResults:ct,fetcherResults:it}})}function Ut(){Ne=!0,me.forEach((W,se)=>{X.has(se)&&je.add(se),Je(se)})}function bt(W,se,F={}){R.fetchers.set(W,se),De({fetchers:new Map(R.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function st(W,se,F,Q={}){let Te=Ei(R.matches,se);he(W),De({errors:{[Te.route.id]:F},fetchers:new Map(R.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Yt(W){return T.set(W,(T.get(W)||0)+1),ee.has(W)&&ee.delete(W),R.fetchers.get(W)||c6}function he(W){let se=R.fetchers.get(W);X.has(W)&&!(se&&se.state==="loading"&&Ae.has(W))&&Je(W),me.delete(W),Ae.delete(W),z.delete(W),ee.delete(W),je.delete(W),R.fetchers.delete(W)}function Fe(W){let se=(T.get(W)||0)-1;se<=0?(T.delete(W),ee.add(W)):T.set(W,se),De({fetchers:new Map(R.fetchers)})}function Je(W){let se=X.get(W);se&&(se.abort(),X.delete(W))}function Oe(W){for(let se of W){let F=Yt(se),Q=Ms(F.data);R.fetchers.set(se,Q)}}function He(){let W=[],se=!1;for(let F of z){let Q=R.fetchers.get(F);Gt(Q,`Expected fetcher: ${F}`),Q.state==="loading"&&(z.delete(F),W.push(F),se=!0)}return Oe(W),se}function _t(W){let se=[];for(let[F,Q]of Ae)if(Q<W){let Te=R.fetchers.get(F);Gt(Te,`Expected fetcher: ${F}`),Te.state==="loading"&&(Je(F),Ae.delete(F),se.push(F))}return Oe(se),se.length>0}function at(W,se){let F=R.blockers.get(W)||bc;return ue.get(W)!==se&&ue.set(W,se),F}function St(W){R.blockers.delete(W),ue.delete(W)}function ma(W,se){let F=R.blockers.get(W)||bc;Gt(F.state==="unblocked"&&se.state==="blocked"||F.state==="blocked"&&se.state==="blocked"||F.state==="blocked"&&se.state==="proceeding"||F.state==="blocked"&&se.state==="unblocked"||F.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${se.state}`);let Q=new Map(R.blockers);Q.set(W,se),De({blockers:Q})}function ba({currentLocation:W,nextLocation:se,historyAction:F}){if(ue.size===0)return;ue.size>1&&Ea(!1,"A router only supports one blocker at a time");let Q=Array.from(ue.entries()),[Te,Ve]=Q[Q.length-1],ct=R.blockers.get(Te);if(!(ct&&ct.state==="proceeding")&&Ve({currentLocation:W,nextLocation:se,historyAction:F}))return Te}function Ta(W){let se=Fr(404,{pathname:W}),F=f||u,{matches:Q,route:Te}=$v(F);return{notFoundMatches:Q,route:Te,error:se}}function Er(W,se,F){if(v=W,N=se,k=F||null,!$&&R.navigation===im){$=!0;let Q=Yr(R.location,R.matches);Q!=null&&De({restoreScrollPosition:Q})}return()=>{v=null,N=null,k=null}}function yr(W,se){return k&&k(W,se.map(Q=>Fk(Q,R.loaderData)))||W.key}function tr(W,se){if(v&&N){let F=yr(W,se);v[F]=N()}}function Yr(W,se){if(v){let F=yr(W,se),Q=v[F];if(typeof Q=="number")return Q}return null}function lr(W,se,F){if(e.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:Bu(se,F,h,!0)}}else return{active:!0,matches:Bu(se,F,h,!0)||[]};return{active:!1,matches:null}}function Le(W,se,F,Q){return oe(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:W};let Te=W;for(;;){let Ve=f==null,ct=f||u,it=c;try{yield e.patchRoutesOnNavigation({signal:F,path:se,matches:Te,fetcherKey:Q,patch:(jt,Pt)=>{F.aborted||pv(jt,Pt,ct,it,l)}})}catch(jt){return{type:"error",error:jt,partialMatches:Te}}finally{Ve&&!F.aborted&&(u=[...u])}if(F.aborted)return{type:"aborted"};let yt=Us(ct,se,h);if(yt)return{type:"success",matches:yt};let Rt=Bu(ct,se,h,!0);if(!Rt||Te.length===Rt.length&&Te.every((jt,Pt)=>jt.route.id===Rt[Pt].route.id))return{type:"success",matches:null};Te=Rt}})}function ka(W){c={},f=Ju(W,l,void 0,c)}function Fa(W,se){let F=f==null;pv(W,se,f||u,c,l),F&&(u=[...u],De({}))}return O={get basename(){return h},get future(){return y},get state(){return R},get routes(){return u},get window(){return t},initialize:ke,subscribe:Ye,enableScrollRestoration:Er,navigate:lt,fetch:et,revalidate:Ht,createHref:W=>e.history.createHref(W),encodeLocation:W=>e.history.encodeLocation(W),getFetcher:Yt,deleteFetcher:Fe,dispose:Ie,getBlocker:at,deleteBlocker:St,patchRoutes:Fa,_internalFetchControllers:X,_internalSetRoutes:ka},O}function f6(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Gm(e,t,a,s,l,c){let u,f;if(l){u=[];for(let m of t)if(u.push(m),m.route.id===l){f=m;break}}else u=t,f=t[t.length-1];let h=p0(s||".",y0(u),Gr(e.pathname,a)||e.pathname,c==="path");if(s==null&&(h.search=e.search,h.hash=e.hash),(s==null||s===""||s===".")&&f){let m=Vg(h.search);if(f.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let y=new URLSearchParams(h.search),w=y.getAll("index");y.delete("index"),w.filter(v=>v).forEach(v=>y.append("index",v));let b=y.toString();h.search=b?`?${b}`:""}}return a!=="/"&&(h.pathname=h.pathname==="/"?a:Cn([a,h.pathname])),Qs(h)}function gv(e,t,a){if(!a||!f6(a))return{path:t};if(a.formMethod&&!k6(a.formMethod))return{path:t,error:Fr(405,{method:a.formMethod})};let s=()=>({path:t,error:Fr(400,{type:"invalid-body"})}),c=(a.formMethod||"get").toUpperCase(),u=b3(t);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Cr(c))return s();let w=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((b,[v,k])=>`${b}${v}=${k}
`,""):String(a.body);return{path:t,submission:{formMethod:c,formAction:u,formEncType:a.formEncType,formData:void 0,json:void 0,text:w}}}else if(a.formEncType==="application/json"){if(!Cr(c))return s();try{let w=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:t,submission:{formMethod:c,formAction:u,formEncType:a.formEncType,formData:void 0,json:w,text:void 0}}}catch(w){return s()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let f,h;if(a.formData)f=Ym(a.formData),h=a.formData;else if(a.body instanceof FormData)f=Ym(a.body),h=a.body;else if(a.body instanceof URLSearchParams)f=a.body,h=Nv(f);else if(a.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(a.body),h=Nv(f)}catch(w){return s()}let m={formMethod:c,formAction:u,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Cr(m.formMethod))return{path:t,submission:m};let y=Xs(t);return e&&y.search&&Vg(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Qs(y),submission:m}}function yv(e,t,a,s,l,c,u,f,h,m,y,w,b,v,k,N,$,C,L,M){var J;let B=M?$r(M[1])?M[1].error:M[1].data:void 0,O=l.createURL(c.location),R=l.createURL(h),ae;if(y&&c.errors){let Ne=Object.keys(c.errors)[0];ae=u.findIndex(je=>je.route.id===Ne)}else if(M&&$r(M[1])){let Ne=M[0];ae=u.findIndex(je=>je.route.id===Ne)-1}let q=M?M[1].statusCode:void 0,G=q&&q>=400,H=de(U({currentUrl:O,currentParams:((J=c.matches[0])==null?void 0:J.params)||{},nextUrl:R,nextParams:u[0].params},f),{actionResult:B,actionStatus:q}),V=u.map((Ne,je)=>{let{route:X}=Ne,re=null;if(ae!=null&&je>ae?re=!1:X.lazy?re=!0:X.loader==null?re=!1:y?re=Vm(X,c.loaderData,c.errors):h6(c.loaderData,c.matches[je],Ne)&&(re=!0),re!==null)return Km(a,s,e,Ne,m,t,re);let ne=G?!1:w||O.pathname+O.search===R.pathname+R.search||O.search!==R.search||m6(c.matches[je],Ne),Ae=de(U({},H),{defaultShouldRevalidate:ne}),z=a0(Ne,Ae);return Km(a,s,e,Ne,m,t,z,Ae)}),Z=[];return k.forEach((Ne,je)=>{if(y||!u.some(ee=>ee.route.id===Ne.routeId)||v.has(je))return;let X=c.fetchers.get(je),re=X&&X.state!=="idle"&&X.data===void 0,ne=Us($,Ne.path,C);if(!ne){if(L&&re)return;Z.push({key:je,routeId:Ne.routeId,path:Ne.path,matches:null,match:null,request:null,controller:null});return}if(N.has(je))return;let Ae=$c(ne,Ne.path),z=new AbortController,me=Uo(l,Ne.path,z.signal),T=null;if(b.has(je))b.delete(je),T=qo(a,s,me,ne,Ae,m,t);else if(re)w&&(T=qo(a,s,me,ne,Ae,m,t));else{let ee=de(U({},H),{defaultShouldRevalidate:G?!1:w});a0(Ae,ee)&&(T=qo(a,s,me,ne,Ae,m,t,ee))}T&&Z.push({key:je,routeId:Ne.routeId,path:Ne.path,matches:T,match:Ae,request:me,controller:z})}),{dsMatches:V,revalidatingFetchers:Z}}function Vm(e,t,a){if(e.lazy)return!0;if(!e.loader)return!1;let s=t!=null&&e.id in t,l=a!=null&&a[e.id]!==void 0;return!s&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!l}function h6(e,t,a){let s=!t||a.route.id!==t.route.id,l=!e.hasOwnProperty(a.route.id);return s||l}function m6(e,t){let a=e.route.path;return e.pathname!==t.pathname||a!=null&&a.endsWith("*")&&e.params["*"]!==t.params["*"]}function a0(e,t){if(e.route.shouldRevalidate){let a=e.route.shouldRevalidate(t);if(typeof a=="boolean")return a}return t.defaultShouldRevalidate}function pv(e,t,a,s,l){let c;if(e){let h=s[e];Gt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),c=h.children}else c=a;let u=t.filter(h=>!c.some(m=>m3(h,m))),f=Ju(u,l,[e||"_","patch",String((c==null?void 0:c.length)||"0")],s);c.push(...f)}function m3(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((a,s)=>{var l;return(l=t.children)==null?void 0:l.some(c=>m3(a,c))}):!1}var xv=new WeakMap,g3=({key:e,route:t,manifest:a,mapRouteProperties:s})=>{let l=a[t.id];if(Gt(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let c=l.lazy[e];if(!c)return;let u=xv.get(l);u||(u={},xv.set(l,u));let f=u[e];if(f)return f;let h=oe(null,null,function*(){let m=Dk(e),w=l[e]!==void 0&&e!=="hasErrorBoundary";if(m)Ea(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(w)Ea(!1,`Route "${l.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=yield c();b!=null&&(Object.assign(l,{[e]:b}),Object.assign(l,s(l)))}typeof l.lazy=="object"&&(l.lazy[e]=void 0,Object.values(l.lazy).every(b=>b===void 0)&&(l.lazy=void 0))});return u[e]=h,h},bv=new WeakMap;function g6(e,t,a,s,l){let c=a[e.id];if(Gt(c,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let y=bv.get(c);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let w=oe(null,null,function*(){Gt(typeof e.lazy=="function","No lazy route function found");let b=yield e.lazy(),v={};for(let k in b){let N=b[k];if(N===void 0)continue;let $=Ik(k),L=c[k]!==void 0&&k!=="hasErrorBoundary";$?Ea(!$,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?Ea(!L,`Route "${c.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):v[k]=N}Object.assign(c,v),Object.assign(c,de(U({},s(c)),{lazy:void 0}))});return bv.set(c,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(e.lazy),f=[],h;for(let y of u){if(l&&l.includes(y))continue;let w=g3({key:y,route:e,manifest:a,mapRouteProperties:s});w&&(f.push(w),y===t&&(h=w))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m==null||m.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}function vv(e){return oe(this,null,function*(){let t=e.matches.filter(l=>l.shouldLoad),a={};return(yield Promise.all(t.map(l=>l.resolve()))).forEach((l,c)=>{a[t[c].route.id]=l}),a})}function y6(e){return oe(this,null,function*(){return e.matches.some(t=>t.route.unstable_middleware)?y3(e,!1,()=>vv(e),(t,a)=>({[a]:{type:"error",result:t}})):vv(e)})}function y3(e,t,a,s){return oe(this,null,function*(){let{matches:l,request:c,params:u,context:f}=e,h={handlerResult:void 0};try{let m=l.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(b=>[w.route.id,b]):[]),y=yield p3({request:c,params:u,context:f},m,t,h,a);return t?y:h.handlerResult}catch(m){if(!h.middlewareError)throw m;let y=yield s(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,y):y}})}function p3(e,t,a,s,l,c=0){return oe(this,null,function*(){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=t[c];if(!f)return s.handlerResult=yield l(),s.handlerResult;let[h,m]=f,y=!1,w,b=()=>oe(null,null,function*(){if(y)throw new Error("You may only call `next()` once per middleware");y=!0,yield p3(e,t,a,s,l,c+1)});try{let v=yield m({request:e.request,params:e.params,context:e.context},b);return y?v===void 0?w:v:b()}catch(v){throw s.middlewareError?s.middlewareError.error!==v&&(s.middlewareError={routeId:h,error:v}):s.middlewareError={routeId:h,error:v},v}})}function x3(e,t,a,s,l){let c=g3({key:"unstable_middleware",route:s.route,manifest:t,mapRouteProperties:e}),u=g6(s.route,Cr(a.method)?"action":"loader",t,e,l);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Km(e,t,a,s,l,c,u,f=null){let h=!1,m=x3(e,t,a,s,l);return de(U({},s),{_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return h=!0,f?typeof y=="boolean"?a0(s,de(U({},f),{defaultShouldRevalidate:y})):a0(s,f):u},resolve(y){return h||u||y&&a.method==="GET"&&(s.route.lazy||s.route.loader)?x6({request:a,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:y,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}})}function qo(e,t,a,s,l,c,u,f=null){return s.map(h=>h.route.id!==l.route.id?de(U({},h),{shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:x3(e,t,a,h,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Km(e,t,a,h,c,u,!0,f))}function p6(e,t,a,s,l,c){return oe(this,null,function*(){a.some(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})&&(yield Promise.all(a.map(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})));let u={request:t,params:a[0].params,context:l,matches:a},f=m=>{let y=u;return y3(y,!1,()=>m(de(U({},y),{fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(w,b)=>({[b]:{type:"error",result:w}}))},h=yield e(de(U({},u),{fetcherKey:s,unstable_runClientMiddleware:f}));try{yield Promise.all(a.flatMap(m=>{var y,w;return[(y=m._lazyPromises)==null?void 0:y.handler,(w=m._lazyPromises)==null?void 0:w.route]}))}catch(m){}return h})}function x6(u){return oe(this,arguments,function*({request:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let f,h,m=Cr(e.method),y=m?"action":"loader",w=b=>{let v,k=new Promise((C,L)=>v=L);h=()=>v(),e.signal.addEventListener("abort",h);let N=C=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):b({request:e,params:t.params,context:c},...C!==void 0?[C]:[]),$=oe(null,null,function*(){try{return{type:"data",result:yield l?l(L=>N(L)):N()}}catch(C){return{type:"error",result:C}}});return Promise.race([$,k])};try{let b=m?t.route.action:t.route.loader;if(a||s)if(b){let v,[k]=yield Promise.all([w(b).catch(N=>{v=N}),a,s]);if(v!==void 0)throw v;f=k}else{yield a;let v=m?t.route.action:t.route.loader;if(v)[f]=yield Promise.all([w(v),s]);else if(y==="action"){let k=new URL(e.url),N=k.pathname+k.search;throw Fr(405,{method:e.method,pathname:N,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)f=yield w(b);else{let v=new URL(e.url),k=v.pathname+v.search;throw Fr(404,{pathname:k})}}catch(b){return{type:"error",result:b}}finally{h&&e.signal.removeEventListener("abort",h)}return f})}function b6(e){return oe(this,null,function*(){var s,l,c,u,f,h;let{result:t,type:a}=e;if(v3(t)){let m;try{let y=t.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?t.body==null?m=null:m=yield t.json():m=yield t.text()}catch(y){return{type:"error",error:y}}return a==="error"?{type:"error",error:new t0(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:"data",data:m,statusCode:t.status,headers:t.headers}}return a==="error"?Cv(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new t0(((c=t.init)==null?void 0:c.status)||500,void 0,t.data),statusCode:Ac(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ac(t)?t.status:void 0}:Cv(t)?{type:"data",data:t.data,statusCode:(f=t.init)==null?void 0:f.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function v6(e,t,a,s,l){let c=e.headers.get("Location");if(Gt(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gg.test(c)){let u=s.slice(0,s.findIndex(f=>f.route.id===a)+1);c=Gm(new URL(t.url),u,l,c),e.headers.set("Location",c)}return e}function wv(e,t,a){if(Gg.test(e)){let s=e,l=s.startsWith("//")?new URL(t.protocol+s):new URL(s),c=Gr(l.pathname,a)!=null;if(l.origin===t.origin&&c)return l.pathname+l.search+l.hash}return e}function Uo(e,t,a,s){let l=e.createURL(b3(t)).toString(),c={signal:a};if(s&&Cr(s.formMethod)){let{formMethod:u,formEncType:f}=s;c.method=u.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(s.json)):f==="text/plain"?c.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?c.body=Ym(s.formData):c.body=s.formData}return new Request(l,c)}function Ym(e){let t=new URLSearchParams;for(let[a,s]of e.entries())t.append(a,typeof s=="string"?s:s.name);return t}function Nv(e){let t=new FormData;for(let[a,s]of e.entries())t.append(a,s);return t}function w6(e,t,a,s=!1,l=!1){let c={},u=null,f,h=!1,m={},y=a&&$r(a[1])?a[1].error:void 0;return e.forEach(w=>{if(!(w.route.id in t))return;let b=w.route.id,v=t[b];if(Gt(!Ti(v),"Cannot handle redirect results in processLoaderData"),$r(v)){let k=v.error;if(y!==void 0&&(k=y,y=void 0),u=u||{},l)u[b]=k;else{let N=Ei(e,b);u[N.route.id]==null&&(u[N.route.id]=k)}s||(c[b]=h3),h||(h=!0,f=Ac(v.error)?v.error.status:500),v.headers&&(m[b]=v.headers)}else c[b]=v.data,v.statusCode&&v.statusCode!==200&&!h&&(f=v.statusCode),v.headers&&(m[b]=v.headers)}),y!==void 0&&a&&(u={[a[0]]:y},a[2]&&(c[a[2]]=void 0)),{loaderData:c,errors:u,statusCode:f||200,loaderHeaders:m}}function jv(e,t,a,s,l,c){let{loaderData:u,errors:f}=w6(t,a,s);return l.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:y,controller:w}=h,b=c[m];if(Gt(b,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if($r(b)){let v=Ei(e.matches,y==null?void 0:y.route.id);f&&f[v.route.id]||(f=de(U({},f),{[v.route.id]:b.error})),e.fetchers.delete(m)}else if(Ti(b))Gt(!1,"Unhandled fetcher revalidation redirect");else{let v=Ms(b.data);e.fetchers.set(m,v)}}),{loaderData:u,errors:f}}function kv(e,t,a,s){let l=Object.entries(t).filter(([,c])=>c!==h3).reduce((c,[u,f])=>(c[u]=f,c),{});for(let c of a){let u=c.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&c.route.loader&&(l[u]=e[u]),s&&s.hasOwnProperty(u))break}return l}function Sv(e){return e?$r(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ei(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function $v(e){let t=e.length===1?e[0]:e.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Fr(e,{pathname:t,routeId:a,method:s,type:l,message:c}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(u="Bad Request",s&&t&&a?f=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:l==="invalid-body"&&(f="Unable to encode submission body")):e===403?(u="Forbidden",f=`Route "${a}" does not match URL "${t}"`):e===404?(u="Not Found",f=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",s&&t&&a?f=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new t0(e||500,u,new Error(f),!0)}function Nu(e){let t=Object.entries(e);for(let a=t.length-1;a>=0;a--){let[s,l]=t[a];if(Ti(l))return{key:s,result:l}}}function b3(e){let t=typeof e=="string"?Xs(e):e;return Qs(de(U({},t),{hash:""}))}function N6(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function j6(e){return v3(e.result)&&o6.has(e.result.status)}function $r(e){return e.type==="error"}function Ti(e){return(e&&e.type)==="redirect"}function Cv(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function v3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function k6(e){return i6.has(e.toUpperCase())}function Cr(e){return n6.has(e.toUpperCase())}function Vg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function $c(e,t){let a=typeof t=="string"?Xs(t).search:t.search;if(e[e.length-1].route.index&&Vg(a||""))return e[e.length-1];let s=d3(e);return s[s.length-1]}function _v(e){let{formMethod:t,formAction:a,formEncType:s,text:l,formData:c,json:u}=e;if(!(!t||!a||!s)){if(l!=null)return{formMethod:t,formAction:a,formEncType:s,formData:void 0,json:void 0,text:l};if(c!=null)return{formMethod:t,formAction:a,formEncType:s,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:a,formEncType:s,formData:void 0,json:u,text:void 0}}}function om(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function S6(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function vc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $6(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ms(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function C6(e,t){try{let a=e.sessionStorage.getItem(f3);if(a){let s=JSON.parse(a);for(let[l,c]of Object.entries(s||{}))c&&Array.isArray(c)&&t.set(l,new Set(c||[]))}}catch(a){}}function _6(e,t){if(t.size>0){let a={};for(let[s,l]of t)a[s]=[...l];try{e.sessionStorage.setItem(f3,JSON.stringify(a))}catch(s){Ea(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function E6(){let e,t,a=new Promise((s,l)=>{e=c=>oe(null,null,function*(){s(c);try{yield a}catch(u){}}),t=c=>oe(null,null,function*(){l(c);try{yield a}catch(u){}})});return{promise:a,resolve:e,reject:t}}var Vi=x.createContext(null);Vi.displayName="DataRouter";var od=x.createContext(null);od.displayName="DataRouterState";var Kg=x.createContext({isTransitioning:!1});Kg.displayName="ViewTransition";var w3=x.createContext(new Map);w3.displayName="Fetchers";var T6=x.createContext(null);T6.displayName="Await";var fn=x.createContext(null);fn.displayName="Navigation";var x0=x.createContext(null);x0.displayName="Location";var Vr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Yg=x.createContext(null);Yg.displayName="RouteError";function A6(e,{relative:t}={}){Gt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=x.useContext(fn),{hash:l,pathname:c,search:u}=ld(e,{relative:t}),f=c;return a!=="/"&&(f=c==="/"?a:Cn([a,c])),s.createHref({pathname:f,search:u,hash:l})}function gl(){return x.useContext(x0)!=null}function Kr(){return Gt(gl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(x0).location}var N3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j3(e){x.useContext(fn).static||x.useLayoutEffect(e)}function Ma(){let{isDataRoute:e}=x.useContext(Vr);return e?V6():O6()}function O6(){Gt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Vi),{basename:t,navigator:a}=x.useContext(fn),{matches:s}=x.useContext(Vr),{pathname:l}=Kr(),c=JSON.stringify(y0(s)),u=x.useRef(!1);return j3(()=>{u.current=!0}),x.useCallback((h,m={})=>{if(Ea(u.current,N3),!u.current)return;if(typeof h=="number"){a.go(h);return}let y=p0(h,JSON.parse(c),l,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Cn([t,y.pathname])),(m.replace?a.replace:a.push)(y,m.state,m)},[t,a,c,l,e])}var R6=x.createContext(null);function P6(e){let t=x.useContext(Vr).outlet;return t&&x.createElement(R6.Provider,{value:e},t)}function Qg(){let{matches:e}=x.useContext(Vr),t=e[e.length-1];return t?t.params:{}}function ld(e,{relative:t}={}){let{matches:a}=x.useContext(Vr),{pathname:s}=Kr(),l=JSON.stringify(y0(a));return x.useMemo(()=>p0(e,JSON.parse(l),s,t==="path"),[e,l,s,t])}function M6(e,t,a,s){Gt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(fn),{matches:c}=x.useContext(Vr),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let C=y&&y.path||"";k3(h,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=Kr(),b;b=w;let v=b.pathname||"/",k=v;if(m!=="/"){let C=m.replace(/^\//,"").split("/");k="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=Us(e,{pathname:k});return Ea(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ea(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),F6(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Cn([m,l.encodeLocation?l.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Cn([m,l.encodeLocation?l.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,a,s)}function D6(){let e=G6(),t=Ac(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:c},"ErrorBoundary")," or"," ",x.createElement("code",{style:c},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),a?x.createElement("pre",{style:l},a):null,u)}var L6=x.createElement(D6,null),I6=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(Vr.Provider,{value:this.props.routeContext},x.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U6({routeContext:e,match:t,children:a}){let s=x.useContext(Vi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Vr.Provider,{value:e},a)}function F6(e,t=[],a=null,s=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let l=e,c=a==null?void 0:a.errors;if(c!=null){let h=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Gt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(a)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:y,errors:w}=a,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,y)=>{let w,b=!1,v=null,k=null;a&&(w=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||L6,u&&(f<0&&y===0?(k3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):f===y&&(b=!0,k=m.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,y+1)),$=()=>{let C;return w?C=v:b?C=k:m.route.Component?C=x.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=h,x.createElement(U6,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:a!=null},children:C})};return a&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement(I6,{location:a.location,revalidation:a.revalidation,component:v,error:w,children:$(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):$()},null)}function Xg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B6(e){let t=x.useContext(Vi);return Gt(t,Xg(e)),t}function z6(e){let t=x.useContext(od);return Gt(t,Xg(e)),t}function H6(e){let t=x.useContext(Vr);return Gt(t,Xg(e)),t}function Wg(e){let t=H6(e),a=t.matches[t.matches.length-1];return Gt(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function q6(){return Wg("useRouteId")}function G6(){var s;let e=x.useContext(Yg),t=z6("useRouteError"),a=Wg("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[a]}function V6(){let{router:e}=B6("useNavigate"),t=Wg("useNavigate"),a=x.useRef(!1);return j3(()=>{a.current=!0}),x.useCallback((u,...f)=>oe(null,[u,...f],function*(l,c={}){Ea(a.current,N3),a.current&&(typeof l=="number"?e.navigate(l):yield e.navigate(l,U({fromRouteId:t},c)))}),[e,t])}var Ev={};function k3(e,t,a){!t&&!Ev[e]&&(Ev[e]=!0,Ea(!1,a))}var Tv={};function Av(e,t){!e&&!Tv[t]&&(Tv[t]=!0,console.warn(t))}function K6(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ea(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:x.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ea(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:x.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ea(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:x.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Y6=["HydrateFallback","hydrateFallbackElement"],Q6=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function X6({router:e,flushSync:t}){let[a,s]=x.useState(e.state),[l,c]=x.useState(),[u,f]=x.useState({isTransitioning:!1}),[h,m]=x.useState(),[y,w]=x.useState(),[b,v]=x.useState(),k=x.useRef(new Map),N=x.useCallback((M,{deletedFetchers:B,flushSync:O,viewTransitionOpts:R})=>{M.fetchers.forEach((q,G)=>{q.data!==void 0&&k.current.set(G,q.data)}),B.forEach(q=>k.current.delete(q)),Av(O===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Av(R==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!ae){t&&O?t(()=>s(M)):x.startTransition(()=>s(M));return}if(t&&O){t(()=>{y&&(h&&h.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let q=e.window.document.startViewTransition(()=>{t(()=>s(M))});q.finished.finally(()=>{t(()=>{m(void 0),w(void 0),c(void 0),f({isTransitioning:!1})})}),t(()=>w(q));return}y?(h&&h.resolve(),y.skipTransition(),v({state:M,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(M),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[e.window,t,y,h]);x.useLayoutEffect(()=>e.subscribe(N),[e,N]),x.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new Q6)},[u]),x.useEffect(()=>{if(h&&l&&e.window){let M=l,B=h.promise,O=e.window.document.startViewTransition(()=>oe(null,null,function*(){x.startTransition(()=>s(M)),yield B}));O.finished.finally(()=>{m(void 0),w(void 0),c(void 0),f({isTransitioning:!1})}),w(O)}},[l,h,e.window]),x.useEffect(()=>{h&&l&&a.location.key===l.location.key&&h.resolve()},[h,y,a.location,l]),x.useEffect(()=>{!u.isTransitioning&&b&&(c(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),v(void 0))},[u.isTransitioning,b]);let $=x.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:M=>e.navigate(M),push:(M,B,O)=>e.navigate(M,{state:B,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(M,B,O)=>e.navigate(M,{replace:!0,state:B,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[e]),C=e.basename||"/",L=x.useMemo(()=>({router:e,navigator:$,static:!1,basename:C}),[e,$,C]);return x.createElement(x.Fragment,null,x.createElement(Vi.Provider,{value:L},x.createElement(od.Provider,{value:a},x.createElement(w3.Provider,{value:k.current},x.createElement(Kg.Provider,{value:u},x.createElement(tS,{basename:C,location:a.location,navigationType:a.historyAction,navigator:$},x.createElement(W6,{routes:e.routes,future:e.future,state:a})))))),null)}var W6=x.memo(Z6);function Z6({routes:e,future:t,state:a}){return M6(e,void 0,a,t)}function J6({to:e,replace:t,state:a,relative:s}){Gt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(fn);Ea(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=x.useContext(Vr),{pathname:u}=Kr(),f=Ma(),h=p0(e,y0(c),u,s==="path"),m=JSON.stringify(h);return x.useEffect(()=>{f(JSON.parse(m),{replace:t,state:a,relative:s})},[f,m,s,t,a]),null}function eS(e){return P6(e.context)}function tS({basename:e="/",children:t=null,location:a,navigationType:s="POP",navigator:l,static:c=!1}){Gt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof a=="string"&&(a=Xs(a));let{pathname:h="/",search:m="",hash:y="",state:w=null,key:b="default"}=a,v=x.useMemo(()=>{let k=Gr(h,u);return k==null?null:{location:{pathname:k,search:m,hash:y,state:w,key:b},navigationType:s}},[u,h,m,y,w,b,s]);return Ea(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(fn.Provider,{value:f},x.createElement(x0.Provider,{children:t,value:v}))}var zu="get",Hu="application/x-www-form-urlencoded";function b0(e){return e!=null&&typeof e.tagName=="string"}function aS(e){return b0(e)&&e.tagName.toLowerCase()==="button"}function rS(e){return b0(e)&&e.tagName.toLowerCase()==="form"}function nS(e){return b0(e)&&e.tagName.toLowerCase()==="input"}function sS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iS(e,t){return e.button===0&&(!t||t==="_self")&&!sS(e)}var ju=null;function oS(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch(e){ju=!0}return ju}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(e){return e!=null&&!lS.has(e)?(Ea(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):e}function cS(e,t){let a,s,l,c,u;if(rS(e)){let f=e.getAttribute("action");s=f?Gr(f,t):null,a=e.getAttribute("method")||zu,l=lm(e.getAttribute("enctype"))||Hu,c=new FormData(e)}else if(aS(e)||nS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?Gr(h,t):null,a=e.getAttribute("formmethod")||f.getAttribute("method")||zu,l=lm(e.getAttribute("formenctype"))||lm(f.getAttribute("enctype"))||Hu,c=new FormData(f,e),!oS()){let{name:m,type:y,value:w}=e;if(y==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,w)}}else{if(b0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=zu,s=null,l=Hu,u=e}return c&&l==="text/plain"&&(u=c,c=void 0),{action:s,method:a.toLowerCase(),encType:l,formData:c,body:u}}function Zg(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function dS(e,t){return oe(this,null,function*(){if(e.id in t)return t[e.id];try{let a=yield import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function uS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function fS(e,t,a){return oe(this,null,function*(){let s=yield Promise.all(e.map(l=>oe(null,null,function*(){let c=t.routes[l.route.id];if(c){let u=yield dS(c,a);return u.links?u.links():[]}return[]})));return yS(s.flat(1).filter(uS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?de(U({},l),{rel:"prefetch",as:"style"}):de(U({},l),{rel:"prefetch"})))})}function Ov(e,t,a,s,l,c){let u=(h,m)=>a[m]?h.route.id!==a[m].route.id:!0,f=(h,m)=>{var y;return a[m].pathname!==h.pathname||((y=a[m].route.path)==null?void 0:y.endsWith("*"))&&a[m].params["*"]!==h.params["*"]};return c==="assets"?t.filter((h,m)=>u(h,m)||f(h,m)):c==="data"?t.filter((h,m)=>{var w;let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((w=a[0])==null?void 0:w.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hS(e,t,{includeHydrateFallback:a}={}){return mS(e.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function mS(e){return[...new Set(e)]}function gS(e){let t={},a=Object.keys(e).sort();for(let s of a)t[s]=e[s];return t}function yS(e,t){let a=new Set;return new Set(t),e.reduce((s,l)=>{let c=JSON.stringify(gS(l));return a.has(c)||(a.add(c),s.push({key:c,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pS=new Set([100,101,204,205]);function xS(e,t){let a=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname="_root.data":t&&Gr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function S3(){let e=x.useContext(Vi);return Zg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bS(){let e=x.useContext(od);return Zg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jg=x.createContext(void 0);Jg.displayName="FrameworkContext";function $3(){let e=x.useContext(Jg);return Zg(e,"You must render this element inside a <HydratedRouter> element"),e}function vS(e,t){let a=x.useContext(Jg),[s,l]=x.useState(!1),[c,u]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=C=>{C.forEach(L=>{u(L.isIntersecting)})},$=new IntersectionObserver(N,{threshold:.5});return b.current&&$.observe(b.current),()=>{$.disconnect()}}},[e]),x.useEffect(()=>{if(s){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[s]);let v=()=>{l(!0)},k=()=>{l(!1),u(!1)};return a?e!=="intent"?[c,b,{}]:[c,b,{onFocus:wc(f,v),onBlur:wc(h,k),onMouseEnter:wc(m,v),onMouseLeave:wc(y,k),onTouchStart:wc(w,v)}]:[!1,b,{}]}function wc(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function wS(a){var s=a,{page:e}=s,t=Lt(s,["page"]);let{router:l}=S3(),c=x.useMemo(()=>Us(l.routes,e,l.basename),[l.routes,e,l.basename]);return c?x.createElement(jS,U({page:e,matches:c},t)):null}function NS(e){let{manifest:t,routeModules:a}=$3(),[s,l]=x.useState([]);return x.useEffect(()=>{let c=!1;return fS(e,t,a).then(u=>{c||l(u)}),()=>{c=!0}},[e,t,a]),s}function jS(s){var l=s,{page:e,matches:t}=l,a=Lt(l,["page","matches"]);let c=Kr(),{manifest:u,routeModules:f}=$3(),{basename:h}=S3(),{loaderData:m,matches:y}=bS(),w=x.useMemo(()=>Ov(e,t,y,u,c,"data"),[e,t,y,u,c]),b=x.useMemo(()=>Ov(e,t,y,u,c,"assets"),[e,t,y,u,c]),v=x.useMemo(()=>{if(e===c.pathname+c.search+c.hash)return[];let $=new Set,C=!1;if(t.forEach(M=>{var O;let B=u.routes[M.route.id];!B||!B.hasLoader||(!w.some(R=>R.route.id===M.route.id)&&M.route.id in m&&((O=f[M.route.id])!=null&&O.shouldRevalidate)||B.hasClientLoader?C=!0:$.add(M.route.id))}),$.size===0)return[];let L=xS(e,h);return C&&$.size>0&&L.searchParams.set("_routes",t.filter(M=>$.has(M.route.id)).map(M=>M.route.id).join(",")),[L.pathname+L.search]},[h,m,c,u,w,t,e,f]),k=x.useMemo(()=>hS(b,u),[b,u]),N=NS(b);return x.createElement(x.Fragment,null,v.map($=>x.createElement("link",U({key:$,rel:"prefetch",as:"fetch",href:$},a))),k.map($=>x.createElement("link",U({key:$,rel:"modulepreload",href:$},a))),N.map(({key:$,link:C})=>x.createElement("link",U({key:$},C))))}function kS(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var C3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{C3&&(window.__reactRouterVersion="7.6.2")}catch(e){}function SS(e,t){return u6({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:Ok({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||$S(),routes:e,mapRouteProperties:K6,hydrationRouteProperties:Y6,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function $S(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=de(U({},e),{errors:CS(e.errors)})),e}function CS(e){if(!e)return null;let t=Object.entries(e),a={};for(let[s,l]of t)if(l&&l.__type==="RouteErrorResponse")a[s]=new t0(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let c=window[l.__subType];if(typeof c=="function")try{let u=new c(l.message);u.stack="",a[s]=u}catch(u){}}if(a[s]==null){let c=new Error(l.message);c.stack="",a[s]=c}}else a[s]=l;return a}var _3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cd=x.forwardRef(function(k,v){var N=k,{onClick:t,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:f,target:h,to:m,preventScrollReset:y,viewTransition:w}=N,b=Lt(N,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:$}=x.useContext(fn),C=typeof m=="string"&&_3.test(m),L,M=!1;if(typeof m=="string"&&C&&(L=m,C3))try{let V=new URL(window.location.href),Z=m.startsWith("//")?new URL(V.protocol+m):new URL(m),J=Gr(Z.pathname,$);Z.origin===V.origin&&J!=null?m=J+Z.search+Z.hash:M=!0}catch(V){Ea(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=A6(m,{relative:l}),[O,R,ae]=vS(s,b),q=AS(m,{replace:u,state:f,target:h,preventScrollReset:y,relative:l,viewTransition:w});function G(V){t&&t(V),V.defaultPrevented||q(V)}let H=x.createElement("a",de(U(U({},b),ae),{href:L||B,onClick:M||c?t:G,ref:kS(v,R),target:h,"data-discover":!C&&a==="render"?"true":void 0}));return O&&!C?x.createElement(x.Fragment,null,H,x.createElement(wS,{page:B})):H});cd.displayName="Link";var _S=x.forwardRef(function(w,y){var b=w,{"aria-current":t="page",caseSensitive:a=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:f,children:h}=b,m=Lt(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let v=ld(u,{relative:m.relative}),k=Kr(),N=x.useContext(od),{navigator:$,basename:C}=x.useContext(fn),L=N!=null&&DS(v)&&f===!0,M=$.encodeLocation?$.encodeLocation(v).pathname:v.pathname,B=k.pathname,O=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(B=B.toLowerCase(),O=O?O.toLowerCase():null,M=M.toLowerCase()),O&&C&&(O=Gr(O,C)||O);const R=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let ae=B===M||!l&&B.startsWith(M)&&B.charAt(R)==="/",q=O!=null&&(O===M||!l&&O.startsWith(M)&&O.charAt(M.length)==="/"),G={isActive:ae,isPending:q,isTransitioning:L},H=ae?t:void 0,V;typeof s=="function"?V=s(G):V=[s,ae?"active":null,q?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(G):c;return x.createElement(cd,de(U({},m),{"aria-current":H,className:V,ref:y,style:Z,to:u,viewTransition:f}),typeof h=="function"?h(G):h)});_S.displayName="NavLink";var ES=x.forwardRef((k,v)=>{var N=k,{discover:e="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:l,state:c,method:u=zu,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:w}=N,b=Lt(N,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let $=PS(),C=MS(f,{relative:m}),L=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&_3.test(f),B=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let R=O.nativeEvent.submitter,ae=(R==null?void 0:R.getAttribute("formmethod"))||u;$(R||O.currentTarget,{fetcherKey:t,method:ae,navigate:a,replace:l,state:c,relative:m,preventScrollReset:y,viewTransition:w})};return x.createElement("form",de(U({ref:v,method:L,action:C,onSubmit:s?h:B},b),{"data-discover":!M&&e==="render"?"true":void 0}))});ES.displayName="Form";function TS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E3(e){let t=x.useContext(Vi);return Gt(t,TS(e)),t}function AS(e,{target:t,replace:a,state:s,preventScrollReset:l,relative:c,viewTransition:u}={}){let f=Ma(),h=Kr(),m=ld(e,{relative:c});return x.useCallback(y=>{if(iS(y,t)){y.preventDefault();let w=a!==void 0?a:Qs(h)===Qs(m);f(e,{replace:w,state:s,preventScrollReset:l,relative:c,viewTransition:u})}},[h,f,m,a,s,t,e,l,c,u])}var OS=0,RS=()=>`__${String(++OS)}__`;function PS(){let{router:e}=E3("useSubmit"),{basename:t}=x.useContext(fn),a=q6();return x.useCallback((c,...u)=>oe(null,[c,...u],function*(s,l={}){let{action:f,method:h,encType:m,formData:y,body:w}=cS(s,t);if(l.navigate===!1){let b=l.fetcherKey||RS();yield e.fetch(b,a,l.action||f,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else yield e.navigate(l.action||f,{preventScrollReset:l.preventScrollReset,formData:y,body:w,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})}),[e,t,a])}function MS(e,{relative:t}={}){let{basename:a}=x.useContext(fn),s=x.useContext(Vr);Gt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c=U({},ld(e||".",{relative:t})),u=Kr();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();c.search=y?`?${y}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Cn([a,c.pathname])),Qs(c)}function DS(e,t={}){let a=x.useContext(Kg);Gt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=E3("useViewTransitionState"),l=ld(e,{relative:t.relative});if(!a.isTransitioning)return!1;let c=Gr(a.currentLocation.pathname,s)||a.currentLocation.pathname,u=Gr(a.nextLocation.pathname,s)||a.nextLocation.pathname;return e0(l.pathname,u)!=null||e0(l.pathname,c)!=null}[...pS];var ey=s3();const LS=ml(ey);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IS(e){return x.createElement(X6,U({flushSync:ey.flushSync},e))}const Gn={};class US{constructor(){Yh(this,"config");Yh(this,"sessionId",null);const t=window.location.pathname.startsWith("/klik_pos");this.config={baseUrl:t?"":(Gn==null?void 0:Gn.VITE_ERPNEXT_BASE_URL)||"http://localhost:8000",apiKey:(Gn==null?void 0:Gn.VITE_API_KEY)||"",apiSecret:(Gn==null?void 0:Gn.VITE_API_SECRET)||""}}getHeaders(t=!0){const a={"Content-Type":"application/json",Accept:"application/json"};if(t&&this.config.apiKey&&this.config.apiSecret){const s=btoa(`${this.config.apiKey}:${this.config.apiSecret}`);a.Authorization=`Basic ${s}`}return this.sessionId&&(a.Cookie=`sid=${this.sessionId}`),a}login(t,a){return oe(this,null,function*(){var s,l;try{console.log("Attempting login to:",this.config.baseUrl);let c=yield fetch(`${this.config.baseUrl}/api/method/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:t,pwd:a}),credentials:"include"});if(console.log("Login response status:",c.status),console.log("Login response headers:",Object.fromEntries(c.headers.entries())),c.status===404&&(console.log("Trying alternative login endpoint..."),c=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({usr:t,pwd:a}),credentials:"include"}),console.log("Alternative login response status:",c.status)),!c.ok){console.error("Login failed with status:",c.status);const f=yield c.text();console.error("Error response body:",f);let h=`HTTP ${c.status}: ${c.statusText}`;try{const m=JSON.parse(f);m.message?h=m.message:m.exc&&(h=m.exc)}catch(m){f&&f.trim()&&(h=f)}return{success:!1,message:h}}const u=yield c.json();if(console.log("Login response data:",u),u.message==="Logged In"||(s=u.message)!=null&&s.name||(l=u.message)!=null&&l.email){const f=c.headers.get("set-cookie");if(f){const m=f.match(/sid=([^;]+)/);m&&(this.sessionId=m[1],localStorage.setItem("erpnext_sid",this.sessionId),console.log("Session ID stored:",this.sessionId))}try{console.log("Fetching user profile data...");const m=yield this.getCurrentUserProfile();if(console.log("User profile fetched:",m),m)return{success:!0,message:"Login successful",user:{name:m.name||t,email:m.email||m.name||t,full_name:m.full_name||m.first_name+" "+(m.last_name||"")||t,role:m.role_profile_name||m.role||"User",first_name:m.first_name,last_name:m.last_name,user_image:m.user_image},sid:this.sessionId||void 0}}catch(m){console.warn("Failed to fetch user profile, using basic data:",m)}let h;return typeof u.message=="string"&&u.message==="Logged In"?h={name:t,email:t,full_name:t,role:"User"}:u.message&&typeof u.message=="object"?h={name:u.message.name||t,email:u.message.email||u.message.name||t,full_name:u.message.full_name||u.message.name||t,role:u.message.role||"User"}:h={name:t,email:t,full_name:t,role:"User"},{success:!0,message:"Login successful",user:h,sid:this.sessionId||void 0}}else return{success:!1,message:u.message||u.exc||"Login failed"}}catch(c){if(console.error("Login error details:",c),c instanceof TypeError&&c.message.includes("fetch"))return{success:!1,message:"Network error. Please check if the ERPNext server is accessible."};if(c instanceof Error){if(c.message.includes("timeout"))return{success:!1,message:"Connection timeout. Please try again."};if(c.message.includes("Failed to fetch"))return{success:!1,message:"Unable to connect to the server. Please check your internet connection."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}})}logout(){return oe(this,null,function*(){try{yield fetch(`${this.config.baseUrl}/api/method/logout`,{method:"POST",headers:this.getHeaders(),credentials:"include"})}catch(t){console.error("Logout error:",t)}finally{this.sessionId=null,localStorage.removeItem("erpnext_sid")}})}getCurrentUser(){return oe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).message}catch(t){return console.error("Get current user error:",t),null}})}getCurrentUserProfile(){return oe(this,null,function*(){try{const t=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!t.ok)throw new Error(`Failed to fetch logged user: ${t.status}`);const s=(yield t.json()).message;if(!s)throw new Error("No logged user found");const l=yield fetch(`${this.config.baseUrl}/api/resource/User/${s}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!l.ok)throw new Error(`Failed to fetch user profile: ${l.status}`);return(yield l.json()).data}catch(t){throw console.error("Get user profile error:",t),t}})}testConnection(){return oe(this,null,function*(){try{console.log("Testing connection to:",this.config.baseUrl);let t=yield fetch(`${this.config.baseUrl}/api/method/ping`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});return console.log("Ping response:",{status:t.status,statusText:t.statusText,headers:Object.fromEntries(t.headers.entries())}),t.status===404&&(console.log("Ping failed, trying version endpoint..."),t=yield fetch(`${this.config.baseUrl}/api/method/frappe.utils.get_site_info`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"})),t.ok?{success:!0,message:"Connection successful",details:yield t.json()}:{success:!1,message:`Server responded with status: ${t.status} - ${t.statusText}`,details:{status:t.status,statusText:t.statusText}}}catch(t){console.error("Connection test error details:",t);let a="Unknown error";return t instanceof Error&&(t.name==="AbortError"?a="Connection timeout - server took too long to respond":t.message.includes("CORS")?a="CORS error - server may not allow cross-origin requests":t.message.includes("Failed to fetch")?a="Network error - server may be unreachable or blocked":a=t.message),{success:!1,message:`Connection failed: ${a}`,details:t}}})}makeAPICall(s){return oe(this,arguments,function*(t,a={}){const l=U({method:"GET",headers:this.getHeaders(),credentials:"include"},a);try{console.log("Making API call:",{url:t,options:l});const c=yield fetch(t,l);return c.ok||console.error("API call failed:",{url:t,status:c.status,statusText:c.statusText,headers:Object.fromEntries(c.headers.entries())}),c}catch(c){throw console.error("API call error:",{url:t,error:c}),c}})}apiCall(s){return oe(this,arguments,function*(t,a={}){try{return yield(yield this.makeAPICall(`${this.config.baseUrl}/api/method/${t}`,{method:"POST",body:JSON.stringify(a)})).json()}catch(l){throw console.error(`API call error (${t}):`,l),l}})}getDocList(l){return oe(this,arguments,function*(t,a=["*"],s={}){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}?${new URLSearchParams({fields:JSON.stringify(a),filters:JSON.stringify(s)})}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(c){throw console.error(`Get ${t} list error:`,c),c}})}getDoc(t,a){return oe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}/${a}`,{method:"GET",headers:this.getHeaders(),credentials:"include"})).json()).data}catch(s){throw console.error(`Get ${t} document error:`,s),s}})}createDoc(t,a){return oe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(a),credentials:"include"})).json()).data}catch(s){throw console.error(`Create ${t} document error:`,s),s}})}updateDoc(t,a,s){return oe(this,null,function*(){try{return(yield(yield fetch(`${this.config.baseUrl}/api/resource/${t}/${a}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(s),credentials:"include"})).json()).data}catch(l){throw console.error(`Update ${t} document error:`,l),l}})}validateSession(){return oe(this,null,function*(){try{const t=yield fetch(`${this.config.baseUrl}/api/method/frappe.auth.get_logged_user`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return t.ok?!!(yield t.json()).message:!1}catch(t){return console.error("Session validation failed:",t),!1}})}initializeSession(){const t=localStorage.getItem("erpnext_sid");t&&(this.sessionId=t,console.log("Session restored from localStorage:",t))}}const Qn=new US,T3=x.createContext(void 0);function FS({children:e}){const[t,a]=x.useState(null),[s,l]=x.useState(!0),[c,u]=x.useState(!1);x.useEffect(()=>{u(!0)},[]),x.useEffect(()=>{if(!c)return;Qn.initializeSession();const y=localStorage.getItem("erpnext_token"),w=localStorage.getItem("user_data");if(y&&w)try{const b=JSON.parse(w);a(b),oe(null,null,function*(){try{if(!(yield Qn.validateSession())){console.warn("Session is invalid, clearing auth data"),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid"),a(null);return}const N=yield Qn.getCurrentUserProfile();if(N){const $={name:N.name||b.name,email:N.email||N.name||b.email,full_name:N.full_name||N.first_name+" "+(N.last_name||"")||b.full_name,role:N.role_profile_name||N.role||b.role||"User",first_name:N.first_name,last_name:N.last_name,user_image:N.user_image};a($),localStorage.setItem("user_data",JSON.stringify($))}}catch(k){console.warn("Failed to refresh user data, using cached data:",k)}})}catch(b){console.error("Error parsing user data:",b),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}l(!1)},[c]);const f=(y,w)=>oe(null,null,function*(){try{l(!0);const b=yield Qn.login(y,w);if(b.success&&b.user){console.log("Login successful:",b.user);const v={name:b.user.name||y,email:b.user.email||y,full_name:b.user.full_name||b.user.name||y,role:b.user.role||"User"};return a(v),localStorage.setItem("erpnext_token","authenticated"),localStorage.setItem("user_data",JSON.stringify(v)),{success:!0,message:b.message}}else return{success:!1,message:b.message}}catch(b){return console.error("Login error:",b),{success:!1,message:"Login failed. Please try again."}}finally{l(!1)}}),h=()=>oe(null,null,function*(){yield Qn.logout(),a(null),localStorage.removeItem("erpnext_token"),localStorage.removeItem("user_data"),localStorage.removeItem("erpnext_sid")}),m=()=>oe(null,null,function*(){if(!t)return!1;try{return(yield Qn.validateSession())?!0:(console.log("Session expired, logging out"),yield h(),!1)}catch(y){return console.error("Session check failed:",y),!1}});return r.jsx(T3.Provider,{value:{user:t,login:f,logout:h,checkSession:m,loading:s,isAuthenticated:!!t},children:e})}function Ws(){const e=x.useContext(T3);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function BS(){const[e,t]=x.useState(""),[a,s]=x.useState(""),[l,c]=x.useState(""),[u,f]=x.useState(!1),h=Ma(),m=Kr(),{login:y}=Ws(),w=v=>oe(null,null,function*(){var k,N;v.preventDefault(),f(!0),c("");try{const $=yield y(e,a);if($.success){const C=((N=(k=m.state)==null?void 0:k.from)==null?void 0:N.pathname)||"/pos";h(C,{replace:!0})}else c(b($.message))}catch($){c("An unexpected error occurred. Please try again.")}finally{f(!1)}}),b=v=>v.includes("HTTP 401")||v.includes("401")?"Invalid username or password. Please check your credentials and try again.":v.includes("HTTP 403")||v.includes("403")?"Access denied. Please contact your administrator.":v.includes("HTTP 404")||v.includes("404")?"Login service not available. Please contact your administrator.":v.includes("HTTP 500")||v.includes("500")?"Server error. Please try again later or contact your administrator.":v.includes("Network error")||v.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":v.includes("timeout")?"Connection timeout. Please try again.":v.includes("Invalid credentials")||v.includes("incorrect")?"Invalid username or password. Please check your credentials and try again.":v.includes("User not found")?"User not found. Please check your username and try again.":v.includes("Account disabled")?"Your account has been disabled. Please contact your administrator.":v.includes("Too many attempts")?"Too many login attempts. Please wait a few minutes before trying again.":v&&!v.includes("HTTP")&&!v.includes("Error:")?v:"Login failed. Please check your credentials and try again.";return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),r.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[r.jsxs("div",{className:"bg-white/95 rounded-2xl shadow-2xl p-6 backdrop-blur-sm",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"https://beverensoftware.com/wp-content/uploads/2023/06/cropped-15-1-180x180.png",alt:"KLiK PoS",className:"w-16 h-16 rounded-full shadow-lg"})}),r.jsx("h1",{className:"text-3xl font-bold text-beveren-800",children:"KLiK PoS"})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"username",type:"text",value:e,onChange:v=>t(v.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Username or Email",required:!0}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:"password",value:a,onChange:v=>s(v.target.value),className:"w-full px-4 py-2.5 border-2 border-beveren-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 bg-beveren-50/50",placeholder:"Password",required:!0}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("svg",{className:"w-5 h-5 text-beveren-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:r.jsx("p",{className:"text-sm text-red-600 font-medium text-center",children:l})}),r.jsx("button",{type:"submit",disabled:u,className:"w-full bg-beveren-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-beveren-700 focus:outline-none focus:ring-4 focus:ring-beveren-300 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-beveren-400 disabled:cursor-not-allowed",children:u?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),r.jsx("span",{className:"ml-2",children:"Signing In..."})]}):"Sign In"})]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsxs("p",{className:"text-sm text-beveren-600",children:["Powered by"," ",r.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline",children:"Beveren Software"})]})})]})]})}const A3=x.createContext(void 0),zS={en:{LOGIN_TITLE:"Login",USERNAME:"Username",PASSWORD:"Password",LOGIN_BUTTON:"Login",LOGGING_IN:"Logging in...",INVALID_CREDENTIALS:"Invalid credentials",LOGIN_ERROR:"Login error",PROFILE:"Profile",LOGOUT:"Logout",PAYMENT_TITLE:"Payment",SEARCH_PLACEHOLDER:"Search products",CART:"Cart",CART_EMPTY:"Your cart is empty",SUBTOTAL:"Subtotal",VAT:"VAT",TOTAL:"Total",PROMO_CODE_PLACEHOLDER:"Enter promo code",PROCEED_TO_CHECKOUT:"Proceed to Checkout",BACK_TO_CART:"Back to Cart",INVOICE_SUMMARY:"Invoice Summary",INVOICE_ID:"Invoice ID",DATE_TIME:"Date & Time",SCAN_TO_VERIFY:"Scan to Verify",PAYMENT_METHODS:"Payment Methods",CASH:"Cash",CARD:"Card",DIGITAL_WALLET:"Digital Wallet",AMOUNT_RECEIVED:"Amount Received",CHANGE:"Change",INSERT_OR_TAP_CARD:"Insert or Tap Card",SCAN_WITH_STC_PAY:"Scan with STC Pay",CONFIRM_PAYMENT:"Confirm Payment",OFFLINE_MESSAGE:"You are offline. New orders will sync when you're back online.",INVOICE_NOT_FOUND:"Invoice not found"},ar:{LOGIN_TITLE:"تسجيل الدخول",USERNAME:"اسم المستخدم",PASSWORD:"كلمة المرور",LOGIN_BUTTON:"دخول",LOGGING_IN:"جاري تسجيل الدخول...",INVALID_CREDENTIALS:"بيانات الاعتماد غير صحيحة",LOGIN_ERROR:"خطأ في تسجيل الدخول",PROFILE:"الملف الشخصي",LOGOUT:"تسجيل الخروج",PAYMENT_TITLE:"الدفع",SEARCH_PLACEHOLDER:"ابحث عن منتج",CART:"السلة",CART_EMPTY:"سلتك فارغة",SUBTOTAL:"المجموع الفرعي",VAT:"ضريبة القيمة المضافة",TOTAL:"الإجمالي",PROMO_CODE_PLACEHOLDER:"أدخل رمز العرض",PROCEED_TO_CHECKOUT:"إتمام الدفع",BACK_TO_CART:"العودة للسلة",INVOICE_SUMMARY:"ملخص الفاتورة",INVOICE_ID:"رقم الفاتورة",DATE_TIME:"التاريخ والوقت",SCAN_TO_VERIFY:"امسح للتدقيق",PAYMENT_METHODS:"طرق الدفع",CASH:"نقد",CARD:"بطاقة",DIGITAL_WALLET:"المحفظة الرقمية",AMOUNT_RECEIVED:"المبلغ المستلم",CHANGE:"الباقي",INSERT_OR_TAP_CARD:"أدخل أو اضغط البطاقة",SCAN_WITH_STC_PAY:"امسح عبر STC Pay",CONFIRM_PAYMENT:"تأكيد الدفع",OFFLINE_MESSAGE:"أنت غير متصل. سيتم مزامنة الطلبات عند عودتك للإنترنت.",INVOICE_NOT_FOUND:"الفاتورة غير موجودة"}};function HS({children:e}){const[t,a]=x.useState("en"),[s,l]=x.useState(!1);x.useEffect(()=>{l(!0)},[]),x.useEffect(()=>{if(!s)return;const h=localStorage.getItem("language")||"en";a(h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h},[s]);const c=h=>{s&&(a(h),localStorage.setItem("language",h),document.documentElement.dir=h==="ar"?"rtl":"ltr",document.documentElement.lang=h)},u=h=>{var m;return((m=zS[t])==null?void 0:m[h])||h},f=t==="ar";return r.jsx(A3.Provider,{value:{language:t,setLanguage:c,t:u,isRTL:f},children:e})}function hn(){const e=x.useContext(A3);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e}function qS(){const[e,t]=x.useState(null),[a,s]=x.useState(!0),[l,c]=x.useState(null),u=x.useCallback(()=>oe(null,null,function*(){s(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.pos_entry.open_pos")).json();if(typeof h.message=="boolean")t(h.message);else throw new Error("Unexpected response")}catch(f){console.error("Error checking POS Opening Entry:",f),c(f.message||"Failed to check opening entry status")}finally{s(!1)}}),[]);return x.useEffect(()=>{u()},[u]),{hasOpenEntry:e,isLoading:a,error:l,refetch:u}}const O3=x.createContext(void 0),cm="klik_pos_products_cache",dm="klik_pos_products_cache_expiry",GS=5*60*1e3;function VS({children:e}){const{isAuthenticated:t,loading:a}=Ws(),[s,l]=x.useState([]),[c,u]=x.useState(!0),[f,h]=x.useState(!1),[m,y]=x.useState(null),[w,b]=x.useState(null),v=x.useCallback(()=>{try{const G=localStorage.getItem(cm),H=localStorage.getItem(dm);if(G&&H){const V=new Date(H).getTime();if(Date.now()<V)return JSON.parse(G);console.log("Product cache expired, clearing..."),localStorage.removeItem(cm),localStorage.removeItem(dm)}}catch(G){console.error("Error loading products from cache:",G)}return null},[]),k=x.useCallback(G=>{try{const H=new Date(Date.now()+GS);localStorage.setItem(cm,JSON.stringify(G)),localStorage.setItem(dm,H.toISOString()),console.log(`Cached ${G.length} products until ${H.toLocaleTimeString()}`)}catch(H){console.error("Error saving products to cache:",H)}},[]),N=()=>oe(null,null,function*(){const G=yield fetch("/api/method/klik_pos.api.item.get_items_with_balance_and_price");if(!G.ok)throw new Error(`HTTP ${G.status}: ${G.statusText}`);const H=yield G.json();if(H!=null&&H.message&&Array.isArray(H.message))return H.message;throw console.error("Invalid response format:",H),new Error("Invalid response format")}),$=()=>oe(null,null,function*(){try{const G=yield fetch("/api/method/klik_pos.api.item.get_stock_updates");if(!G.ok)throw console.error(`Stock update API failed: ${G.status} ${G.statusText}`),new Error(`HTTP ${G.status}: ${G.statusText}`);const H=yield G.json();return H!=null&&H.message&&typeof H.message=="object"?H.message:(console.warn("No stock updates in response:",H),{})}catch(G){console.error("Error fetching stock updates:",G);try{const H=s.map(V=>V.id).join(",");if(H){const V=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(H)}`);if(V.ok){const Z=yield V.json();if(Z!=null&&Z.message&&typeof Z.message=="object")return Z.message}}}catch(H){console.error("Batch API fallback also failed:",H)}throw G}}),C=(G=!1)=>oe(null,null,function*(){u(!0),y(null);try{let H;if(G)H=yield N(),k(H);else{const V=v();V?(H=V,u(!1),L()):(H=yield N(),k(H))}l(H),b(new Date)}catch(H){console.error("Error fetching products:",H),y(H.message||"Unknown error occurred");const V=v();V&&(l(V),console.log("Using cached products as fallback"))}finally{u(!1)}}),L=()=>oe(null,null,function*(){try{const G=yield $();Object.keys(G).length>0&&l(H=>H.map(V=>{var Z;return de(U({},V),{available:(Z=G[V.id])!=null?Z:V.available})}))}catch(G){console.error("Background stock update failed:",G)}}),M=x.useCallback((G,H)=>{l(V=>V.map(Z=>Z.id===G?de(U({},Z),{available:H}):Z)),console.log(`Updated stock for ${G} to ${H}`)},[]),B=x.useCallback(G=>oe(null,null,function*(){if(G.length!==0)try{const H=G.join(","),V=yield fetch(`/api/method/klik_pos.api.item.get_items_stock_batch?item_codes=${encodeURIComponent(H)}`);if(!V.ok)throw new Error(`HTTP ${V.status}: ${V.statusText}`);const Z=yield V.json();if(Z!=null&&Z.message&&typeof Z.message=="object"){const J=Z.message;l(Ne=>Ne.map(je=>{var X;return de(U({},je),{available:(X=J[je.id])!=null?X:je.available})}))}}catch(H){console.error("Failed to update stock for items:",H)}}),[]),O=x.useCallback(G=>oe(null,null,function*(){if(G.length!==0)try{const H=G.map(J=>oe(null,null,function*(){try{const je=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(J)}`)).json();return je!=null&&je.message&&Array.isArray(je.message)?{itemCode:J,batches:je.message}:(console.log(`No valid batch data for ${J}`),null)}catch(Ne){return console.error(`Failed to update batch quantities for ${J}:`,Ne),null}})),Z=(yield Promise.all(H)).filter(J=>J!==null);Z.length>0?(window.dispatchEvent(new CustomEvent("batchQuantitiesUpdated",{detail:{updatedItems:Z}})),console.log("batchQuantitiesUpdated event dispatched successfully")):console.log("No valid batch results to dispatch")}catch(H){console.error("Failed to update batch quantities for items:",H)}}),[]),R=()=>oe(null,null,function*(){yield C(!0)}),ae=()=>oe(null,null,function*(){h(!0);try{const G=yield $();return Object.keys(G).length>0?(l(H=>H.map(V=>{var Z;return de(U({},V),{available:(Z=G[V.id])!=null?Z:V.available})})),b(new Date),!0):(console.log("No stock updates needed - all items are current"),!1)}catch(G){return console.error("❌ Stock-only refresh failed:",G),console.log("Stock refresh failed - user can manually refresh if needed"),!1}finally{h(!1)}});x.useEffect(()=>{if(a)return;if(!t){u(!1),y("Authentication required to load products");return}C();const G=setInterval(L,3e4);return()=>{clearInterval(G)}},[t,a]);const q={products:s,isLoading:c,isRefreshingStock:f,error:m,refetchProducts:R,refreshStockOnly:ae,updateStockOnly:M,updateStockForItems:B,updateBatchQuantitiesForItems:O,count:s.length,lastUpdated:w};return r.jsx(O3.Provider,{value:q,children:e})}function KS(){const e=x.useContext(O3);if(e===void 0)throw new Error("useProducts must be used within a ProductProvider");return e}function v0(){const e=KS();return{products:e.products,isLoading:e.isLoading,isRefreshingStock:e.isRefreshingStock,error:e.error,refetch:e.refetchProducts,refreshStockOnly:e.refreshStockOnly,updateStockOnly:e.updateStockOnly,updateStockForItems:e.updateStockForItems,updateBatchQuantitiesForItems:e.updateBatchQuantitiesForItems,count:e.products.length,lastUpdated:e.lastUpdated}}var YS=Object.defineProperty,QS=(e,t,a)=>t in e?YS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ci=(e,t,a)=>QS(e,typeof t!="symbol"?t+"":t,a),XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oo={},Nc={},Jr={},Rv;function R3(){if(Rv)return Jr;Rv=1;var e=Jr&&Jr.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)},t=Jr&&Jr.__awaiter||function(l,c,u,f){function h(m){return m instanceof u?m:new u(function(y){y(m)})}return new(u||(u=Promise))(function(m,y){function w(k){try{v(f.next(k))}catch(N){y(N)}}function b(k){try{v(f.throw(k))}catch(N){y(N)}}function v(k){k.done?m(k.value):h(k.value).then(w,b)}v((f=f.apply(l,c||[])).next())})},a=Jr&&Jr.__generator||function(l,c){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,y;return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(v){return function(k){return b([v,k])}}function b(v){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(u=0)),u;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,h=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){u=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){u.label=v[1];break}if(v[0]===6&&u.label<m[1]){u.label=m[1],m=v;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(v);break}m[2]&&u.ops.pop(),u.trys.pop();continue}v=c.call(l,u)}catch(k){v=[6,k],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.FrappeCall=void 0;var s=function(){function l(c,u,f,h,m){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=m}return l.prototype.get=function(c,u){return t(this,void 0,void 0,function(){var f;return a(this,function(h){return f=new URLSearchParams,u&&Object.entries(u).forEach(function(m){var y=m[0],w=m[1];if(w!=null){var b=typeof w=="object"?JSON.stringify(w):w;f.set(y,b)}}),[2,this.axios.get("/api/method/".concat(c),{params:f}).then(function(m){return m.data}).catch(function(m){var y,w;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(y=m.response.data.message)!==null&&y!==void 0?y:"There was an error.",exception:(w=m.response.data.exception)!==null&&w!==void 0?w:""})})]})})},l.prototype.post=function(c,u){return t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.post("/api/method/".concat(c),e({},u)).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=h.response.data.exception)!==null&&y!==void 0?y:""})})]})})},l.prototype.put=function(c,u){return t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.put("/api/method/".concat(c),e({},u)).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=h.response.data.exception)!==null&&y!==void 0?y:""})})]})})},l.prototype.delete=function(c,u){return t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.delete("/api/method/".concat(c),{params:u}).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error.",exception:(y=h.response.data.exception)!==null&&y!==void 0?y:""})})]})})},l}();return Jr.FrappeCall=s,Jr}var en={},Pv;function P3(){if(Pv)return en;Pv=1;var e=en&&en.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)},t=en&&en.__awaiter||function(l,c,u,f){function h(m){return m instanceof u?m:new u(function(y){y(m)})}return new(u||(u=Promise))(function(m,y){function w(k){try{v(f.next(k))}catch(N){y(N)}}function b(k){try{v(f.throw(k))}catch(N){y(N)}}function v(k){k.done?m(k.value):h(k.value).then(w,b)}v((f=f.apply(l,c||[])).next())})},a=en&&en.__generator||function(l,c){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,y;return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(v){return function(k){return b([v,k])}}function b(v){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(u=0)),u;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,h=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){u=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){u.label=v[1];break}if(v[0]===6&&u.label<m[1]){u.label=m[1],m=v;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(v);break}m[2]&&u.ops.pop(),u.trys.pop();continue}v=c.call(l,u)}catch(k){v=[6,k],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(en,"__esModule",{value:!0}),en.FrappeDB=void 0;var s=function(){function l(c,u,f,h,m){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=m}return l.prototype.getDoc=function(c,u){return u===void 0&&(u=""),t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.get("/api/resource/".concat(c,"/").concat(encodeURIComponent(u))).then(function(h){return h.data.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while fetching the document.",exception:(y=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},l.prototype.getDocList=function(c,u){var f;return t(this,void 0,void 0,function(){var h,m,y,w,b,v,k,N,$,C,L;return a(this,function(M){return h={},u&&(m=u.fields,y=u.filters,w=u.orFilters,b=u.orderBy,v=u.limit,k=u.limit_start,N=u.groupBy,$=u.asDict,C=$===void 0?!0:$,L=b?"".concat(String(b==null?void 0:b.field)," ").concat((f=b==null?void 0:b.order)!==null&&f!==void 0?f:"asc"):"",h={fields:m?JSON.stringify(m):void 0,filters:y?JSON.stringify(y):void 0,or_filters:w?JSON.stringify(w):void 0,order_by:L,group_by:N,limit:v,limit_start:k,as_dict:C}),[2,this.axios.get("/api/resource/".concat(c),{params:h}).then(function(B){return B.data.data}).catch(function(B){var O,R;throw e(e({},B.response.data),{httpStatus:B.response.status,httpStatusText:B.response.statusText,message:"There was an error while fetching the documents.",exception:(R=(O=B.response.data.exception)!==null&&O!==void 0?O:B.response.data.exc_type)!==null&&R!==void 0?R:""})})]})})},l.prototype.createDoc=function(c,u){return t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.post("/api/resource/".concat(c),e({},u)).then(function(h){return h.data.data}).catch(function(h){var m,y,w;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:(m=h.response.data.message)!==null&&m!==void 0?m:"There was an error while creating the document.",exception:(w=(y=h.response.data.exception)!==null&&y!==void 0?y:h.response.data.exc_type)!==null&&w!==void 0?w:""})})]})})},l.prototype.updateDoc=function(c,u,f){return t(this,void 0,void 0,function(){return a(this,function(h){return[2,this.axios.put("/api/resource/".concat(c,"/").concat(u&&encodeURIComponent(u)),e({},f)).then(function(m){return m.data.data}).catch(function(m){var y,w,b;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:(y=m.response.data.message)!==null&&y!==void 0?y:"There was an error while updating the document.",exception:(b=(w=m.response.data.exception)!==null&&w!==void 0?w:m.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},l.prototype.deleteDoc=function(c,u){return t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.delete("/api/resource/".concat(c,"/").concat(u&&encodeURIComponent(u))).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while deleting the document.",exception:(y=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},l.prototype.getCount=function(c,u,f,h){return f===void 0&&(f=!1),h===void 0&&(h=!1),t(this,void 0,void 0,function(){var m;return a(this,function(y){return m={doctype:c,filters:[]},f&&(m.cache=f),h&&(m.debug=h),u&&(m.filters=u?JSON.stringify(u):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:m}).then(function(w){return w.data.message}).catch(function(w){var b,v;throw e(e({},w.response.data),{httpStatus:w.response.status,httpStatusText:w.response.statusText,message:"There was an error while getting the count.",exception:(v=(b=w.response.data.exception)!==null&&b!==void 0?b:w.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},l.prototype.getLastDoc=function(c,u){return t(this,void 0,void 0,function(){var f,h;return a(this,function(m){switch(m.label){case 0:return f={orderBy:{field:"creation",order:"desc"}},u&&(f=e(e({},f),u)),[4,this.getDocList(c,e(e({},f),{limit:1,fields:["name"]}))];case 1:return h=m.sent(),h.length>0?[2,this.getDoc(c,h[0].name)]:[2,{}]}})})},l.prototype.renameDoc=function(c,u,f,h){return h===void 0&&(h=!1),t(this,void 0,void 0,function(){return a(this,function(m){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:c,old_name:u,new_name:f,merge:h}).then(function(y){return y.data}).catch(function(y){var w,b,v;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:(w=y.response.data.message)!==null&&w!==void 0?w:"There was an error while renaming the document.",exception:(v=(b=y.response.data.exception)!==null&&b!==void 0?b:y.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},l.prototype.getValue=function(c,u,f,h,m,y){return h===void 0&&(h=!0),m===void 0&&(m=!1),y===void 0&&(y=null),t(this,void 0,void 0,function(){var w;return a(this,function(b){return w={doctype:c,fieldname:"[]",filters:[],as_dict:h,debug:m,parent:null},u&&(w.fieldname=typeof u=="object"?JSON.stringify(u):u),f&&(w.filters=f?JSON.stringify(f):void 0),y&&(w.parent=y),[2,this.axios.get("/api/method/frappe.client.get_value",{params:w}).then(function(v){return v.data}).catch(function(v){var k,N;throw e(e({},v.response.data),{httpStatus:v.response.status,httpStatusText:v.response.statusText,message:"There was an error while getting the value.",exception:(N=(k=v.response.data.exception)!==null&&k!==void 0?k:v.response.data.exc_type)!==null&&N!==void 0?N:""})})]})})},l.prototype.setValue=function(c,u,f,h){return t(this,void 0,void 0,function(){return a(this,function(m){return f!==null&&typeof f=="object"&&!Array.isArray(f)&&(h=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:c,name:u,fieldname:f,value:h}).then(function(y){return y.data}).catch(function(y){var w,b;throw e(e({},y.response.data),{httpStatus:y.response.status,httpStatusText:y.response.statusText,message:"There was an error while setting the value.",exception:(b=(w=y.response.data.exception)!==null&&w!==void 0?w:y.response.data.exc_type)!==null&&b!==void 0?b:""})})]})})},l.prototype.getSingleValue=function(c,u){return t(this,void 0,void 0,function(){var f;return a(this,function(h){return f={doctype:c,field:u},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:f}).then(function(m){return m.data}).catch(function(m){var y,w;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(w=(y=m.response.data.exception)!==null&&y!==void 0?y:m.response.data.exc_type)!==null&&w!==void 0?w:""})})]})})},l.prototype.submit=function(c){return t(this,void 0,void 0,function(){return a(this,function(u){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:c}).then(function(f){return f.data.message}).catch(function(f){var h,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while submitting the document.",exception:(m=(h=f.response.data.exception)!==null&&h!==void 0?h:f.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},l.prototype.cancel=function(c,u){return t(this,void 0,void 0,function(){return a(this,function(f){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:c,name:u}).then(function(h){return h.data}).catch(function(h){var m,y;throw e(e({},h.response.data),{httpStatus:h.response.status,httpStatusText:h.response.statusText,message:"There was an error while cancelling the document.",exception:(y=(m=h.response.data.exception)!==null&&m!==void 0?m:h.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},l}();return en.FrappeDB=s,en}var tn={},Vn={};/*! Axios v1.8.2 Copyright (c) 2025 Matt Zabriskie and contributors */var um,Mv;function WS(){if(Mv)return um;Mv=1;function e(j,_){return function(){return j.apply(_,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:a}=Object,s=(j=>_=>{const D=t.call(_);return j[D]||(j[D]=D.slice(8,-1).toLowerCase())})(Object.create(null)),l=j=>(j=j.toLowerCase(),_=>s(_)===j),c=j=>_=>typeof _===j,{isArray:u}=Array,f=c("undefined");function h(j){return j!==null&&!f(j)&&j.constructor!==null&&!f(j.constructor)&&b(j.constructor.isBuffer)&&j.constructor.isBuffer(j)}const m=l("ArrayBuffer");function y(j){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(j):_=j&&j.buffer&&m(j.buffer),_}const w=c("string"),b=c("function"),v=c("number"),k=j=>j!==null&&typeof j=="object",N=j=>j===!0||j===!1,$=j=>{if(s(j)!=="object")return!1;const _=a(j);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in j)&&!(Symbol.iterator in j)},C=l("Date"),L=l("File"),M=l("Blob"),B=l("FileList"),O=j=>k(j)&&b(j.pipe),R=j=>{let _;return j&&(typeof FormData=="function"&&j instanceof FormData||b(j.append)&&((_=s(j))==="formdata"||_==="object"&&b(j.toString)&&j.toString()==="[object FormData]"))},ae=l("URLSearchParams"),[q,G,H,V]=["ReadableStream","Request","Response","Headers"].map(l),Z=j=>j.trim?j.trim():j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(j,_,{allOwnKeys:D=!1}={}){if(j===null||typeof j>"u")return;let I,ie;if(typeof j!="object"&&(j=[j]),u(j))for(I=0,ie=j.length;I<ie;I++)_.call(null,j[I],I,j);else{const fe=D?Object.getOwnPropertyNames(j):Object.keys(j),pe=fe.length;let Ge;for(I=0;I<pe;I++)Ge=fe[I],_.call(null,j[Ge],Ge,j)}}function Ne(j,_){_=_.toLowerCase();const D=Object.keys(j);let I=D.length,ie;for(;I-- >0;)if(ie=D[I],_===ie.toLowerCase())return ie;return null}const je=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:XS,X=j=>!f(j)&&j!==je;function re(){const{caseless:j}=X(this)&&this||{},_={},D=(I,ie)=>{const fe=j&&Ne(_,ie)||ie;$(_[fe])&&$(I)?_[fe]=re(_[fe],I):$(I)?_[fe]=re({},I):u(I)?_[fe]=I.slice():_[fe]=I};for(let I=0,ie=arguments.length;I<ie;I++)arguments[I]&&J(arguments[I],D);return _}const ne=(j,_,D,{allOwnKeys:I}={})=>(J(_,(ie,fe)=>{D&&b(ie)?j[fe]=e(ie,D):j[fe]=ie},{allOwnKeys:I}),j),Ae=j=>(j.charCodeAt(0)===65279&&(j=j.slice(1)),j),z=(j,_,D,I)=>{j.prototype=Object.create(_.prototype,I),j.prototype.constructor=j,Object.defineProperty(j,"super",{value:_.prototype}),D&&Object.assign(j.prototype,D)},me=(j,_,D,I)=>{let ie,fe,pe;const Ge={};if(_=_||{},j==null)return _;do{for(ie=Object.getOwnPropertyNames(j),fe=ie.length;fe-- >0;)pe=ie[fe],(!I||I(pe,j,_))&&!Ge[pe]&&(_[pe]=j[pe],Ge[pe]=!0);j=D!==!1&&a(j)}while(j&&(!D||D(j,_))&&j!==Object.prototype);return _},T=(j,_,D)=>{j=String(j),(D===void 0||D>j.length)&&(D=j.length),D-=_.length;const I=j.indexOf(_,D);return I!==-1&&I===D},ee=j=>{if(!j)return null;if(u(j))return j;let _=j.length;if(!v(_))return null;const D=new Array(_);for(;_-- >0;)D[_]=j[_];return D},ue=(j=>_=>j&&_ instanceof j)(typeof Uint8Array<"u"&&a(Uint8Array)),P=(j,_)=>{const D=(j&&j[Symbol.iterator]).call(j);let I;for(;(I=D.next())&&!I.done;){const ie=I.value;_.call(j,ie[0],ie[1])}},K=(j,_)=>{let D;const I=[];for(;(D=j.exec(_))!==null;)I.push(D);return I},ke=l("HTMLFormElement"),Ie=j=>j.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_,D,I){return D.toUpperCase()+I}),Ye=(({hasOwnProperty:j})=>(_,D)=>j.call(_,D))(Object.prototype),De=l("RegExp"),gt=(j,_)=>{const D=Object.getOwnPropertyDescriptors(j),I={};J(D,(ie,fe)=>{let pe;(pe=_(ie,fe,j))!==!1&&(I[fe]=pe||ie)}),Object.defineProperties(j,I)},lt=j=>{gt(j,(_,D)=>{if(b(j)&&["arguments","caller","callee"].indexOf(D)!==-1)return!1;const I=j[D];if(b(I)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+D+"'")})}})},Ht=(j,_)=>{const D={},I=ie=>{ie.forEach(fe=>{D[fe]=!0})};return u(j)?I(j):I(String(j).split(_)),D},Ce=()=>{},Ze=(j,_)=>j!=null&&Number.isFinite(j=+j)?j:_;function xe(j){return!!(j&&b(j.append)&&j[Symbol.toStringTag]==="FormData"&&j[Symbol.iterator])}const Pe=j=>{const _=new Array(10),D=(I,ie)=>{if(k(I)){if(_.indexOf(I)>=0)return;if(!("toJSON"in I)){_[ie]=I;const fe=u(I)?[]:{};return J(I,(pe,Ge)=>{const Nt=D(pe,ie+1);!f(Nt)&&(fe[Ge]=Nt)}),_[ie]=void 0,fe}}return I};return D(j,0)},Be=l("AsyncFunction"),et=j=>j&&(k(j)||b(j))&&b(j.then)&&b(j.catch),$t=((j,_)=>j?setImmediate:_?((D,I)=>(je.addEventListener("message",({source:ie,data:fe})=>{ie===je&&fe===D&&I.length&&I.shift()()},!1),ie=>{I.push(ie),je.postMessage(D,"*")}))(`axios@${Math.random()}`,[]):D=>setTimeout(D))(typeof setImmediate=="function",b(je.postMessage)),vt=typeof queueMicrotask<"u"?queueMicrotask.bind(je):typeof process<"u"&&process.nextTick||$t;var E={isArray:u,isArrayBuffer:m,isBuffer:h,isFormData:R,isArrayBufferView:y,isString:w,isNumber:v,isBoolean:N,isObject:k,isPlainObject:$,isReadableStream:q,isRequest:G,isResponse:H,isHeaders:V,isUndefined:f,isDate:C,isFile:L,isBlob:M,isRegExp:De,isFunction:b,isStream:O,isURLSearchParams:ae,isTypedArray:ue,isFileList:B,forEach:J,merge:re,extend:ne,trim:Z,stripBOM:Ae,inherits:z,toFlatObject:me,kindOf:s,kindOfTest:l,endsWith:T,toArray:ee,forEachEntry:P,matchAll:K,isHTMLForm:ke,hasOwnProperty:Ye,hasOwnProp:Ye,reduceDescriptors:gt,freezeMethods:lt,toObjectSet:Ht,toCamelCase:Ie,noop:Ce,toFiniteNumber:Ze,findKey:Ne,global:je,isContextDefined:X,isSpecCompliantForm:xe,toJSONObject:Pe,isAsyncFn:Be,isThenable:et,setImmediate:$t,asap:vt};function we(j,_,D,I,ie){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=j,this.name="AxiosError",_&&(this.code=_),D&&(this.config=D),I&&(this.request=I),ie&&(this.response=ie,this.status=ie.status?ie.status:null)}E.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Ue=we.prototype,Ut={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(j=>{Ut[j]={value:j}}),Object.defineProperties(we,Ut),Object.defineProperty(Ue,"isAxiosError",{value:!0}),we.from=(j,_,D,I,ie,fe)=>{const pe=Object.create(Ue);return E.toFlatObject(j,pe,function(Ge){return Ge!==Error.prototype},Ge=>Ge!=="isAxiosError"),we.call(pe,j.message,_,D,I,ie),pe.cause=j,pe.name=j.name,fe&&Object.assign(pe,fe),pe};var bt=null;function st(j){return E.isPlainObject(j)||E.isArray(j)}function Yt(j){return E.endsWith(j,"[]")?j.slice(0,-2):j}function he(j,_,D){return j?j.concat(_).map(function(I,ie){return I=Yt(I),!D&&ie?"["+I+"]":I}).join(D?".":""):_}function Fe(j){return E.isArray(j)&&!j.some(st)}const Je=E.toFlatObject(E,{},null,function(j){return/^is[A-Z]/.test(j)});function Oe(j,_,D){if(!E.isObject(j))throw new TypeError("target must be an object");_=_||new FormData,D=E.toFlatObject(D,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Dt,Ct){return!E.isUndefined(Ct[Dt])});const I=D.metaTokens,ie=D.visitor||Ke,fe=D.dots,pe=D.indexes,Ge=(D.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(_);if(!E.isFunction(ie))throw new TypeError("visitor must be a function");function Nt(Dt){if(Dt===null)return"";if(E.isDate(Dt))return Dt.toISOString();if(!Ge&&E.isBlob(Dt))throw new we("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(Dt)||E.isTypedArray(Dt)?Ge&&typeof Blob=="function"?new Blob([Dt]):Buffer.from(Dt):Dt}function Ke(Dt,Ct,mt){let Ba=Dt;if(Dt&&!mt&&typeof Dt=="object"){if(E.endsWith(Ct,"{}"))Ct=I?Ct:Ct.slice(0,-2),Dt=JSON.stringify(Dt);else if(E.isArray(Dt)&&Fe(Dt)||(E.isFileList(Dt)||E.endsWith(Ct,"[]"))&&(Ba=E.toArray(Dt)))return Ct=Yt(Ct),Ba.forEach(function(Aa,pa){!(E.isUndefined(Aa)||Aa===null)&&_.append(pe===!0?he([Ct],pa,fe):pe===null?Ct:Ct+"[]",Nt(Aa))}),!1}return st(Dt)?!0:(_.append(he(mt,Ct,fe),Nt(Dt)),!1)}const tt=[],At=Object.assign(Je,{defaultVisitor:Ke,convertValue:Nt,isVisitable:st});function ca(Dt,Ct){if(!E.isUndefined(Dt)){if(tt.indexOf(Dt)!==-1)throw Error("Circular reference detected in "+Ct.join("."));tt.push(Dt),E.forEach(Dt,function(mt,Ba){(!(E.isUndefined(mt)||mt===null)&&ie.call(_,mt,E.isString(Ba)?Ba.trim():Ba,Ct,At))===!0&&ca(mt,Ct?Ct.concat(Ba):[Ba])}),tt.pop()}}if(!E.isObject(j))throw new TypeError("data must be an object");return ca(j),_}function He(j){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(j).replace(/[!'()~]|%20|%00/g,function(D){return _[D]})}function _t(j,_){this._pairs=[],j&&Oe(j,this,_)}const at=_t.prototype;at.append=function(j,_){this._pairs.push([j,_])},at.toString=function(j){const _=j?function(D){return j.call(this,D,He)}:He;return this._pairs.map(function(D){return _(D[0])+"="+_(D[1])},"").join("&")};function St(j){return encodeURIComponent(j).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ma(j,_,D){if(!_)return j;const I=D&&D.encode||St;E.isFunction(D)&&(D={serialize:D});const ie=D&&D.serialize;let fe;if(ie?fe=ie(_,D):fe=E.isURLSearchParams(_)?_.toString():new _t(_,D).toString(I),fe){const pe=j.indexOf("#");pe!==-1&&(j=j.slice(0,pe)),j+=(j.indexOf("?")===-1?"?":"&")+fe}return j}class ba{constructor(){this.handlers=[]}use(_,D,I){return this.handlers.push({fulfilled:_,rejected:D,synchronous:I?I.synchronous:!1,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){E.forEach(this.handlers,function(D){D!==null&&_(D)})}}var Ta=ba,Er={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yr=typeof URLSearchParams<"u"?URLSearchParams:_t,tr=typeof FormData<"u"?FormData:null,Yr=typeof Blob<"u"?Blob:null,lr={isBrowser:!0,classes:{URLSearchParams:yr,FormData:tr,Blob:Yr},protocols:["http","https","file","blob","url","data"]};const Le=typeof window<"u"&&typeof document<"u",ka=typeof navigator=="object"&&navigator||void 0,Fa=Le&&(!ka||["ReactNative","NativeScript","NS"].indexOf(ka.product)<0),W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",se=Le&&window.location.href||"http://localhost";var F=Object.freeze({__proto__:null,hasBrowserEnv:Le,hasStandardBrowserWebWorkerEnv:W,hasStandardBrowserEnv:Fa,navigator:ka,origin:se}),Q=U(U({},F),lr);function Te(j,_){return Oe(j,new Q.classes.URLSearchParams,Object.assign({visitor:function(D,I,ie,fe){return Q.isNode&&E.isBuffer(D)?(this.append(I,D.toString("base64")),!1):fe.defaultVisitor.apply(this,arguments)}},_))}function Ve(j){return E.matchAll(/\w+|\[(\w*)]/g,j).map(_=>_[0]==="[]"?"":_[1]||_[0])}function ct(j){const _={},D=Object.keys(j);let I;const ie=D.length;let fe;for(I=0;I<ie;I++)fe=D[I],_[fe]=j[fe];return _}function it(j){function _(D,I,ie,fe){let pe=D[fe++];if(pe==="__proto__")return!0;const Ge=Number.isFinite(+pe),Nt=fe>=D.length;return pe=!pe&&E.isArray(ie)?ie.length:pe,Nt?(E.hasOwnProp(ie,pe)?ie[pe]=[ie[pe],I]:ie[pe]=I,!Ge):((!ie[pe]||!E.isObject(ie[pe]))&&(ie[pe]=[]),_(D,I,ie[pe],fe)&&E.isArray(ie[pe])&&(ie[pe]=ct(ie[pe])),!Ge)}if(E.isFormData(j)&&E.isFunction(j.entries)){const D={};return E.forEachEntry(j,(I,ie)=>{_(Ve(I),ie,D,0)}),D}return null}function yt(j,_,D){if(E.isString(j))try{return(_||JSON.parse)(j),E.trim(j)}catch(I){if(I.name!=="SyntaxError")throw I}return(D||JSON.stringify)(j)}const Rt={transitional:Er,adapter:["xhr","http","fetch"],transformRequest:[function(j,_){const D=_.getContentType()||"",I=D.indexOf("application/json")>-1,ie=E.isObject(j);if(ie&&E.isHTMLForm(j)&&(j=new FormData(j)),E.isFormData(j))return I?JSON.stringify(it(j)):j;if(E.isArrayBuffer(j)||E.isBuffer(j)||E.isStream(j)||E.isFile(j)||E.isBlob(j)||E.isReadableStream(j))return j;if(E.isArrayBufferView(j))return j.buffer;if(E.isURLSearchParams(j))return _.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),j.toString();let fe;if(ie){if(D.indexOf("application/x-www-form-urlencoded")>-1)return Te(j,this.formSerializer).toString();if((fe=E.isFileList(j))||D.indexOf("multipart/form-data")>-1){const pe=this.env&&this.env.FormData;return Oe(fe?{"files[]":j}:j,pe&&new pe,this.formSerializer)}}return ie||I?(_.setContentType("application/json",!1),yt(j)):j}],transformResponse:[function(j){const _=this.transitional||Rt.transitional,D=_&&_.forcedJSONParsing,I=this.responseType==="json";if(E.isResponse(j)||E.isReadableStream(j))return j;if(j&&E.isString(j)&&(D&&!this.responseType||I)){const ie=!(_&&_.silentJSONParsing)&&I;try{return JSON.parse(j)}catch(fe){if(ie)throw fe.name==="SyntaxError"?we.from(fe,we.ERR_BAD_RESPONSE,this,null,this.response):fe}}return j}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Q.classes.FormData,Blob:Q.classes.Blob},validateStatus:function(j){return j>=200&&j<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],j=>{Rt.headers[j]={}});var jt=Rt;const Pt=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Xe=j=>{const _={};let D,I,ie;return j&&j.split(`
`).forEach(function(fe){ie=fe.indexOf(":"),D=fe.substring(0,ie).trim().toLowerCase(),I=fe.substring(ie+1).trim(),!(!D||_[D]&&Pt[D])&&(D==="set-cookie"?_[D]?_[D].push(I):_[D]=[I]:_[D]=_[D]?_[D]+", "+I:I)}),_};const aa=Symbol("internals");function na(j){return j&&String(j).trim().toLowerCase()}function Zt(j){return j===!1||j==null?j:E.isArray(j)?j.map(Zt):String(j)}function Et(j){const _=Object.create(null),D=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=D.exec(j);)_[I[1]]=I[2];return _}const kt=j=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(j.trim());function Xt(j,_,D,I,ie){if(E.isFunction(I))return I.call(this,_,D);if(ie&&(_=D),!!E.isString(_)){if(E.isString(I))return _.indexOf(I)!==-1;if(E.isRegExp(I))return I.test(_)}}function sa(j){return j.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,D,I)=>D.toUpperCase()+I)}function ce(j,_){const D=E.toCamelCase(" "+_);["get","set","has"].forEach(I=>{Object.defineProperty(j,I+D,{value:function(ie,fe,pe){return this[I].call(this,_,ie,fe,pe)},configurable:!0})})}class Se{constructor(_){_&&this.set(_)}set(_,D,I){const ie=this;function fe(Ge,Nt,Ke){const tt=na(Nt);if(!tt)throw new Error("header name must be a non-empty string");const At=E.findKey(ie,tt);(!At||ie[At]===void 0||Ke===!0||Ke===void 0&&ie[At]!==!1)&&(ie[At||Nt]=Zt(Ge))}const pe=(Ge,Nt)=>E.forEach(Ge,(Ke,tt)=>fe(Ke,tt,Nt));if(E.isPlainObject(_)||_ instanceof this.constructor)pe(_,D);else if(E.isString(_)&&(_=_.trim())&&!kt(_))pe(Xe(_),D);else if(E.isHeaders(_))for(const[Ge,Nt]of _.entries())fe(Nt,Ge,I);else _!=null&&fe(D,_,I);return this}get(_,D){if(_=na(_),_){const I=E.findKey(this,_);if(I){const ie=this[I];if(!D)return ie;if(D===!0)return Et(ie);if(E.isFunction(D))return D.call(this,ie,I);if(E.isRegExp(D))return D.exec(ie);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,D){if(_=na(_),_){const I=E.findKey(this,_);return!!(I&&this[I]!==void 0&&(!D||Xt(this,this[I],I,D)))}return!1}delete(_,D){const I=this;let ie=!1;function fe(pe){if(pe=na(pe),pe){const Ge=E.findKey(I,pe);Ge&&(!D||Xt(I,I[Ge],Ge,D))&&(delete I[Ge],ie=!0)}}return E.isArray(_)?_.forEach(fe):fe(_),ie}clear(_){const D=Object.keys(this);let I=D.length,ie=!1;for(;I--;){const fe=D[I];(!_||Xt(this,this[fe],fe,_,!0))&&(delete this[fe],ie=!0)}return ie}normalize(_){const D=this,I={};return E.forEach(this,(ie,fe)=>{const pe=E.findKey(I,fe);if(pe){D[pe]=Zt(ie),delete D[fe];return}const Ge=_?sa(fe):String(fe).trim();Ge!==fe&&delete D[fe],D[Ge]=Zt(ie),I[Ge]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const D=Object.create(null);return E.forEach(this,(I,ie)=>{I!=null&&I!==!1&&(D[ie]=_&&E.isArray(I)?I.join(", "):I)}),D}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,D])=>_+": "+D).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...D){const I=new this(_);return D.forEach(ie=>I.set(ie)),I}static accessor(_){const D=(this[aa]=this[aa]={accessors:{}}).accessors,I=this.prototype;function ie(fe){const pe=na(fe);D[pe]||(ce(I,fe),D[pe]=!0)}return E.isArray(_)?_.forEach(ie):ie(_),this}}Se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),E.reduceDescriptors(Se.prototype,({value:j},_)=>{let D=_[0].toUpperCase()+_.slice(1);return{get:()=>j,set(I){this[D]=I}}}),E.freezeMethods(Se);var Qe=Se;function qe(j,_){const D=this||jt,I=_||D,ie=Qe.from(I.headers);let fe=I.data;return E.forEach(j,function(pe){fe=pe.call(D,fe,ie.normalize(),_?_.status:void 0)}),ie.normalize(),fe}function pt(j){return!!(j&&j.__CANCEL__)}function xt(j,_,D){we.call(this,j!=null?j:"canceled",we.ERR_CANCELED,_,D),this.name="CanceledError"}E.inherits(xt,we,{__CANCEL__:!0});function ht(j,_,D){const I=D.config.validateStatus;!D.status||!I||I(D.status)?j(D):_(new we("Request failed with status code "+D.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(D.status/100)-4],D.config,D.request,D))}function rt(j){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec(j);return _&&_[1]||""}function Jt(j,_){j=j||10;const D=new Array(j),I=new Array(j);let ie=0,fe=0,pe;return _=_!==void 0?_:1e3,function(Ge){const Nt=Date.now(),Ke=I[fe];pe||(pe=Nt),D[ie]=Ge,I[ie]=Nt;let tt=fe,At=0;for(;tt!==ie;)At+=D[tt++],tt=tt%j;if(ie=(ie+1)%j,ie===fe&&(fe=(fe+1)%j),Nt-pe<_)return;const ca=Ke&&Nt-Ke;return ca?Math.round(At*1e3/ca):void 0}}function Sa(j,_){let D=0,I=1e3/_,ie,fe;const pe=(Ge,Nt=Date.now())=>{D=Nt,ie=null,fe&&(clearTimeout(fe),fe=null),j.apply(null,Ge)};return[(...Ge)=>{const Nt=Date.now(),Ke=Nt-D;Ke>=I?pe(Ge,Nt):(ie=Ge,fe||(fe=setTimeout(()=>{fe=null,pe(ie)},I-Ke)))},()=>ie&&pe(ie)]}const $a=(j,_,D=3)=>{let I=0;const ie=Jt(50,250);return Sa(fe=>{const pe=fe.loaded,Ge=fe.lengthComputable?fe.total:void 0,Nt=pe-I,Ke=ie(Nt),tt=pe<=Ge;I=pe;const At={loaded:pe,total:Ge,progress:Ge?pe/Ge:void 0,bytes:Nt,rate:Ke||void 0,estimated:Ke&&Ge&&tt?(Ge-pe)/Ke:void 0,event:fe,lengthComputable:Ge!=null,[_?"download":"upload"]:!0};j(At)},D)},Tr=(j,_)=>{const D=j!=null;return[I=>_[0]({lengthComputable:D,total:j,loaded:I}),_[1]]},ia=j=>(..._)=>E.asap(()=>j(..._));var gn=Q.hasStandardBrowserEnv?((j,_)=>D=>(D=new URL(D,Q.origin),j.protocol===D.protocol&&j.host===D.host&&(_||j.port===D.port)))(new URL(Q.origin),Q.navigator&&/(msie|trident)/i.test(Q.navigator.userAgent)):()=>!0,ti=Q.hasStandardBrowserEnv?{write(j,_,D,I,ie,fe){const pe=[j+"="+encodeURIComponent(_)];E.isNumber(D)&&pe.push("expires="+new Date(D).toGMTString()),E.isString(I)&&pe.push("path="+I),E.isString(ie)&&pe.push("domain="+ie),fe===!0&&pe.push("secure"),document.cookie=pe.join("; ")},read(j){const _=document.cookie.match(new RegExp("(^|;\\s*)("+j+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove(j){this.write(j,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ya(j){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(j)}function hd(j,_){return _?j.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):j}function md(j,_,D){let I=!Ya(_);return j&&I||D==!1?hd(j,_):_}const ai=j=>j instanceof Qe?U({},j):j;function yn(j,_){_=_||{};const D={};function I(Ke,tt,At,ca){return E.isPlainObject(Ke)&&E.isPlainObject(tt)?E.merge.call({caseless:ca},Ke,tt):E.isPlainObject(tt)?E.merge({},tt):E.isArray(tt)?tt.slice():tt}function ie(Ke,tt,At,ca){if(E.isUndefined(tt)){if(!E.isUndefined(Ke))return I(void 0,Ke,At,ca)}else return I(Ke,tt,At,ca)}function fe(Ke,tt){if(!E.isUndefined(tt))return I(void 0,tt)}function pe(Ke,tt){if(E.isUndefined(tt)){if(!E.isUndefined(Ke))return I(void 0,Ke)}else return I(void 0,tt)}function Ge(Ke,tt,At){if(At in _)return I(Ke,tt);if(At in j)return I(void 0,Ke)}const Nt={url:fe,method:fe,data:fe,baseURL:pe,transformRequest:pe,transformResponse:pe,paramsSerializer:pe,timeout:pe,timeoutMessage:pe,withCredentials:pe,withXSRFToken:pe,adapter:pe,responseType:pe,xsrfCookieName:pe,xsrfHeaderName:pe,onUploadProgress:pe,onDownloadProgress:pe,decompress:pe,maxContentLength:pe,maxBodyLength:pe,beforeRedirect:pe,transport:pe,httpAgent:pe,httpsAgent:pe,cancelToken:pe,socketPath:pe,responseEncoding:pe,validateStatus:Ge,headers:(Ke,tt,At)=>ie(ai(Ke),ai(tt),At,!0)};return E.forEach(Object.keys(Object.assign({},j,_)),function(Ke){const tt=Nt[Ke]||ie,At=tt(j[Ke],_[Ke],Ke);E.isUndefined(At)&&tt!==Ge||(D[Ke]=At)}),D}var ri=j=>{const _=yn({},j);let{data:D,withXSRFToken:I,xsrfHeaderName:ie,xsrfCookieName:fe,headers:pe,auth:Ge}=_;_.headers=pe=Qe.from(pe),_.url=ma(md(_.baseURL,_.url),j.params,j.paramsSerializer),Ge&&pe.set("Authorization","Basic "+btoa((Ge.username||"")+":"+(Ge.password?unescape(encodeURIComponent(Ge.password)):"")));let Nt;if(E.isFormData(D)){if(Q.hasStandardBrowserEnv||Q.hasStandardBrowserWebWorkerEnv)pe.setContentType(void 0);else if((Nt=pe.getContentType())!==!1){const[Ke,...tt]=Nt?Nt.split(";").map(At=>At.trim()).filter(Boolean):[];pe.setContentType([Ke||"multipart/form-data",...tt].join("; "))}}if(Q.hasStandardBrowserEnv&&(I&&E.isFunction(I)&&(I=I(_)),I||I!==!1&&gn(_.url))){const Ke=ie&&fe&&ti.read(fe);Ke&&pe.set(ie,Ke)}return _},Z0=typeof XMLHttpRequest<"u"&&function(j){return new Promise(function(_,D){const I=ri(j);let ie=I.data;const fe=Qe.from(I.headers).normalize();let{responseType:pe,onUploadProgress:Ge,onDownloadProgress:Nt}=I,Ke,tt,At,ca,Dt;function Ct(){ca&&ca(),Dt&&Dt(),I.cancelToken&&I.cancelToken.unsubscribe(Ke),I.signal&&I.signal.removeEventListener("abort",Ke)}let mt=new XMLHttpRequest;mt.open(I.method.toUpperCase(),I.url,!0),mt.timeout=I.timeout;function Ba(){if(!mt)return;const pa=Qe.from("getAllResponseHeaders"in mt&&mt.getAllResponseHeaders()),Ar={data:!pe||pe==="text"||pe==="json"?mt.responseText:mt.response,status:mt.status,statusText:mt.statusText,headers:pa,config:j,request:mt};ht(function(di){_(di),Ct()},function(di){D(di),Ct()},Ar),mt=null}"onloadend"in mt?mt.onloadend=Ba:mt.onreadystatechange=function(){!mt||mt.readyState!==4||mt.status===0&&!(mt.responseURL&&mt.responseURL.indexOf("file:")===0)||setTimeout(Ba)},mt.onabort=function(){mt&&(D(new we("Request aborted",we.ECONNABORTED,j,mt)),mt=null)},mt.onerror=function(){D(new we("Network Error",we.ERR_NETWORK,j,mt)),mt=null},mt.ontimeout=function(){let pa=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded";const Ar=I.transitional||Er;I.timeoutErrorMessage&&(pa=I.timeoutErrorMessage),D(new we(pa,Ar.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,j,mt)),mt=null},ie===void 0&&fe.setContentType(null),"setRequestHeader"in mt&&E.forEach(fe.toJSON(),function(pa,Ar){mt.setRequestHeader(Ar,pa)}),E.isUndefined(I.withCredentials)||(mt.withCredentials=!!I.withCredentials),pe&&pe!=="json"&&(mt.responseType=I.responseType),Nt&&([At,Dt]=$a(Nt,!0),mt.addEventListener("progress",At)),Ge&&mt.upload&&([tt,ca]=$a(Ge),mt.upload.addEventListener("progress",tt),mt.upload.addEventListener("loadend",ca)),(I.cancelToken||I.signal)&&(Ke=pa=>{mt&&(D(!pa||pa.type?new xt(null,j,mt):pa),mt.abort(),mt=null)},I.cancelToken&&I.cancelToken.subscribe(Ke),I.signal&&(I.signal.aborted?Ke():I.signal.addEventListener("abort",Ke)));const Aa=rt(I.url);if(Aa&&Q.protocols.indexOf(Aa)===-1){D(new we("Unsupported protocol "+Aa+":",we.ERR_BAD_REQUEST,j));return}mt.send(ie||null)})},cr=(j,_)=>{const{length:D}=j=j?j.filter(Boolean):[];if(_||D){let I=new AbortController,ie;const fe=function(Ke){if(!ie){ie=!0,Ge();const tt=Ke instanceof Error?Ke:this.reason;I.abort(tt instanceof we?tt:new xt(tt instanceof Error?tt.message:tt))}};let pe=_&&setTimeout(()=>{pe=null,fe(new we(`timeout ${_} of ms exceeded`,we.ETIMEDOUT))},_);const Ge=()=>{j&&(pe&&clearTimeout(pe),pe=null,j.forEach(Ke=>{Ke.unsubscribe?Ke.unsubscribe(fe):Ke.removeEventListener("abort",fe)}),j=null)};j.forEach(Ke=>Ke.addEventListener("abort",fe));const{signal:Nt}=I;return Nt.unsubscribe=()=>E.asap(Ge),Nt}};const wl=function*(j,_){let D=j.byteLength;if(D<_){yield j;return}let I=0,ie;for(;I<D;)ie=I+_,yield j.slice(I,ie),I=ie},gd=function(j,_){return Xh(this,null,function*(){try{for(var D=Jb(Nl(j)),I,ie,fe;I=!(ie=yield new $i(D.next())).done;I=!1){const pe=ie.value;yield*Wh(wl(pe,_))}}catch(ie){fe=[ie]}finally{try{I&&(ie=D.return)&&(yield new $i(ie.call(D)))}finally{if(fe)throw fe[0]}}})},Nl=function(j){return Xh(this,null,function*(){if(j[Symbol.asyncIterator]){yield*Wh(j);return}const _=j.getReader();try{for(;;){const{done:D,value:I}=yield new $i(_.read());if(D)break;yield I}}finally{yield new $i(_.cancel())}})},En=(j,_,D,I)=>{const ie=gd(j,_);let fe=0,pe,Ge=Ke=>{pe||(pe=!0,I&&I(Ke))};return new ReadableStream({pull(Ke){return oe(this,null,function*(){try{const{done:tt,value:At}=yield ie.next();if(tt){Ge(),Ke.close();return}let ca=At.byteLength;if(D){let Dt=fe+=ca;D(Dt)}Ke.enqueue(new Uint8Array(At))}catch(tt){throw Ge(tt),tt}})},cancel(Ke){return Ge(Ke),ie.return()}},{highWaterMark:2})},ni=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jl=ni&&typeof ReadableStream=="function",is=ni&&(typeof TextEncoder=="function"?(j=>_=>j.encode(_))(new TextEncoder):j=>oe(null,null,function*(){return new Uint8Array(yield new Response(j).arrayBuffer())})),yd=(j,..._)=>{try{return!!j(..._)}catch(D){return!1}},pd=jl&&yd(()=>{let j=!1;const _=new Request(Q.origin,{body:new ReadableStream,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!_}),kl=64*1024,si=jl&&yd(()=>E.isReadableStream(new Response("").body)),Yi={stream:si&&(j=>j.body)};ni&&(j=>{["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!Yi[_]&&(Yi[_]=E.isFunction(j[_])?D=>D[_]():(D,I)=>{throw new we(`Response type '${_}' is not supported`,we.ERR_NOT_SUPPORT,I)})})})(new Response);const J0=j=>oe(null,null,function*(){if(j==null)return 0;if(E.isBlob(j))return j.size;if(E.isSpecCompliantForm(j))return(yield new Request(Q.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(E.isArrayBufferView(j)||E.isArrayBuffer(j))return j.byteLength;if(E.isURLSearchParams(j)&&(j=j+""),E.isString(j))return(yield is(j)).byteLength}),Qi=(j,_)=>oe(null,null,function*(){const D=E.toFiniteNumber(j.getContentLength());return D!=null?D:J0(_)});var Sl=ni&&(j=>oe(null,null,function*(){let{url:_,method:D,data:I,signal:ie,cancelToken:fe,timeout:pe,onDownloadProgress:Ge,onUploadProgress:Nt,responseType:Ke,headers:tt,withCredentials:At="same-origin",fetchOptions:ca}=ri(j);Ke=Ke?(Ke+"").toLowerCase():"text";let Dt=cr([ie,fe&&fe.toAbortSignal()],pe),Ct;const mt=Dt&&Dt.unsubscribe&&(()=>{Dt.unsubscribe()});let Ba;try{if(Nt&&pd&&D!=="get"&&D!=="head"&&(Ba=yield Qi(tt,I))!==0){let pn=new Request(_,{method:"POST",body:I,duplex:"half"}),us;if(E.isFormData(I)&&(us=pn.headers.get("content-type"))&&tt.setContentType(us),pn.body){const[Ji,eo]=Tr(Ba,$a(ia(Nt)));I=En(pn.body,kl,Ji,eo)}}E.isString(At)||(At=At?"include":"omit");const Aa="credentials"in Request.prototype;Ct=new Request(_,de(U({},ca),{signal:Dt,method:D.toUpperCase(),headers:tt.normalize().toJSON(),body:I,duplex:"half",credentials:Aa?At:void 0}));let pa=yield fetch(Ct);const Ar=si&&(Ke==="stream"||Ke==="response");if(si&&(Ge||Ar&&mt)){const pn={};["status","statusText","headers"].forEach(bd=>{pn[bd]=pa[bd]});const us=E.toFiniteNumber(pa.headers.get("content-length")),[Ji,eo]=Ge&&Tr(us,$a(ia(Ge),!0))||[];pa=new Response(En(pa.body,kl,Ji,()=>{eo&&eo(),mt&&mt()}),pn)}Ke=Ke||"text";let di=yield Yi[E.findKey(Yi,Ke)||"text"](pa,j);return!Ar&&mt&&mt(),yield new Promise((pn,us)=>{ht(pn,us,{data:di,headers:Qe.from(pa.headers),status:pa.status,statusText:pa.statusText,config:j,request:Ct})})}catch(Aa){throw mt&&mt(),Aa&&Aa.name==="TypeError"&&/fetch/i.test(Aa.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,j,Ct),{cause:Aa.cause||Aa}):we.from(Aa,Aa&&Aa.code,j,Ct)}}));const ii={http:bt,xhr:Z0,fetch:Sl};E.forEach(ii,(j,_)=>{if(j){try{Object.defineProperty(j,"name",{value:_})}catch(D){}Object.defineProperty(j,"adapterName",{value:_})}});const Tn=j=>`- ${j}`,os=j=>E.isFunction(j)||j===null||j===!1;var $l={getAdapter:j=>{j=E.isArray(j)?j:[j];const{length:_}=j;let D,I;const ie={};for(let fe=0;fe<_;fe++){D=j[fe];let pe;if(I=D,!os(D)&&(I=ii[(pe=String(D)).toLowerCase()],I===void 0))throw new we(`Unknown adapter '${pe}'`);if(I)break;ie[pe||"#"+fe]=I}if(!I){const fe=Object.entries(ie).map(([Ge,Nt])=>`adapter ${Ge} `+(Nt===!1?"is not supported by the environment":"is not available in the build"));let pe=_?fe.length>1?`since :
`+fe.map(Tn).join(`
`):" "+Tn(fe[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+pe,"ERR_NOT_SUPPORT")}return I},adapters:ii};function oi(j){if(j.cancelToken&&j.cancelToken.throwIfRequested(),j.signal&&j.signal.aborted)throw new xt(null,j)}function Cl(j){return oi(j),j.headers=Qe.from(j.headers),j.data=qe.call(j,j.transformRequest),["post","put","patch"].indexOf(j.method)!==-1&&j.headers.setContentType("application/x-www-form-urlencoded",!1),$l.getAdapter(j.adapter||jt.adapter)(j).then(function(_){return oi(j),_.data=qe.call(j,j.transformResponse,_),_.headers=Qe.from(_.headers),_},function(_){return pt(_)||(oi(j),_&&_.response&&(_.response.data=qe.call(j,j.transformResponse,_.response),_.response.headers=Qe.from(_.response.headers))),Promise.reject(_)})}const ls="1.8.2",dr={};["object","boolean","number","function","string","symbol"].forEach((j,_)=>{dr[j]=function(D){return typeof D===j||"a"+(_<1?"n ":" ")+j}});const Xi={};dr.transitional=function(j,_,D){function I(ie,fe){return"[Axios v"+ls+"] Transitional option '"+ie+"'"+fe+(D?". "+D:"")}return(ie,fe,pe)=>{if(j===!1)throw new we(I(fe," has been removed"+(_?" in "+_:"")),we.ERR_DEPRECATED);return _&&!Xi[fe]&&(Xi[fe]=!0,console.warn(I(fe," has been deprecated since v"+_+" and will be removed in the near future"))),j?j(ie,fe,pe):!0}},dr.spelling=function(j){return(_,D)=>(console.warn(`${D} is likely a misspelling of ${j}`),!0)};function li(j,_,D){if(typeof j!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const I=Object.keys(j);let ie=I.length;for(;ie-- >0;){const fe=I[ie],pe=_[fe];if(pe){const Ge=j[fe],Nt=Ge===void 0||pe(Ge,fe,j);if(Nt!==!0)throw new we("option "+fe+" must be "+Nt,we.ERR_BAD_OPTION_VALUE);continue}if(D!==!0)throw new we("Unknown option "+fe,we.ERR_BAD_OPTION)}}var pr={assertOptions:li,validators:dr};const ur=pr.validators;class An{constructor(_){this.defaults=_,this.interceptors={request:new Ta,response:new Ta}}request(_,D){return oe(this,null,function*(){try{return yield this._request(_,D)}catch(I){if(I instanceof Error){let ie={};Error.captureStackTrace?Error.captureStackTrace(ie):ie=new Error;const fe=ie.stack?ie.stack.replace(/^.+\n/,""):"";try{I.stack?fe&&!String(I.stack).endsWith(fe.replace(/^.+\n.+\n/,""))&&(I.stack+=`
`+fe):I.stack=fe}catch(pe){}}throw I}})}_request(_,D){typeof _=="string"?(D=D||{},D.url=_):D=_||{},D=yn(this.defaults,D);const{transitional:I,paramsSerializer:ie,headers:fe}=D;I!==void 0&&pr.assertOptions(I,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),ie!=null&&(E.isFunction(ie)?D.paramsSerializer={serialize:ie}:pr.assertOptions(ie,{encode:ur.function,serialize:ur.function},!0)),D.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?D.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:D.allowAbsoluteUrls=!0),pr.assertOptions(D,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),D.method=(D.method||this.defaults.method||"get").toLowerCase();let pe=fe&&E.merge(fe.common,fe[D.method]);fe&&E.forEach(["delete","get","head","post","put","patch","common"],Ct=>{delete fe[Ct]}),D.headers=Qe.concat(pe,fe);const Ge=[];let Nt=!0;this.interceptors.request.forEach(function(Ct){typeof Ct.runWhen=="function"&&Ct.runWhen(D)===!1||(Nt=Nt&&Ct.synchronous,Ge.unshift(Ct.fulfilled,Ct.rejected))});const Ke=[];this.interceptors.response.forEach(function(Ct){Ke.push(Ct.fulfilled,Ct.rejected)});let tt,At=0,ca;if(!Nt){const Ct=[Cl.bind(this),void 0];for(Ct.unshift.apply(Ct,Ge),Ct.push.apply(Ct,Ke),ca=Ct.length,tt=Promise.resolve(D);At<ca;)tt=tt.then(Ct[At++],Ct[At++]);return tt}ca=Ge.length;let Dt=D;for(At=0;At<ca;){const Ct=Ge[At++],mt=Ge[At++];try{Dt=Ct(Dt)}catch(Ba){mt.call(this,Ba);break}}try{tt=Cl.call(this,Dt)}catch(Ct){return Promise.reject(Ct)}for(At=0,ca=Ke.length;At<ca;)tt=tt.then(Ke[At++],Ke[At++]);return tt}getUri(_){_=yn(this.defaults,_);const D=md(_.baseURL,_.url,_.allowAbsoluteUrls);return ma(D,_.params,_.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(j){An.prototype[j]=function(_,D){return this.request(yn(D||{},{method:j,url:_,data:(D||{}).data}))}}),E.forEach(["post","put","patch"],function(j){function _(D){return function(I,ie,fe){return this.request(yn(fe||{},{method:j,headers:D?{"Content-Type":"multipart/form-data"}:{},url:I,data:ie}))}}An.prototype[j]=_(),An.prototype[j+"Form"]=_(!0)});var ci=An;class cs{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let D;this.promise=new Promise(function(ie){D=ie});const I=this;this.promise.then(ie=>{if(!I._listeners)return;let fe=I._listeners.length;for(;fe-- >0;)I._listeners[fe](ie);I._listeners=null}),this.promise.then=ie=>{let fe;const pe=new Promise(Ge=>{I.subscribe(Ge),fe=Ge}).then(ie);return pe.cancel=function(){I.unsubscribe(fe)},pe},_(function(ie,fe,pe){I.reason||(I.reason=new xt(ie,fe,pe),D(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const D=this._listeners.indexOf(_);D!==-1&&this._listeners.splice(D,1)}toAbortSignal(){const _=new AbortController,D=I=>{_.abort(I)};return this.subscribe(D),_.signal.unsubscribe=()=>this.unsubscribe(D),_.signal}static source(){let _;return{token:new cs(function(D){_=D}),cancel:_}}}var Wi=cs;function xd(j){return function(_){return j.apply(null,_)}}function Qa(j){return E.isObject(j)&&j.isAxiosError===!0}const Qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qr).forEach(([j,_])=>{Qr[_]=j});var Zi=Qr;function ds(j){const _=new ci(j),D=e(ci.prototype.request,_);return E.extend(D,ci.prototype,_,{allOwnKeys:!0}),E.extend(D,_,null,{allOwnKeys:!0}),D.create=function(I){return ds(yn(j,I))},D}const va=ds(jt);return va.Axios=ci,va.CanceledError=xt,va.CancelToken=Wi,va.isCancel=pt,va.VERSION=ls,va.toFormData=Oe,va.AxiosError=we,va.Cancel=va.CanceledError,va.all=function(j){return Promise.all(j)},va.spread=xd,va.isAxiosError=Qa,va.mergeConfig=yn,va.AxiosHeaders=Qe,va.formToJSON=j=>it(E.isHTMLForm(j)?new FormData(j):j),va.getAdapter=$l.getAdapter,va.HttpStatusCode=Zi,va.default=va,um=va,um}var Dv;function M3(){if(Dv)return Vn;Dv=1;var e=Vn&&Vn.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.getRequestHeaders=Vn.getAxiosClient=void 0;var t=WS();function a(l,c,u,f,h){var m=t.default.create({baseURL:l,headers:s(c,f,u,l,h),withCredentials:!0});return m.interceptors.request.use(function(y){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(y.headers["X-Frappe-CSRF-Token"]=window.csrf_token),c&&f&&u&&(y.headers.Authorization="".concat(f," ").concat(u())),y}),m}Vn.getAxiosClient=a;function s(l,c,u,f,h){l===void 0&&(l=!1);var m={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return l&&c&&u&&(m.Authorization="".concat(c," ").concat(u())),typeof window<"u"&&typeof document<"u"&&(window.location&&(f&&f!==window.location.origin||(m["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(m["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},m),h!=null?h:{})}return Vn.getRequestHeaders=s,Vn}var Lv;function D3(){if(Lv)return tn;Lv=1;var e=tn&&tn.__assign||function(){return e=Object.assign||function(c){for(var u,f=1,h=arguments.length;f<h;f++){u=arguments[f];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(c[m]=u[m])}return c},e.apply(this,arguments)},t=tn&&tn.__awaiter||function(c,u,f,h){function m(y){return y instanceof f?y:new f(function(w){w(y)})}return new(f||(f=Promise))(function(y,w){function b(N){try{k(h.next(N))}catch($){w($)}}function v(N){try{k(h.throw(N))}catch($){w($)}}function k(N){N.done?y(N.value):m(N.value).then(b,v)}k((h=h.apply(c,u||[])).next())})},a=tn&&tn.__generator||function(c,u){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},h,m,y,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(k){return function(N){return v([k,N])}}function v(k){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,k[0]&&(f=0)),f;)try{if(h=1,m&&(y=k[0]&2?m.return:k[0]?m.throw||((y=m.return)&&y.call(m),0):m.next)&&!(y=y.call(m,k[1])).done)return y;switch(m=0,y&&(k=[k[0]&2,y.value]),k[0]){case 0:case 1:y=k;break;case 4:return f.label++,{value:k[1],done:!1};case 5:f.label++,m=k[1],k=[0];continue;case 7:k=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(k[0]===6||k[0]===2)){f=0;continue}if(k[0]===3&&(!y||k[1]>y[0]&&k[1]<y[3])){f.label=k[1];break}if(k[0]===6&&f.label<y[1]){f.label=y[1],y=k;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(k);break}y[2]&&f.ops.pop(),f.trys.pop();continue}k=u.call(c,f)}catch(N){k=[6,N],m=0}finally{h=y=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}};Object.defineProperty(tn,"__esModule",{value:!0}),tn.FrappeFileUpload=void 0;var s=M3(),l=function(){function c(u,f,h,m,y,w){this.appURL=u,this.axios=f,this.useToken=h!=null?h:!1,this.token=m,this.tokenType=y,this.customHeaders=w}return c.prototype.uploadFile=function(u,f,h,m){return m===void 0&&(m="upload_file"),t(this,void 0,void 0,function(){var y,w,b,v,k,N,$,C;return a(this,function(L){return y=new FormData,u&&y.append("file",u,u.name),w=f.isPrivate,b=f.folder,v=f.file_url,k=f.doctype,N=f.docname,$=f.fieldname,C=f.otherData,w&&y.append("is_private","1"),b&&y.append("folder",b),v&&y.append("file_url",v),k&&N&&(y.append("doctype",k),y.append("docname",N),$&&y.append("fieldname",$)),C&&Object.keys(C).forEach(function(M){var B=C[M];y.append(M,B)}),[2,this.axios.post("/api/method/".concat(m),y,{onUploadProgress:function(M){h&&h(M.loaded,M.total,M)},headers:e(e({},(0,s.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(M){var B,O;throw e(e({},M.response.data),{httpStatus:M.response.status,httpStatusText:M.response.statusText,message:(B=M.response.data.message)!==null&&B!==void 0?B:"There was an error while uploading the file.",exception:(O=M.response.data.exception)!==null&&O!==void 0?O:""})})]})})},c}();return tn.FrappeFileUpload=l,tn}var Iv;function ZS(){if(Iv)return Nc;Iv=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.FrappeApp=void 0;var e=L3(),t=R3(),a=P3(),s=D3(),l=M3(),c=function(){function u(f,h,m,y){var w,b;this.url=f,this.name=m!=null?m:"FrappeApp",this.useToken=(w=h==null?void 0:h.useToken)!==null&&w!==void 0?w:!1,this.token=h==null?void 0:h.token,this.tokenType=(b=h==null?void 0:h.type)!==null&&b!==void 0?b:"Bearer",this.customHeaders=y,this.axios=(0,l.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return u.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},u.prototype.db=function(){return new a.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},u.prototype.file=function(){return new s.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},u.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},u}();return Nc.FrappeApp=c,Nc}var an={},Uv;function JS(){if(Uv)return an;Uv=1;var e=an&&an.__assign||function(){return e=Object.assign||function(l){for(var c,u=1,f=arguments.length;u<f;u++){c=arguments[u];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}return l},e.apply(this,arguments)},t=an&&an.__awaiter||function(l,c,u,f){function h(m){return m instanceof u?m:new u(function(y){y(m)})}return new(u||(u=Promise))(function(m,y){function w(k){try{v(f.next(k))}catch(N){y(N)}}function b(k){try{v(f.throw(k))}catch(N){y(N)}}function v(k){k.done?m(k.value):h(k.value).then(w,b)}v((f=f.apply(l,c||[])).next())})},a=an&&an.__generator||function(l,c){var u={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,y;return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(v){return function(k){return b([v,k])}}function b(v){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,v[0]&&(u=0)),u;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,h=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(m=u.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){u=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){u.label=v[1];break}if(v[0]===6&&u.label<m[1]){u.label=m[1],m=v;break}if(m&&u.label<m[2]){u.label=m[2],u.ops.push(v);break}m[2]&&u.ops.pop(),u.trys.pop();continue}v=c.call(l,u)}catch(k){v=[6,k],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(an,"__esModule",{value:!0}),an.FrappeAuth=void 0;var s=function(){function l(c,u,f,h,m){this.appURL=c,this.axios=u,this.useToken=f!=null?f:!1,this.token=h,this.tokenType=m}return l.prototype.loginWithUsernamePassword=function(c){return t(this,void 0,void 0,function(){return a(this,function(u){return[2,this.axios.post("/api/method/login",{usr:c.username,pwd:c.password,otp:c.otp,tmp_id:c.tmp_id,device:c.device}).then(function(f){return f.data}).catch(function(f){var h,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error while logging in",exception:(m=f.response.data.exception)!==null&&m!==void 0?m:""})})]})})},l.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return a(this,function(c){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(u){return u.data.message}).catch(function(u){var f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while fetching the logged in user",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},l.prototype.logout=function(){return t(this,void 0,void 0,function(){return a(this,function(c){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(u){var f,h;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(f=u.response.data.message)!==null&&f!==void 0?f:"There was an error while logging out",exception:(h=u.response.data.exception)!==null&&h!==void 0?h:""})})]})})},l.prototype.forgetPassword=function(c){return t(this,void 0,void 0,function(){return a(this,function(u){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:c}).then(function(){}).catch(function(f){var h,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(h=f.response.data.message)!==null&&h!==void 0?h:"There was an error sending password reset email.",exception:(m=f.response.data.exception)!==null&&m!==void 0?m:""})})]})})},l}();return an.FrappeAuth=s,an}var Fv;function L3(){return Fv||(Fv=1,function(e){var t=Oo&&Oo.__createBinding||(Object.create?function(s,l,c,u){u===void 0&&(u=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,u,f)}:function(s,l,c,u){u===void 0&&(u=c),s[u]=l[c]}),a=Oo&&Oo.__exportStar||function(s,l){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,s,c)};Object.defineProperty(e,"__esModule",{value:!0}),a(ZS(),e),a(JS(),e),a(P3(),e),a(D3(),e),a(R3(),e)}(Oo)),Oo}var e5=L3(),Bv={exports:{}},fm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function t5(){if(zv)return fm;zv=1;var e=We;function t(w,b){return w===b&&(w!==0||1/w===1/b)||w!==w&&b!==b}var a=typeof Object.is=="function"?Object.is:t,s=e.useState,l=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(w,b){var v=b(),k=s({inst:{value:v,getSnapshot:b}}),N=k[0].inst,$=k[1];return c(function(){N.value=v,N.getSnapshot=b,h(N)&&$({inst:N})},[w,v,b]),l(function(){return h(N)&&$({inst:N}),w(function(){h(N)&&$({inst:N})})},[w]),u(v),v}function h(w){var b=w.getSnapshot;w=w.value;try{var v=b();return!a(w,v)}catch(k){return!0}}function m(w,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return fm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,fm}var Hv;function a5(){return Hv||(Hv=1,Bv.exports=t5()),Bv.exports}a5();const r5=0,n5=1,s5=2;var qv=Object.prototype.hasOwnProperty;function Qm(e,t){var a,s;if(e===t)return!0;if(e&&t&&(a=e.constructor)===t.constructor){if(a===Date)return e.getTime()===t.getTime();if(a===RegExp)return e.toString()===t.toString();if(a===Array){if((s=e.length)===t.length)for(;s--&&Qm(e[s],t[s]););return s===-1}if(!a||typeof e=="object"){s=0;for(a in e)if(qv.call(e,a)&&++s&&!qv.call(t,a)||!(a in t)||!Qm(e[a],t[a]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const Fs=new WeakMap,Ks=()=>{},_r=Ks(),r0=Object,dn=e=>e===_r,Bs=e=>typeof e=="function",Ui=(e,t)=>U(U({},e),t),i5=e=>Bs(e.then),hm={},ku={},I3="undefined",w0=typeof window!=I3,Xm=typeof document!=I3,o5=w0&&"Deno"in window,l5=(e,t)=>{const a=Fs.get(e);return[()=>!dn(t)&&e.get(t)||hm,s=>{if(!dn(t)){const l=e.get(t);t in ku||(ku[t]=l),a[5](t,Ui(l,s),l||hm)}},a[6],()=>!dn(t)&&t in ku?ku[t]:!dn(t)&&e.get(t)||hm]};let Wm=!0;const c5=()=>Wm,[Zm,Jm]=w0&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ks,Ks],d5=()=>{const e=Xm&&document.visibilityState;return dn(e)||e!=="hidden"},u5=e=>(Xm&&document.addEventListener("visibilitychange",e),Zm("focus",e),()=>{Xm&&document.removeEventListener("visibilitychange",e),Jm("focus",e)}),f5=e=>{const t=()=>{Wm=!0,e()},a=()=>{Wm=!1};return Zm("online",t),Zm("offline",a),()=>{Jm("online",t),Jm("offline",a)}},h5={isOnline:c5,isVisible:d5},m5={initFocus:u5,initReconnect:f5};We.useId;const ty=!w0||o5,g5=ty?x.useEffect:x.useLayoutEffect,mm=typeof navigator<"u"&&navigator.connection,Gv=!ty&&mm&&(["slow-2g","2g"].includes(mm.effectiveType)||mm.saveData),Su=new WeakMap,gm=(e,t)=>r0.prototype.toString.call(e)===`[object ${t}]`;let y5=0;const eg=e=>{const t=typeof e,a=gm(e,"Date"),s=gm(e,"RegExp"),l=gm(e,"Object");let c,u;if(r0(e)===e&&!a&&!s){if(c=Su.get(e),c)return c;if(c=++y5+"~",Su.set(e,c),Array.isArray(e)){for(c="@",u=0;u<e.length;u++)c+=eg(e[u])+",";Su.set(e,c)}if(l){c="#";const f=r0.keys(e).sort();for(;!dn(u=f.pop());)dn(e[u])||(c+=u+":"+eg(e[u])+",");Su.set(e,c)}}else c=a?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},U3=e=>{if(Bs(e))try{e=e()}catch(a){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?eg(e):"",[e,t]};let p5=0;const Vv=()=>++p5;function x5(...e){return oe(this,null,function*(){const[t,a,s,l]=e,c=Ui({populateCache:!0,throwOnError:!0},typeof l=="boolean"?{revalidate:l}:l||{});let u=c.populateCache;const f=c.rollbackOnError;let h=c.optimisticData;const m=b=>typeof f=="function"?f(b):f!==!1,y=c.throwOnError;if(Bs(a)){const b=a,v=[],k=t.keys();for(const N of k)!/^\$(inf|sub)\$/.test(N)&&b(t.get(N)._k)&&v.push(N);return Promise.all(v.map(w))}return w(a);function w(b){return oe(this,null,function*(){const[v]=U3(b);if(!v)return;const[k,N]=l5(t,v),[$,C,L,M]=Fs.get(t),B=()=>{const J=$[v];return(Bs(c.revalidate)?c.revalidate(k().data,b):c.revalidate!==!1)&&(delete L[v],delete M[v],J&&J[0])?J[0](s5).then(()=>k().data):k().data};if(e.length<3)return B();let O=s,R;const ae=Vv();C[v]=[ae,0];const q=!dn(h),G=k(),H=G.data,V=G._c,Z=dn(V)?H:V;if(q&&(h=Bs(h)?h(Z,H):h,N({data:h,_c:Z})),Bs(O))try{O=O(Z)}catch(J){R=J}if(O&&i5(O))if(O=yield O.catch(J=>{R=J}),ae!==C[v][0]){if(R)throw R;return O}else R&&q&&m(R)&&(u=!0,N({data:Z,_c:_r}));if(u&&!R)if(Bs(u)){const J=u(O,Z);N({data:J,error:_r,_c:_r})}else N({data:O,error:_r,_c:_r});if(C[v][1]=Vv(),Promise.resolve(B()).then(()=>{N({_c:_r})}),R){if(y)throw R;return}return O})}})}const Kv=(e,t)=>{for(const a in e)e[a][0]&&e[a][0](t)},F3=(e,t)=>{if(!Fs.has(e)){const a=Ui(m5,t),s=Object.create(null),l=x5.bind(_r,e);let c=Ks;const u=Object.create(null),f=(y,w)=>{const b=u[y]||[];return u[y]=b,b.push(w),()=>b.splice(b.indexOf(w),1)},h=(y,w,b)=>{e.set(y,w);const v=u[y];if(v)for(const k of v)k(w,b)},m=()=>{if(!Fs.has(e)&&(Fs.set(e,[s,Object.create(null),Object.create(null),Object.create(null),l,h,f]),!ty)){const y=a.initFocus(setTimeout.bind(_r,Kv.bind(_r,s,r5))),w=a.initReconnect(setTimeout.bind(_r,Kv.bind(_r,s,n5)));c=()=>{y&&y(),w&&w(),Fs.delete(e)}}};return m(),[e,l,m,c]}return[e,Fs.get(e)[4]]},b5=(e,t,a,s,l)=>{const c=a.errorRetryCount,u=l.retryCount,f=~~((Math.random()+.5)*(1<<(u<8?u:8)))*a.errorRetryInterval;!dn(c)&&u>c||setTimeout(s,f,l)},v5=Qm,[ay,w5]=F3(new Map),N5=Ui({onLoadingSlow:Ks,onSuccess:Ks,onError:Ks,onErrorRetry:b5,onDiscarded:Ks,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Gv?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Gv?5e3:3e3,compare:v5,isPaused:()=>!1,cache:ay,mutate:w5,fallback:{}},h5),j5=(e,t)=>{const a=Ui(e,t);if(t){const{use:s,fallback:l}=e,{use:c,fallback:u}=t;s&&c&&(a.use=s.concat(c)),l&&u&&(a.fallback=Ui(l,u))}return a},Yv=x.createContext({}),k5=e=>{const{value:t}=e,a=x.useContext(Yv),s=Bs(t),l=x.useMemo(()=>s?t(a):t,[s,a,t]),c=x.useMemo(()=>s?l:j5(a,l),[s,a,l]),u=l&&l.provider,f=x.useRef(_r);u&&!f.current&&(f.current=F3(u(c.cache||ay),l));const h=f.current;return h&&(c.cache=h[0],c.mutate=h[1]),g5(()=>{if(h)return h[2]&&h[2](),h[3]},[]),x.createElement(Yv.Provider,Ui(e,{value:c}))},S5="$inf$",B3=w0&&window.__SWR_DEVTOOLS_USE__,$5=B3?window.__SWR_DEVTOOLS_USE__:[],C5=()=>{B3&&(window.__SWR_DEVTOOLS_REACT__=We)},_5=e=>(t,a,s)=>e(t,a&&((...l)=>{const[c]=U3(t),[,,,u]=Fs.get(ay);if(c.startsWith(S5))return a(...l);const f=u[c];return dn(f)?a(...l):(delete u[c],f)}),s);$5.concat(_5);C5();We.use;const E5=r0.defineProperty(k5,"defaultValue",{value:N5});Promise.resolve();const _n=Object.create(null);_n.open="0";_n.close="1";_n.ping="2";_n.pong="3";_n.message="4";_n.upgrade="5";_n.noop="6";const qu=Object.create(null);Object.keys(_n).forEach(e=>{qu[_n[e]]=e});const tg={type:"error",data:"parser error"},z3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",H3=typeof ArrayBuffer=="function",q3=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ry=({type:e,data:t},a,s)=>z3&&t instanceof Blob?a?s(t):Qv(t,s):H3&&(t instanceof ArrayBuffer||q3(t))?a?s(t):Qv(new Blob([t]),s):s(_n[e]+(t||"")),Qv=(e,t)=>{const a=new FileReader;return a.onload=function(){const s=a.result.split(",")[1];t("b"+(s||""))},a.readAsDataURL(e)};function Xv(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ym;function T5(e,t){if(z3&&e.data instanceof Blob)return e.data.arrayBuffer().then(Xv).then(t);if(H3&&(e.data instanceof ArrayBuffer||q3(e.data)))return t(Xv(e.data));ry(e,!1,a=>{ym||(ym=new TextEncoder),t(ym.encode(a))})}const Wv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Wv.length;e++)Cc[Wv.charCodeAt(e)]=e;const A5=e=>{let t=e.length*.75,a=e.length,s,l=0,c,u,f,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),y=new Uint8Array(m);for(s=0;s<a;s+=4)c=Cc[e.charCodeAt(s)],u=Cc[e.charCodeAt(s+1)],f=Cc[e.charCodeAt(s+2)],h=Cc[e.charCodeAt(s+3)],y[l++]=c<<2|u>>4,y[l++]=(u&15)<<4|f>>2,y[l++]=(f&3)<<6|h&63;return m},O5=typeof ArrayBuffer=="function",ny=(e,t)=>{if(typeof e!="string")return{type:"message",data:G3(e,t)};const a=e.charAt(0);return a==="b"?{type:"message",data:R5(e.substring(1),t)}:qu[a]?e.length>1?{type:qu[a],data:e.substring(1)}:{type:qu[a]}:tg},R5=(e,t)=>{if(O5){const a=A5(e);return G3(a,t)}else return{base64:!0,data:e}},G3=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},V3="",P5=(e,t)=>{const a=e.length,s=new Array(a);let l=0;e.forEach((c,u)=>{ry(c,!1,f=>{s[u]=f,++l===a&&t(s.join(V3))})})},M5=(e,t)=>{const a=e.split(V3),s=[];for(let l=0;l<a.length;l++){const c=ny(a[l],t);if(s.push(c),c.type==="error")break}return s};function D5(){return new TransformStream({transform(e,t){T5(e,a=>{const s=a.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const c=new DataView(l.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{l=new Uint8Array(9);const c=new DataView(l.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(l[0]|=128),t.enqueue(l),t.enqueue(a)})}})}let pm;function $u(e){return e.reduce((t,a)=>t+a.length,0)}function Cu(e,t){if(e[0].length===t)return e.shift();const a=new Uint8Array(t);let s=0;for(let l=0;l<t;l++)a[l]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),a}function L5(e,t){pm||(pm=new TextDecoder);const a=[];let s=0,l=-1,c=!1;return new TransformStream({transform(u,f){for(a.push(u);;){if(s===0){if($u(a)<1)break;const h=Cu(a,1);c=(h[0]&128)===128,l=h[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if($u(a)<2)break;const h=Cu(a,2);l=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),s=3}else if(s===2){if($u(a)<8)break;const h=Cu(a,8),m=new DataView(h.buffer,h.byteOffset,h.length),y=m.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(tg);break}l=y*Math.pow(2,32)+m.getUint32(4),s=3}else{if($u(a)<l)break;const h=Cu(a,l);f.enqueue(ny(c?h:pm.decode(h),t)),s=0}if(l===0||l>e){f.enqueue(tg);break}}}})}const K3=4;function Pa(e){if(e)return I5(e)}function I5(e){for(var t in Pa.prototype)e[t]=Pa.prototype[t];return e}Pa.prototype.on=Pa.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Pa.prototype.once=function(e,t){function a(){this.off(e,a),t.apply(this,arguments)}return a.fn=t,this.on(e,a),this};Pa.prototype.off=Pa.prototype.removeListener=Pa.prototype.removeAllListeners=Pa.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+e];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,l=0;l<a.length;l++)if(s=a[l],s===t||s.fn===t){a.splice(l,1);break}return a.length===0&&delete this._callbacks["$"+e],this};Pa.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),a=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,l=a.length;s<l;++s)a[s].apply(this,t)}return this};Pa.prototype.emitReserved=Pa.prototype.emit;Pa.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Pa.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Br=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Y3(e,...t){return t.reduce((a,s)=>(e.hasOwnProperty(s)&&(a[s]=e[s]),a),{})}const U5=Br.setTimeout,F5=Br.clearTimeout;function N0(e,t){t.useNativeTimers?(e.setTimeoutFn=U5.bind(Br),e.clearTimeoutFn=F5.bind(Br)):(e.setTimeoutFn=Br.setTimeout.bind(Br),e.clearTimeoutFn=Br.clearTimeout.bind(Br))}const B5=1.33;function z5(e){return typeof e=="string"?H5(e):Math.ceil((e.byteLength||e.size)*B5)}function H5(e){let t=0,a=0;for(let s=0,l=e.length;s<l;s++)t=e.charCodeAt(s),t<128?a+=1:t<2048?a+=2:t<55296||t>=57344?a+=3:(s++,a+=4);return a}function q5(e){let t="";for(let a in e)e.hasOwnProperty(a)&&(t.length&&(t+="&"),t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t}function G5(e){let t={},a=e.split("&");for(let s=0,l=a.length;s<l;s++){let c=a[s].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class V5 extends Error{constructor(t,a,s){super(t),this.description=a,this.context=s,this.type="TransportError"}}class sy extends Pa{constructor(t){super(),this.writable=!1,N0(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,a,s){return super.emitReserved("error",new V5(t,a,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const a=ny(t,this.socket.binaryType);this.onPacket(a)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,a={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const a=q5(t);return a.length?"?"+a:""}}const Q3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ag=64,K5={};let Zv=0,_u=0,Jv;function e1(e){let t="";do t=Q3[e%ag]+t,e=Math.floor(e/ag);while(e>0);return t}function X3(){const e=e1(+new Date);return e!==Jv?(Zv=0,Jv=e):e+"."+e1(Zv++)}for(;_u<ag;_u++)K5[Q3[_u]]=_u;let W3=!1;try{W3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){}const Y5=W3;function Z3(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Y5))return new XMLHttpRequest}catch(a){}if(!t)try{return new Br[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(a){}}function Q5(){}const X5=function(){return new Z3({xdomain:!1}).responseType!=null}();class W5 extends sy{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let l=location.port;l||(l=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||l!==t.port}const a=t&&t.forceBase64;this.supportsBinary=X5&&!a,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const a=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||a()})),this.writable||(s++,this.once("drain",function(){--s||a()}))}else a()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const a=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};M5(t,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,P5(t,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=X3()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(t,a)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Go(this.uri(),t)}doWrite(t,a){const s=this.request({method:"POST",data:t});s.on("success",a),s.on("error",(l,c)=>{this.onError("xhr post error",l,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(a,s)=>{this.onError("xhr poll error",a,s)}),this.pollXhr=t}}let Go=class Gu extends Pa{constructor(t,a){super(),N0(this,a),this.opts=a,this.method=a.method||"GET",this.uri=t,this.data=a.data!==void 0?a.data:null,this.create()}create(){var t;const a=Y3(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this.opts.xd;const s=this.xhr=new Z3(a);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this.opts.extraHeaders[l])}}catch(l){}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(l){}try{s.setRequestHeader("Accept","*/*")}catch(l){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this.opts.cookieJar)===null||l===void 0||l.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(l){this.setTimeoutFn(()=>{this.onError(l)},0);return}typeof document<"u"&&(this.index=Gu.requestsCount++,Gu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Q5,t)try{this.xhr.abort()}catch(a){}typeof document<"u"&&delete Gu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Go.requestsCount=0;Go.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",t1);else if(typeof addEventListener=="function"){const e="onpagehide"in Br?"pagehide":"unload";addEventListener(e,t1,!1)}}function t1(){for(let e in Go.requests)Go.requests.hasOwnProperty(e)&&Go.requests[e].abort()}const iy=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Eu=Br.WebSocket||Br.MozWebSocket,a1=!0,Z5="arraybuffer",r1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class J5 extends sy{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),a=this.opts.protocols,s=r1?{}:Y3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=a1&&!r1?a?new Eu(t,a):new Eu(t):new Eu(t,a,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let a=0;a<t.length;a++){const s=t[a],l=a===t.length-1;ry(s,this.supportsBinary,c=>{try{a1&&this.ws.send(c)}catch(u){}l&&iy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=X3()),this.supportsBinary||(a.b64=1),this.createUri(t,a)}check(){return!!Eu}}class e9 extends sy{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const a=L5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(a).getReader(),l=D5();l.readable.pipeTo(t.writable),this.writer=l.writable.getWriter();const c=()=>{s.read().then(({done:f,value:h})=>{f||(this.onPacket(h),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this.writer.write(u).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let a=0;a<t.length;a++){const s=t[a],l=a===t.length-1;this.writer.write(s).then(()=>{l&&iy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const t9={websocket:J5,webtransport:e9,polling:W5},a9=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rg(e){if(e.length>2e3)throw"URI too long";const t=e,a=e.indexOf("["),s=e.indexOf("]");a!=-1&&s!=-1&&(e=e.substring(0,a)+e.substring(a,s).replace(/:/g,";")+e.substring(s,e.length));let l=a9.exec(e||""),c={},u=14;for(;u--;)c[r9[u]]=l[u]||"";return a!=-1&&s!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=n9(c,c.path),c.queryKey=s9(c,c.query),c}function n9(e,t){const a=/\/{2,9}/g,s=t.replace(a,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function s9(e,t){const a={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,c){l&&(a[l]=c)}),a}let J3=class Fo extends Pa{constructor(t,a={}){super(),this.binaryType=Z5,this.writeBuffer=[],t&&typeof t=="object"&&(a=t,t=null),t?(t=rg(t),a.hostname=t.host,a.secure=t.protocol==="https"||t.protocol==="wss",a.port=t.port,t.query&&(a.query=t.query)):a.host&&(a.hostname=rg(a.host).host),N0(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=a.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=G5(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const a=Object.assign({},this.opts.query);a.EIO=K3,a.transport=t,this.id&&(a.sid=this.id);const s=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new t9[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Fo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(a){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",a=>this.onClose("transport close",a))}probe(t){let a=this.createTransport(t),s=!1;Fo.priorWebsocketSuccess=!1;const l=()=>{s||(a.send([{type:"ping",data:"probe"}]),a.once("packet",w=>{if(!s)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;Fo.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=a.name,this.emitReserved("upgradeError",b)}}))};function c(){s||(s=!0,y(),a.close(),a=null)}const u=w=>{const b=new Error("probe error: "+w);b.transport=a.name,c(),this.emitReserved("upgradeError",b)};function f(){u("transport closed")}function h(){u("socket closed")}function m(w){a&&w.name!==a.name&&c()}const y=()=>{a.removeListener("open",l),a.removeListener("error",u),a.removeListener("close",f),this.off("close",h),this.off("upgrading",m)};a.once("open",l),a.once("error",u),a.once("close",f),this.once("close",h),this.once("upgrading",m),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||a.open()},200):a.open()}onOpen(){if(this.readyState="open",Fo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const a=this.upgrades.length;for(;t<a;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const a=new Error("server error");a.code=t.data,this.onError(a);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let a=0;a<this.writeBuffer.length;a++){const s=this.writeBuffer[a].data;if(s&&(t+=z5(s)),a>0&&t>this.maxPayload)return this.writeBuffer.slice(0,a);t+=2}return this.writeBuffer}write(t,a,s){return this.sendPacket("message",t,a,s),this}send(t,a,s){return this.sendPacket("message",t,a,s),this}sendPacket(t,a,s,l){if(typeof a=="function"&&(l=a,a=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:t,data:a,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),l&&this.once("flush",l),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),t()},s=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){Fo.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,a){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,a),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const a=[];let s=0;const l=t.length;for(;s<l;s++)~this.transports.indexOf(t[s])&&a.push(t[s]);return a}};J3.protocol=K3;function i9(e,t="",a){let s=e;a=a||typeof location<"u"&&location,e==null&&(e=a.protocol+"//"+a.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=a.protocol+e:e=a.host+e),/^(https?|wss?):\/\//.test(e)||(typeof a<"u"?e=a.protocol+"//"+e:e="https://"+e),s=rg(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+t,s.href=s.protocol+"://"+l+(a&&a.port===s.port?"":":"+s.port),s}const o9=typeof ArrayBuffer=="function",l9=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ew=Object.prototype.toString,c9=typeof Blob=="function"||typeof Blob<"u"&&ew.call(Blob)==="[object BlobConstructor]",d9=typeof File=="function"||typeof File<"u"&&ew.call(File)==="[object FileConstructor]";function oy(e){return o9&&(e instanceof ArrayBuffer||l9(e))||c9&&e instanceof Blob||d9&&e instanceof File}function Vu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let a=0,s=e.length;a<s;a++)if(Vu(e[a]))return!0;return!1}if(oy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Vu(e.toJSON(),!0);for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&Vu(e[a]))return!0;return!1}function u9(e){const t=[],a=e.data,s=e;return s.data=ng(a,t),s.attachments=t.length,{packet:s,buffers:t}}function ng(e,t){if(!e)return e;if(oy(e)){const a={_placeholder:!0,num:t.length};return t.push(e),a}else if(Array.isArray(e)){const a=new Array(e.length);for(let s=0;s<e.length;s++)a[s]=ng(e[s],t);return a}else if(typeof e=="object"&&!(e instanceof Date)){const a={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=ng(e[s],t));return a}return e}function f9(e,t){return e.data=sg(e.data,t),delete e.attachments,e}function sg(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let a=0;a<e.length;a++)e[a]=sg(e[a],t);else if(typeof e=="object")for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(e[a]=sg(e[a],t));return e}const h9=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],m9=5;var Qt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Qt||(Qt={}));class g9{constructor(t){this.replacer=t}encode(t){return(t.type===Qt.EVENT||t.type===Qt.ACK)&&Vu(t)?this.encodeAsBinary({type:t.type===Qt.EVENT?Qt.BINARY_EVENT:Qt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let a=""+t.type;return(t.type===Qt.BINARY_EVENT||t.type===Qt.BINARY_ACK)&&(a+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(a+=t.nsp+","),t.id!=null&&(a+=t.id),t.data!=null&&(a+=JSON.stringify(t.data,this.replacer)),a}encodeAsBinary(t){const a=u9(t),s=this.encodeAsString(a.packet),l=a.buffers;return l.unshift(s),l}}function n1(e){return Object.prototype.toString.call(e)==="[object Object]"}class ly extends Pa{constructor(t){super(),this.reviver=t}add(t){let a;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(t);const s=a.type===Qt.BINARY_EVENT;s||a.type===Qt.BINARY_ACK?(a.type=s?Qt.EVENT:Qt.ACK,this.reconstructor=new y9(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(oy(t)||t.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(t),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let a=0;const s={type:Number(t.charAt(0))};if(Qt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Qt.BINARY_EVENT||s.type===Qt.BINARY_ACK){const c=a+1;for(;t.charAt(++a)!=="-"&&a!=t.length;);const u=t.substring(c,a);if(u!=Number(u)||t.charAt(a)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(t.charAt(a+1)==="/"){const c=a+1;for(;++a&&!(t.charAt(a)===","||a===t.length););s.nsp=t.substring(c,a)}else s.nsp="/";const l=t.charAt(a+1);if(l!==""&&Number(l)==l){const c=a+1;for(;++a;){const u=t.charAt(a);if(u==null||Number(u)!=u){--a;break}if(a===t.length)break}s.id=Number(t.substring(c,a+1))}if(t.charAt(++a)){const c=this.tryParse(t.substr(a));if(ly.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(a){return!1}}static isPayloadValid(t,a){switch(t){case Qt.CONNECT:return n1(a);case Qt.DISCONNECT:return a===void 0;case Qt.CONNECT_ERROR:return typeof a=="string"||n1(a);case Qt.EVENT:case Qt.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&h9.indexOf(a[0])===-1);case Qt.ACK:case Qt.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class y9{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const a=f9(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const p9=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ly,Encoder:g9,get PacketType(){return Qt},protocol:m9},Symbol.toStringTag,{value:"Module"}));function cn(e,t,a){return e.on(t,a),function(){e.off(t,a)}}const x9=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tw extends Pa{constructor(t,a,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=a,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[cn(t,"open",this.onopen.bind(this)),cn(t,"packet",this.onpacket.bind(this)),cn(t,"error",this.onerror.bind(this)),cn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...a){if(x9.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(a.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const s={type:Qt.EVENT,data:a};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const c=this.ids++,u=a.pop();this._registerAckCallback(c,u),s.id=c}const l=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!l||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,a){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[t]=a;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);a.call(this,new Error("operation has timed out"))},l);this.acks[t]=(...u)=>{this.io.clearTimeoutFn(c),a.apply(this,[null,...u])}}emitWithAck(t,...a){const s=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((l,c)=>{a.push((u,f)=>s?u?c(u):l(f):l(u)),this.emit(t,...a)})}_addToQueue(t){let a;typeof t[t.length-1]=="function"&&(a=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((l,...c)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(l)):(this._queue.shift(),a&&a(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!t||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,a)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Qt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qt.EVENT:case Qt.BINARY_EVENT:this.onevent(t);break;case Qt.ACK:case Qt.BINARY_ACK:this.onack(t);break;case Qt.DISCONNECT:this.ondisconnect();break;case Qt.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const a=t.data||[];t.id!=null&&a.push(this.ack(t.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const s of a)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const a=this;let s=!1;return function(...l){s||(s=!0,a.packet({type:Qt.ACK,id:t,data:l}))}}onack(t){const a=this.acks[t.id];typeof a=="function"&&(a.apply(this,t.data),delete this.acks[t.id])}onconnect(t,a){this.id=t,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const a=this._anyListeners;for(let s=0;s<a.length;s++)if(t===a[s])return a.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const a=this._anyOutgoingListeners;for(let s=0;s<a.length;s++)if(t===a[s])return a.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const s of a)s.apply(this,t.data)}}}function yl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}yl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),a=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-a:e+a}return Math.min(e,this.max)|0};yl.prototype.reset=function(){this.attempts=0};yl.prototype.setMin=function(e){this.ms=e};yl.prototype.setMax=function(e){this.max=e};yl.prototype.setJitter=function(e){this.jitter=e};class ig extends Pa{constructor(t,a){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(a=t,t=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,N0(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((s=a.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new yl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=t;const l=a.parser||p9;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var a;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(a=this.backoff)===null||a===void 0||a.setMin(t),this)}randomizationFactor(t){var a;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(a=this.backoff)===null||a===void 0||a.setJitter(t),this)}reconnectionDelayMax(t){var a;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(a=this.backoff)===null||a===void 0||a.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new J3(this.uri,this.opts);const a=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=cn(a,"open",function(){s.onopen(),t&&t()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},u=cn(a,"error",c);if(this._timeout!==!1){const f=this._timeout,h=this.setTimeoutFn(()=>{l(),c(new Error("timeout")),a.close()},f);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(l),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(cn(t,"ping",this.onping.bind(this)),cn(t,"data",this.ondata.bind(this)),cn(t,"error",this.onerror.bind(this)),cn(t,"close",this.onclose.bind(this)),cn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(a){this.onclose("parse error",a)}}ondecoded(t){iy(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,a){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new tw(this,t,a),this.nsps[t]=s),s}_destroy(t){const a=Object.keys(this.nsps);for(const s of a)if(this.nsps[s].active)return;this._close()}_packet(t){const a=this.encoder.encode(t);for(let s=0;s<a.length;s++)this.engine.write(a[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,a){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(l=>{l?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",l)):t.onreconnect()}))},a);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const jc={};function Ku(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const a=i9(e,t.path||"/socket.io"),s=a.source,l=a.id,c=a.path,u=jc[l]&&c in jc[l].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let h;return f?h=new ig(s,t):(jc[l]||(jc[l]=new ig(s,t)),h=jc[l]),a.query&&!t.query&&(t.query=a.queryKey),h.socket(a.path,t)}Object.assign(Ku,{Manager:ig,Socket:tw,io:Ku,connect:Ku});class b9{constructor(t,a,s,l){Ci(this,"socket_port"),Ci(this,"host"),Ci(this,"port"),Ci(this,"protocol"),Ci(this,"url"),Ci(this,"site_name"),Ci(this,"socket");var c,u,f,h;if(this.socket_port=s!=null?s:"9000",this.host=(c=window.location)==null?void 0:c.hostname,this.port=(u=window.location)!=null&&u.port?`:${this.socket_port}`:"",this.protocol=((f=window.location)==null?void 0:f.protocol)==="https:"?"https":"http",t){let m=new URL(t);m.port="",s?(m.port=s,this.url=m.toString()):this.url=m.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;a&&(this.url=`${this.url}${a}`),this.site_name=a,this.socket=Ku(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:l&&l.useToken===!0?{Authorization:`${l.type} ${(h=l.token)==null?void 0:h.call(l)}`}:{}})}}const v9=x.createContext(null),w9=({url:e="",tokenParams:t,socketPort:a,swrConfig:s,siteName:l,enableSocket:c=!0,children:u,customHeaders:f})=>{const h=x.useMemo(()=>{const m=new e5.FrappeApp(e,t,void 0,f);return{url:e,tokenParams:t,app:m,auth:m.auth(),db:m.db(),call:m.call(),file:m.file(),socket:c?new b9(e,l,a,t).socket:void 0,enableSocket:c,socketPort:a}},[e,t,a,c,f]);return r.jsx(v9.Provider,{value:h,children:r.jsx(E5,{value:s,children:u})})};function N9(){const[e,t]=x.useState([]),[a,s]=x.useState(!0),[l,c]=x.useState(null);return x.useEffect(()=>{oe(null,null,function*(){try{s(!0);const f=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_profiles_for_user",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=yield f.json();if(f.ok&&h.message)t(h.message);else throw new Error(h._server_messages||"Failed to fetch POS Profiles")}catch(f){console.error("Error loading POS Profiles:",f),c(f.message||"Unknown error")}finally{s(!1)}})},[]),{profiles:e,loading:a,error:l}}function er(){const[e,t]=x.useState(null),[a,s]=x.useState(!0),[l,c]=x.useState(null);return x.useEffect(()=>{oe(null,null,function*(){var f,h,m;try{s(!0);const y=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),w=yield y.json();if(y.ok&&w.message){try{console.log("[POS] Active Profile:",(f=w.message)==null?void 0:f.name,"| Opening Entry:",(h=w.message)==null?void 0:h.current_opening_entry,"| Currency:",(m=w.message)==null?void 0:m.currency)}catch(b){}t(w.message)}else throw new Error(w._server_messages||"Failed to fetch POS details")}catch(y){console.error("Error loading POS details:",y),c(y.message||"Unknown error")}finally{s(!1)}})},[]),{posDetails:e,loading:a,error:l}}const aw=x.createContext(void 0);function j9({children:e}){const[t,a]=x.useState("light"),[s,l]=x.useState(!1);x.useEffect(()=>{l(!0)},[]),x.useEffect(()=>{if(!s)return;const u=localStorage.getItem("theme");u?a(u):window.matchMedia("(prefers-color-scheme: dark)").matches&&a("dark")},[s]),x.useEffect(()=>{s&&(localStorage.setItem("theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[t,s]);const c=()=>{a(t==="light"?"dark":"light")};return r.jsx(aw.Provider,{value:{theme:t,setTheme:a,toggleTheme:c},children:e})}function j0(){const e=x.useContext(aw);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S9=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,s)=>s?s.toUpperCase():a.toLowerCase()),s1=e=>{const t=S9(e);return t.charAt(0).toUpperCase()+t.slice(1)},rw=(...e)=>e.filter((t,a,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===a).join(" ").trim(),$9=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=x.forwardRef((m,h)=>{var y=m,{color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u}=y,f=Lt(y,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return x.createElement("svg",U(U(de(U({ref:h},C9),{width:t,height:t,stroke:e,strokeWidth:s?Number(a)*24/Number(t):a,className:rw("lucide",l)}),!c&&!$9(f)&&{"aria-hidden":"true"}),f),[...u.map(([w,b])=>x.createElement(w,b)),...Array.isArray(c)?c:[c]])});/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,t)=>{const a=x.forwardRef((u,c)=>{var f=u,{className:s}=f,l=Lt(f,["className"]);return x.createElement(_9,U({ref:c,iconNode:t,className:rw(`lucide-${k9(s1(e))}`,`lucide-${e}`,s)},l))});return a.displayName=s1(e),a};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],i1=ot("activity",E9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ki=ot("arrow-left",T9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],nw=ot("banknote",A9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],_c=ot("building",O9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],o1=ot("calculator",R9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cy=ot("calendar",P9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],sw=ot("camera",M9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zo=ot("chart-column",D9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],l1=ot("chart-pie",L9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vo=ot("check",I9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],F9=ot("chevron-right",U9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oc=ot("circle-alert",B9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fi=ot("circle-check-big",z9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],q9=ot("circle-check",H9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bo=ot("circle-x",G9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],sl=ot("clock",V9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Hr=ot("credit-card",K9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rc=ot("dollar-sign",Y9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],og=ot("download",Q9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bi=ot("eye",X9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],n0=ot("file-minus",W9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],J9=ot("file-plus",Z9);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],il=ot("file-text",e$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],lg=ot("funnel",t$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],iw=ot("gift",a$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],c1=ot("globe",r$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dd=ot("grid-3x3",n$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],dy=ot("list",s$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rs=ot("loader-circle",i$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k0=ot("log-out",o$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],cg=ot("mail-plus",l$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ol=ot("mail",c$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],S0=ot("map-pin",d$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],dg=ot("message-circle-plus",u$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],ug=ot("message-square-plus",f$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M5 12h14",key:"1ays0h"}]],uy=ot("minus",h$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],Ec=ot("monitor-x",m$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],$0=ot("moon",g$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],s0=ot("package",y$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],x$=ot("palette",p$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],d1=ot("pencil",b$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],w$=ot("percent",v$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],i0=ot("phone",N$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pc=ot("plus",j$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Mc=ot("printer",k$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ow=ot("receipt",S$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ll=ot("refresh-cw",$$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zi=ot("rotate-ccw",C$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],E$=ot("save",_$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],lw=ot("scan",T$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ir=ot("search",A$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C0=ot("settings",O$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Dc=ot("shopping-cart",R$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],M$=ot("smartphone",P$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cl=ot("square-pen",D$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],fy=ot("store",L$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_0=ot("sun",I$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],F$=ot("tag",U$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],u1=ot("trending-down",B$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Is=ot("trending-up",z$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lc=ot("triangle-alert",H$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],f1=ot("user-plus",q$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zr=ot("user",G$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ys=ot("users",V$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Y$=ot("wallet",K$);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gr=ot("x",Q$),h1=e=>{let t;const a=new Set,s=(m,y)=>{const w=typeof m=="function"?m(t):m;if(!Object.is(w,t)){const b=t;t=(y!=null?y:typeof w!="object"||w===null)?w:Object.assign({},t,w),a.forEach(v=>v(t,b))}},l=()=>t,f={setState:s,getState:l,getInitialState:()=>h,subscribe:m=>(a.add(m),()=>a.delete(m))},h=t=e(s,l,f);return f},X$=e=>e?h1(e):h1,W$=e=>e;function Z$(e,t=W$){const a=We.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return We.useDebugValue(a),a}const J$=e=>{const t=X$(e),a=s=>Z$(t,s);return Object.assign(a,t),a},eC=e=>J$;function tC(e,t){let a;try{a=e()}catch(l){return}return{getItem:l=>{var c;const u=h=>h===null?null:JSON.parse(h,void 0),f=(c=a.getItem(l))!=null?c:null;return f instanceof Promise?f.then(u):u(f)},setItem:(l,c)=>a.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>a.removeItem(l)}}const fg=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(s){return fg(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return fg(s)(a)}}}},aC=(e,t)=>(a,s,l)=>{let c=U({storage:tC(()=>localStorage),partialize:N=>N,version:0,merge:(N,$)=>U(U({},$),N)},t),u=!1;const f=new Set,h=new Set;let m=c.storage;if(!m)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),a(...N)},s,l);const y=()=>{const N=c.partialize(U({},s()));return m.setItem(c.name,{state:N,version:c.version})},w=l.setState;l.setState=(N,$)=>{w(N,$),y()};const b=e((...N)=>{a(...N),y()},s,l);l.getInitialState=()=>b;let v;const k=()=>{var N,$;if(!m)return;u=!1,f.forEach(L=>{var M;return L((M=s())!=null?M:b)});const C=(($=c.onRehydrateStorage)==null?void 0:$.call(c,(N=s())!=null?N:b))||void 0;return fg(m.getItem.bind(m))(c.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==c.version){if(c.migrate){const M=c.migrate(L.state,L.version);return M instanceof Promise?M.then(B=>[!0,B]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var M;const[B,O]=L;if(v=c.merge(O,(M=s())!=null?M:b),a(v,!0),B)return y()}).then(()=>{C==null||C(v,void 0),v=s(),u=!0,h.forEach(L=>L(v))}).catch(L=>{C==null||C(void 0,L)})};return l.persist={setOptions:N=>{c=U(U({},c),N),N.storage&&(m=N.storage)},clearStorage:()=>{m==null||m.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(h.add(N),()=>{h.delete(N)})},c.skipHydration||k(),v||b},rC=aC;function cw(e){var t,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(a=cw(e[t]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function Li(){for(var e,t,a=0,s="",l=arguments.length;a<l;a++)(e=arguments[a])&&(t=cw(e))&&(s&&(s+=" "),s+=t);return s}function nC(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}nC(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ud=e=>typeof e=="number"&&!isNaN(e),Hi=e=>typeof e=="string",es=e=>typeof e=="function",sC=e=>Hi(e)||ud(e),hg=e=>Hi(e)||es(e)?e:null,iC=(e,t)=>e===!1||ud(e)&&e>0?e:t,mg=e=>x.isValidElement(e)||Hi(e)||es(e)||ud(e);function oC(e,t,a=300){let{scrollHeight:s,style:l}=e;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${a}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,a)})})}function lC({enter:e,exit:t,appendPosition:a=!1,collapse:s=!0,collapseDuration:l=300}){return function({children:c,position:u,preventExitTransition:f,done:h,nodeRef:m,isIn:y,playToast:w}){let b=a?`${e}--${u}`:e,v=a?`${t}--${u}`:t,k=x.useRef(0);return x.useLayoutEffect(()=>{let N=m.current,$=b.split(" "),C=L=>{L.target===m.current&&(w(),N.removeEventListener("animationend",C),N.removeEventListener("animationcancel",C),k.current===0&&L.type!=="animationcancel"&&N.classList.remove(...$))};N.classList.add(...$),N.addEventListener("animationend",C),N.addEventListener("animationcancel",C)},[]),x.useEffect(()=>{let N=m.current,$=()=>{N.removeEventListener("animationend",$),s?oC(N,h,l):h()};y||(f?$():(k.current=1,N.className+=` ${v}`,N.addEventListener("animationend",$)))},[y]),We.createElement(We.Fragment,null,c)}}function m1(e,t){return{content:dw(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function dw(e,t,a=!1){return x.isValidElement(e)&&!Hi(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):es(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):e}function cC({closeToast:e,theme:t,ariaLabel:a="close"}){return We.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":a},We.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},We.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dC({delay:e,isRunning:t,closeToast:a,type:s="default",hide:l,className:c,controlledProgress:u,progress:f,rtl:h,isIn:m,theme:y}){let w=l||u&&f===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(b.transform=`scaleX(${f})`);let v=Li("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),k=es(c)?c({rtl:h,type:s,defaultClassName:v}):Li(v,c),N={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{m&&a()}};return We.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},We.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${s}`}),We.createElement("div",U({role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:k,style:b},N)))}var uC=1,uw=()=>`${uC++}`;function fC(e,t,a){let s=1,l=0,c=[],u=[],f=t,h=new Map,m=new Set,y=L=>(m.add(L),()=>m.delete(L)),w=()=>{u=Array.from(h.values()),m.forEach(L=>L())},b=({containerId:L,toastId:M,updateId:B})=>{let O=L?L!==e:e!==1,R=h.has(M)&&B==null;return O||R},v=(L,M)=>{h.forEach(B=>{var O;(M==null||M===B.props.toastId)&&((O=B.toggle)==null||O.call(B,L))})},k=L=>{var M,B;(B=(M=L.props)==null?void 0:M.onClose)==null||B.call(M,L.removalReason),L.isActive=!1},N=L=>{if(L==null)h.forEach(k);else{let M=h.get(L);M&&k(M)}w()},$=()=>{l-=c.length,c=[]},C=L=>{var M,B;let{toastId:O,updateId:R}=L.props,ae=R==null;L.staleId&&h.delete(L.staleId),L.isActive=!0,h.set(O,L),w(),a(m1(L,ae?"added":"updated")),ae&&((B=(M=L.props).onOpen)==null||B.call(M))};return{id:e,props:f,observe:y,toggle:v,removeToast:N,toasts:h,clearQueue:$,buildToast:(L,M)=>{if(b(M))return;let{toastId:B,updateId:O,data:R,staleId:ae,delay:q}=M,G=O==null;G&&l++;let H=de(U(de(U({},f),{style:f.toastStyle,key:s++}),Object.fromEntries(Object.entries(M).filter(([Z,J])=>J!=null))),{toastId:B,updateId:O,data:R,isIn:!1,className:hg(M.className||f.toastClassName),progressClassName:hg(M.progressClassName||f.progressClassName),autoClose:M.isLoading?!1:iC(M.autoClose,f.autoClose),closeToast(Z){h.get(B).removalReason=Z,N(B)},deleteToast(){let Z=h.get(B);if(Z!=null){if(a(m1(Z,"removed")),h.delete(B),l--,l<0&&(l=0),c.length>0){C(c.shift());return}w()}}});H.closeButton=f.closeButton,M.closeButton===!1||mg(M.closeButton)?H.closeButton=M.closeButton:M.closeButton===!0&&(H.closeButton=mg(f.closeButton)?f.closeButton:!0);let V={content:L,props:H,staleId:ae};f.limit&&f.limit>0&&l>f.limit&&G?c.push(V):ud(q)?setTimeout(()=>{C(V)},q):C(V)},setProps(L){f=L},setToggle:(L,M)=>{let B=h.get(L);B&&(B.toggle=M)},isToastActive:L=>{var M;return(M=h.get(L))==null?void 0:M.isActive},getSnapshot:()=>u}}var sr=new Map,Ic=[],gg=new Set,hC=e=>gg.forEach(t=>t(e)),fw=()=>sr.size>0;function mC(){Ic.forEach(e=>mw(e.content,e.options)),Ic=[]}var gC=(e,{containerId:t})=>{var a;return(a=sr.get(t||1))==null?void 0:a.toasts.get(e)};function hw(e,t){var a;if(t)return!!((a=sr.get(t))!=null&&a.isToastActive(e));let s=!1;return sr.forEach(l=>{l.isToastActive(e)&&(s=!0)}),s}function yC(e){if(!fw()){Ic=Ic.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||sC(e))sr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=sr.get(e.containerId);t?t.removeToast(e.id):sr.forEach(a=>{a.removeToast(e.id)})}}var pC=(e={})=>{sr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function mw(e,t){mg(e)&&(fw()||Ic.push({content:e,options:t}),sr.forEach(a=>{a.buildToast(e,t)}))}function xC(e){var t;(t=sr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function gw(e,t){sr.forEach(a=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===a.id)&&a.toggle(e,t==null?void 0:t.id)})}function bC(e){let t=e.containerId||1;return{subscribe(a){let s=fC(t,e,hC);sr.set(t,s);let l=s.observe(a);return mC(),()=>{l(),sr.delete(t)}},setProps(a){var s;(s=sr.get(t))==null||s.setProps(a)},getSnapshot(){var a;return(a=sr.get(t))==null?void 0:a.getSnapshot()}}}function vC(e){return gg.add(e),()=>{gg.delete(e)}}function wC(e){return e&&(Hi(e.toastId)||ud(e.toastId))?e.toastId:uw()}function fd(e,t){return mw(e,t),t.toastId}function E0(e,t){return de(U({},t),{type:t&&t.type||e,toastId:wC(t)})}function T0(e){return(t,a)=>fd(t,E0(e,a))}function Me(e,t){return fd(e,E0("default",t))}Me.loading=(e,t)=>fd(e,E0("default",U({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)));function NC(e,{pending:t,error:a,success:s},l){let c;t&&(c=Hi(t)?Me.loading(t,l):Me.loading(t.render,U(U({},l),t)));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(m,y,w)=>{if(y==null){Me.dismiss(c);return}let b=de(U(U({type:m},u),l),{data:w}),v=Hi(y)?{render:y}:y;return c?Me.update(c,U(U({},b),v)):Me(v.render,U(U({},b),v)),w},h=es(e)?e():e;return h.then(m=>f("success",s,m)).catch(m=>f("error",a,m)),h}Me.promise=NC;Me.success=T0("success");Me.info=T0("info");Me.error=T0("error");Me.warning=T0("warning");Me.warn=Me.warning;Me.dark=(e,t)=>fd(e,E0("default",U({theme:"dark"},t)));function jC(e){yC(e)}Me.dismiss=jC;Me.clearWaitingQueue=pC;Me.isActive=hw;Me.update=(e,t={})=>{let a=gC(e,t);if(a){let{props:s,content:l}=a,c=de(U(U({delay:100},s),t),{toastId:t.toastId||e,updateId:uw()});c.toastId!==e&&(c.staleId=e);let u=c.render||l;delete c.render,fd(u,c)}};Me.done=e=>{Me.update(e,{progress:1})};Me.onChange=vC;Me.play=e=>gw(!0,e);Me.pause=e=>gw(!1,e);function kC(e){var t;let{subscribe:a,getSnapshot:s,setProps:l}=x.useRef(bC(e)).current;l(e);let c=(t=x.useSyncExternalStore(a,s,s))==null?void 0:t.slice();function u(f){if(!c)return[];let h=new Map;return e.newestOnTop&&c.reverse(),c.forEach(m=>{let{position:y}=m.props;h.has(y)||h.set(y,[]),h.get(y).push(m)}),Array.from(h,m=>f(m[0],m[1]))}return{getToastToRender:u,isToastActive:hw,count:c==null?void 0:c.length}}function SC(e){let[t,a]=x.useState(!1),[s,l]=x.useState(!1),c=x.useRef(null),u=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:m,onClick:y,closeOnClick:w}=e;xC({id:e.toastId,containerId:e.containerId,fn:a}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{v()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||C(),window.addEventListener("focus",$),window.addEventListener("blur",C)}function v(){window.removeEventListener("focus",$),window.removeEventListener("blur",C)}function k(ae){if(e.draggable===!0||e.draggable===ae.pointerType){L();let q=c.current;u.canCloseOnClick=!0,u.canDrag=!0,q.style.transition="none",e.draggableDirection==="x"?(u.start=ae.clientX,u.removalDistance=q.offsetWidth*(e.draggablePercent/100)):(u.start=ae.clientY,u.removalDistance=q.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function N(ae){let{top:q,bottom:G,left:H,right:V}=c.current.getBoundingClientRect();ae.nativeEvent.type!=="touchend"&&e.pauseOnHover&&ae.clientX>=H&&ae.clientX<=V&&ae.clientY>=q&&ae.clientY<=G?C():$()}function $(){a(!0)}function C(){a(!1)}function L(){u.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",O)}function M(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",O)}function B(ae){let q=c.current;if(u.canDrag&&q){u.didMove=!0,t&&C(),e.draggableDirection==="x"?u.delta=ae.clientX-u.start:u.delta=ae.clientY-u.start,u.start!==ae.clientX&&(u.canCloseOnClick=!1);let G=e.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;q.style.transform=`translate3d(${G},0)`,q.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function O(){M();let ae=c.current;if(u.canDrag&&u.didMove&&ae){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){l(!0),e.closeToast(!0),e.collapseAll();return}ae.style.transition="transform 0.2s, opacity 0.2s",ae.style.removeProperty("transform"),ae.style.removeProperty("opacity")}}let R={onPointerDown:k,onPointerUp:N};return f&&h&&(R.onMouseEnter=C,e.stacked||(R.onMouseLeave=$)),w&&(R.onClick=ae=>{y&&y(ae),u.canCloseOnClick&&m(!0)}),{playToast:$,pauseToast:C,isRunning:t,preventExitTransition:s,toastRef:c,eventHandlers:R}}var $C=typeof window!="undefined"?x.useLayoutEffect:x.useEffect,A0=l=>{var c=l,{theme:e,type:t,isLoading:a}=c,s=Lt(c,["theme","type","isLoading"]);return We.createElement("svg",U({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},s))};function CC(e){return We.createElement(A0,U({},e),We.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function _C(e){return We.createElement(A0,U({},e),We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function EC(e){return We.createElement(A0,U({},e),We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function TC(e){return We.createElement(A0,U({},e),We.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function AC(){return We.createElement("div",{className:"Toastify__spinner"})}var yg={info:_C,warning:CC,success:EC,error:TC,spinner:AC},OC=e=>e in yg;function RC({theme:e,type:t,isLoading:a,icon:s}){let l=null,c={theme:e,type:t};return s===!1||(es(s)?l=s(de(U({},c),{isLoading:a})):x.isValidElement(s)?l=x.cloneElement(s,c):a?l=yg.spinner():OC(t)&&(l=yg[t](c))),l}var PC=e=>{let{isRunning:t,preventExitTransition:a,toastRef:s,eventHandlers:l,playToast:c}=SC(e),{closeButton:u,children:f,autoClose:h,onClick:m,type:y,hideProgressBar:w,closeToast:b,transition:v,position:k,className:N,style:$,progressClassName:C,updateId:L,role:M,progress:B,rtl:O,toastId:R,deleteToast:ae,isIn:q,isLoading:G,closeOnClick:H,theme:V,ariaLabel:Z}=e,J=Li("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":H}),Ne=es(N)?N({rtl:O,position:k,type:y,defaultClassName:J}):Li(J,N),je=RC(e),X=!!B||!h,re={closeToast:b,type:y,theme:V},ne=null;return u===!1||(es(u)?ne=u(re):x.isValidElement(u)?ne=x.cloneElement(u,re):ne=cC(re)),We.createElement(v,{isIn:q,done:ae,position:k,preventExitTransition:a,nodeRef:s,playToast:c},We.createElement("div",U(de(U({id:R,tabIndex:0,onClick:m,"data-in":q,className:Ne},l),{style:$,ref:s}),q&&{role:M,"aria-label":Z}),je!=null&&We.createElement("div",{className:Li("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},je),dw(f,e,!t),ne,!e.customProgressBar&&We.createElement(dC,de(U({},L&&!X?{key:`p-${L}`}:{}),{rtl:O,theme:V,delay:h,isRunning:t,isIn:q,closeToast:b,hide:w,type:y,className:C,controlledProgress:X,progress:B||0}))))},MC=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),DC=lC(MC("bounce",!0)),LC={position:"top-right",transition:DC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function IC(e){let t=U(U({},LC),e),a=e.stacked,[s,l]=x.useState(!0),c=x.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=kC(t),{className:m,style:y,rtl:w,containerId:b,hotKeys:v}=t;function k($){let C=Li("Toastify__toast-container",`Toastify__toast-container--${$}`,{"Toastify__toast-container--rtl":w});return es(m)?m({position:$,rtl:w,defaultClassName:C}):Li(C,hg(m))}function N(){a&&(l(!0),Me.play())}return $C(()=>{var $;if(a){let C=c.current.querySelectorAll('[data-in="true"]'),L=12,M=($=t.position)==null?void 0:$.includes("top"),B=0,O=0;Array.from(C).reverse().forEach((R,ae)=>{let q=R;q.classList.add("Toastify__toast--stacked"),ae>0&&(q.dataset.collapsed=`${s}`),q.dataset.pos||(q.dataset.pos=M?"top":"bot");let G=B*(s?.2:1)+(s?0:L*ae);q.style.setProperty("--y",`${M?G:G*-1}px`),q.style.setProperty("--g",`${L}`),q.style.setProperty("--s",`${1-(s?O:0)}`),B+=q.offsetHeight,O+=.025})}},[s,h,a]),x.useEffect(()=>{function $(C){var L;let M=c.current;v(C)&&((L=M.querySelector('[tabIndex="0"]'))==null||L.focus(),l(!1),Me.pause()),C.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(l(!0),Me.play())}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[v]),We.createElement("section",{ref:c,className:"Toastify",id:b,onMouseEnter:()=>{a&&(l(!1),Me.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},u(($,C)=>{let L=C.length?U({},y):de(U({},y),{pointerEvents:"none"});return We.createElement("div",{tabIndex:-1,className:k($),"data-stacked":a,style:L,key:`c-${$}`},C.map(({content:M,props:B})=>We.createElement(PC,de(U({},B),{stacked:a,collapseAll:N,isIn:f(B.toastId,B.containerId),key:`t-${B.key}`}),M)))}))}const O0="draft-invoice-cache",yw=5*60*1e3;function UC(e,t,a){const s={items:t,timestamp:Date.now(),invoiceId:e,customer:a,originalDraftInvoiceId:e};console.log("cacheDraftInvoiceItems - storing cache:",s),localStorage.setItem(O0,JSON.stringify(s))}function pw(){try{const e=localStorage.getItem(O0);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.timestamp>yw?(qi(),null):t}catch(e){return console.error("Error retrieving cached draft invoice items:",e),qi(),null}}function qi(){localStorage.removeItem(O0)}function FC(){return oe(this,null,function*(){const e=pw();if(!e||e.items.length===0)return!1;const{setSelectedCustomer:t,addToCartWithQuantity:a}=Zs.getState();e.customer&&t(e.customer);for(const s of e.items){const l={id:s.id,name:s.name,category:s.category,price:s.price,image:s.image,available:s.available,uom:s.uom,item_code:s.id};yield a(l,s.quantity)}return!0})}function BC(){const e=localStorage.getItem(O0);if(!e)return!1;try{const t=JSON.parse(e);return Date.now()-t.timestamp<=yw}catch(t){return console.error("Error checking cache validity:",t),!1}}function zC(){const e=pw();return(e==null?void 0:e.originalDraftInvoiceId)||null}function pg(e,t){return oe(this,null,function*(){try{const a=t?`&customer=${t}`:"",s=yield fetch(`/api/method/klik_pos.api.item.get_item_price_for_customer?item_code=${e}${a}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const l=yield s.json();return l.message||l}catch(a){return console.error("Error fetching item price for customer:",a),{success:!1,price:0,currency:"SAR",currency_symbol:"SAR",error:a instanceof Error?a.message:"Unknown error"}}})}function HC(e,t){return oe(this,null,function*(){const a={},s=e.map(l=>oe(null,null,function*(){const c=l.item_code||l.id,u=yield pg(c,t);a[l.id]=u}));return yield Promise.all(s),a})}const Zs=eC()(rC((e,t)=>({cartItems:[],appliedCoupons:[],selectedCustomer:null,addToCart:a=>oe(null,null,function*(){const s=t(),l=s.cartItems.find(c=>c.id===a.id);if(a.available!==void 0&&a.available<=0){Me.error(`${a.name} is out of stock`);return}if(l){if(a.available!==void 0&&l.quantity>=a.available){Me.error(`Only ${a.available} ${a.uom||"units"} of ${a.name} available`);return}e(c=>({cartItems:c.cartItems.map(u=>u.id===a.id?de(U({},u),{quantity:u.quantity+1}):u)}))}else{let c=a.price;if(s.selectedCustomer)try{console.log(`🔄 Fetching correct price for ${a.name} with customer: ${s.selectedCustomer.name}`);const u=yield pg(a.id,s.selectedCustomer.id);u.success&&(c=u.price,console.log(`💰 Updated price for ${a.name}: ${a.price} → ${c}`))}catch(u){console.error("❌ Error fetching price for customer:",u)}e(u=>({cartItems:[...u.cartItems,de(U({},a),{price:c,quantity:1})]}))}}),addToCartWithQuantity:(a,s)=>oe(null,null,function*(){const l=t(),c=l.cartItems.find(u=>u.id===a.id);if(a.available!==void 0&&a.available<s){Me.error(`Only ${a.available} ${a.uom||"units"} of ${a.name} available`);return}if(c){if(a.available!==void 0&&c.quantity+s>a.available){Me.error(`Only ${a.available} ${a.uom||"units"} of ${a.name} available`);return}e(u=>({cartItems:u.cartItems.map(f=>f.id===a.id?de(U({},f),{quantity:f.quantity+s}):f)}))}else{let u=a.price;if(l.selectedCustomer)try{console.log(`🔄 Fetching correct price for ${a.name} with customer: ${l.selectedCustomer.name}`);const f=yield pg(a.id,l.selectedCustomer.id);f.success&&(u=f.price,console.log(`💰 Updated price for ${a.name}: ${a.price} → ${u}`))}catch(f){console.error("❌ Error fetching price for customer:",f)}e(f=>({cartItems:[...f.cartItems,de(U({},a),{price:u,quantity:s})]}))}}),updateQuantity:(a,s)=>e(l=>{if(s<=0)return{cartItems:l.cartItems.filter(u=>u.id!==a)};const c=l.cartItems.find(u=>u.id===a);return c&&c.available!==void 0&&s>c.available?(Me.error(`Only ${c.available} ${c.uom||"units"} of ${c.name} available`),l):{cartItems:l.cartItems.map(u=>u.id===a?de(U({},u),{quantity:s}):u)}}),updateUOM:(a,s,l)=>{console.log(`🏪 Cart Store: Updating UOM for item ${a} to ${s} with price ${l}`),e(c=>{const u=c.cartItems.map(f=>f.id===a?(console.log(`🏪 Cart Store: Item ${a} updated:`,{before:{uom:f.uom,price:f.price},after:{uom:s,price:l}}),de(U({},f),{uom:s,price:l})):f);return console.log("🏪 Cart Store: All items after update:",u),{cartItems:u}})},removeItem:a=>e(s=>({cartItems:s.cartItems.filter(l=>l.id!==a)})),clearCart:()=>{qi(),e(()=>({cartItems:[],appliedCoupons:[],selectedCustomer:null}))},applyCoupon:a=>e(s=>s.appliedCoupons.some(l=>l.code===a.code)?s:{appliedCoupons:[...s.appliedCoupons,a]}),removeCoupon:a=>e(s=>({appliedCoupons:s.appliedCoupons.filter(l=>l.code!==a)})),setSelectedCustomer:a=>e(()=>({selectedCustomer:a})),updatePricesForCustomer:a=>oe(null,null,function*(){const s=t();if(s.cartItems.length!==0)try{console.log(`🔄 Updating prices for ${s.cartItems.length} items with customer: ${a||"None"}`);const l=yield HC(s.cartItems,a);e(c=>({cartItems:c.cartItems.map(u=>{const f=l[u.id];return f&&f.success?(console.log(`💰 Updated price for ${u.name}: ${u.price} → ${f.price}`),de(U({},u),{price:f.price})):u})}))}catch(l){console.error("❌ Error updating prices for customer:",l),Me.error("Failed to update prices for customer")}})}),{name:"beveren-cart-storage"})),xm={PRODUCTS:"klik_pos_products_cache",PRODUCTS_EXPIRY:"klik_pos_products_cache_expiry",DRAFT_INVOICE:"draft-invoice-cache",CART:"beveren-cart-storage"};function qC(){try{console.log("🧹 Clearing all application cache..."),localStorage.removeItem(xm.PRODUCTS),localStorage.removeItem(xm.PRODUCTS_EXPIRY),console.log("✅ Product cache cleared"),qi(),console.log("✅ Draft invoice cache cleared"),localStorage.removeItem(xm.CART),console.log("✅ Cart cache cleared");const{clearCart:e}=Zs.getState();e(),console.log("✅ Cart state cleared");const t=["theme","language","i18n","auth-token","user-session"];Object.keys(localStorage).filter(l=>l.startsWith("klik_pos_")||l.startsWith("beveren-")||l.startsWith("draft-")||l.includes("cache")&&!t.includes(l)).forEach(l=>{localStorage.removeItem(l),console.log(`✅ Cleared cache key: ${l}`)}),console.log("🎉 All cache cleared successfully!")}catch(e){throw console.error("❌ Error clearing cache:",e),e}}function xw(){try{qC(),console.log("🔄 Reloading page with fresh data..."),setTimeout(()=>{window.location.reload()},100)}catch(e){console.error("❌ Error during cache clear and reload:",e),window.location.reload()}}const g1={Coffee:"☕",Tea:"🫖",Mocktail:"🍹",Rice:"🍚",Pasta:"🍝",Burger:"🍔",Bakery:"🥐",Fruits:"🍎",Vegetables:"🥦",Dairy:"🥛",Meat:"🥩",Seafood:"🦞",Snacks:"🍿",Dessert:"🍰","All Items":"🛍️"};function GC(){const[e,t]=x.useState([]),[a,s]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(0),h=()=>oe(null,null,function*(){s(!0);try{const y=yield(yield fetch("/api/method/klik_pos.api.item.get_item_groups_for_pos")).json();if(y!=null&&y.message&&Array.isArray(y.message.groups)&&typeof y.message.total_items=="number")t(y.message.groups),f(y.message.total_items);else throw new Error("Invalid response format")}catch(m){console.error("Error fetching item groups:",m),c(m.message||"Unknown error occurred")}finally{s(!1)}});return x.useEffect(()=>{h()},[]),{itemGroups:e,isLoading:a,total_item_count:u,error:l,refetch:h,count:e.length}}function bw({selectedCategory:e,onCategoryChange:t,isMobile:a=!1}){const{isRTL:s}=hn(),{itemGroups:l,isLoading:c,error:u,total_item_count:f}=GC();if(c)return r.jsx("div",{children:"Loading categories..."});if(u)return console.error("❌ Error fetching item groups:",u),r.jsxs("div",{className:"text-red-600",children:[r.jsx("p",{children:"Error loading categories:"}),r.jsx("pre",{className:"text-xs bg-red-100 p-2 rounded",children:u})]});if(!l||l.length===0)return r.jsx("div",{children:"No item groups found."});const h=[{id:"all",name:"All Items",icon:g1["All Items"],count:f},...l.map(m=>{var y,w;return{id:m.id,name:m.name,icon:(y=g1[m.name])!=null?y:"📦",count:(w=m.count)!=null?w:1}})];return r.jsx("div",{className:"flex space-x-2 overflow-x-auto py-2 scrollbar-hide",children:h.map(m=>r.jsx("button",{onClick:()=>t(m.id),className:`flex items-center justify-center px-3 py-2 rounded-xl whitespace-nowrap transition-all duration-200 flex-shrink-0 min-w-fit ${e===m.id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 border border-beveren-200 dark:border-beveren-800 shadow-sm":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:`font-semibold ${a?"text-xs":"text-sm"}`,children:m.name}),r.jsxs("span",{className:"text-xs font-medium opacity-70",children:[m.count," Item",m.count!==1?"s":""]})]})},m.id))})}function VC({item:e,onAddToCart:t,isMobile:a=!1,scannerOnly:s=!1}){const{t:l}=hn(),c=e.available<=0,u=c||s,f=`${e.currency_symbol}${e.price.toFixed(2)}`;return r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 ${u?"opacity-70 cursor-not-allowed":"hover:shadow-lg hover:scale-105 cursor-pointer active:scale-95"} ${a?"touch-manipulation":""}`,onClick:()=>!u&&t(e),children:[r.jsxs("div",{className:"relative",children:[e.image?r.jsx("img",{src:e.image,alt:e.name,className:`w-full object-cover ${a?"h-24":"h-32"}`,crossOrigin:"anonymous"}):r.jsx("div",{className:`w-full ${a?"h-24":"h-32"} bg-gray-100 dark:bg-gray-700 flex items-center justify-center`,children:r.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"No Image"})}),e.discount&&r.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-1.5 py-0.5 rounded-md text-xs font-bold",children:["-",e.discount,"%"]}),!c&&r.jsx("div",{className:"absolute top-2 right-2 bg-slate-600 text-white px-1.5 py-0.5 rounded-md text-xs font-medium",children:e.available}),c&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"Out of Stock"})}),s&&!c&&r.jsx("div",{className:"absolute inset-0  flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-xs bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-md shadow-sm border border-blue-200 dark:border-blue-700",children:"Scan Only"})})]}),r.jsxs("div",{className:`${a?"p-2 h-12":"p-3 h-16"} flex flex-col justify-between`,children:[r.jsx("div",{children:r.jsx("h3",{className:`font-semibold text-gray-900 dark:text-white truncate ${a?"text-xs":"text-sm"}`,children:e.name})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 capitalize text-xs",children:e.category}),r.jsx("span",{className:`font-bold text-beveren-600 dark:text-beveren-400 ${a?"text-xs":"text-sm"}`,children:f})]})]})]})}function KC({items:e,onAddToCart:t,isMobile:a=!1,scannerOnly:s=!1}){const{t:l}=hn();return e.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):r.jsx("div",{className:`${a?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-4 overflow-hidden",children:[r.jsxs("div",{className:`${a?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600`,children:[r.jsx("div",{className:`${a?"col-span-3":"col-span-4"}`,children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Product"})}),r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Rate"})}),r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Qty"})}),!a&&r.jsx("div",{className:"col-span-2 text-center",children:r.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"UOM"})}),r.jsx("div",{className:`${a?"col-span-1":"col-span-2"} text-center`,children:r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Action"})})]}),r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:e.map(c=>{const u=c.available<=0,f=u||s,h=`${c.currency_symbol}${c.price.toFixed(2)}`;return r.jsxs("div",{className:`${a?"grid grid-cols-8 gap-2 px-3 py-3":"grid grid-cols-12 gap-4 px-4 py-3"} hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${f?"opacity-60":"cursor-pointer"}`,onClick:()=>!f&&t(c),children:[r.jsx("div",{className:`${a?"col-span-3":"col-span-4"} flex items-start`,children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:`font-medium text-gray-900 dark:text-white ${a?"text-xs leading-tight":"text-sm"} ${a?"break-words":"truncate"}`,children:c.name}),r.jsx("p",{className:`text-gray-500 dark:text-gray-400 ${a?"text-xs leading-tight":"text-sm"} ${a?"break-words":"truncate"}`,children:c.category})]})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:`font-semibold text-beveren-600 dark:text-beveren-400 ${a?"text-xs":"text-sm"}`,children:h})}),r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:`font-medium ${a?"text-xs":"text-sm"} ${u?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:u?"0":c.available})}),!a&&r.jsx("div",{className:"col-span-2 flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.uom||"Nos"})}),r.jsx("div",{className:`${a?"col-span-1":"col-span-2"} flex items-center justify-center`,children:f?r.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:u?"0":"S"}):r.jsx("button",{onClick:m=>{m.stopPropagation(),t(c)},className:`bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-md transition-colors hover:bg-slate-200 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-500 ${a?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:a?"+":"Add"})})]},c.id)})})]})})}function vw({items:e,onAddToCart:t,isMobile:a=!1,scannerOnly:s=!1,viewMode:l="grid"}){const{t:c}=hn();return l==="list"?r.jsx(KC,{items:e,onAddToCart:t,isMobile:a,scannerOnly:s}):e.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No items found"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filters"})]})}):r.jsx("div",{className:`${a?"p-4":"p-6"} bg-gray-50 dark:bg-gray-900`,children:r.jsx("div",{className:`grid gap-4 ${a?"grid-cols-2 sm:grid-cols-3":"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"}`,children:e.map(u=>r.jsx(VC,{item:u,onAddToCart:t,isMobile:a,scannerOnly:s},u.id))})})}function YC({searchQuery:e,onSearchChange:t,onScanBarcode:a,onSearchKeyPress:s,isMobile:l=!1}){const[c,u]=x.useState(!1),f=()=>l?"Search menu...":"Search by product, category, item code, barcode, batch or serial...";return r.jsx("div",{className:`relative ${l?"w-full":"w-full max-w-3xl"}`,children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),onKeyPress:s,placeholder:f(),className:`flex-1 px-4 py-3 pl-12 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:border-transparent transition-all duration-200 ${c?"shadow-lg":"shadow-sm"}`,onFocus:()=>u(!0),onBlur:()=>u(!1)}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a&&r.jsx("button",{onClick:a,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:r.jsx(lw,{size:20})}),e&&!a&&r.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function QC({items:e,selectedCategory:t,onCategoryChange:a,searchQuery:s,onSearchChange:l,onSearchKeyPress:c,onAddToCart:u,onScanBarcode:f,scannerOnly:h=!1}){const{t:m}=hn(),{user:y,logout:w}=Ws(),{theme:b,toggleTheme:v}=j0(),{posDetails:k,loading:N}=er(),[$,C]=x.useState(!1),[L,M]=x.useState("grid"),B=x.useRef(null);x.useEffect(()=>{if(!N&&k){const H=k.custom_default_view;H==="List View"?M("list"):H==="Grid View"&&M("grid")}},[k,N]),x.useEffect(()=>{function H(V){B.current&&!B.current.contains(V.target)&&C(!1)}return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[B]);const O=()=>oe(null,null,function*(){try{yield w(),window.location.href="/klik_pos/login"}catch(H){console.error("Logout error:",H),window.location.href="/klik_pos/login"}}),R=H=>H.split(" ").map(V=>V.charAt(0).toUpperCase()).join("").substring(0,2),ae=(y==null?void 0:y.full_name)||(y==null?void 0:y.name)||"Guest User",q=(k==null?void 0:k.name)||"POS Profile",G=R(ae);return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1 max-w-md",children:[r.jsx(YC,{searchQuery:s,onSearchChange:l,onSearchKeyPress:c,onScanBarcode:f}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>M("grid"),className:`p-2 rounded-md transition-colors ${L==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:r.jsx(dd,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>M("list"),className:`p-2 rounded-md transition-colors ${L==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:r.jsx(dy,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 ml-6 relative",ref:B,children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:ae})]}),r.jsx("button",{onClick:()=>C(!$),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:r.jsx("span",{className:"text-white text-sm font-medium pointer-events-none",children:G})}),$&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-base",children:G})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:q}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(fy,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:ae})]})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs(cd,{to:"/settings",onClick:()=>C(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(C0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>{v(),C(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[b==="dark"?r.jsx(_0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}):r.jsx($0,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:b==="dark"?"Light Mode":"Dark Mode"})]}),r.jsxs("button",{onClick:()=>{xw(),C(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[r.jsx(ll,{size:16,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:"Clear Cache"})]}),r.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),r.jsxs("button",{onClick:()=>{O(),C(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[r.jsx(k0,{size:16,className:"mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsx("div",{className:"px-6",children:r.jsx(bw,{selectedCategory:t,onCategoryChange:a})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:N?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):r.jsx(vw,{items:e,onAddToCart:u,scannerOnly:h,viewMode:L})})]})}function Uc(e){return Math.round(e*100)}function hy(e){return e/100}function bm(e,t){const a=Uc(e),s=Uc(t);return hy(a-s)}function vm(e){return Math.round(e*100)/100}function y1(e,t){const a=Uc(e),l=t.map(Uc).reduce((c,u)=>c+u,0);return hy(Math.max(0,a-l))}function p1(e){const a=e.map(Uc).reduce((s,l)=>s+l,0);return hy(a)}function XC(e){return e.includes("401")||e.includes("Unauthorized")?"WhatsApp service is not properly configured. Please contact your administrator to set up WhatsApp Business API credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to WhatsApp service. Please check your WhatsApp Business API permissions.":e.includes("404")||e.includes("Not Found")?"WhatsApp service not found. Please contact your administrator to verify WhatsApp Business API setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many WhatsApp messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"WhatsApp service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Template not found")||e.includes("template")?"WhatsApp message template not found. Please contact your administrator to set up message templates.":e.includes("Business account")||e.includes("business")?"WhatsApp Business account not properly configured. Please contact your administrator.":e.includes("Access token")||e.includes("token")?"WhatsApp access token expired or invalid. Please contact your administrator to refresh the token.":e.includes("Rate limit")||e.includes("rate")?"WhatsApp message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to WhatsApp service. Please check your internet connection and try again.":e.includes("timeout")?"WhatsApp service request timed out. Please try again.":"Failed to send WhatsApp message. Please try again or contact your administrator if the problem persists."}function WC(e){return e.includes("401")||e.includes("Unauthorized")?"Email service authentication failed. Please contact your administrator to check email server credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to email service. Please check email server permissions.":e.includes("404")||e.includes("Not Found")?"Email service not found. Please contact your administrator to verify email server configuration.":e.includes("500")||e.includes("Internal Server Error")?"Email service is temporarily unavailable. Please try again later.":e.includes("Invalid email")||e.includes("invalid email")?"Invalid email address format. Please enter a valid email address.":e.includes("SMTP")||e.includes("smtp")?"Email server connection failed. Please contact your administrator to check email server settings.":e.includes("Authentication failed")||e.includes("auth")?"Email authentication failed. Please contact your administrator to verify email credentials.":e.includes("Quota exceeded")||e.includes("quota")?"Email sending quota exceeded. Please contact your administrator or try again later.":e.includes("Spam")||e.includes("spam")?"Email was rejected as spam. Please try with a different message or contact your administrator.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to email service. Please check your internet connection and try again.":e.includes("timeout")?"Email service request timed out. Please try again.":"Failed to send email. Please try again or contact your administrator if the problem persists."}function ZC(e){return e.includes("401")||e.includes("Unauthorized")?"SMS service is not properly configured. Please contact your administrator to set up SMS service credentials.":e.includes("403")||e.includes("Forbidden")?"Access denied to SMS service. Please check your SMS service permissions.":e.includes("404")||e.includes("Not Found")?"SMS service not found. Please contact your administrator to verify SMS service setup.":e.includes("429")||e.includes("Too Many Requests")?"Too many SMS messages sent. Please wait a few minutes before trying again.":e.includes("500")||e.includes("Internal Server Error")?"SMS service is temporarily unavailable. Please try again later.":e.includes("Invalid phone number")||e.includes("invalid phone")?"Invalid phone number format. Please enter a valid phone number with country code (e.g., +1234567890).":e.includes("Insufficient balance")||e.includes("balance")?"SMS service account has insufficient balance. Please contact your administrator to add credits.":e.includes("Blocked")||e.includes("blocked")?"Phone number is blocked or invalid. Please check the phone number and try again.":e.includes("Rate limit")||e.includes("rate")?"SMS message rate limit exceeded. Please wait before sending more messages.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to SMS service. Please check your internet connection and try again.":e.includes("timeout")?"SMS service request timed out. Please try again.":"Failed to send SMS message. Please try again or contact your administrator if the problem persists."}function wm(e,t="generic"){switch(t){case"whatsapp":return XC(e);case"email":return WC(e);case"sms":return ZC(e);default:return e.includes("401")||e.includes("Unauthorized")?"Access denied. Please contact your administrator.":e.includes("403")||e.includes("Forbidden")?"Access denied. Please check your permissions.":e.includes("404")||e.includes("Not Found")?"Service not found. Please contact your administrator.":e.includes("500")||e.includes("Internal Server Error")?"Service is temporarily unavailable. Please try again later.":e.includes("Network error")||e.includes("fetch")?"Unable to connect to the service. Please check your internet connection.":e.includes("timeout")?"Request timed out. Please try again.":"An error occurred. Please try again or contact your administrator if the problem persists."}}function R0(e,t="Operation failed"){let a=t;if(e._server_messages)try{const s=JSON.parse(e._server_messages);if(s&&s.length>0){const l=JSON.parse(s[0]);l.message&&(a=l.message)}}catch(s){console.error("Error parsing server messages:",s);try{a=JSON.parse(e._server_messages)[0]}catch(l){console.error("Fallback error parsing failed:",l),a=t}}return a}function dl(e,t="Operation failed"){let a=t;if(e!=null&&e.message)if(typeof e.message=="string"&&e.message.includes("{"))try{const s=JSON.parse(e.message);s.message&&(a=s.message)}catch(s){a=e.message}else a=e.message;return a}function P0(e){const[t,a]=x.useState([]),[s,l]=x.useState(!1),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;oe(null,null,function*(){l(!0);try{const m=yield(yield fetch(`/api/method/klik_pos.api.payment.get_payment_modes?pos_profile=${encodeURIComponent(e)}`)).json();if(!m.message.success)throw new Error(m.message.error||"Failed to fetch payment modes");a(m.message.data||[]),u(null)}catch(h){u(h.message),a([])}finally{l(!1)}})},[e]),{modes:t,isLoading:s,error:c}}function ww(){const[e,t]=x.useState([]),[a,s]=x.useState(!1),[l,c]=x.useState(null);return x.useEffect(()=>{oe(null,null,function*(){s(!0);try{const h=yield(yield fetch("/api/method/klik_pos.api.payment.get_opening_entry_payment_summary")).json();if(!h.message.data)throw new Error(h.message.error||"Failed to fetch payment modes");t(h.message.data||[]),c(null)}catch(f){c(f.message),t([])}finally{s(!1)}})},[]),{modes:e,isLoading:a,error:l}}function JC(){const[e,t]=x.useState([]),[a,s]=x.useState(null),[l,c]=x.useState(!1),[u,f]=x.useState(null);return x.useEffect(()=>{oe(null,null,function*(){var m,y;c(!0);try{const b=yield(yield fetch("/api/method/klik_pos.api.tax.get_sales_tax_categories")).json();if(!((m=b.message)!=null&&m.success))throw new Error(((y=b.message)==null?void 0:y.error)||"Failed to fetch tax categories");t(b.message.data||[]),s(b.message.default||null)}catch(w){f(w.message)}finally{c(!1)}})},[]),{salesTaxCharges:e,defaultTax:a,isLoading:l,error:u}}function Nw(e){return oe(this,null,function*(){const t=window.csrf_token,a=yield fetch("/api/method/klik_pos.api.sales_invoice.create_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({data:e}),credentials:"include"}),s=yield a.json();if(!a.ok||!s.message||s.message.success===!1){const l=R0(s,"Failed to create invoice");throw new Error(l)}return s.message})}function e8(e){return oe(this,null,function*(){const t=window.csrf_token,a=performance.now(),s=yield fetch("/api/method/klik_pos.api.sales_invoice.create_and_submit_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({data:e}),credentials:"include"}),l=yield s.json(),u=performance.now()-a;if(console.log(`Invoice creation completed in ${u.toFixed(2)}ms`),console.log("Invoice create result:",l),!s.ok||!l.message||l.message.success===!1){const f=R0(l,"Failed to create invoice");throw new Error(f)}return l.message})}function M0(e){return oe(this,null,function*(){var l;const t=window.csrf_token,a=yield fetch("/api/method/klik_pos.api.sales_invoice.return_sales_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_name:e}),credentials:"include"}),s=yield a.json();if(console.log("Return Invoice result:",s),!a.ok||!s.message||s.message.success===!1){const c=s._server_messages?JSON.parse(s._server_messages)[0]:((l=s.message)==null?void 0:l.message)||"Failed to return invoice";throw new Error(c)}return s.message})}function t8(e){return oe(this,null,function*(){try{const t=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield t.json();if(!t.ok)throw new Error(a.message||"Failed to get invoice details");return{success:!0,data:a.message}}catch(t){return console.error("Error getting invoice details:",t),{success:!1,error:t.message||"Failed to get invoice details"}}})}function D0(e){return oe(this,null,function*(){var l;const t=window.csrf_token,a=yield fetch("/api/method/klik_pos.api.sales_invoice.delete_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield a.json();if(!a.ok||!s.message||s.message.success===!1){const c=s._server_messages?JSON.parse(s._server_messages)[0]:((l=s.message)==null?void 0:l.error)||"Failed to delete invoice";throw new Error(c)}return s.message})}function a8(e){return oe(this,null,function*(){var s;const t=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),a=yield t.json();if(!t.ok||!a.message){const l=R0(a,((s=a.message)==null?void 0:s.error)||"Failed to fetch draft invoice items");throw new Error(l)}if(a.message.success&&a.message.data)return a.message.data;throw new Error(a.message.error||"Failed to fetch draft invoice items")})}function jw(e){return oe(this,null,function*(){var l;const t=window.csrf_token,a=yield fetch("/api/method/klik_pos.api.sales_invoice.submit_draft_invoice",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify({invoice_id:e}),credentials:"include"}),s=yield a.json();if(console.log("Submit draft invoice result:",s),!a.ok||!s.message||s.message.success===!1){const c=R0(s,((l=s.message)==null?void 0:l.error)||"Failed to submit draft invoice");throw new Error(c)}return s.message})}function r8(e,t){return oe(this,null,function*(){return(yield(yield fetch(`/api/method/frappe.www.printview.get_html_and_style?doc=${e.doctype}&name=${e.name}&print_format=${t}&no_letterhead=0`,{method:"GET",headers:{Accept:"application/json"}})).json()).message})}function n8({invoice:e}){var y;const[t,a]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(!0),{posDetails:f,loading:h}=er(),m=(y=f==null?void 0:f.print_format)!=null?y:"Sales Invoice";return x.useEffect(()=>{oe(null,null,function*(){if(!(h||!f)){u(!0);try{const{html:b,style:v}=yield r8(e,m);a(b),l(v)}catch(b){console.error("Error loading print format:",b)}finally{u(!1)}}})},[e,f,h,m]),c?r.jsx("p",{children:"Loading Print Preview..."}):r.jsxs("div",{className:"print-preview-container p-4 bg-white shadow overflow-auto max-h-[90vh]",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:s}}),r.jsx("div",{className:"print-preview-content",dangerouslySetInnerHTML:{__html:t}})]})}const Yu=({invoice:e})=>r.jsx(n8,{invoice:e}),Qu=e=>{if(console.log("Print function called with:",e),!e){Me.error("No invoice data available for printing");return}const t=document.querySelector(".print-preview-container");if(!t){Me.error("Print preview not found");return}console.log("Print element found:",t);const a=e.name||e.id||"Invoice",s=document.title;document.title=`${a}`,console.log("Setting title to:",a);const l=document.body.style.cssText,c=t.style.cssText,u=document.createElement("div");u.innerHTML=t.innerHTML,u.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    padding: 20px;
    overflow: auto;
  `,document.body.style.cssText=`
    overflow: hidden;
  `;const f=Array.from(document.body.children);f.forEach(w=>{w!==u&&(w.style.display="none")}),document.body.appendChild(u);const h=document.createElement("style");h.textContent=`
    @media print {
      body * {
        visibility: hidden;
      }
      .print-overlay, .print-overlay * {
        visibility: visible;
      }
      .print-overlay {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
  `,u.className="print-overlay",document.head.appendChild(h),console.log("Print overlay created and added");const m=()=>{console.log("Restoring page..."),u.parentNode&&u.parentNode.removeChild(u),h.parentNode&&h.parentNode.removeChild(h),document.body.style.cssText=l,t.style.cssText=c,f.forEach(w=>{w.style.display=""}),document.title=s,console.log("Page restored successfully")},y=()=>{console.log("After print event fired"),m(),window.removeEventListener("afterprint",y)};window.addEventListener("afterprint",y),console.log("Triggering print..."),window.print(),setTimeout(()=>{console.log("Fallback timeout triggered"),m(),window.removeEventListener("afterprint",y)},2e3)};function s8(e){return oe(this,null,function*(){const t=window.csrf_token,a=yield fetch("/api/method/klik_pos.api.email.send_invoice_email",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),s=yield a.json();if(console.log("Send email result:",s),!a.ok||!s.message||s.message.status!=="success"){const l=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send email";throw new Error(l)}return s.message})}function i8(e){return oe(this,null,function*(){const t=window.csrf_token;console.log("Simple WhatsApp data",e);const a=yield fetch("/api/method/klik_pos.api.whatsapp.deliver_invoice_via_whatsapp",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),s=yield a.json();if(console.log("Send Simple WhatsApp result:",s),!a.ok||!s.message||s.message.status!=="success"){const l=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send WhatsApp message";throw new Error(l)}return s.message})}function o8(e){return oe(this,null,function*(){const t=window.csrf_token;console.log("SMS data",e);const a=yield fetch("/api/method/klik_pos.api.sms.send_sms_message",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":t},body:JSON.stringify(e),credentials:"include"}),s=yield a.json();if(console.log("Send SMS result:",s),!a.ok||!s.message||s.message.status!=="success"){const l=s._server_messages?JSON.parse(s._server_messages)[0]:"Failed to send SMS message";throw new Error(l)}return s.message})}function l8(){return oe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.whatsapp.get_whatsapp_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),a=yield t.json();if(!t.ok||!a.message)throw new Error("Failed to fetch WhatsApp templates");return a.message}catch(t){throw console.error("Error fetching WhatsApp templates:",t),t}})}function c8(){return oe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),a=yield t.json();if(!t.ok||!a.message)throw new Error("Failed to fetch POS profile details");return a.message.custom_whatsap_template||null}catch(t){return console.error("Error fetching default WhatsApp template:",t),null}})}function d8(e,t={}){let a=e;const s={"{{customer_name}}":t.customer_name||"there","{{invoice_total}}":t.invoice_total||"0","{{invoice_number}}":t.invoice_number||"","{{company_name}}":t.company_name||"KLiK PoS","{{date}}":t.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([l,c])=>{a=a.replace(new RegExp(l,"g"),String(c))}),a}function x1(){return`Hi {{customer_name}}!

Thank you for shopping with us at {{company_name}}!

Invoice Total: *{{invoice_total}}*

We appreciate your business!`}function u8(){return oe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.email.get_email_templates",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),a=yield t.json();if(!t.ok||!a.message)throw new Error("Failed to fetch Email templates");return a.message}catch(t){throw console.error("Error fetching Email templates:",t),t}})}function f8(){return oe(this,null,function*(){const e=window.csrf_token;try{const t=yield fetch("/api/method/klik_pos.api.pos_profile.get_pos_details",{method:"GET",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},credentials:"include"}),a=yield t.json();if(!t.ok||!a.message)throw new Error("Failed to fetch POS profile details");return a.message.custom_email_template||null}catch(t){return console.error("Error fetching default Email template:",t),null}})}function h8(e,t={}){let a=e;const s={"{{customer_name}}":t.customer_name||"Customer","{{customer}}":t.customer_name||"Customer","{{first_name}}":t.first_name||"","{{last_name}}":t.last_name||"","{{address}}":t.address||"","{{customer_address}}":t.customer_address||"","{{delivery_note}}":t.delivery_note||t.invoice_number||"","{{grand_total}}":t.invoice_total||"0","{{departure_time}}":t.departure_time||"","{{estimated_arrival}}":t.estimated_arrival||"","{{driver_name}}":t.driver_name||"","{{cell_number}}":t.cell_number||"","{{vehicle}}":t.vehicle||"","{{invoice_total}}":t.invoice_total||"0","{{invoice_number}}":t.invoice_number||"","{{company_name}}":t.company_name||"KLiK PoS","{{date}}":t.date||new Date().toLocaleDateString()};return Object.entries(s).forEach(([l,c])=>{a=a.replace(new RegExp(l,"g"),String(c))}),a}function b1(){return`Dear {{customer_name}},

Thank you for your purchase. Here are your invoice details:

Invoice Total: {{invoice_total}}

Thank you for your business!

Best regards,
{{company_name}} Team`}const m8=e=>{const t=e.toLowerCase();return t.includes("cash")?{icon:r.jsx(nw,{size:24}),color:"bg-beveren-600"}:t.includes("card")||t.includes("credit")||t.includes("debit")||t.includes("bank")?{icon:r.jsx(Hr,{size:24}),color:"bg-beveren-600"}:t.includes("phone")||t.includes("mpesa")?{icon:r.jsx(M$,{size:24}),color:"bg-beveren--600"}:t.includes("gift")?{icon:r.jsx(iw,{size:24}),color:"bg-beveren--600"}:t.includes("cheque")||t.includes("check")?{icon:r.jsx(Vo,{size:24}),color:"bg-beveren--600"}:{icon:r.jsx(Hr,{size:24}),color:"bg-beveren--600"}};function my({isOpen:e,onClose:t,cartItems:a,appliedCoupons:s,selectedCustomer:l,onCompletePayment:c,onHoldOrder:u,isMobile:f=!1,isFullPage:h=!1,initialSharingMode:m=null,externalInvoiceData:y=null,itemDiscounts:w={},totalItemDiscount:b=0}){var Et,kt,Xt,sa;const[v,k]=x.useState(""),[N,$]=x.useState({}),[C,L]=x.useState(null),[M,B]=x.useState(0),[O,R]=x.useState(!1),[ae,q]=x.useState(!1),[G,H]=x.useState(!1),[V,Z]=x.useState(null),[J,Ne]=x.useState(null),[je,X]=x.useState(M.toFixed(2)),[re,ne]=x.useState(!1),[Ae,z]=x.useState(m),[me,T]=x.useState({email:(l==null?void 0:l.email)||"",phone:(l==null?void 0:l.phone)||"",name:(l==null?void 0:l.name)||""}),[ee,ue]=x.useState(!1),[P,K]=x.useState(!1),[ke,Ie]=x.useState([]),[Ye,De]=x.useState(null),[gt,lt]=x.useState(""),[Ht,Ce]=x.useState(!1),[Ze,xe]=x.useState(!1),[Pe,Be]=x.useState([]),[et,$t]=x.useState(null),[vt,E]=x.useState(""),[we,Ue]=x.useState(!1),[Ut,bt]=x.useState(!1),{modes:st,isLoading:Yt,error:he}=P0("Test POS Profile"),{salesTaxCharges:Fe,defaultTax:Je}=JC(),{posDetails:Oe,loading:He}=er(),_t=Ma(),at=(Oe==null?void 0:Oe.business_type)==="B2B",St=(Oe==null?void 0:Oe.business_type)==="B2C",ma=(Oe==null?void 0:Oe.business_type)==="B2B & B2C",ba=Oe==null?void 0:Oe.print_receipt_on_order_complete,Ta=Oe==null?void 0:Oe.currency_symbol;x.useEffect(()=>{var ce,Se,Qe;if(y&&Ae){console.log("External invoice data:",y),console.log("Customer address doc:",y.customer_address_doc);const qe=((ce=y.customer_address_doc)==null?void 0:ce.email_id)||y.customer_email||y.email_id||"",pt=y.mobile_no||((Se=y.customer_address_doc)==null?void 0:Se.mobile_no)||((Qe=y.customer_address_doc)==null?void 0:Qe.phone)||y.customer_phone||"",xt=y.customer_name||y.customer||"";(!qe||!pt)&&y.customer?Er(y.customer,qe,pt,xt):(T({email:qe,phone:pt,name:xt}),console.log("Updated sharing data:",{email:qe,phone:pt,name:xt}))}},[y,Ae]);const Er=(ce,Se,Qe,qe)=>oe(null,null,function*(){try{console.log("Fetching customer details for:",ce);const xt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${ce}`)).json();if(xt.message){const ht=xt.message;console.log("Customer details fetched:",ht),T({email:Se||ht.email_id||"",phone:Qe||ht.mobile_no||"",name:qe||ht.customer_name||ht.name||""}),console.log("Updated sharing data with customer details:",{email:Se||ht.email_id||"",phone:Qe||ht.mobile_no||"",name:qe||ht.customer_name||ht.name||""})}else T({email:Se,phone:Qe,name:qe})}catch(pt){console.error("Error fetching customer details:",pt),T({email:Se,phone:Qe,name:qe})}});x.useEffect(()=>{oe(null,null,function*(){if(Ae==="whatsapp"&&ke.length===0){Ce(!0);try{const[Se,Qe]=yield Promise.all([l8(),c8()]);if(Ie(Se),Qe){const qe=Se.find(pt=>pt.name===Qe);qe&&(De(qe),lt(qe.template))}else lt(x1())}catch(Se){console.error("Error loading WhatsApp templates:",Se),lt(x1())}finally{Ce(!1)}}})},[Ae,ke.length]),x.useEffect(()=>{oe(null,null,function*(){if(Ae==="email"&&Pe.length===0){Ue(!0);try{const[Se,Qe]=yield Promise.all([u8(),f8()]);if(Be(Se),Qe){const qe=Se.find(pt=>pt.name===Qe);qe&&($t(qe),E(qe.response_html||qe.response))}else E(b1())}catch(Se){console.error("Error loading Email templates:",Se),E(b1())}finally{Ue(!1)}}})},[Ae,Pe.length]);const yr=()=>{const ce={customer_name:me.name||"there",invoice_total:Xe(Le.grandTotal),invoice_number:(J==null?void 0:J.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return d8(gt,ce)},tr=()=>{var Se,Qe;const ce={customer_name:me.name||"Customer",customer:me.name||"Customer",first_name:((Se=me.name)==null?void 0:Se.split(" ")[0])||"",last_name:((Qe=me.name)==null?void 0:Qe.split(" ").slice(1).join(" "))||"",address:(l==null?void 0:l.address)||"",customer_address:(l==null?void 0:l.address)||"",delivery_note:(J==null?void 0:J.name)||"",grand_total:Xe(Le.grandTotal),departure_time:new Date().toLocaleTimeString(),estimated_arrival:new Date(Date.now()+18e5).toLocaleTimeString(),driver_name:"Delivery Driver",cell_number:"+1234567890",vehicle:"Delivery Vehicle",invoice_total:Xe(Le.grandTotal),invoice_number:(J==null?void 0:J.name)||"",company_name:"KLiK PoS",date:new Date().toLocaleDateString()};return h8(vt,ce)},Yr=ce=>{const Se=ke.find(Qe=>Qe.name===ce);Se&&(De(Se),lt(Se.template))},lr=ce=>{const Se=Pe.find(Qe=>Qe.name===ce);Se&&($t(Se),E(Se.response_html||Se.response))},Le=x.useMemo(()=>{const ce=a.reduce((Jt,Sa)=>{const $a=Sa.discountedPrice||Sa.price;return Jt+$a*Sa.quantity},0),Se=s.reduce((Jt,Sa)=>Jt+Sa.value,0),Qe=Math.max(0,ce-Se),qe=Fe.find(Jt=>Jt.id===v),pt=(qe==null?void 0:qe.rate)||0,xt=(qe==null?void 0:qe.is_inclusive)||!1;let ht,rt;return xt?(ht=Qe*pt/(100+pt),ht=parseFloat(ht.toFixed(2)),rt=Qe):(ht=Qe*pt/100,ht=parseFloat(ht.toFixed(2)),rt=Qe+ht),{subtotal:ce,couponDiscount:Se,taxableAmount:Qe,taxAmount:ht,grandTotal:rt+M,selectedTax:qe,isInclusive:xt}},[a,s,v,Fe,M]),ka=p1(Object.values(N)),Fa=y1(Le.grandTotal,Object.values(N));if(x.useEffect(()=>{e&&Je&&!v&&k(Je)},[e,Je,v]),x.useEffect(()=>{if(e&&st.length>0){const ce=st.find(Se=>Se.default===1);if(ce&&Object.keys(N).length===0){const Se=parseFloat(Le.grandTotal.toFixed(2));$({[ce.mode_of_payment]:Se})}}},[e,st,Le.grandTotal,N,at,St]),x.useEffect(()=>{if(st.length>0&&Object.keys(N).length>0){const ce=st.find(Se=>Se.default===1);if(ce){const Se=Object.entries(N).filter(([qe])=>qe!==ce.mode_of_payment).map(([,qe])=>qe||0),Qe=St||ma?y1(Le.grandTotal,Se):0;$(qe=>de(U({},qe),{[ce.mode_of_payment]:Qe}))}}},[Le.grandTotal,st,St,at,ma]),x.useEffect(()=>{G&&J&&ba&&(ne(!0),setTimeout(()=>{Qu(J),ne(!1)},500))},[G,J,ba]),!e)return null;if(Yt||He)return r.jsx("div",{className:"p-6",children:"Loading..."});if(he)return r.jsxs("div",{className:"p-6 text-red-500",children:["Error: ",he]});const se=[...st].sort((ce,Se)=>ce.default===1&&Se.default!==1?-1:ce.default!==1&&Se.default===1?1:0).map(ce=>{const{icon:Se,color:Qe}=m8(ce.type||"Default");return{id:ce.mode_of_payment,name:ce.mode_of_payment,icon:Se,color:Qe,enabled:!0,amount:N[ce.mode_of_payment]||0}}),F=()=>{var qe;if(console.log("getRoundTargetMethodId Debug:",{activeMethodId:C,paymentAmounts:N,modes:st.map(pt=>({id:pt.mode_of_payment,default:pt.default})),modesLength:st.length,paymentMethodsLength:se.length}),C&&N.hasOwnProperty(C))return console.log("Using active method:",C),C;const ce=Object.entries(N).filter(([,pt])=>(pt||0)>0).map(([pt])=>pt);if(console.log("Non-zero methods:",ce),ce.length===1)return console.log("Using single non-zero method:",ce[0]),ce[0];const Se=((qe=st.find(pt=>pt.default===1))==null?void 0:qe.mode_of_payment)||null;console.log("Default method ID:",Se);const Qe=ce.find(pt=>pt!==Se);return Qe?(console.log("Using non-default method with value:",Qe),Qe):(console.log("Using fallback default method:",Se),Se)},Q=(ce,Se)=>{if(G||O)return;const Qe=vm(parseFloat(Se)||0);$(qe=>de(U({},qe),{[ce]:Qe}))},Te=ce=>{if(G||O)return;const Se=Le.grandTotal,Qe={};se.forEach(qe=>{Qe[qe.id]=0}),Qe[ce]=Se,$(Qe),L(ce)},Ve=(ce,Se)=>{if(G||O)return;const Qe=vm(parseFloat(Se)||0),qe=Le.grandTotal,pt=Object.entries(N).filter(([ht])=>ht!==ce).map(([,ht])=>ht||0);p1(pt);const xt=bm(qe,Qe);if(xt>0){const ht=se.filter(rt=>rt.id!==ce);if(ht.length>0){const rt=ht[0];$(Jt=>de(U({},Jt),{[ce]:Qe,[rt.id]:vm(xt)}));return}}$(ht=>de(U({},ht),{[ce]:Qe}))},ct=()=>{var qe,pt;if(G||O)return;const ce=Le.isInclusive?Le.taxableAmount:Le.taxableAmount+Le.taxAmount;console.log("🔍 Detailed Roundoff Debug:",{calculations:Le,totalBeforeRoundOff:ce,isB2C:St,isB2B:at,businessType:Oe==null?void 0:Oe.business_type,isCombinedBusinessType:(Oe==null?void 0:Oe.business_type)==="B2B & B2C",posDetails:Oe,isInclusive:Le.isInclusive,taxableAmount:Le.taxableAmount,taxAmount:Le.taxAmount,grandTotal:Le.grandTotal,roundOffAmount:M,cartItems:a.map(xt=>({id:xt.id,name:xt.name,price:xt.price,quantity:xt.quantity,discountedPrice:xt.discountedPrice})),appliedCoupons:s,selectedSalesTaxCharges:v});const Se=Math.floor(ce/10)*10,Qe=Se-ce;if(console.log("Universal Roundoff Debug:",{totalBeforeRoundOff:ce,rounded:Se,difference:Qe,paymentAmounts:N,activeMethodId:C,isB2C:St,isB2B:at,businessType:Oe==null?void 0:Oe.business_type,isCombinedBusinessType:(Oe==null?void 0:Oe.business_type)==="B2B & B2C"}),B(Qe),X(Qe.toFixed(2)),at&&!St)console.log("B2B Business Type: Not auto-filling payment amounts - user must manually enter");else{console.log("B2C or B2B & B2C Business Type: Auto-filling payment amounts");const xt=F();console.log("Roundoff Target Method ID:",xt),console.log("Available Payment Methods:",se.map(rt=>({id:rt.id,name:rt.name})));let ht=xt;if(!ht&&se.length>0&&(ht=se[0].id,console.log("Using first available method as fallback:",ht)),!ht){const rt=((qe=st.find(Jt=>Jt.default===1))==null?void 0:qe.mode_of_payment)||((pt=st[0])==null?void 0:pt.mode_of_payment);rt&&(ht=rt,console.log("Using fallback default from modes as target:",ht))}if(ht){const rt={};rt[ht]=Se,console.log("Roundoff Payment Calculation:",{targetId:ht,rounded:Se,previousAmounts:N,newAmounts:rt,paymentMethodsCount:se.length}),$(rt)}else console.error("No payment methods available for roundoff!")}},it=ce=>{G||O||k(ce)},yt=ce=>{let Se=ce;ce&&!ce.startsWith("-")&&!isNaN(parseFloat(ce))&&(Se="-"+ce),X(Se);const Qe=parseFloat(Se);if(!isNaN(Qe)){B(Qe);const qe=(Le.isInclusive?Le.taxableAmount:Le.taxableAmount+Le.taxAmount)+Qe,pt=F();if(pt){const xt=Object.entries(N).filter(([rt])=>rt!==pt).reduce((rt,[,Jt])=>rt+(Jt||0),0),ht=Math.max(0,parseFloat((qe-xt).toFixed(2)));$(rt=>de(U({},rt),{[pt]:ht}))}}},Rt=()=>oe(null,null,function*(){if(!l||!l.name){Me.error("Kindly select a customer");return}if(St){if(Object.entries(N).filter(([,pt])=>pt>0).map(([pt,xt])=>({method:pt,amount:xt})).length===0){Me.error("Please enter payment amounts");return}if(Fa>0){Me.error("Please complete the payment before proceeding");return}}R(!0);const ce=at?ka:Le.grandTotal,Se=at?Object.entries(N).filter(([,qe])=>qe>0):(()=>{const qe=Object.entries(N).filter(([,xt])=>xt>0);if(qe.length===0)return[];const pt=qe.reduce((xt,[,ht])=>xt+ht,0);if(pt>Le.grandTotal){const xt=pt-Le.grandTotal,ht=qe.length-1,[rt,Jt]=qe[ht],Sa=Math.max(0,Jt-xt);return qe.map(([$a,Tr],ia)=>ia===ht?[$a,Sa]:[$a,Tr])}return qe})(),Qe={items:a.map(qe=>{var pt,xt,ht,rt;return de(U({},qe),{price:qe.discountedPrice||qe.price,batchNumber:((pt=w[qe.id])==null?void 0:pt.batchNumber)||null,serialNumber:((xt=w[qe.id])==null?void 0:xt.serialNumber)||null,uom:qe.uom||"Nos",discountPercentage:((ht=w[qe.id])==null?void 0:ht.discountPercentage)||0,discountAmount:((rt=w[qe.id])==null?void 0:rt.discountAmount)||0})}),customer:l,paymentMethods:Se.map(([qe,pt])=>({method:qe,amount:pt})),subtotal:Le.subtotal,SalesTaxCharges:v,taxAmount:Le.taxAmount,taxType:Le.isInclusive?"inclusive":"exclusive",couponDiscount:Le.couponDiscount,roundOffAmount:M,grandTotal:Le.grandTotal,amountPaid:ce,outstandingAmount:Fa,appliedCoupons:s,businessType:Oe==null?void 0:Oe.business_type};try{const qe=yield e8(Qe);H(!0),Z(qe),Ne(qe.invoice);const pt=at?"Invoice submitted successfully!":"Payment completed successfully!";Me.success(pt);const xt=zC();if(xt)try{const ht=yield D0(xt)}catch(ht){console.error("Failed to delete original draft invoice:",ht)}else console.log();qi()}catch(qe){const xt=dl(qe,at?"Failed to submit invoice":"Failed to process payment");Me.error(xt)}finally{R(!1)}}),jt=ce=>{_t(`/invoice/${ce.name}`)},Pt=()=>oe(null,null,function*(){if(!l){Me.error("Kindly select a customer");return}q(!0);const ce={items:a,customer:l,subtotal:Le.subtotal,SalesTaxCharges:v,taxAmount:Le.taxAmount,taxType:Le.isInclusive?"inclusive":"exclusive",couponDiscount:Le.couponDiscount,roundOffAmount:M,grandTotal:Le.grandTotal,appliedCoupons:s,status:"held",businessType:Oe==null?void 0:Oe.business_type};try{yield Nw(ce),qi(),u(ce)}catch(Se){const Qe=dl(Se,"Failed to hold order");Me.error(Qe)}finally{q(!1)}}),Xe=ce=>`${Ta} ${ce.toLocaleString(void 0,{minimumFractionDigits:2})}`,aa=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),na=()=>O?at?"Submitting Invoice...":"Processing Payment...":at?ka===0?"Submit Invoice (Pay Later)":Fa>0?"Submit Invoice (Partial Payment)":"Submit Invoice (Paid)":"Complete Payment",Zt=()=>G||O?!0:St?Fa>0:!1;return f?r.jsx("div",{className:h?"h-full bg-white dark:bg-gray-900 overflow-y-auto custom-scrollbar":"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"min-h-screen",children:[!h&&r.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:r.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:G?"Invoice Complete":at?"Submit Invoice":"Payment"})}),r.jsx("div",{className:"p-4 space-y-6",children:G?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:"text-green-600 dark:text-green-400 text-center",children:[r.jsx("p",{className:"font-semibold",children:at?"Invoice Submitted Successfully!":"Payment Completed Successfully!"}),r.jsxs("p",{className:"text-sm opacity-75",children:["Total: ",Xe(Le.grandTotal)]})]})}),r.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[re&&r.jsxs("div",{className:"flex items-center space-x-2 text-blue-600 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx(Rs,{size:16,className:"animate-spin"}),r.jsx("span",{className:"text-sm",children:"Printing..."})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Print",onClick:()=>{Qu(J)},children:[r.jsx(Mc,{size:18}),r.jsx("span",{children:"Print"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors",title:"Email",onClick:()=>{const ce=encodeURIComponent("Your Invoice"),Se=encodeURIComponent(`Dear ${l==null?void 0:l.name},

Here is your invoice total: ${Xe(Le.grandTotal)}

Thank you.`);window.open(`mailto:${l==null?void 0:l.email}?subject=${ce}&body=${Se}`)},children:[r.jsx(cg,{size:18}),r.jsx("span",{children:"Email"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 dark:bg-green-900/20 text-beveren-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/30 transition-colors",title:"WhatsApp",onClick:()=>{const ce=encodeURIComponent(`Here is your invoice total: ${Xe(Le.grandTotal)}`);window.open(`https://wa.me/${l==null?void 0:l.phone}?text=${ce}`,"_blank")},children:[r.jsx(dg,{size:18}),r.jsx("span",{children:"WhatsApp"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-teal-900/20 text-teal-500 dark:text-teal-400 rounded-lg hover:bg-teal-200 dark:hover:bg-purple-900/30 transition-colors",title:"Text Message",onClick:()=>window.open(`tel:${l==null?void 0:l.phone}`),children:[r.jsx(ug,{size:18}),r.jsx("span",{children:"SMS"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/20 text-p-600 dark:text-purple-400 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/30 transition-colors",title:"View Full Invoice",onClick:()=>jt(J),children:[r.jsx(Bi,{size:18}),r.jsx("span",{children:"View"})]})]}),J&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center",children:"Invoice Preview:"}),r.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-3 bg-gray-50 dark:bg-gray-700 max-h-64 overflow-y-auto",children:r.jsx(Yu,{invoice:J})})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{onClick:()=>{t()},className:"w-full py-3 bg-beveren-600 text-white rounded-lg font-medium hover:bg-beveren-700 transition-colors",children:"Start New Order"})})]}):r.jsxs(r.Fragment,{children:[(St||at)&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),r.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:se.map(ce=>r.jsxs("div",{className:`${se.length<=3?"flex-1 min-w-0":"min-w-[280px] max-w-[280px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${G||O?"bg-gray-50 dark:bg-gray-800":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${ce.color} text-white flex items-center justify-center`,children:r.jsx("div",{className:"scale-75",children:ce.icon})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:ce.name})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),r.jsx("input",{type:"number",value:ce.amount.toFixed(2)||"",onChange:Se=>Q(ce.id,Se.target.value),placeholder:"0.00",disabled:G||O,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||O?"cursor-not-allowed opacity-50":""}`})]})]},ce.id))})]}),r.jsx("div",{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"number",value:je,onChange:ce=>yt(ce.target.value),disabled:G||O,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||O?"cursor-not-allowed opacity-50":""}`}),r.jsx("button",{onClick:ct,disabled:G||O,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${G||O?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:r.jsx(o1,{size:16})})]})]})})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xe(Le.subtotal)})]}),Le.couponDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-",Xe(Le.couponDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Et=Le.selectedTax)==null?void 0:Et.rate,"%"," ",Le.isInclusive?"Incl.":"Excl.",")"]}),r.jsx("span",{className:`font-medium ${Le.isInclusive?"text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${Xe(Le.taxAmount)})`:Xe(Le.taxAmount)})]}),M!==0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xe(M)})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Grand Total"}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Xe(Le.grandTotal)})]})}),(St||at)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),r.jsx("span",{className:"font-medium text-beveren-600 dark:text-blue-400",children:Xe(ka)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding"}),r.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:Xe(Fa)})]}),ka>Le.grandTotal&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),r.jsx("span",{className:"font-medium text-beveren-600 dark:text-beveren-400",children:Xe(bm(ka,Le.grandTotal))})]})]}),at&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),r.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:Xe(Le.grandTotal)})]})]}),r.jsxs("div",{className:"space-y-3 pt-6",children:[r.jsx("button",{onClick:Rt,disabled:Zt(),className:`w-full py-4 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${at?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:O?r.jsxs(r.Fragment,{children:[r.jsx(Rs,{size:20,className:"animate-spin"}),r.jsx("span",{children:na()})]}):r.jsx("span",{children:na()})}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.jsx("button",{onClick:Pt,disabled:G||O||ae,className:`py-3 px-4 border border-orange-500 text-orange-600 dark:text-orange-400 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center justify-center space-x-2 ${G||O||ae?"cursor-not-allowed opacity-50":""}`,children:ae?r.jsxs(r.Fragment,{children:[r.jsx(Rs,{size:16,className:"animate-spin"}),r.jsx("span",{children:"Holding..."})]}):r.jsx("span",{children:"Hold Order"})})})]})]})})]})}):r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:at?"Invoice Submission":"Payment Processing"}),G?r.jsxs("div",{className:"flex items-center space-x-3",children:[re&&r.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[r.jsx(Rs,{size:16,className:"animate-spin"}),r.jsx("span",{className:"text-sm",children:"Printing..."})]}),r.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg",title:"Print",onClick:()=>{Qu(J),_t("/")},children:r.jsx(Mc,{size:20})}),r.jsx("button",{className:`p-2 rounded-lg ${Ae==="email"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"Email",onClick:()=>z(Ae==="email"?null:"email"),children:r.jsx(cg,{size:20})}),r.jsx("button",{className:`p-2 rounded-lg ${Ae==="whatsapp"?"bg-blue-100 text-green-700":"text-green-600 hover:bg-green-100"} dark:text-green-400 dark:hover:bg-green-900`,title:"WhatsApp",onClick:()=>z(Ae==="whatsapp"?null:"whatsapp"),style:{display:Oe!=null&&Oe.custom_enable_whatsapp?"block":"none"},children:r.jsx(dg,{size:20})}),r.jsx("button",{className:`p-2 rounded-lg ${Ae==="sms"?"bg-blue-100 text-blue-700":"text-blue-600 hover:bg-blue-100"} dark:text-blue-400 dark:hover:bg-blue-900`,title:"SMS",onClick:()=>z(Ae==="sms"?null:"sms"),style:{display:Oe!=null&&Oe.custom_enable_sms?"block":"none"},children:r.jsx(ug,{size:20})}),r.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-100 dark:text-purple-400 dark:hover:bg-purple-900 rounded-lg",title:"View Full",onClick:()=>jt(J),children:r.jsx(Bi,{size:20})})]}):r.jsx("button",{onClick:()=>t(G),disabled:O||ae,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:cursor-not-allowed disabled:opacity-50",children:r.jsx(gr,{size:24})})]}),r.jsxs("div",{className:"flex flex-1 min-h-0",children:[r.jsx("div",{className:"w-2/3 p-6 overflow-y-auto custom-scrollbar space-y-6",children:G&&Ae||y&&Ae?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:["Share via ",Ae]}),r.jsx("button",{onClick:()=>z(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(gr,{size:20})})]}),Ae==="email"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:me.name,onChange:ce=>T(Se=>de(U({},Se),{name:ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:me.email,onChange:ce=>T(Se=>de(U({},Se),{email:ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"customer@email.com"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Message Preview"}),r.jsx("button",{type:"button",onClick:()=>bt(!Ut),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:Ut?r.jsx(Vo,{className:"w-4 h-4"}):r.jsx(d1,{className:"w-4 h-4"})})]}),Ut&&r.jsxs("div",{className:"space-y-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Template"}),we?r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsx(Rs,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):r.jsxs("select",{value:(et==null?void 0:et.name)||"",onChange:ce=>lr(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Select a template (optional)"}),Pe.map(ce=>{const Se=(Oe==null?void 0:Oe.custom_email_template)===ce.name;return r.jsxs("option",{value:ce.name,children:[ce.name,Se?" [Default]":""]},ce.name)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),r.jsx("textarea",{value:vt,onChange:ce=>E(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:6,placeholder:"Enter your email message..."})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Subject: Your Invoice from KLiK PoS"}),r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:tr()}})})]})]}),r.jsx("button",{onClick:()=>oe(null,null,function*(){ue(!0);try{yield s8({email:me.email,customer_name:me.name,invoice_data:(J==null?void 0:J.name)||"",message:tr()}),Me.success("Email sent successfully!"),z(null)}catch(ce){const Se=wm(ce.message,"email");Me.error(Se)}finally{ue(!1)}}),disabled:!me.email||ee,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ee?"Sending...":"Send Email"})]}),Ae==="whatsapp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:me.name,onChange:ce=>T(Se=>de(U({},Se),{name:ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:me.phone,onChange:ce=>T(Se=>de(U({},Se),{phone:ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Message Preview"}),r.jsx("button",{type:"button",onClick:()=>xe(!Ze),className:"text-sm text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300 font-medium",children:Ze?r.jsx(Vo,{className:"w-4 h-4"}):r.jsx(d1,{className:"w-4 h-4"})})]}),Ze&&r.jsxs("div",{className:"space-y-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Template"}),Ht?r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsx(Rs,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading templates..."})]}):r.jsxs("select",{value:(Ye==null?void 0:Ye.name)||"",onChange:ce=>Yr(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Select a template (optional)"}),ke.map(ce=>{const Se=(Oe==null?void 0:Oe.custom_whatsap_template)===ce.name;return r.jsxs("option",{value:ce.name,children:[ce.template_name," - ",ce.category," (",ce.status,")",Se?" [Default]":""]},ce.name)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Message"}),r.jsx("textarea",{value:gt,onChange:ce=>lt(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:4,placeholder:"Enter your WhatsApp message..."})]})]}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"whitespace-pre-wrap",children:yr()})})})]}),r.jsx("button",{onClick:()=>oe(null,null,function*(){K(!0);try{yield i8({mobile_no:me.phone,customer_name:me.name,invoice_data:(J==null?void 0:J.name)||"",message:yr()}),Me.success("Whatsap message sent successfully!"),z(null)}catch(ce){const Se=wm(ce.message,"whatsapp");Me.error(Se)}finally{K(!1)}}),disabled:!me.phone||P,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:P?"Sending...":"Send Whatsap Message"})]}),Ae==="sms"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:me.name,onChange:ce=>T(Se=>de(U({},Se),{name:ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Customer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:me.phone,onChange:ce=>T(Se=>de(U({},Se),{phone:ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"+254700000000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMS Message Preview"}),r.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-lg p-4 border border-teal-200 dark:border-teal-800",children:r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[r.jsxs("p",{children:["Hi ",me.name||"Customer","!"]}),r.jsx("p",{className:"mt-1",children:"Thank you for your purchase at KLiK PoS."}),r.jsxs("p",{className:"mt-1",children:["Invoice Total:"," ",Xe(Le.grandTotal)]}),r.jsx("p",{className:"mt-1",children:"Thank you!"})]})})]}),r.jsx("button",{onClick:()=>oe(null,null,function*(){try{yield o8({mobile_no:me.phone,customer_name:me.name,message:`Thank you for your purchase at KLiK PoS.
Invoice Total: ${Xe(Le.grandTotal)}
Thank you!`}),Me.success("SMS sent successfully!"),z(null)}catch(ce){const Se=wm(ce.message,"sms");Me.error(Se)}}),disabled:!me.phone,className:"w-full py-3 bg-teal-600 text-white rounded-lg font-medium hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send SMS"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),r.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:se.map(ce=>r.jsxs("div",{className:`${se.length<=3?"flex-1 min-w-0":"min-w-[300px] flex-shrink-0"} border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-beveren-300 transition-colors ${G||O?"bg-gray-50 dark:bg-gray-800":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:`w-8 h-6 rounded-md ${ce.color} text-white flex items-center justify-center`,children:r.jsx("div",{className:"scale-75",children:ce.icon})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:ce.name})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),r.jsx("div",{className:"flex space-x-1",children:r.jsx("button",{onClick:()=>Te(ce.id),disabled:G||O,className:`p-1 rounded text-xs ${G||O?"cursor-not-allowed opacity-50":"hover:bg-beveren-100 text-beveren-600"}`,title:"Auto-fill with grand total",children:r.jsx(Fi,{size:16})})})]}),r.jsx("input",{type:"number",step:"0.01",value:ce.amount||"",onChange:Se=>{L(ce.id);const Qe=Se.target.value,qe=Qe===""?0:parseFloat(Qe);Ve(ce.id,isNaN(qe)?"0":qe.toString())},onBlur:Se=>{L(ce.id);const Qe=parseFloat(Se.target.value);if(!isNaN(Qe)){const qe=parseFloat(Qe.toFixed(2));Ve(ce.id,qe.toString())}},placeholder:"0.00",disabled:G||O,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm ${G||O?"cursor-not-allowed opacity-50":""}`})]})]},ce.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tax Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sales & Tax Charges"}),r.jsx("select",{value:v,onChange:ce=>it(ce.target.value),disabled:G||O,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||O?"cursor-not-allowed opacity-50":""}`,children:Fe.map(ce=>r.jsxs("option",{value:ce.id,children:[ce.name," (",ce.rate,"%"," ",ce.is_inclusive?"Incl.":"Excl.",")"]},ce.id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tax Amount ",Le.isInclusive&&"(Included)"]}),r.jsx("div",{className:`px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg font-medium ${Le.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${Xe(Le.taxAmount)})`:Xe(Le.taxAmount)})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:at?"Invoice Summary":"Payment Summary"}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Round Off"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"number",value:je,onChange:ce=>yt(ce.target.value),disabled:G||O,placeholder:"-0.00",className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white ${G||O?"cursor-not-allowed opacity-50":""}`}),r.jsx("button",{onClick:ct,disabled:G||O,className:`px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors ${G||O?"cursor-not-allowed opacity-50":""}`,title:"Auto Round",children:r.jsx(o1,{size:16})})]})]})}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xe(Le.subtotal)})]}),Le.couponDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[r.jsx("span",{children:"Coupon Discount"}),r.jsxs("span",{children:["-",Xe(Le.couponDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(kt=Le.selectedTax)==null?void 0:kt.rate,"%"," ",Le.isInclusive?"Incl.":"Excl.",")"]}),r.jsx("span",{className:`font-medium ${Le.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${Xe(Le.taxAmount)})`:Xe(Le.taxAmount)})]}),M!==0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xe(M)})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Grand Total"}),r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Xe(Le.grandTotal)})]})}),(St||at)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Paid"}),r.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:Xe(ka)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),r.jsx("span",{className:`font-bold ${Fa>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Xe(Fa)})]}),ka>Le.grandTotal&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Change"}),r.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:Xe(bm(ka,Le.grandTotal))})]})]})]})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-600 flex-1 overflow-y-auto custom-scrollbar",children:G&&J?r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Print Format Preview:"}),r.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded p-2 bg-gray-50 dark:bg-gray-700",children:r.jsx(Yu,{invoice:J})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"KLiK PoS"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Invoice"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:aa}),at&&r.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium mt-1",children:"Payment Pending"})]}),l&&r.jsxs("div",{className:"mb-4 pb-2 border-b border-gray-200 dark:border-gray-600",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l.name}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:l.email}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:l.phone})]}),r.jsx("div",{className:"space-y-2 mb-4",children:a.length>0?a.map((ce,Se)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:ce.name}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[ce.quantity," x ",Xe(ce.price)]})]}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Xe(ce.quantity*ce.price)})]},Se)):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(y==null?void 0:y.name)||(l==null?void 0:l.name)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(y==null?void 0:y.customer)||(l==null?void 0:l.name)||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Xe((y==null?void 0:y.grand_total)||Le.grandTotal)})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:r.jsx(Yu,{invoice:y||V||{}})})]})}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Xe(Le.subtotal)})]}),Le.couponDiscount>0&&r.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-",Xe(Le.couponDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Xt=Le.selectedTax)==null?void 0:Xt.rate,"%"," ",Le.isInclusive?"Incl.":"Excl.",")"]}),r.jsx("span",{className:`${Le.isInclusive?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:Le.isInclusive?`(${Xe(Le.taxAmount)})`:Xe(Le.taxAmount)})]}),M!==0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Round Off"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Xe(M)})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-1",children:r.jsxs("div",{className:"flex justify-between font-bold",children:[r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Xe(Le.grandTotal)})]})}),(St||at)&&Object.entries(N).filter(([,ce])=>ce>0).length>0&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Methods:"}),Object.entries(N).filter(([,ce])=>ce>0).map(([ce,Se])=>r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:ce}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Xe(Se)})]},ce))]}),at&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"Outstanding Amount:"}),r.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:Xe(Le.grandTotal)})]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Payment to be collected separately"})]}),Le.selectedTax&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:r.jsxs("p",{className:`text-xs ${Le.isInclusive?"text-blue-500 dark:text-blue-400":"text-orange-500 dark:text-orange-400"}`,children:["Tax is"," ",Le.isInclusive?"inclusive":"exclusive"," ","of item prices"]})}),G&&((sa=V==null?void 0:V.invoice)==null?void 0:sa.custom_invoice_qr_code)&&r.jsx("div",{className:"mt-4 text-center",children:r.jsx("img",{src:V.invoice.custom_invoice_qr_code,alt:"Invoice QR Code",className:"mx-auto w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded-lg"})})]}),r.jsxs("div",{className:"text-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Thank you for your business!"}),at&&r.jsx("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:"Invoice will be sent for payment processing"})]})]})})]}),G||y?r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex justify-end space-x-4",children:[G&&r.jsx("button",{onClick:t,className:"bg-beveren-500 px-6 py-2 border border-gray-300 dark:border-gray-600 text-white dark:text-gray-300 rounded-lg font-medium hover:bg-green-700 dark:hover:bg-gray-800 transition-colors",children:"New Order"}),y&&r.jsx("button",{onClick:t,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Close"})]})}):r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 flex-shrink-0 bg-white dark:bg-gray-800",children:r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:Pt,disabled:G||O||ae,className:`px-6 py-2 border  border-gray-300 dark:border-gray-600 text-gray-700 rounded-lg font-medium hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors flex items-center space-x-2 ${G||O||ae?"cursor-not-allowed opacity-50":""}`,children:ae?r.jsxs(r.Fragment,{children:[r.jsx(Rs,{size:16,className:"animate-spin"}),r.jsx("span",{children:"Holding..."})]}):r.jsx("span",{children:"Hold Order"})}),r.jsx("button",{onClick:Rt,disabled:Zt(),className:`px-8 py-2 rounded-lg font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 ${at?"bg-beveren-500 hover:bg-blue-700 text-white":"bg-beveren-600 hover:bg-beveren-700 text-white"}`,children:O?r.jsxs(r.Fragment,{children:[r.jsx(Rs,{size:16,className:"animate-spin"}),r.jsx("span",{children:na()})]}):r.jsxs(r.Fragment,{children:[r.jsx(Vo,{size:16}),r.jsx("span",{children:na()})]})})]})})]})})}const v1=()=>{const e=window.csrf_token;return{createCustomer:c=>oe(null,null,function*(){var u;try{const h=yield(yield fetch("/api/method/klik_pos.api.customer.create_or_update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_data:c}),credentials:"include"})).json();if(!h.message||!h.message.success)throw new Error(((u=h.message)==null?void 0:u.error)||"Customer creation failed");return h.message}catch(f){throw console.error("❌ Error creating customer:",f),f}}),updateCustomer:(c,u)=>oe(null,null,function*(){var f;try{const m=yield(yield fetch("/api/method/klik_pos.api.customer.update_customer",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":e},body:JSON.stringify({customer_id:c,customer_data:u}),credentials:"include"})).json();if(!m.message||!m.message.success)throw new Error(((f=m.message)==null?void 0:f.error)||"Customer update failed");return m.message}catch(h){throw console.error("❌ Error updating customer:",h),h}}),getCustomerGroups:()=>oe(null,null,function*(){var c;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.get_customer_groups",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((c=f.message)==null?void 0:c.error)||"Failed to fetch customer groups");return f.message.data}catch(u){throw console.error("❌ Error fetching customer groups:",u),u}}),getTerritories:()=>oe(null,null,function*(){var c;try{const f=yield(yield fetch("/api/method/klik_pos.api.customer.get_territories",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();if(!f.message||!f.message.success)throw new Error(((c=f.message)==null?void 0:c.error)||"Failed to fetch territories");return f.message.data}catch(u){throw console.error("❌ Error fetching territories:",u),u}})}},g8={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var Nm={exports:{}},jm,w1;function y8(){if(w1)return jm;w1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jm=e,jm}var km,N1;function p8(){if(N1)return km;N1=1;var e=y8();function t(){}function a(){}return a.resetWarningCache=t,km=function(){function s(u,f,h,m,y,w){if(w!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function l(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:a,resetWarningCache:t};return c.PropTypes=c,c},km}var j1;function x8(){return j1||(j1=1,Nm.exports=p8()()),Nm.exports}var b8=x8();const ze=ml(b8);var Sm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var k1;function v8(){return k1||(k1=1,function(e){(function(){var t={}.hasOwnProperty;function a(){for(var c="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(c=l(c,s(f)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return a.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var u="";for(var f in c)t.call(c,f)&&c[f]&&(u=l(u,f));return u}function l(c,u){return u?c?c+" "+u:c+u:c}e.exports?(a.default=a,e.exports=a):window.classNames=a})()}(Sm)),Sm.exports}var w8=v8();const o0=ml(w8);function N8(e,t,a){switch(a){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function j8(e,t,a){for(var s={},l="",c=0,u=0;u<e.length;){var f=a(e[u],l,s);f!==void 0&&(l+=f,t!==void 0&&(t===u?c=l.length-1:t>u&&(c=l.length))),u++}t===void 0&&(c=l.length);var h={value:l,caret:c};return h}function k8(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=S8(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8(e,t){if(e){if(typeof e=="string")return S1(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S1(e,t)}}function S1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function xg(e,t){for(var a=0,s=k8(t.split("")),l;!(l=s()).done;){var c=l.value;c===e&&a++}return a}function $8(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=e.length,c=xg("(",e),u=xg(")",e),f=c-u;f>0&&l<t.length;)e+=t[l].replace(a,s),t[l]===")"&&f--,l++;return e}function C8(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=_8(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8(e,t){if(e){if(typeof e=="string")return $1(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $1(e,t)}}function $1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function E8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",a=arguments.length>2?arguments[2]:void 0;if(!e)return function(l){return{text:l}};var s=xg(t,e);return function(l){if(!l)return{text:"",template:e};for(var c=0,u="",f=C8(e.split("")),h;!(h=f()).done;){var m=h.value;if(m!==t){u+=m;continue}if(u+=l[c],c++,c===l.length&&l.length<s)break}return a&&(u=$8(u,e)),{text:u,template:e}}}function T8(e,t,a){typeof a=="string"&&(a=E8(a));var s=a(e)||{},l=s.text,c=s.template;if(l===void 0&&(l=e),c)if(t===void 0)t=l.length;else{for(var u=0,f=!1,h=-1;u<l.length&&u<c.length;){if(l[u]!==c[u]){if(t===0){f=!0,t=u;break}h=u,t--}u++}f||(t=h+1)}return{text:l,caret:t}}function A8(e){return e.hasAttribute("readonly")}function O8(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var C1={Backspace:8,Delete:46};function R8(e){switch(e.keyCode){case C1.Backspace:return"Backspace";case C1.Delete:return"Delete"}}function P8(e){return e.selectionStart}function kw(e,t){t!==void 0&&(M8()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function M8(){if(typeof navigator!="undefined")return D8.test(navigator.userAgent)}var D8=/Android/i;function L8(e,t,a,s,l){bg(t,a,s,void 0,l)}function I8(e,t,a,s,l){if(!A8(t)){var c=R8(e);switch(c){case"Delete":case"Backspace":e.preventDefault();var u=O8(t);return u?(U8(t,u),bg(t,a,s,void 0,l)):bg(t,a,s,c,l)}}}function U8(e,t){var a=e.value;a=a.slice(0,t.start)+a.slice(t.end),e.value=a,kw(e,t.start)}function bg(e,t,a,s,l){var c=j8(e.value,P8(e),t),u=c.value,f=c.caret;if(s){var h=N8(u,f,s);u=h.value,f=h.caret}var m=T8(u,f,a),y=m.text;f=m.caret,e.value=y,kw(e,f),l&&l(u)}var F8=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function _1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function Ro(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(a),!0).forEach(function(s){B8(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function B8(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z8(e,t){if(e==null)return{};var a=H8(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function H8(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function q8(e){var t=e.ref,a=e.parse,s=e.format,l=e.value,c=e.defaultValue,u=e.controlled,f=u===void 0?!0:u,h=e.onChange,m=e.onKeyDown,y=z8(e,F8),w=x.useRef(),b=x.useCallback(function($){w.current=$,t&&(typeof t=="function"?t($):t.current=$)},[t]),v=x.useCallback(function($){return L8($,w.current,a,s,h)},[w,a,s,h]),k=x.useCallback(function($){if(m&&m($),!$.defaultPrevented)return I8($,w.current,a,s,h)},[w,a,s,h,m]),N=Ro(Ro({},y),{},{ref:b,onChange:v,onKeyDown:k});return f?Ro(Ro({},N),{},{value:s(E1(l)?"":l).text}):Ro(Ro({},N),{},{defaultValue:s(E1(c)?"":c).text})}function E1(e){return e==null}var G8=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function T1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function V8(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(a),!0).forEach(function(s){K8(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function K8(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Y8(e,t){if(e==null)return{};var a=Q8(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Q8(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function l0(e,t){var a=e.inputComponent,s=a===void 0?"input":a,l=e.parse,c=e.format,u=e.value,f=e.defaultValue,h=e.onChange,m=e.controlled,y=e.onKeyDown,w=e.type,b=w===void 0?"text":w,v=Y8(e,G8),k=q8(V8({ref:t,parse:l,format:c,value:u,defaultValue:f,onChange:h,controlled:m,onKeyDown:y,type:b},v));return We.createElement(s,k)}l0=We.forwardRef(l0);l0.propTypes={parse:ze.func.isRequired,format:ze.func.isRequired,inputComponent:ze.elementType,type:ze.string,value:ze.string,defaultValue:ze.string,onChange:ze.func,controlled:ze.bool,onKeyDown:ze.func,onCut:ze.func,onPaste:ze.func};function A1(e,t){e=e.split("-"),t=t.split("-");for(var a=e[0].split("."),s=t[0].split("."),l=0;l<3;l++){var c=Number(a[l]),u=Number(s[l]);if(c>u)return 1;if(u>c)return-1;if(!isNaN(c)&&isNaN(u))return 1;if(isNaN(c)&&!isNaN(u))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var X8={}.constructor;function Ii(e){return e!=null&&e.constructor===X8}function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function L0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W8(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Z8(s.key),s)}}function I0(e,t,a){return t&&W8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z8(e){var t=J8(e,"string");return ul(t)=="symbol"?t:t+""}function J8(e,t){if(ul(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(ul(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e_="1.2.0",t_="1.7.35",O1=" ext. ",a_=/^\d+$/,Ua=function(){function e(t){L0(this,e),Sw(t),this.metadata=t,Cw.call(this,t)}return I0(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(a){return a!=="001"})}},{key:"getCountryMetadata",value:function(a){return this.metadata.countries[a]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(a){return this.getCountryMetadata(a)!==void 0}},{key:"hasCallingCode",value:function(a){if(this.getCountryCodesForCallingCode(a))return!0;if(this.nonGeographic()){if(this.nonGeographic()[a])return!0}else{var s=this.countryCallingCodes()[a];if(s&&s.length===1&&s[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(a){return this.nonGeographic()?!!this.nonGeographic()[a]:!this.getCountryCodesForCallingCode(a)}},{key:"country",value:function(a){return this.selectNumberingPlan(a)}},{key:"selectNumberingPlan",value:function(a,s){if(a&&a_.test(a)&&(s=a,a=null),a&&a!=="001"){if(!this.hasCountry(a))throw new Error("Unknown country: ".concat(a));this.numberingPlan=new R1(this.getCountryMetadata(a),this)}else if(s){if(!this.hasCallingCode(s))throw new Error("Unknown calling code: ".concat(s));this.numberingPlan=new R1(this.getNumberingPlanMetadata(s),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(a){var s=this.countryCallingCodes()[a];if(s)return s.length===1&&s[0].length===3?void 0:s}},{key:"getCountryCodeForCallingCode",value:function(a){var s=this.getCountryCodesForCallingCode(a);if(s)return s[0]}},{key:"getNumberingPlanMetadata",value:function(a){var s=this.getCountryCodeForCallingCode(a);if(s)return this.getCountryMetadata(s);if(this.nonGeographic()){var l=this.nonGeographic()[a];if(l)return l}else{var c=this.countryCallingCodes()[a];if(c&&c.length===1&&c[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(a){return this.numberingPlan.type(a)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(a){return this.selectNumberingPlan(a)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),R1=function(){function e(t,a){L0(this,e),this.globalMetadataObject=a,this.metadata=t,Cw.call(this,a.metadata)}return I0(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(a){return a[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var a=this,s=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return s.map(function(l){return new r_(l,a)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(a){return a[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(a){if(this.hasTypes()&&P1(this.types(),a))return new s_(P1(this.types(),a),this)}},{key:"ext",value:function(){return this.v1||this.v2?O1:this.metadata[13]||O1}}])}(),r_=function(){function e(t,a){L0(this,e),this._format=t,this.metadata=a}return I0(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!n_.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),n_=/^\(?\$1\)?$/,s_=function(){function e(t,a){L0(this,e),this.type=t,this.metadata=a}return I0(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function P1(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function Sw(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Ii(e)||!Ii(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Ii(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+i_(e)+": "+e,"."))}var i_=function(t){return ul(t)};function Js(e,t){if(t=new Ua(t),t.hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function $w(e,t){return t.countries.hasOwnProperty(e)}function Cw(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?A1(t,e_)===-1?this.v2=!0:A1(t,t_)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function U0(e,t){return o_(e,void 0,t)}function o_(e,t,a){var s=a.type(t),l=s&&s.possibleLengths()||a.possibleLengths();if(!l)return"IS_POSSIBLE";var c=e.length,u=l[0];return u===c?"IS_POSSIBLE":u>c?"TOO_SHORT":l[l.length-1]<c?"TOO_LONG":l.indexOf(c,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function l_(e,t,a){if(t===void 0&&(t={}),a=new Ua(a),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");a.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!a.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));a.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");a.selectNumberingPlan(e.countryCallingCode)}}if(a.possibleLengths())return _w(e.phone||e.nationalNumber,a);if(e.countryCallingCode&&a.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function _w(e,t){switch(U0(e,t)){case"IS_POSSIBLE":return!0;default:return!1}}function ts(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function c_(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=d_(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_(e,t){if(e){if(typeof e=="string")return M1(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M1(e,t):void 0}}function M1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}var u_=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function gy(e,t,a){if(t=t||{},!(!e.country&&!e.countryCallingCode)){a=new Ua(a),a.selectNumberingPlan(e.country,e.countryCallingCode);var s=t.v2?e.nationalNumber:e.phone;if(ts(s,a.nationalNumberPattern())){if($m(s,"FIXED_LINE",a))return a.type("MOBILE")&&a.type("MOBILE").pattern()===""||!a.type("MOBILE")||$m(s,"MOBILE",a)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var l=c_(u_),c;!(c=l()).done;){var u=c.value;if($m(s,u,a))return u}}}}function $m(e,t,a){return t=a.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:ts(e,t.pattern())}function f_(e,t,a){if(t=t||{},a=new Ua(a),a.selectNumberingPlan(e.country,e.countryCallingCode),a.hasTypes())return gy(e,t,a.metadata)!==void 0;var s=t.v2?e.nationalNumber:e.phone;return ts(s,a.nationalNumberPattern())}function h_(e,t,a){var s=new Ua(a),l=s.getCountryCodesForCallingCode(e);return l?l.filter(function(c){return m_(t,c,a)}):[]}function m_(e,t,a){var s=new Ua(a);return s.selectNumberingPlan(t),s.numberingPlan.possibleLengths().indexOf(e.length)>=0}var yy=2,g_=17,y_=3,or="0-9０-９٠-٩۰-۹",p_="-‐-―−ー－",x_="／/",b_="．.",v_="  ­​⁠　",w_="()（）［］\\[\\]",N_="~⁓∼～",un="".concat(p_).concat(x_).concat(b_).concat(v_).concat(w_).concat(N_),F0="+＋",j_=new RegExp("(["+or+"])");function Ew(e,t,a,s){if(t){var l=new Ua(s);l.selectNumberingPlan(t,a);var c=new RegExp(l.IDDPrefix());if(e.search(c)===0){e=e.slice(e.match(c)[0].length);var u=e.match(j_);if(!(u&&u[1]!=null&&u[1].length>0&&u[1]==="0"))return e}}}function vg(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var a=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),s=a.exec(e);if(s){var l,c,u=s.length-1,f=u>0&&s[u];if(t.nationalPrefixTransformRule()&&f)l=e.replace(a,t.nationalPrefixTransformRule()),u>1&&(c=s[1]);else{var h=s[0];l=e.slice(h.length),f&&(c=s[1])}var m;if(f){var y=e.indexOf(s[1]),w=e.slice(0,y);w===t.numberingPlan.nationalPrefix()&&(m=t.numberingPlan.nationalPrefix())}else m=s[0];return{nationalNumber:l,nationalPrefix:m,carrierCode:c}}}return{nationalNumber:e}}function wg(e,t){var a=vg(e,t),s=a.carrierCode,l=a.nationalNumber;if(l!==e){if(!k_(e,l,t))return{nationalNumber:e};if(t.possibleLengths()&&!S_(l,t))return{nationalNumber:e}}return{nationalNumber:l,carrierCode:s}}function k_(e,t,a){return!(ts(e,a.nationalNumberPattern())&&!ts(t,a.nationalNumberPattern()))}function S_(e,t){switch(U0(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Tw(e,t,a,s){var l=t?Js(t,s):a;if(e.indexOf(l)===0){s=new Ua(s),s.selectNumberingPlan(t,a);var c=e.slice(l.length),u=wg(c,s),f=u.nationalNumber,h=wg(e,s),m=h.nationalNumber;if(!ts(m,s.nationalNumberPattern())&&ts(f,s.nationalNumberPattern())||U0(m,s)==="TOO_LONG")return{countryCallingCode:l,number:c}}return{number:e}}function py(e,t,a,s){if(!e)return{};var l;if(e[0]!=="+"){var c=Ew(e,t,a,s);if(c&&c!==e)l=!0,e="+"+c;else{if(t||a){var u=Tw(e,t,a,s),f=u.countryCallingCode,h=u.number;if(f)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:f,number:h}}return{number:e}}}if(e[1]==="0")return{};s=new Ua(s);for(var m=2;m-1<=y_&&m<=e.length;){var y=e.slice(1,m);if(s.hasCallingCode(y))return s.selectNumberingPlan(y),{countryCallingCodeSource:l?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:y,number:e.slice(m)};m++}return{}}function Aw(e){return e.replace(new RegExp("[".concat(un,"]+"),"g")," ").trim()}var Ow=/(\$\d)/;function Rw(e,t,a){var s=a.useInternationalFormat,l=a.withNationalPrefix;a.carrierCode,a.metadata;var c=e.replace(new RegExp(t.pattern()),s?t.internationalFormat():l&&t.nationalPrefixFormattingRule()?t.format().replace(Ow,t.nationalPrefixFormattingRule()):t.format());return s?Aw(c):c}var $_=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function C_(e,t,a){var s=new Ua(a);if(s.selectNumberingPlan(e,t),s.defaultIDDPrefix())return s.defaultIDDPrefix();if($_.test(s.IDDPrefix()))return s.IDDPrefix()}var __=";ext=",Po=function(t){return"([".concat(or,"]{1,").concat(t,"})")};function Pw(e){var t="20",a="15",s="9",l="6",c="[  \\t,]*",u="[:\\.．]?[  \\t,-]*",f="#?",h="(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)",m="(?:[xｘ#＃~～]|int|ｉｎｔ)",y="[- ]+",w="[  \\t]*",b="(?:,{2}|;)",v=__+Po(t),k=c+h+u+Po(t)+f,N=c+m+u+Po(s)+f,$=y+Po(l)+"#",C=w+b+u+Po(a)+f,L=w+"(?:,)+"+u+Po(s)+f;return v+"|"+k+"|"+N+"|"+$+"|"+C+"|"+L}var E_="["+or+"]{"+yy+"}",T_="["+F0+"]{0,1}(?:["+un+"]*["+or+"]){3,}["+un+or+"]*",A_=new RegExp("^["+F0+"]{0,1}(?:["+un+"]*["+or+"]){1,2}$","i"),O_=T_+"(?:"+Pw()+")?",R_=new RegExp("^"+E_+"$|^"+O_+"$","i");function P_(e){return e.length>=yy&&R_.test(e)}function M_(e){return A_.test(e)}function D_(e){var t=e.number,a=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(a?";ext="+a:"")}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function L_(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=I_(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_(e,t){if(e){if(typeof e=="string")return D1(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D1(e,t):void 0}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function L1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function I1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(a),!0).forEach(function(s){U_(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function U_(e,t,a){return(t=F_(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function F_(e){var t=B_(e,"string");return Fc(t)=="symbol"?t:t+""}function B_(e,t){if(Fc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Fc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U1={formatExtension:function(t,a,s){return"".concat(t).concat(s.ext()).concat(a)}};function z_(e,t,a,s){if(a?a=I1(I1({},U1),a):a=U1,s=new Ua(s),e.country&&e.country!=="001"){if(!s.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));s.country(e.country)}else if(e.countryCallingCode)s.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var l=s.countryCallingCode(),c=a.v2?e.nationalNumber:e.phone,u;switch(t){case"NATIONAL":return c?(u=c0(c,e.carrierCode,"NATIONAL",s,a),Cm(u,e.ext,s,a.formatExtension)):"";case"INTERNATIONAL":return c?(u=c0(c,null,"INTERNATIONAL",s,a),u="+".concat(l," ").concat(u),Cm(u,e.ext,s,a.formatExtension)):"+".concat(l);case"E.164":return"+".concat(l).concat(c);case"RFC3966":return D_({number:"+".concat(l).concat(c),ext:e.ext});case"IDD":if(!a.fromCountry)return;var f=q_(c,e.carrierCode,l,a.fromCountry,s);return Cm(f,e.ext,s,a.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function c0(e,t,a,s,l){var c=H_(s.formats(),e);return c?Rw(e,c,{useInternationalFormat:a==="INTERNATIONAL",withNationalPrefix:!(c.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&l&&l.nationalPrefix===!1),carrierCode:t,metadata:s}):e}function H_(e,t){for(var a=L_(e),s;!(s=a()).done;){var l=s.value;if(l.leadingDigitsPatterns().length>0){var c=l.leadingDigitsPatterns()[l.leadingDigitsPatterns().length-1];if(t.search(c)!==0)continue}if(ts(t,l.pattern()))return l}}function Cm(e,t,a,s){return t?s(e,t,a):e}function q_(e,t,a,s,l){var c=Js(s,l.metadata);if(c===a){var u=c0(e,t,"NATIONAL",l);return a==="1"?a+" "+u:u}var f=C_(s,void 0,l.metadata);if(f)return"".concat(f," ").concat(a," ").concat(c0(e,null,"INTERNATIONAL",l))}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function F1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function B1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(a),!0).forEach(function(s){G_(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function G_(e,t,a){return(t=Mw(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function V_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K_(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Mw(s.key),s)}}function Y_(e,t,a){return t&&K_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mw(e){var t=Q_(e,"string");return Bc(t)=="symbol"?t:t+""}function Q_(e,t){if(Bc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Bc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dw=function(){function e(t,a,s){if(V_(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!a)throw new TypeError("`metadata` argument not passed");if(Ii(a)&&Ii(a.countries)){s=a;var l=t;if(!Z_.test(l))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var c=py(l,void 0,void 0,s),u=c.countryCallingCode,f=c.number;if(a=f,t=u,!a)throw new Error("Invalid `number` argument passed: too short")}if(!a)throw new TypeError("`nationalNumber` argument is required");if(typeof a!="string")throw new TypeError("`nationalNumber` argument must be a string");Sw(s);var h=W_(t,s),m=h.country,y=h.countryCallingCode;this.country=m,this.countryCallingCode=y,this.nationalNumber=a,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return s}}return Y_(e,[{key:"setExt",value:function(a){this.ext=a}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:h_(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return l_(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return f_(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var a=new Ua(this.getMetadata());return a.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(a){return this.number===a.number&&this.ext===a.ext}},{key:"getType",value:function(){return gy(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(a,s){return z_(this,a,s?B1(B1({},s),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(a){return this.format("NATIONAL",a)}},{key:"formatInternational",value:function(a){return this.format("INTERNATIONAL",a)}},{key:"getURI",value:function(a){return this.format("RFC3966",a)}}])}(),X_=function(t){return/^[A-Z]{2}$/.test(t)};function W_(e,t){var a,s,l=new Ua(t);return X_(e)?(a=e,l.selectNumberingPlan(a),s=l.countryCallingCode()):s=e,{country:a,countryCallingCode:s}}var Z_=/^\+\d+$/;function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function J_(e,t,a){return Object.defineProperty(e,"prototype",{writable:!1}),e}function e7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t7(e,t,a){return t=Hc(t),a7(e,xy()?Reflect.construct(t,a||[],Hc(e).constructor):t.apply(e,a))}function a7(e,t){if(t&&(Ng(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7(e)}function r7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zc(e,t)}function jg(e){var t=typeof Map=="function"?new Map:void 0;return jg=function(s){if(s===null||!i7(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(s))return t.get(s);t.set(s,l)}function l(){return s7(s,arguments,Hc(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),zc(l,s)},jg(e)}function s7(e,t,a){if(xy())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var l=new(e.bind.apply(e,s));return a&&zc(l,a.prototype),l}function xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xy=function(){return!!e})()}function i7(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function zc(e,t){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zc(e,t)}function Hc(e){return Hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hc(e)}var Xn=function(e){function t(a){var s;return e7(this,t),s=t7(this,t,[a]),Object.setPrototypeOf(s,t.prototype),s.name=s.constructor.name,s}return n7(t,e),J_(t)}(jg(Error)),z1=new RegExp("(?:"+Pw()+")$","i");function o7(e){var t=e.search(z1);if(t<0)return{};for(var a=e.slice(0,t),s=e.match(z1),l=1;l<s.length;){if(s[l])return{number:a,ext:s[l]};l++}}function l7(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=c7(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7(e,t){if(e){if(typeof e=="string")return H1(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?H1(e,t):void 0}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}var d7={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function Lw(e){return d7[e]}function d0(e){for(var t="",a=l7(e.split("")),s;!(s=a()).done;){var l=s.value,c=Lw(l);c&&(t+=c)}return t}function u7(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=f7(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7(e,t){if(e){if(typeof e=="string")return q1(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?q1(e,t):void 0}}function q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function kg(e){for(var t="",a=u7(e.split("")),s;!(s=a()).done;){var l=s.value;t+=Iw(l,t)||""}return t}function Iw(e,t,a){if(e==="+"){if(t){typeof a=="function"&&a("end");return}return"+"}return Lw(e)}function h7(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=m7(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m7(e,t){if(e){if(typeof e=="string")return G1(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?G1(e,t):void 0}}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function Uw(e,t){var a=t.countries;t.defaultCountry;var s=t.metadata;s=new Ua(s);for(var l=h7(a),c;!(c=l()).done;){var u=c.value;if(s.country(u),s.leadingDigits()){if(e&&e.search(s.leadingDigits())===0)return u}else if(gy({phone:e,country:u},void 0,s.metadata))return u}}function Fw(e,t){var a=t.nationalNumber,s=t.defaultCountry,l=t.metadata,c=l.getCountryCodesForCallingCode(e);if(c)return c.length===1?c[0]:Uw(a,{countries:c,defaultCountry:s,metadata:l.metadata})}var Bw="+",g7="[\\-\\.\\(\\)]?",V1="(["+or+"]|"+g7+")",y7="^\\"+Bw+V1+"*["+or+"]"+V1+"*$",p7=new RegExp(y7,"g"),Sg=or,x7="["+Sg+"]+((\\-)*["+Sg+"])*",b7="a-zA-Z",v7="["+b7+"]+((\\-)*["+Sg+"])*",w7="^("+x7+"\\.)*"+v7+"\\.?$",N7=new RegExp(w7,"g"),K1="tel:",$g=";phone-context=",j7=";isub=";function k7(e){var t=e.indexOf($g);if(t<0)return null;var a=t+$g.length;if(a>=e.length)return"";var s=e.indexOf(";",a);return s>=0?e.substring(a,s):e.substring(a)}function S7(e){return e===null?!0:e.length===0?!1:p7.test(e)||N7.test(e)}function $7(e,t){var a=t.extractFormattedPhoneNumber,s=k7(e);if(!S7(s))throw new Xn("NOT_A_NUMBER");var l;if(s===null)l=a(e)||"";else{l="",s.charAt(0)===Bw&&(l+=s);var c=e.indexOf(K1),u;c>=0?u=c+K1.length:u=0;var f=e.indexOf($g);l+=e.substring(u,f)}var h=l.indexOf(j7);if(h>0&&(l=l.substring(0,h)),l!=="")return l}var C7=250,_7=new RegExp("["+F0+or+"]"),E7=new RegExp("[^"+or+"#]+$");function T7(e,t,a){if(t=t||{},a=new Ua(a),t.defaultCountry&&!a.hasCountry(t.defaultCountry))throw t.v2?new Xn("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var s=O7(e,t.v2,t.extract),l=s.number,c=s.ext,u=s.error;if(!l){if(t.v2)throw u==="TOO_SHORT"?new Xn("TOO_SHORT"):new Xn("NOT_A_NUMBER");return{}}var f=P7(l,t.defaultCountry,t.defaultCallingCode,a),h=f.country,m=f.nationalNumber,y=f.countryCallingCode,w=f.countryCallingCodeSource,b=f.carrierCode;if(!a.hasSelectedNumberingPlan()){if(t.v2)throw new Xn("INVALID_COUNTRY");return{}}if(!m||m.length<yy){if(t.v2)throw new Xn("TOO_SHORT");return{}}if(m.length>g_){if(t.v2)throw new Xn("TOO_LONG");return{}}if(t.v2){var v=new Dw(y,m,a.metadata);return h&&(v.country=h),b&&(v.carrierCode=b),c&&(v.ext=c),v.__countryCallingCodeSource=w,v}var k=(t.extended?a.hasSelectedNumberingPlan():h)?ts(m,a.nationalNumberPattern()):!1;return t.extended?{country:h,countryCallingCode:y,carrierCode:b,valid:k,possible:k?!0:!!(t.extended===!0&&a.possibleLengths()&&_w(m,a)),phone:m,ext:c}:k?R7(h,m,c):{}}function A7(e,t,a){if(e){if(e.length>C7){if(a)throw new Xn("TOO_LONG");return}if(t===!1)return e;var s=e.search(_7);if(!(s<0))return e.slice(s).replace(E7,"")}}function O7(e,t,a){var s=$7(e,{extractFormattedPhoneNumber:function(u){return A7(u,a,t)}});if(!s)return{};if(!P_(s))return M_(s)?{error:"TOO_SHORT"}:{};var l=o7(s);return l.ext?l:{number:s}}function R7(e,t,a){var s={country:e,phone:t};return a&&(s.ext=a),s}function P7(e,t,a,s){var l=py(kg(e),t,a,s.metadata),c=l.countryCallingCodeSource,u=l.countryCallingCode,f=l.number,h;if(u)s.selectNumberingPlan(u);else if(f&&(t||a))s.selectNumberingPlan(t,a),t&&(h=t),u=a||Js(t,s.metadata);else return{};if(!f)return{countryCallingCodeSource:c,countryCallingCode:u};var m=wg(kg(f),s),y=m.nationalNumber,w=m.carrierCode,b=Fw(u,{nationalNumber:y,defaultCountry:t,metadata:s});return b&&(h=b,b==="001"||s.country(h)),{country:h,countryCallingCode:u,countryCallingCodeSource:c,nationalNumber:y,carrierCode:w}}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Y1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function Q1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(a),!0).forEach(function(s){M7(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function M7(e,t,a){return(t=D7(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function D7(e){var t=L7(e,"string");return qc(t)=="symbol"?t:t+""}function L7(e,t){if(qc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(qc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I7(e,t,a){return T7(e,Q1(Q1({},t),{},{v2:!0}),a)}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function X1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function U7(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(a),!0).forEach(function(s){F7(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function F7(e,t,a){return(t=B7(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B7(e){var t=z7(e,"string");return Gc(t)=="symbol"?t:t+""}function z7(e,t){if(Gc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Gc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e,t){return K7(e)||V7(e,t)||G7(e,t)||q7()}function q7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7(e,t){if(e){if(typeof e=="string")return W1(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?W1(e,t):void 0}}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function V7(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s,l,c,u,f=[],h=!0,m=!1;try{if(c=(a=a.call(e)).next,t!==0)for(;!(h=(s=c.call(a)).done)&&(f.push(s.value),f.length!==t);h=!0);}catch(y){m=!0,l=y}finally{try{if(!h&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(m)throw l}}return f}}function K7(e){if(Array.isArray(e))return e}function Y7(e){var t=Array.prototype.slice.call(e),a=H7(t,4),s=a[0],l=a[1],c=a[2],u=a[3],f,h,m;if(typeof s=="string")f=s;else throw new TypeError("A text for parsing must be a string.");if(!l||typeof l=="string")u?(h=c,m=u):(h=void 0,m=c),l&&(h=U7({defaultCountry:l},h));else if(Ii(l))c?(h=l,m=c):m=l;else throw new Error("Invalid second argument: ".concat(l));return{text:f,options:h,metadata:m}}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Z1(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function J1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(a),!0).forEach(function(s){Q7(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z1(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Q7(e,t,a){return(t=X7(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function X7(e){var t=W7(e,"string");return Vc(t)=="symbol"?t:t+""}function W7(e,t){if(Vc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Vc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7(e,t,a){t&&t.defaultCountry&&!$w(t.defaultCountry,a)&&(t=J1(J1({},t),{},{defaultCountry:void 0}));try{return I7(e,t,a)}catch(s){if(!(s instanceof Xn))throw s}}function J7(){var e=Y7(arguments),t=e.text,a=e.options,s=e.metadata;return Z7(t,a,s)}function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function eE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tE(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rE(s.key),s)}}function aE(e,t,a){return t&&tE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rE(e){var t=nE(e,"string");return Kc(t)=="symbol"?t:t+""}function nE(e,t){if(Kc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Kc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sE=function(){function e(t){var a=t.onCountryChange,s=t.onCallingCodeChange;eE(this,e),this.onCountryChange=a,this.onCallingCodeChange=s}return aE(e,[{key:"reset",value:function(a){var s=a.country,l=a.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(s,l)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(a){for(var s=0,l=Object.keys(a);s<l.length;s++){var c=l[s];this[c]=a[c]}}},{key:"initCountryAndCallingCode",value:function(a,s){this.setCountry(a),this.setCallingCode(s)}},{key:"setCountry",value:function(a){this.country=a,this.onCountryChange(a)}},{key:"setCallingCode",value:function(a){this.callingCode=a,this.onCallingCodeChange(a,this.country)}},{key:"startInternationalNumber",value:function(a,s){this.international=!0,this.initCountryAndCallingCode(a,s)}},{key:"appendDigits",value:function(a){this.digits+=a}},{key:"appendNationalSignificantNumberDigits",value:function(a){this.nationalSignificantNumber+=a}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function iE(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=oE(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oE(e,t){if(e){if(typeof e=="string")return e2(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e2(e,t):void 0}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}var nn="x",_m=new RegExp(nn);function Xu(e,t){if(t<1)return"";for(var a="";t>1;)t&1&&(a+=e),t>>=1,e+=e;return a+e}function t2(e,t){return e[t]===")"&&t++,lE(e.slice(0,t))}function lE(e){for(var t=[],a=0;a<e.length;)e[a]==="("?t.push(a):e[a]===")"&&t.pop(),a++;var s=0,l="";t.push(e.length);for(var c=0,u=t;c<u.length;c++){var f=u[c];l+=e.slice(s,f),s=f+1}return l}function cE(e,t,a){for(var s=iE(a.split("")),l;!(l=s()).done;){var c=l.value;if(e.slice(t+1).search(_m)<0)return;t=e.search(_m),e=e.replace(_m,c)}return[e,t]}function dE(e,t,a){var s=a.metadata,l=a.shouldTryNationalPrefixFormattingRule,c=a.getSeparatorAfterNationalPrefix,u=new RegExp("^(?:".concat(t.pattern(),")$"));if(u.test(e.nationalSignificantNumber))return fE(e,t,{metadata:s,shouldTryNationalPrefixFormattingRule:l,getSeparatorAfterNationalPrefix:c})}function uE(e,t){return U0(e,t)==="IS_POSSIBLE"}function fE(e,t,a){var s=a.metadata,l=a.shouldTryNationalPrefixFormattingRule,c=a.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,l(t)){var u=a2(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:c,metadata:s});if(u)return u}return a2(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:c,metadata:s})}function a2(e,t,a){var s=a.metadata,l=a.useNationalPrefixFormattingRule,c=a.getSeparatorAfterNationalPrefix,u=Rw(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:l,metadata:s});if(l||(e.nationalPrefix?u=e.nationalPrefix+c(t)+u:e.complexPrefixBeforeNationalSignificantNumber&&(u=e.complexPrefixBeforeNationalSignificantNumber+" "+u)),hE(u,e))return u}function hE(e,t){return d0(e)===t.getNationalDigits()}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function mE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gE(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pE(s.key),s)}}function yE(e,t,a){return t&&gE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pE(e){var t=xE(e,"string");return Yc(t)=="symbol"?t:t+""}function xE(e,t){if(Yc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Yc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bE=function(){function e(){mE(this,e)}return yE(e,[{key:"parse",value:function(a){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(a),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var s=this.context[0],l=s.branches,c=s.instructions;if(l)return{op:"|",args:l.concat([Em(c)])};if(c.length===0)throw new Error("Pattern is required");return c.length===1?c[0]:c}},{key:"startContext",value:function(a){this.context.push(a)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(a){if(!a)throw new Error("Pattern is required");var s=a.match(NE);if(!s){if(wE.test(a))throw new Error("Illegal characters found in a pattern: ".concat(a));this.getContext().instructions=this.getContext().instructions.concat(a.split(""));return}var l=s[1],c=a.slice(0,s.index),u=a.slice(s.index+l.length);switch(l){case"(?:":c&&this.parsePattern(c),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(c&&this.parsePattern(c),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var f=this.getContext(),h=f.branches;h.push(Em(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:h});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(c&&this.parsePattern(c),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Em(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":c&&this.parsePattern(c),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:vE(c)});break;default:throw new Error("Unknown operator: ".concat(l))}u&&this.parsePattern(u)}}])}();function vE(e){for(var t=[],a=0;a<e.length;){if(e[a]==="-"){if(a===0||a===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var s=e[a-1].charCodeAt(0)+1,l=e[a+1].charCodeAt(0)-1,c=s;c<=l;)t.push(String.fromCharCode(c)),c++}else t.push(e[a]);a++}return t}var wE=/[\(\)\[\]\?\:\|]/,NE=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Em(e){return e.length===1?e[0]:e}function r2(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=jE(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jE(e,t){if(e){if(typeof e=="string")return n2(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n2(e,t):void 0}}function n2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function kE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SE(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,CE(s.key),s)}}function $E(e,t,a){return t&&SE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CE(e){var t=_E(e,"string");return Qc(t)=="symbol"?t:t+""}function _E(e,t){if(Qc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Qc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EE=function(){function e(t){kE(this,e),this.matchTree=new bE().parse(t)}return $E(e,[{key:"match",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.allowOverflow;if(!a)throw new Error("String is required");var c=Cg(a.split(""),this.matchTree,!0);if(c&&c.match&&delete c.matchedChars,!(c&&c.overflow&&!l))return c}}])}();function Cg(e,t,a){if(typeof t=="string"){var s=e.join("");return t.indexOf(s)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:s.indexOf(t)===0?a&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var l=e.slice(),c=0;c<t.length;){var u=t[c],f=Cg(l,u,a&&c===t.length-1);if(f){if(f.overflow)return f;if(f.match){if(l=l.slice(f.matchedChars.length),l.length===0)return c===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(f.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}else return;c++}return a?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-l.length)}}switch(t.op){case"|":for(var h,m=r2(t.args),y;!(y=m()).done;){var w=y.value,b=Cg(e,w,a);if(b){if(b.overflow)return b;if(b.match)return{match:!0,matchedChars:b.matchedChars};if(b.partialMatch)h=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(b,null,2)))}}return h?{partialMatch:!0}:void 0;case"[]":for(var v=r2(t.args),k;!(k=v()).done;){var N=k.value;if(e[0]===N)return e.length===1?{match:!0,matchedChars:e}:a?{overflow:!0}:{match:!0,matchedChars:[N]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function s2(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=TE(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TE(e,t){if(e){if(typeof e=="string")return i2(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i2(e,t):void 0}}function i2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function AE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OE(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PE(s.key),s)}}function RE(e,t,a){return t&&OE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PE(e){var t=ME(e,"string");return Xc(t)=="symbol"?t:t+""}function ME(e,t){if(Xc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Xc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _g="9",DE=15,LE=Xu(_g,DE),IE=/[- ]/,UE=function(){return/\[([^\[\]])*\]/g},FE=function(){return/\d(?=[^,}][^,}])/g},BE=new RegExp("["+un+"]*\\$1["+un+"]*(\\$\\d["+un+"]*)*$"),o2=3,zE=function(){function e(t){t.state;var a=t.metadata;AE(this,e),this.metadata=a,this.resetFormat()}return RE(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(a,s){this.resetFormat(),a?(this.isNANP=a.callingCode()==="1",this.matchingFormats=a.formats(),s.nationalSignificantNumber&&this.narrowDownMatchingFormats(s)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(a,s){var l=this;if(uE(s.nationalSignificantNumber,this.metadata))for(var c=s2(this.matchingFormats),u;!(u=c()).done;){var f=u.value,h=dE(s,f,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(y){return l.shouldTryNationalPrefixFormattingRule(y,{international:s.international,nationalPrefix:s.nationalPrefix})},getSeparatorAfterNationalPrefix:function(y){return l.getSeparatorAfterNationalPrefix(y)}});if(h)return this.resetFormat(),this.chosenFormat=f,this.setNationalNumberTemplate(h.replace(/\d/g,nn),s),this.populatedNationalNumberTemplate=h,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(nn),h}return this.formatNationalNumberWithNextDigits(a,s)}},{key:"formatNationalNumberWithNextDigits",value:function(a,s){var l=this.chosenFormat,c=this.chooseFormat(s);if(c)return c===l?this.formatNextNationalNumberDigits(a):this.formatNextNationalNumberDigits(s.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(a){var s=this,l=a.nationalSignificantNumber,c=a.nationalPrefix,u=a.international,f=l,h=f.length-o2;h<0&&(h=0),this.matchingFormats=this.matchingFormats.filter(function(m){return s.formatSuits(m,u,c)&&s.formatMatches(m,f,h)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(a,s,l){return!(l&&!a.usesNationalPrefix()&&!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!s&&!l&&a.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(a,s,l){var c=a.leadingDigitsPatterns().length;if(c===0)return!0;l=Math.min(l,c-1);var u=a.leadingDigitsPatterns()[l];if(s.length<o2)try{return new EE(u).match(s,{allowOverflow:!0})!==void 0}catch(f){return console.error(f),!0}return new RegExp("^(".concat(u,")")).test(s)}},{key:"getFormatFormat",value:function(a,s){return s?a.internationalFormat():a.format()}},{key:"chooseFormat",value:function(a){for(var s=this,l=function(){var m=f.value;return s.chosenFormat===m?0:BE.test(s.getFormatFormat(m,a.international))?s.createTemplateForFormat(m,a)?(s.chosenFormat=m,0):(s.matchingFormats=s.matchingFormats.filter(function(y){return y!==m}),1):1},c,u=s2(this.matchingFormats.slice()),f;!(f=u()).done&&(c=l(),c!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(a,s){if(!(a.pattern().indexOf("|")>=0)){var l=this.getTemplateForFormat(a,s);if(l)return this.setNationalNumberTemplate(l,s),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(a){return this.isNANP||a&&a.nationalPrefixFormattingRule()&&IE.test(a.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(a,s){var l=a.IDDPrefix,c=a.missingPlus;return l?s&&s.spacing===!1?l:l+" ":c?"":"+"}},{key:"getTemplate",value:function(a){if(this.template){for(var s=-1,l=0,c=a.international?this.getInternationalPrefixBeforeCountryCallingCode(a,{spacing:!1}):"";l<c.length+a.getDigitsWithoutInternationalPrefix().length;)s=this.template.indexOf(nn,s+1),l++;return t2(this.template,s+1)}}},{key:"setNationalNumberTemplate",value:function(a,s){this.nationalNumberTemplate=a,this.populatedNationalNumberTemplate=a,this.populatedNationalNumberTemplatePosition=-1,s.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(s).replace(/[\d\+]/g,nn)+Xu(nn,s.callingCode.length)+" "+a:this.template=a}},{key:"getTemplateForFormat",value:function(a,s){var l=s.nationalSignificantNumber,c=s.international,u=s.nationalPrefix,f=s.complexPrefixBeforeNationalSignificantNumber,h=a.pattern();h=h.replace(UE(),"\\d").replace(FE(),"\\d");var m=LE.match(h)[0];if(!(l.length>m.length)){var y=new RegExp("^"+h+"$"),w=l.replace(/\d/g,_g);y.test(w)&&(m=w);var b=this.getFormatFormat(a,c),v;if(this.shouldTryNationalPrefixFormattingRule(a,{international:c,nationalPrefix:u})){var k=b.replace(Ow,a.nationalPrefixFormattingRule());if(d0(a.nationalPrefixFormattingRule())===(u||"")+d0("$1")&&(b=k,v=!0,u))for(var N=u.length;N>0;)b=b.replace(/\d/,nn),N--}var $=m.replace(new RegExp(h),b).replace(new RegExp(_g,"g"),nn);return v||(f?$=Xu(nn,f.length)+" "+$:u&&($=Xu(nn,u.length)+this.getSeparatorAfterNationalPrefix(a)+$)),c&&($=Aw($)),$}}},{key:"formatNextNationalNumberDigits",value:function(a){var s=cE(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,a);if(!s){this.resetFormat();return}return this.populatedNationalNumberTemplate=s[0],this.populatedNationalNumberTemplatePosition=s[1],t2(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(a,s){var l=s.international,c=s.nationalPrefix;if(a.nationalPrefixFormattingRule()){var u=a.usesNationalPrefix();if(u&&c||!u&&!l)return!0}}}])}();function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function zw(e,t){return VE(e)||GE(e,t)||qE(e,t)||HE()}function HE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qE(e,t){if(e){if(typeof e=="string")return l2(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l2(e,t):void 0}}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function GE(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s,l,c,u,f=[],h=!0,m=!1;try{if(c=(a=a.call(e)).next,t!==0)for(;!(h=(s=c.call(a)).done)&&(f.push(s.value),f.length!==t);h=!0);}catch(y){m=!0,l=y}finally{try{if(!h&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(m)throw l}}return f}}function VE(e){if(Array.isArray(e))return e}function KE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YE(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XE(s.key),s)}}function QE(e,t,a){return t&&YE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XE(e){var t=WE(e,"string");return Wc(t)=="symbol"?t:t+""}function WE(e,t){if(Wc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Wc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZE="["+un+or+"]+",JE=new RegExp("^"+ZE+"$","i"),eT="(?:["+F0+"]["+un+or+"]*|["+un+or+"]+)",tT=new RegExp("[^"+un+or+"]+.*$"),aT=/[^\d\[\]]/,rT=function(){function e(t){var a=t.defaultCountry,s=t.defaultCallingCode,l=t.metadata,c=t.onNationalSignificantNumberChange;KE(this,e),this.defaultCountry=a,this.defaultCallingCode=s,this.metadata=l,this.onNationalSignificantNumberChange=c}return QE(e,[{key:"input",value:function(a,s){var l=iT(a),c=zw(l,2),u=c[0],f=c[1],h=d0(u),m;return f&&(s.digits||(s.startInternationalNumber(),h||(m=!0))),h&&this.inputDigits(h,s),{digits:h,justLeadingPlus:m}}},{key:"inputDigits",value:function(a,s){var l=s.digits,c=l.length<3&&l.length+a.length>=3;if(s.appendDigits(a),c&&this.extractIddPrefix(s),this.isWaitingForCountryCallingCode(s)){if(!this.extractCountryCallingCode(s))return}else s.appendNationalSignificantNumberDigits(a);s.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(s.getNationalDigits(),function(u){return s.update(u)})}},{key:"isWaitingForCountryCallingCode",value:function(a){var s=a.international,l=a.callingCode;return s&&!l}},{key:"extractCountryCallingCode",value:function(a){var s=py("+"+a.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),l=s.countryCallingCode,c=s.number;if(l)return a.setCallingCode(l),a.update({nationalSignificantNumber:c}),!0}},{key:"reset",value:function(a){if(a){this.hasSelectedNumberingPlan=!0;var s=a._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=s&&aT.test(s)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(a,s){if(this.hasSelectedNumberingPlan){var l=vg(a,this.metadata),c=l.nationalPrefix,u=l.nationalNumber,f=l.carrierCode;if(u!==a)return this.onExtractedNationalNumber(c,f,u,a,s),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(a,s,l){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(a,l);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var c=vg(a,this.metadata),u=c.nationalPrefix,f=c.nationalNumber,h=c.carrierCode;if(f!==s)return this.onExtractedNationalNumber(u,h,f,a,l),!0}}},{key:"onExtractedNationalNumber",value:function(a,s,l,c,u){var f,h,m=c.lastIndexOf(l);if(m>=0&&m===c.length-l.length){h=!0;var y=c.slice(0,m);y!==a&&(f=y)}u({nationalPrefix:a,carrierCode:s,nationalSignificantNumber:l,nationalSignificantNumberMatchesInput:h,complexPrefixBeforeNationalSignificantNumber:f}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(a){if(this.extractAnotherNationalSignificantNumber(a.getNationalDigits(),a.nationalSignificantNumber,function(s){return a.update(s)}))return!0;if(this.extractIddPrefix(a))return this.extractCallingCodeAndNationalSignificantNumber(a),!0;if(this.fixMissingPlus(a))return this.extractCallingCodeAndNationalSignificantNumber(a),!0}},{key:"extractIddPrefix",value:function(a){var s=a.international,l=a.IDDPrefix,c=a.digits;if(a.nationalSignificantNumber,!(s||l)){var u=Ew(c,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(u!==void 0&&u!==c)return a.update({IDDPrefix:c.slice(0,c.length-u.length)}),this.startInternationalNumber(a,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(a){if(!a.international){var s=Tw(a.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),l=s.countryCallingCode;if(s.number,l)return a.update({missingPlus:!0}),this.startInternationalNumber(a,{country:a.country,callingCode:l}),!0}}},{key:"startInternationalNumber",value:function(a,s){var l=s.country,c=s.callingCode;a.startInternationalNumber(l,c),a.nationalSignificantNumber&&(a.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(a){this.extractCountryCallingCode(a)&&this.extractNationalSignificantNumber(a.getNationalDigits(),function(s){return a.update(s)})}}])}();function nT(e){var t=e.search(eT);if(!(t<0)){e=e.slice(t);var a;return e[0]==="+"&&(a=!0,e=e.slice(1)),e=e.replace(tT,""),a&&(e="+"+e),e}}function sT(e){var t=nT(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function iT(e){var t=sT(e),a=zw(t,2),s=a[0],l=a[1];return JE.test(s)||(s=""),[s,l]}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function oT(e,t){return uT(e)||dT(e,t)||cT(e,t)||lT()}function lT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cT(e,t){if(e){if(typeof e=="string")return c2(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c2(e,t):void 0}}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}function dT(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s,l,c,u,f=[],h=!0,m=!1;try{if(c=(a=a.call(e)).next,t!==0)for(;!(h=(s=c.call(a)).done)&&(f.push(s.value),f.length!==t);h=!0);}catch(y){m=!0,l=y}finally{try{if(!h&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(m)throw l}}return f}}function uT(e){if(Array.isArray(e))return e}function fT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hT(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gT(s.key),s)}}function mT(e,t,a){return t&&hT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gT(e){var t=yT(e,"string");return Zc(t)=="symbol"?t:t+""}function yT(e,t){if(Zc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Zc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pl=function(){function e(t,a){fT(this,e),this.metadata=new Ua(a);var s=this.getCountryAndCallingCode(t),l=oT(s,2),c=l[0],u=l[1];this.defaultCountry=c,this.defaultCallingCode=u,this.reset()}return mT(e,[{key:"getCountryAndCallingCode",value:function(a){var s,l;return a&&(Ii(a)?(s=a.defaultCountry,l=a.defaultCallingCode):s=a),s&&!this.metadata.hasCountry(s)&&(s=void 0),[s,l]}},{key:"input",value:function(a){var s=this.parser.input(a,this.state),l=s.digits,c=s.justLeadingPlus;if(c)this.formattedOutput="+";else if(l){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var u;if(this.metadata.hasSelectedNumberingPlan()&&(u=this.formatter.format(l,this.state)),u===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var f=this.state.getNationalDigits();f&&(u=this.formatter.format(f,this.state))}this.formattedOutput=u?this.getFullNumber(u):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var a=this;return this.state=new sE({onCountryChange:function(l){a.country=l},onCallingCodeChange:function(l,c){a.metadata.selectNumberingPlan(c,l),a.formatter.reset(a.metadata.numberingPlan,a.state),a.parser.reset(a.metadata.numberingPlan)}}),this.formatter=new zE({state:this.state,metadata:this.metadata}),this.parser=new rT({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){a.determineTheCountryIfNeeded(),a.formatter.reset(a.metadata.numberingPlan,a.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var a=this.state.digits;if(a)return this._getCountry()}},{key:"_getCountry",value:function(){var a=this.state.country;return a}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(a){var s=this;if(this.isInternational()){var l=function(f){return s.formatter.getInternationalPrefixBeforeCountryCallingCode(s.state,{spacing:!!f})+f},c=this.state.callingCode;return l(c?a?"".concat(c," ").concat(a):c:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return a}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var a=this.state,s=a.nationalSignificantNumber,l=a.complexPrefixBeforeNationalSignificantNumber,c=a.nationalPrefix,u=s,f=l||c;return f&&(u=f+u),u}},{key:"getNonFormattedNumber",value:function(){var a=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(a?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var a=this.getNonFormattedNumber();if(a)return a.replace(/[\+\d]/g,nn)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var a=this.state.callingCode,s=this.metadata.getCountryCodesForCallingCode(a);return s&&s.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Fw(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var a=this.state,s=a.digits,l=a.callingCode,c=a.country,u=a.nationalSignificantNumber;if(s){if(this.isInternational())return l?"+"+l+u:"+"+s;if(c||l){var f=c?this.metadata.countryCallingCode():l;return"+"+f+u}}}},{key:"getNumber",value:function(){var a=this.state,s=a.nationalSignificantNumber,l=a.carrierCode,c=a.callingCode,u=this._getCountry();if(s&&!(!u&&!c)){if(u&&u===this.defaultCountry){var f=new Ua(this.metadata.metadata);f.selectNumberingPlan(u);var h=f.numberingPlan.callingCode(),m=this.metadata.getCountryCodesForCallingCode(h);if(m.length>1){var y=Uw(s,{countries:m,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});y&&(u=y)}}var w=new Dw(u||c,s,this.metadata.metadata);return l&&(w.carrierCode=l),w}}},{key:"isPossible",value:function(){var a=this.getNumber();return a?a.isPossible():!1}},{key:"isValid",value:function(){var a=this.getNumber();return a?a.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function d2(e){return new Ua(e).getCountries()}function pT(e,t,a){return a||(a=t,t=void 0),new pl(t,a).input(e)}function Hw(e){var t=e.inputFormat,a=e.country,s=e.metadata;return t==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Js(a,s)):""}function Eg(e,t){return t&&(e=e.slice(t.length),e[0]===" "&&(e=e.slice(1))),e}function xT(e,t,a){if(!(a&&a.ignoreRest)){var s=function(c){if(a)switch(c){case"end":a.ignoreRest=!0;break}};return Iw(e,t,s)}}function qw(e){var t=e.onKeyDown,a=e.inputFormat;return x.useCallback(function(s){if(s.keyCode===vT&&a==="INTERNATIONAL"&&s.target instanceof HTMLInputElement&&bT(s.target)===wT.length){s.preventDefault();return}t&&t(s)},[t,a])}function bT(e){return e.selectionStart}var vT=8,wT="+",NT=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Tg.apply(this,arguments)}function jT(e,t){if(e==null)return{};var a=kT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function kT(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function ST(e){function t(a,s){var l=a.onKeyDown,c=a.country,u=a.inputFormat,f=a.metadata,h=f===void 0?e:f;a.international,a.withCountryCallingCode;var m=jT(a,NT),y=x.useCallback(function(b){var v=new pl(c,h),k=Hw({inputFormat:u,country:c,metadata:h}),N=v.input(k+b),$=v.getTemplate();return k&&(N=Eg(N,k),$&&($=Eg($,k))),{text:N,template:$}},[c,h]),w=qw({onKeyDown:l,inputFormat:u});return We.createElement(l0,Tg({},m,{ref:s,parse:xT,format:y,onKeyDown:w}))}return t=We.forwardRef(t),t.propTypes={value:ze.string.isRequired,onChange:ze.func.isRequired,onKeyDown:ze.func,country:ze.string,inputFormat:ze.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ze.object},t}const $T=ST();var CT=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ag.apply(this,arguments)}function _T(e,t){if(e==null)return{};var a=ET(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ET(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function TT(e){function t(a,s){var l=a.value,c=a.onChange,u=a.onKeyDown,f=a.country,h=a.inputFormat,m=a.metadata,y=m===void 0?e:m,w=a.inputComponent,b=w===void 0?"input":w;a.international,a.withCountryCallingCode;var v=_T(a,CT),k=Hw({inputFormat:h,country:f,metadata:y}),N=x.useCallback(function(C){var L=kg(C.target.value);if(L===l){var M=u2(k,L,f,y);M.indexOf(C.target.value)===0&&(L=L.slice(0,-1))}c(L)},[k,l,c,f,y]),$=qw({onKeyDown:u,inputFormat:h});return We.createElement(b,Ag({},v,{ref:s,value:u2(k,l,f,y),onChange:N,onKeyDown:$}))}return t=We.forwardRef(t),t.propTypes={value:ze.string.isRequired,onChange:ze.func.isRequired,onKeyDown:ze.func,country:ze.string,inputFormat:ze.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:ze.object,inputComponent:ze.elementType},t}const AT=TT();function u2(e,t,a,s){return Eg(pT(e+t,a,s),e)}function OT(e){return f2(e[0])+f2(e[1])}function f2(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var RT=["value","onChange","options","disabled","readOnly"],PT=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function MT(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=DT(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DT(e,t){if(e){if(typeof e=="string")return h2(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},u0.apply(this,arguments)}function Gw(e,t){if(e==null)return{};var a=LT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function LT(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function Vw(e){var t=e.value,a=e.onChange,s=e.options,l=e.disabled,c=e.readOnly,u=Gw(e,RT),f=x.useCallback(function(h){var m=h.target.value;a(m==="ZZ"?void 0:m)},[a]);return x.useMemo(function(){return Yw(s,t)},[s,t]),We.createElement("select",u0({},u,{disabled:l||c,readOnly:c,value:t||"ZZ",onChange:f}),s.map(function(h){var m=h.value,y=h.label,w=h.divider;return We.createElement("option",{key:w?"|":m||"ZZ",value:w?"|":m||"ZZ",disabled:!!w,style:w?IT:void 0},y)}))}Vw.propTypes={value:ze.string,onChange:ze.func.isRequired,options:ze.arrayOf(ze.shape({value:ze.string,label:ze.string,divider:ze.bool})).isRequired,disabled:ze.bool,readOnly:ze.bool};var IT={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function Kw(e){var t=e.value,a=e.options,s=e.className,l=e.iconComponent;e.getIconAspectRatio;var c=e.arrowComponent,u=c===void 0?UT:c,f=e.unicodeFlags,h=Gw(e,PT),m=x.useMemo(function(){return Yw(a,t)},[a,t]);return We.createElement("div",{className:"PhoneInputCountry"},We.createElement(Vw,u0({},h,{value:t,options:a,className:o0("PhoneInputCountrySelect",s)})),m&&(f&&t?We.createElement("div",{className:"PhoneInputCountryIconUnicode"},OT(t)):We.createElement(l,{"aria-hidden":!0,country:t,label:m.label,aspectRatio:f?1:void 0})),We.createElement(u,null))}Kw.propTypes={iconComponent:ze.elementType,arrowComponent:ze.elementType,unicodeFlags:ze.bool};function UT(){return We.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function Yw(e,t){for(var a=MT(e),s;!(s=a()).done;){var l=s.value;if(!l.divider&&FT(l.value,t))return l}}function FT(e,t){return e==null?t==null:e===t}var BT=["country","countryName","flags","flagUrl"];function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Og.apply(this,arguments)}function zT(e,t){if(e==null)return{};var a=HT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function HT(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function by(e){var t=e.country,a=e.countryName,s=e.flags,l=e.flagUrl,c=zT(e,BT);return s&&s[t]?s[t]({title:a}):We.createElement("img",Og({},c,{alt:a,role:a?void 0:"presentation",src:l.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}by.propTypes={country:ze.string.isRequired,countryName:ze.string.isRequired,flags:ze.objectOf(ze.elementType),flagUrl:ze.string.isRequired};var qT=["aspectRatio"],GT=["title"],VT=["title"];function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},f0.apply(this,arguments)}function vy(e,t){if(e==null)return{};var a=KT(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function KT(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function B0(e){var t=e.aspectRatio,a=vy(e,qT);return t===1?We.createElement(Xw,a):We.createElement(Qw,a)}B0.propTypes={title:ze.string.isRequired,aspectRatio:ze.number};function Qw(e){var t=e.title,a=vy(e,GT);return We.createElement("svg",f0({},a,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),We.createElement("title",null,t),We.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},We.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),We.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),We.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),We.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),We.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),We.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),We.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}Qw.propTypes={title:ze.string.isRequired};function Xw(e){var t=e.title,a=vy(e,VT);return We.createElement("svg",f0({},a,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),We.createElement("title",null,t),We.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},We.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),We.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),We.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),We.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),We.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),We.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),We.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}Xw.propTypes={title:ze.string.isRequired};function YT(e){if(e.length<2||e[0]!=="+")return!1;for(var t=1;t<e.length;){var a=e.charCodeAt(t);if(!(a>=48&&a<=57))return!1;t++}return!0}function Ww(e){YT(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function QT(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=XT(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XT(e,t){if(e){if(typeof e=="string")return m2(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m2(e,t)}}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function WT(e,t){if(!t)return e;for(var a=[],s=[],l=a,c=function(){var m=f.value;if(m==="|")l.push({divider:!0});else if(m==="..."||m==="…")l=s;else{var y;m==="🌐"?y=void 0:y=m;var w=e.indexOf(e.filter(function(v){return v.value===y})[0]),b=e[w];e.splice(w,1),l.push(b)}},u=QT(t),f;!(f=u()).done;)c();return a.concat(e).concat(s)}function ZT(e,t){if(e&&(e=e.filter(function(a){switch(a){case"🌐":case"|":case"...":case"…":return!0;default:return z0(a,t)}}),e.length>0))return e}function z0(e,t){return $w(e,t)?!0:(console.error("Country not found: ".concat(e)),!1)}function Zw(e,t){return e&&(e=e.filter(function(a){return z0(a,t)}),e.length===0&&(e=void 0)),e}var JT=["country","label","aspectRatio"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Rg.apply(this,arguments)}function eA(e,t){if(e==null)return{};var a=tA(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function tA(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function Jw(e){var t=e.flags,a=e.flagUrl,s=e.flagComponent,l=e.internationalIcon;function c(u){var f=u.country,h=u.label,m=u.aspectRatio,y=eA(u,JT),w=l===B0?m:void 0;return We.createElement("div",Rg({},y,{className:o0("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":w===1,"PhoneInputCountryIcon--border":f})}),f?We.createElement(s,{country:f,countryName:h,flags:t,flagUrl:a,className:"PhoneInputCountryIconImg"}):We.createElement(l,{title:h,aspectRatio:w,className:"PhoneInputCountryIconImg"}))}return c.propTypes={country:ze.string,label:ze.string.isRequired,aspectRatio:ze.number},c}Jw({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:by,internationalIcon:B0});function aA(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=rA(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rA(e,t){if(e){if(typeof e=="string")return g2(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g2(e,t)}}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function nA(e,t){for(var a=aA(e),s;!(s=a()).done;){var l=s.value;l&&sA(l,t)}}function sA(e,t){typeof e=="function"?e(t):e.current=t}var e4=ze.shape({country_calling_codes:ze.object.isRequired,countries:ze.object.isRequired}),t4=ze.objectOf(ze.string);function Zn(e,t){var a="+"+Js(e,t);return a}function iA(e){var t=e.value,a=e.phoneNumber,s=e.defaultCountry,l=e.getAnyCountry,c=e.countries,u=e.required,f=e.metadata,h;return a&&a.country?h=a.country:s&&(!t||Ko(t,s,f))&&(h=s),c&&c.indexOf(h)<0&&(h=void 0),!h&&u&&c&&c.length>0&&(h=l()),h}function oA(e){var t=e.countries,a=e.countryNames,s=e.addInternationalOption,l=e.compareStringsLocales,c=e.compareStrings;c||(c=mA);var u=t.map(function(f){return{value:f,label:a[f]||f}});return u.sort(function(f,h){return c(f.label,h.label,l)}),s&&u.unshift({label:a.ZZ}),u}function a4(e,t){return J7(e||"",t)}function lA(e){return e.formatNational().replace(/\D/g,"")}function cA(e,t){var a=t.prevCountry,s=t.newCountry,l=t.metadata,c=t.useNationalFormat;if(a===s)return e;if(!e)return c?"":s?Zn(s,l):"";if(s){if(e[0]==="+"){if(c)return e.indexOf("+"+Js(s,l))===0?gA(e,s,l):"";if(a){var u=Zn(s,l);return e.indexOf(u)===0?e:u}else{var f=Zn(s,l);return e.indexOf(f)===0?e:f}}}else if(e[0]!=="+")return Ho(e,a,l)||"";return e}function Ho(e,t,a){if(e){if(e[0]==="+"){if(e==="+")return;var s=new pl(t,a);return s.input(e),s.getNumberValue()}if(t){var l=n4(e,t,a);return"+".concat(Js(t,a)).concat(l||"")}}}function dA(e,t,a){var s=n4(e,t,a);if(s){var l=s.length-uA(t,a);if(l>0)return e.slice(0,e.length-l)}return e}function uA(e,t){return t=new Ua(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function r4(e,t){var a=t.country,s=t.countries,l=t.defaultCountry,c=t.latestCountrySelectedByUser,u=t.required,f=t.metadata;if(e==="+")return a;var h=hA(e,f);if(h)return!s||s.indexOf(h)>=0?h:void 0;if(a){if(Ko(e,a,f)){if(c&&Ko(e,c,f))return c;if(l&&Ko(e,l,f))return l;if(!u)return}else if(!u)return}return a}function fA(e,t){var a=t.prevPhoneDigits,s=t.country,l=t.defaultCountry,c=t.latestCountrySelectedByUser,u=t.countryRequired,f=t.getAnyCountry,h=t.countries,m=t.international,y=t.limitMaxLength,w=t.countryCallingCodeEditable,b=t.metadata;if(m&&w===!1&&s){var v=Zn(s,b);if(e.indexOf(v)!==0){var k,N=e&&e[0]!=="+";return N?(e=v+e,k=Ho(e,s,b)):e=v,{phoneDigits:e,value:k,country:s}}}m===!1&&s&&e&&e[0]==="+"&&(e=y2(e,s,b)),e&&s&&y&&(e=dA(e,s,b)),e&&e[0]!=="+"&&(!s||m)&&(e="+"+e),!e&&a&&a[0]==="+"&&(m?s=void 0:s=l),e==="+"&&a&&a[0]==="+"&&a.length>1&&(s=void 0);var $;return e&&(e[0]==="+"&&(e==="+"||s&&Zn(s,b).indexOf(e)===0)?$=void 0:$=Ho(e,s,b)),$&&(s=r4($,{country:s,countries:h,defaultCountry:l,latestCountrySelectedByUser:c,required:!1,metadata:b}),m===!1&&s&&e&&e[0]==="+"&&(e=y2(e,s,b),$=Ho(e,s,b))),!s&&u&&(s=l||f()),{phoneDigits:e,country:s,value:$}}function y2(e,t,a){if(e.indexOf(Zn(t,a))===0){var s=new pl(t,a);s.input(e);var l=s.getNumber();return l?l.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function hA(e,t){var a=new pl(null,t);return a.input(e),a.getCountry()}function mA(e,t,a){return String.prototype.localeCompare?e.localeCompare(t,a):e<t?-1:e>t?1:0}function gA(e,t,a){if(t){var s="+"+Js(t,a);if(e.length<s.length){if(s.indexOf(e)===0)return""}else if(e.indexOf(s)===0)return e.slice(s.length)}for(var l=0,c=Object.keys(a.country_calling_codes);l<c.length;l++){var u=c[l];if(e.indexOf(u)===1)return e.slice(1+u.length)}return""}function n4(e,t,a){var s=new pl(t,a);s.input(e);var l=s.getNumber();return l&&l.nationalNumber}function Ko(e,t,a){for(var s=Zn(t,a),l=0;l<e.length&&l<s.length;){if(e[l]!==s[l])return!1;l++}return!0}function s4(e){var t=e.value,a=e.phoneNumber,s=e.defaultCountry,l=e.international,c=e.useNationalFormat,u=e.metadata;return(l===!1||c)&&a&&a.country?lA(a):!t&&l&&s?Zn(s,u):t}function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function p2(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function Tu(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(a),!0).forEach(function(s){yA(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p2(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function yA(e,t,a){return t=pA(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pA(e){var t=xA(e,"string");return Jc(t)=="symbol"?t:t+""}function xA(e,t){if(Jc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(Jc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bA(e,t,a){var s=e.metadata,l=e.countries,c=e.defaultCountry,u=e.value,f=e.reset,h=e.international,m=e.displayInitialValueAsLocalNumber,y=e.initialValueFormat,w=t.defaultCountry,b=t.value,v=t.reset;a.country;var k=a.value,N=a.hasUserSelectedACountry,$=a.latestCountrySelectedByUser,C=function(V){return s4(Tu(Tu({},V),{},{international:h,useNationalFormat:m||y==="national",metadata:s}))};if(f!==v)return{phoneDigits:C({value:void 0,defaultCountry:c}),value:void 0,country:c,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(c!==w){var L=!c||z0(c,s),M=!k||h&&k===C({value:void 0,defaultCountry:w}),B=!u&&M;if(!N&&L&&B)return{country:c,phoneDigits:C({value:void 0,defaultCountry:c}),value:void 0}}if(!x2(u,b)&&!x2(u,k)){var O,R;if(u){u&&Ww(u),O=a4(u,s);var ae=Zw(l,s);O&&O.country?(!ae||ae.indexOf(O.country)>=0)&&(R=O.country):(R=r4(u,{country:void 0,countries:ae,metadata:s}),R||c&&u.indexOf(Zn(c,s))===0&&(R=c))}var q;if(u){if($){var G=R?$===R:Ko(u,$,s);G?R||(R=$):q={latestCountrySelectedByUser:void 0}}}else q={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return Tu(Tu({},q),{},{phoneDigits:C({phoneNumber:O,value:u,defaultCountry:c}),value:u,country:u?R:c})}}function x2(e,t){return e===null&&(e=void 0),t===null&&(t=void 0),e===t}var vA=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function b2(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function i4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(a),!0).forEach(function(s){rn(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b2(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Yo.apply(this,arguments)}function wA(e,t){if(e==null)return{};var a=NA(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function NA(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function jA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v2(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,l4(s.key),s)}}function kA(e,t,a){return t&&v2(e.prototype,t),a&&v2(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function SA(e,t,a){return t=h0(t),$A(e,o4()?Reflect.construct(t,a||[],h0(e).constructor):t.apply(e,a))}function $A(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CA(e)}function CA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o4=function(){return!!e})()}function h0(e){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},h0(e)}function _A(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},Pg(e,t)}function rn(e,t,a){return t=l4(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l4(e){var t=EA(e,"string");return fl(t)=="symbol"?t:t+""}function EA(e,t){if(fl(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var s=a.call(e,t);if(fl(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TA=function(e){function t(a){var s;jA(this,t),s=SA(this,t,[a]),rn(s,"setInputRef",function($){nA([s.props.inputRef,s.inputRef],$)}),rn(s,"isCountrySupportedWithError",function($){var C=s.props.metadata;return z0($,C)}),rn(s,"onCountryChange",function($){var C=s.props,L=C.international,M=C.metadata,B=C.onChange,O=C.focusInputOnCountrySelection,R=s.state,ae=R.phoneDigits,q=R.country,G=cA(ae,{prevCountry:q,newCountry:$,metadata:M,useNationalFormat:!L}),H=Ho(G,$,M);O&&s.inputRef.current.focus(),s.setState({country:$,latestCountrySelectedByUser:$,hasUserSelectedACountry:!0,phoneDigits:G,value:H},function(){B(H)})}),rn(s,"onChange",function($){var C=s.props,L=C.defaultCountry,M=C.onChange,B=C.addInternationalOption,O=C.international,R=C.limitMaxLength,ae=C.countryCallingCodeEditable,q=C.metadata,G=s.state,H=G.countries,V=G.phoneDigits,Z=G.country,J=G.latestCountrySelectedByUser,Ne=fA($,{prevPhoneDigits:V,country:Z,countryRequired:!B,defaultCountry:L,latestCountrySelectedByUser:J,getAnyCountry:function(){return s.getFirstSupportedCountry({countries:H})},countries:H,international:O,limitMaxLength:R,countryCallingCodeEditable:ae,metadata:q}),je=Ne.phoneDigits,X=Ne.country,re=Ne.value,ne={phoneDigits:je,value:re,country:X};J&&re&&!Ko(re,J,q)&&(ne.latestCountrySelectedByUser=void 0),ae===!1&&!re&&je===s.state.phoneDigits&&(ne.forceRerender={}),s.setState(ne,function(){return M(re)})}),rn(s,"_onFocus",function(){return s.setState({isFocused:!0})}),rn(s,"_onBlur",function(){return s.setState({isFocused:!1})}),rn(s,"onFocus",function($){s._onFocus();var C=s.props.onFocus;C&&C($)}),rn(s,"onBlur",function($){var C=s.props.onBlur;s._onBlur(),C&&C($)}),rn(s,"onCountryFocus",function($){s._onFocus();var C=s.props.countrySelectProps;if(C){var L=C.onFocus;L&&L($)}}),rn(s,"onCountryBlur",function($){s._onBlur();var C=s.props.countrySelectProps;if(C){var L=C.onBlur;L&&L($)}}),s.inputRef=We.createRef();var l=s.props,c=l.value;l.labels;var u=l.international,f=l.addInternationalOption,h=l.displayInitialValueAsLocalNumber,m=l.initialValueFormat,y=l.metadata,w=s.props,b=w.defaultCountry,v=w.countries;b&&(s.isCountrySupportedWithError(b)||(b=void 0)),c&&Ww(c),v=Zw(v,y);var k=a4(c,y);s.CountryIcon=Jw(s.props);var N=iA({value:c,phoneNumber:k,defaultCountry:b,required:!f,countries:v||d2(y),getAnyCountry:function(){return s.getFirstSupportedCountry({countries:v})},metadata:y});return s.state={props:s.props,country:N,countries:v,phoneDigits:s4({value:c,phoneNumber:k,defaultCountry:b,international:u,useNationalFormat:h||m==="national",metadata:y}),value:c},s}return _A(t,e),kA(t,[{key:"componentDidMount",value:function(){var s=this.props.onCountryChange,l=this.props.defaultCountry,c=this.state.country;s&&(l&&(this.isCountrySupportedWithError(l)||(l=void 0)),c!==l&&s(c))}},{key:"componentDidUpdate",value:function(s,l){var c=this.props.onCountryChange,u=this.state.country;c&&u!==l.country&&c(u)}},{key:"getCountrySelectOptions",value:function(s){var l=s.countries,c=this.props,u=c.international,f=c.countryCallingCodeEditable,h=c.countryOptionsOrder,m=c.addInternationalOption,y=c.labels,w=c.locales,b=c.metadata;return this.useMemoCountrySelectOptions(function(){return WT(oA({countries:l||d2(b),countryNames:y,addInternationalOption:u&&f===!1?!1:m,compareStringsLocales:w}),ZT(h,b))},[l,h,m,y,b])}},{key:"useMemoCountrySelectOptions",value:function(s,l){return(!this.countrySelectOptionsMemoDependencies||!OA(l,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=s(),this.countrySelectOptionsMemoDependencies=l),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(s){var l=s.countries,c=this.getCountrySelectOptions({countries:l});return c[0].value}},{key:"render",value:function(){var s=this.props,l=s.name,c=s.disabled,u=s.readOnly,f=s.autoComplete,h=s.style,m=s.className;s.inputRef;var y=s.inputComponent,w=s.numberInputProps,b=s.smartCaret,v=s.countrySelectComponent,k=s.countrySelectProps,N=s.containerComponent,$=s.containerComponentProps;s.defaultCountry,s.countries,s.countryOptionsOrder;var C=s.labels;s.flags,s.flagComponent,s.flagUrl,s.addInternationalOption,s.internationalIcon,s.displayInitialValueAsLocalNumber,s.initialValueFormat,s.onCountryChange,s.limitMaxLength,s.countryCallingCodeEditable,s.focusInputOnCountrySelection,s.reset;var L=s.metadata,M=s.international;s.locales;var B=wA(s,vA),O=this.state,R=O.country,ae=O.countries,q=O.phoneDigits,G=O.isFocused,H=b?$T:AT,V=this.getCountrySelectOptions({countries:ae});return We.createElement(N,Yo({style:h,className:o0(m,"PhoneInput",{"PhoneInput--focus":G,"PhoneInput--disabled":c,"PhoneInput--readOnly":u})},$),We.createElement(v,Yo({name:l?"".concat(l,"Country"):void 0,"aria-label":C.country},k,{value:R,options:V,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:c||k&&k.disabled,readOnly:u||k&&k.readOnly,iconComponent:this.CountryIcon})),We.createElement(H,Yo({ref:this.setInputRef,type:"tel",autoComplete:f},w,B,{inputFormat:M===!0?"INTERNATIONAL":M===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:M?!0:void 0,withCountryCallingCode:M?!0:void 0,name:l,metadata:L,country:R,value:q||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:c,readOnly:u,inputComponent:y,className:o0("PhoneInputInput",w&&w.className,B.className)})))}}],[{key:"getDerivedStateFromProps",value:function(s,l){return i4({props:s},bA(s,l.props,l))}}])}(We.PureComponent),c4=We.forwardRef(function(e,t){return We.createElement(TA,Yo({},AA(e),{inputRef:t}))});c4.propTypes={value:ze.string,onChange:ze.func.isRequired,onFocus:ze.func,onBlur:ze.func,disabled:ze.bool,readOnly:ze.bool,autoComplete:ze.string,initialValueFormat:ze.oneOf(["national"]),displayInitialValueAsLocalNumber:ze.bool,defaultCountry:ze.string,countries:ze.arrayOf(ze.string),labels:t4,locales:ze.oneOfType([ze.string,ze.arrayOf(ze.string)]),flagUrl:ze.string,flags:ze.objectOf(ze.elementType),flagComponent:ze.elementType,addInternationalOption:ze.bool,internationalIcon:ze.elementType,countryOptionsOrder:ze.arrayOf(ze.string),style:ze.object,className:ze.string,countrySelectComponent:ze.elementType,countrySelectProps:ze.object,inputComponent:ze.elementType,numberInputProps:ze.object,containerComponent:ze.elementType,containerComponentProps:ze.object,smartCaret:ze.bool,international:ze.bool,limitMaxLength:ze.bool,countryCallingCodeEditable:ze.bool,metadata:e4,onCountryChange:ze.func,focusInputOnCountrySelection:ze.bool};var w2={autoComplete:"tel",countrySelectComponent:Kw,flagComponent:by,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:B0,inputComponent:"input",containerComponent:"div",reset:ze.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function AA(e){e=i4({},e);for(var t in w2)e[t]===void 0&&(e[t]=w2[t]);return e}function OA(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;){if(e[a]!==t[a])return!1;a++}return!0}const RA={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var PA=["metadata","labels"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Mg.apply(this,arguments)}function MA(e,t){if(e==null)return{};var a=DA(e,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function DA(e,t){if(e==null)return{};var a={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(a[l]=e[l]);return a}function d4(e){var t=We.forwardRef(function(a,s){var l=a.metadata,c=l===void 0?e:l,u=a.labels,f=u===void 0?RA:u,h=MA(a,PA);return We.createElement(c4,Mg({},h,{ref:s,metadata:c,labels:f}))});return t.propTypes={metadata:e4,labels:t4},t}d4();const N2=d4(g8),LA=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"Åland Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaçao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Côte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Réunion"},{"value":"BL","label":"Saint Barthélemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),IA=JSON.parse(`[{"value":"AF","label":"افغانستان"},{"value":"AX","label":"Åland"},{"value":"AL","label":"Shqipëria"},{"value":"DZ","label":"الجزائر"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Հայաստան"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Österreich"},{"value":"AZ","label":"Azərbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"‏البحرين"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Белару́сь"},{"value":"BE","label":"België"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bénin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"ʼbrug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetøya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":"България"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kâmpŭchéa"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Ködörösêse tî Bêafrîka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"中国"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"République du Congo"},{"value":"CD","label":"République démocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Côte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaçao"},{"value":"CY","label":"Κύπρος"},{"value":"CZ","label":"Česká republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"República Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"مصر‎"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":"ኤርትራ"},{"value":"EE","label":"Eesti"},{"value":"ET","label":"ኢትዮጵያ"},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Føroyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane française"},{"value":"PF","label":"Polynésie française"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"საქართველო"},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Ελλάδα"},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinée"},{"value":"GW","label":"Guiné-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haïti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"香港"},{"value":"HU","label":"Magyarország"},{"value":"IS","label":"Ísland"},{"value":"IN","label":"भारत"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"ایران"},{"value":"IQ","label":"العراق"},{"value":"IE","label":"Éire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"יִשְׂרָאֵל"},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"日本"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"الأردن"},{"value":"KZ","label":"Қазақстан"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"북한"},{"value":"KR","label":"대한민국"},{"value":"KW","label":"الكويت"},{"value":"KG","label":"Кыргызстан"},{"value":"LA","label":"ສປປລາວ"},{"value":"LV","label":"Latvija"},{"value":"LB","label":"لبنان"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"‏ليبيا"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"澳門"},{"value":"MK","label":"Северна Македонија"},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"M̧ajeļ"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"موريتانيا"},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"México"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Монгол улс"},{"value":"ME","label":"Црна Гора"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"المغرب"},{"value":"MZ","label":"Moçambique"},{"value":"MM","label":"မြန်မာ"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"नपल"},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Calédonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niuē"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":"عمان"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"فلسطين"},{"value":"PA","label":"Panamá"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Perú"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"قطر"},{"value":"RE","label":"La Réunion"},{"value":"RO","label":"România"},{"value":"RU","label":"Россия"},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthélemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"São Tomé e Príncipe"},{"value":"SA","label":"العربية السعودية"},{"value":"SN","label":"Sénégal"},{"value":"RS","label":"Србија"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"España"},{"value":"LK","label":"śrī laṃkāva"},{"value":"SD","label":"السودان"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":"سوريا"},{"value":"TW","label":"臺灣"},{"value":"TJ","label":"Тоҷикистон"},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":"ประเทศไทย"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"تونس"},{"value":"TR","label":"Türkiye"},{"value":"TM","label":"Türkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Україна"},{"value":"AE","label":"دولة الإمارات العربية المتحدة"},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"O‘zbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Việt Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":"الصحراء الغربية"},{"value":"YE","label":"اليَمَن"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var Tm,j2;function UA(){if(j2)return Tm;j2=1;class e{constructor(){this.data=LA,this.labelMap={},this.valueMap={},this.data.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label})}getValue(s){return this.labelMap[s.toLowerCase()]}getLabel(s){return this.valueMap[s.toLowerCase()]}getLabels(){return this.data.map(s=>s.label)}getValues(){return this.data.map(s=>s.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(s,l){return this.data.forEach(c=>{c.value===s&&(c.label=l,this.valueMap[c.value.toLowerCase()]=c.label)}),this}setEmpty(s){return this.data.unshift({value:"",label:s}),this.valueMap[""]=s,this.labelMap[s]="",this}native(){return this.nativeData=IA,this.nativeData.forEach(s=>{this.labelMap[s.label.toLowerCase()]=s.value,this.valueMap[s.value.toLowerCase()]=s.label}),this}}return Tm=()=>{if(!(this instanceof e))return new e},Tm}var FA=UA();const BA=ml(FA);function hl({customer:e,onClose:t,onSave:a,isFullPage:s=!1,prefilledName:l="",prefilledData:c={}}){const{createCustomer:u,updateCustomer:f}=v1(),h=!!e,[m,y]=x.useState(!1),[w,b]=x.useState(null),{posDetails:v}=er(),k=BA().getData(),[N,$]=x.useState({customer_type:"individual",name:"",contactName:"",email:"",phone:"",address:{addressType:"Billing",street:"",buildingNumber:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},status:"active",vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",customer_group:"All Customer Groups",territory:"All Territories"});x.useEffect(()=>{if(v&&!h){let P="individual";v.business_type==="B2B"?P="company":(v.business_type==="B2C"||v.business_type==="B2B & B2C")&&(P="individual"),$(K=>de(U({},K),{customer_type:P}))}},[v,h]);const[C,L]=x.useState({}),[M,B]=x.useState([]),[O,R]=x.useState(!0),[ae,q]=x.useState([]),[G,H]=x.useState(!0),{getCustomerGroups:V,getTerritories:Z}=v1(),J=x.useRef(!1);x.useEffect(()=>{oe(null,null,function*(){try{const K=yield V();B(K),R(!1);const ke=yield Z();q(ke),H(!1)}catch(K){console.error("Error fetching customer groups or territories:",K),R(!1),H(!1)}})},[V,Z]),x.useEffect(()=>{var P,K,ke,Ie,Ye,De,gt;if(e&&!J.current){const lt={customer_type:e.type||"individual",name:e.name,contactName:e.contactPerson||"",email:e.email,phone:e.phone,address:{addressType:((P=e.address)==null?void 0:P.addressType)||"Billing",street:((K=e.address)==null?void 0:K.street)||"",buildingNumber:((ke=e.address)==null?void 0:ke.buildingNumber)||"",city:((Ie=e.address)==null?void 0:Ie.city)||"",state:((Ye=e.address)==null?void 0:Ye.state)||"",zipCode:((De=e.address)==null?void 0:De.zipCode)||"",country:((gt=e.address)==null?void 0:gt.country)||"Saudi Arabia"},status:e.status,vatNumber:e.taxId||"",registrationScheme:e.registrationScheme||"",registrationNumber:e.registrationNumber||"",preferredPaymentMethod:e.preferredPaymentMethod||"Cash",customer_group:e.customer_group||"All Customer Groups",territory:e.territory||"All Territories"};$(lt),J.current=!0}else c&&Object.keys(c).length>0&&!J.current?($(lt=>de(U({},lt),{name:c.name||lt.name,email:c.email||lt.email,phone:c.phone||lt.phone})),J.current=!0):l&&!J.current&&($(lt=>de(U({},lt),{name:l})),J.current=!0)},[e==null?void 0:e.id,e==null?void 0:e.name,l,c,e]),x.useEffect(()=>{J.current=!1},[e==null?void 0:e.id]);const Ne=(v==null?void 0:v.business_type)==="B2B",je=(v==null?void 0:v.business_type)==="B2C",X=(v==null?void 0:v.business_type)==="B2B & B2C",re=()=>Ne?[{value:"company",label:"Company",icon:_c,desc:"Business customer"}]:je?[{value:"individual",label:"Individual",icon:zr,desc:"Personal customer"}]:X?[{value:"individual",label:"Individual",icon:zr,desc:"Personal customer"},{value:"company",label:"Company",icon:_c,desc:"Business customer"}]:[{value:"individual",label:"Individual",icon:zr,desc:"Personal customer"},{value:"company",label:"Company",icon:_c,desc:"Business customer"}],ne=()=>{const P={},K=ke=>ke.trim()?ke.replace(/\D/g,"").length>=10:!1;if(N.customer_type==="company"?(N.name.trim()||(P.name="Customer name is required"),N.contactName.trim()||(P.contactName="Contact name is required"),!N.email.trim()&&!N.phone.trim()&&(P.contact="Either email or phone number must be provided"),N.phone.trim()&&!K(N.phone)&&(P.phone="Phone number must have at least 10 digits including country code")):N.customer_type==="individual"&&(!N.email.trim()&&!N.phone.trim()?P.contact="Either email or phone number must be provided":N.phone.trim()&&!K(N.phone)&&(P.phone="Phone number must have at least 10 digits including country code")),N.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)&&(P.email="Please enter a valid email address"),N.customer_type==="company"&&(v!=null&&v.is_zatca_enabled)&&(!N.vatNumber.trim()&&!N.registrationNumber.trim()&&(P.vatOrRegistration="Either VAT number or Registration number must be provided"),N.registrationScheme&&N.registrationScheme!==""&&!N.registrationNumber.trim()&&(P.registrationNumber="Registration number is required when registration scheme is selected"),N.vatNumber.trim()&&(/^[3]\d{13}[3]$/.test(N.vatNumber.trim())||(P.vatNumber="VAT number must be 15 digits, start with 3 and end with 3 (ZATCA format)"))),N.customer_type==="company"&&v&&v.is_zatca_enabled===!0&&(N.address.street.trim()||(P.street="Street address is required for company"),N.address.buildingNumber.trim()?N.address.buildingNumber.trim().length!==4&&(P.buildingNumber="Building number must be exactly 4 digits"):P.buildingNumber="Building number is required for company",N.address.city.trim()||(P.city="City is required for company"),N.address.state.trim()||(P.state="State/Province is required for company"),N.address.zipCode.trim()||(P.zipCode="Zip code is required for company")),L(P),Object.keys(P).length>0){const ke=Object.keys(P)[0];return ke&&Me.error(P[ke]),!1}return!0},Ae=P=>oe(null,null,function*(){if(P.preventDefault(),b(null),!!ne()){y(!0);try{const K=U({name:N.name,customer_type:N.customer_type==="individual"?"Individual":"Company",email:N.email,phone:N.phone,address:N.address,preferredPaymentMethod:N.preferredPaymentMethod,customer_group:N.customer_group,territory:N.territory},N.customer_type==="company"&&{contactName:N.contactName,vatNumber:N.vatNumber||void 0,registrationScheme:N.registrationScheme||void 0,registrationNumber:N.registrationNumber||void 0});if(h&&(e!=null&&e.id)){const ke=yield f(e.id,K);a(de(U({},ke),{id:e.id}))}else{const ke=yield u(K);a(de(U({},ke),{id:ke.customer_name,name:N.name,type:N.customer_type,email:N.email,phone:N.phone,address:N.address,preferredPaymentMethod:N.preferredPaymentMethod,customer_group:N.customer_group,territory:N.territory}))}t()}catch(K){console.error("Customer save error:",K),b(K instanceof Error?K.message:"Failed to save customer. Please try again.")}finally{y(!1)}}}),z=[{value:"Commercial Registration number(CRN)",label:"Commercial Registration number(CRN)"},{value:"MOMRAH(MOM)",label:"MOMRAH(MOM)"},{value:"MHRSD(MLS)",label:"MHRSD(MLS)"},{value:"700(700)",label:"700(700)"},{value:"MISA(SAG)",label:"MISA(SAG)"},{value:"Other OD(OTH)",label:"Other OD(OTH)"}],me=[{value:"Cash",label:"Cash"},{value:"Bank Card",label:"Bank Card"},{value:"Bank Payment",label:"Bank Payment"},{value:"Credit",label:"Credit"}],T=[{value:"Billing",label:"Billing"},{value:"Shipping",label:"Shipping"},{value:"Office",label:"Office"},{value:"Personal",label:"Personal"},{value:"Plant",label:"Plant"},{value:"Postal",label:"Postal"},{value:"Shop",label:"Shop"},{value:"Subsidiary",label:"Subsidiary"},{value:"Warehouse",label:"Warehouse"},{value:"Current",label:"Current"},{value:"Permanent",label:"Permanent"},{value:"Other",label:"Other"}],ee=re(),ue=()=>{const P=K=>K.trim()?K.replace(/\D/g,"").length>=10:!1;if(N.customer_type==="individual"){const K=N.email.trim()!=="",ke=P(N.phone);return K||ke}else if(N.customer_type==="company"){const K=N.name.trim()!==""&&N.contactName.trim()!==""&&(N.email.trim()!==""||P(N.phone)),ke=!(v!=null&&v.is_zatca_enabled)||N.address.street.trim()!==""&&N.address.buildingNumber.trim()!==""&&N.address.buildingNumber.trim().length===4&&N.address.city.trim()!==""&&N.address.state.trim()!==""&&N.address.zipCode.trim()!=="",Ie=K&&ke;if(v&&v.is_zatca_enabled===!0){const Ye=N.vatNumber.trim()!==""||N.registrationNumber.trim()!=="";return Ie&&Ye}return Ie}return!1};return r.jsx("div",{className:s?"h-full":"fixed inset-0 bg-black/70 bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:s?"h-full bg-white dark:bg-gray-800 flex flex-col":"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[!s&&r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h?"Edit Customer":"Add New Customer"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(gr,{size:24})})]}),r.jsxs("form",{onSubmit:Ae,className:s?"flex-1 flex flex-col":"flex flex-col h-full",children:[r.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[r.jsxs("div",{children:[(v==null?void 0:v.business_type)==="B2B & B2C"?r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ee.map(P=>{const K=P.icon;return r.jsxs("label",{className:`relative flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${N.customer_type===P.value?"border-beveren-500 bg-beveren-50 dark:bg-beveren-900/20":"border-gray-200 dark:border-gray-600"}`,children:[r.jsx("input",{type:"radio",name:"customerType",value:P.value,checked:N.customer_type===P.value,onChange:ke=>{$(Ie=>de(U({},Ie),{customer_type:ke.target.value}))},className:"sr-only"}),r.jsx(K,{size:24,className:`mb-2 ${N.customer_type===P.value?"text-beveren-600":"text-gray-400"}`}),r.jsx("span",{className:`font-medium text-sm ${N.customer_type===P.value?"text-beveren-900 dark:text-beveren-100":"text-gray-900 dark:text-white"}`,children:P.label}),r.jsx("span",{className:`text-xs text-center mt-1 ${N.customer_type===P.value?"text-beveren-700 dark:text-beveren-300":"text-gray-500 dark:text-gray-400"}`,children:P.desc})]},P.value)})})]}):r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Type"}),r.jsx("div",{className:"bg-beveren-50 dark:bg-beveren-900/20 border-2 border-beveren-500 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[N.customer_type==="company"?r.jsx(_c,{size:24,className:"text-beveren-600 mr-3"}):r.jsx(zr,{size:24,className:"text-beveren-600 mr-3"}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-beveren-900 dark:text-beveren-100",children:[N.customer_type==="company"?"Company":"Individual"," ","Customer"]}),r.jsx("p",{className:"text-sm text-beveren-700 dark:text-beveren-300 mt-1",children:N.customer_type==="company"?"Business customer (B2B)":"Personal customer (B2C)"})]})]})})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(zr,{size:20,className:"mr-2"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Customer Name",N.customer_type==="company"&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",value:N.name,onChange:P=>$(K=>de(U({},K),{name:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),C.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.name})]}),N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Country"}),r.jsx("input",{list:"country-list",id:"country",value:N.address.country,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{country:P.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),r.jsx("datalist",{id:"country-list",children:k.map(P=>r.jsx("option",{value:P.label},P.value))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customer_group",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Group"}),r.jsx("select",{id:"customer_group",value:N.customer_group,onChange:P=>$(K=>de(U({},K),{customer_group:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:O,children:O?r.jsx("option",{children:"Loading..."}):M.map(P=>r.jsx("option",{value:P.name,children:P.customer_group_name},P.name))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"territory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Territory"}),r.jsxs("select",{id:"territory",value:N.territory,onChange:P=>$(K=>de(U({},K),{territory:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",disabled:G,children:[r.jsx("option",{value:"All Territories",children:"All Territories"}),ae.map(P=>r.jsx("option",{value:P.name,children:P.territory_name||P.name},P.name))]}),G&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading territories..."})]})]})]}),N.customer_type==="individual"&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mt-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ol,{size:20,className:"mr-2"}),"Contact Information",r.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:N.email,onChange:P=>$(K=>de(U({},K),{email:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.email||C.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),C.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.email})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),r.jsx(N2,{id:"phone",international:!0,defaultCountry:"SA",value:N.phone,onChange:P=>$(K=>de(U({},K),{phone:P||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),C.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.phone})]})})]}),C.contact&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.contact})]})]}),N.customer_type==="company"&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ol,{size:20,className:"mr-2"}),"Contact Information",N.customer_type==="company"&&r.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(At least one required)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Contact Name"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"contactName",value:N.contactName,onChange:P=>$(K=>de(U({},K),{contactName:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.contactName?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name"}),C.contactName&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.contactName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:N.email,onChange:P=>$(K=>de(U({},K),{email:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.email||C.contact?"border-red-500":"border-gray-300"}`,placeholder:"customer@email.com"}),C.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.email})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),r.jsx(N2,{id:"phone",international:!0,defaultCountry:"SA",value:N.phone,onChange:P=>$(K=>de(U({},K),{phone:P||""})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.phone?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),C.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.phone})]}),C.contact&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.contact})]}),N.customer_type==="company"&&v&&v.is_zatca_enabled===!0&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Hr,{size:20,className:"mr-2"}),"ZATCA Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),r.jsx("select",{id:"paymentMethod",value:N.preferredPaymentMethod,onChange:P=>$(K=>de(U({},K),{preferredPaymentMethod:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:me.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),r.jsx("input",{type:"text",id:"vatNumber",value:N.vatNumber,onChange:P=>$(K=>de(U({},K),{vatNumber:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter VAT number"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"registrationScheme",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Scheme"}),r.jsxs("select",{id:"registrationScheme",value:N.registrationScheme,onChange:P=>$(K=>de(U({},K),{registrationScheme:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Registration Scheme"}),z.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Number"," ",N.registrationScheme&&N.registrationScheme!==""?"*":""]}),r.jsx("input",{type:"text",id:"registrationNumber",value:N.registrationNumber,onChange:P=>$(K=>de(U({},K),{registrationNumber:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.registrationNumber||C.vatOrRegistration?"border-red-500":"border-gray-300"}`,placeholder:"Enter registration number"}),C.registrationNumber&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.registrationNumber})]})]}),C.vatOrRegistration&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.vatOrRegistration})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(S0,{size:20,className:"mr-2"}),"Address",N.customer_type==="company"?"":" (Optional)"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"addressType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Type"}),r.jsx("select",{id:"addressType",value:N.address.addressType,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{addressType:P.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",children:T.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"street",value:N.address.street,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{street:P.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.street?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter street address"}),C.street&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.street})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"buildingNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Building Number (4 digits)",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"buildingNumber",value:N.address.buildingNumber,onChange:P=>{const K=P.target.value.replace(/\D/g,"");K.length<=4&&$(ke=>de(U({},ke),{address:de(U({},ke.address),{buildingNumber:K})}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.buildingNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"1234",maxLength:4}),C.buildingNumber&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.buildingNumber})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["City",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"city",value:N.address.city,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{city:P.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.city?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter city"}),C.city&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.city})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["State/Province",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"state",value:N.address.state,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{state:P.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.state?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter state/province"}),C.state&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.state})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Zip Code",N.customer_type==="company"&&(v==null?void 0:v.is_zatca_enabled)&&r.jsx("span",{className:"text-red-500",children:" *"})]}),r.jsx("input",{type:"text",id:"zipCode",value:N.address.zipCode,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{zipCode:P.target.value})})),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white ${C.zipCode?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter zip code"}),C.zipCode&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.zipCode})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),r.jsx("input",{list:"country-list",id:"country",value:N.address.country,onChange:P=>$(K=>de(U({},K),{address:de(U({},K.address),{country:P.target.value})})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 dark:bg-gray-700 dark:text-white",placeholder:"Select country"}),r.jsx("datalist",{id:"country-list",children:k.map(P=>r.jsx("option",{value:P.label},P.value))})]})]})]})]}),w&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:w})]}),r.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:m||!ue(),className:`px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 ${m||!ue()?"opacity-50 cursor-not-allowed":""}`,children:m?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:"↻"}),r.jsx("span",{children:h?"Updating...":"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(E$,{size:18}),r.jsx("span",{children:h?"Update Customer":"Save Customer"})]})})})})]})]})})}function H0(e){const[t,a]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState(null),[f,h]=x.useState(0),[m,y]=x.useState(!1),[w,b]=x.useState(0),v=($,C=!1)=>oe(null,null,function*(){l(!0);try{const L=new URLSearchParams;$&&L.set("search",$),L.set("limit","100"),L.set("start",String(C?f:0));const M=`?${L.toString()}`,O=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customers${M}`)).json();if(!O.message.success)throw new Error(O.error||"Failed to fetch customers");const ae=O.message.data.map(H=>{var V,Z,J,Ne,je,X,re,ne;return{id:H.name,type:H.customer_type==="Company"?"company":"individual",name:H.customer_name||`Customer ${H.name.slice(0,5)}`,email:((V=H.contact)==null?void 0:V.email_id)||"",phone:((Z=H.contact)==null?void 0:Z.mobile_no)||((J=H.contact)==null?void 0:J.phone)||"",address:{street:((Ne=H.address)==null?void 0:Ne.address_line1)||"",city:((je=H.address)==null?void 0:je.city)||"",state:((X=H.address)==null?void 0:X.state)||"",zipCode:((re=H.address)==null?void 0:re.pincode)||"",country:((ne=H.address)==null?void 0:ne.country)||""},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:H.custom_total_spent||0,totalOrders:H.custom_total_orders||0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),lastVisit:H.custom_last_visit||void 0,avatar:void 0,defaultCurrency:H.default_currency,companyCurrency:H.company_currency}});a(H=>C?[...H,...ae]:ae);const q=O.message.total_count||0;b(q);const G=(C?f:0)+ae.length;h(G),y(G<q)}catch(L){u(L)}finally{l(!1)}});return x.useEffect(()=>{h(0),y(!1),b(0);const $=setTimeout(()=>{v(e,!1)},e?300:0);return()=>clearTimeout($)},[e]),{customers:t,isLoading:s,error:c,refetch:v,addCustomer:$=>{a(C=>[$,...C])},hasMore:m,totalCount:w,loadMore:()=>oe(null,null,function*(){m&&(yield v(e,!0))})}}function zA(e){const[t,a]=x.useState(null),[s,l]=x.useState(!1),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;oe(null,null,function*(){var h,m,y,w,b,v,k,N,$,C;l(!0);try{const M=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${e}`)).json();if(!M.message||M.message.success===!1)throw new Error(((h=M.message)==null?void 0:h.error)||"Failed to fetch customer");const B=M.message,O={id:B.name,type:B.customer_type==="Company"?"company":"individual",name:B.customer_name||`Customer ${B.name.slice(0,5)}`,email:((m=B.contact_data)==null?void 0:m.email_id)||B.email_id||"",phone:((y=B.contact_data)==null?void 0:y.mobile_no)||((w=B.contact_data)==null?void 0:w.phone)||B.mobile_no||"",address:{addressType:"Billing",street:((b=B.address_data)==null?void 0:b.address_line1)||"",buildingNumber:((v=B.address_data)==null?void 0:v.address_line2)||"",city:((k=B.address_data)==null?void 0:k.city)||"",state:((N=B.address_data)==null?void 0:N.state)||"",zipCode:(($=B.address_data)==null?void 0:$.pincode)||"",country:((C=B.address_data)==null?void 0:C.country)||"Saudi Arabia"},dateOfBirth:"",gender:"other",loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:B.payment_method||"Cash",notes:"",tags:[],status:"active",createdAt:B.creation||new Date().toISOString(),lastVisit:void 0,avatar:void 0,defaultCurrency:void 0,companyCurrency:void 0,customer_group:B.customer_group||"All Customer Groups",territory:B.territory||"All Territories",contactPerson:B.contact_data?`${B.contact_data.first_name||""} ${B.contact_data.last_name||""}`.trim()||B.customer_name:B.customer_name||"",companyName:B.customer_type==="Company"?B.customer_name:void 0,taxId:B.vat_number||"",industry:B.industry||"",employeeCount:B.employee_count||"",registrationScheme:B.registration_scheme||"",registrationNumber:B.registration_number||""};a(O)}catch(L){L instanceof Error?u(L.message):u("Unknown error")}finally{l(!1)}})},[e]),{customer:t,isLoading:s,error:c}}function HA(e){return oe(this,null,function*(){const a=yield(yield fetch(`/api/method/klik_pos.api.item.get_batch_nos_with_qty?item_code=${encodeURIComponent(e)}`)).json();if(a!=null&&a.message&&Array.isArray(a.message))return a.message;throw new Error("Invalid response format")})}function qA(e){return oe(this,null,function*(){try{const t=yield fetch(`/api/method/klik_pos.api.item.get_serial_nos_for_item?item_code=${encodeURIComponent(e)}`);if(!t.ok)return[];const a=yield t.json();return Array.isArray(a==null?void 0:a.message)?a.message.map(s=>s.serial_no).filter(Boolean):[]}catch(t){return[]}})}function u4(e){const[t,a]=x.useState(null),[s,l]=x.useState(!1),[c,u]=x.useState(null),f=()=>oe(null,null,function*(){var h,m;if(!e){a(null);return}l(!0),u(null);try{const y=yield fetch(`/api/method/klik_pos.api.customer.get_customer_statistics?customer_id=${encodeURIComponent(e)}`);if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const w=yield y.json();if((h=w==null?void 0:w.message)!=null&&h.success)a(w.message.data);else throw new Error(((m=w==null?void 0:w.message)==null?void 0:m.error)||"Failed to fetch customer statistics")}catch(y){console.error("Error fetching customer statistics:",y),u(y.message||"Failed to fetch customer statistics"),a(null)}finally{l(!1)}});return x.useEffect(()=>{f()},[e]),{statistics:t,isLoading:s,error:c,refetch:f}}const GA=({item:e,onUpdateQuantity:t,isMobile:a})=>{const[s,l]=x.useState(e.quantity.toString()),[c,u]=x.useState(!1);x.useEffect(()=>{c||l(e.quantity.toString())},[e.quantity,c]);const f=y=>{const w=y.target.value;l(w)},h=()=>{u(!1);const y=Number(s);isNaN(y)||y<=0?(l(e.quantity.toString()),y<=0&&t(e.id,0)):(l(y.toString()),t(e.id,y))},m=()=>{u(!0)};return r.jsx("input",{type:"number",step:"0.01",min:"0",value:s,onChange:f,onFocus:m,onBlur:h,className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})},VA=({item:e,onUOMChange:t,isMobile:a,selectedCustomer:s})=>{const[l,c]=x.useState(["Nos"]),[u,f]=x.useState(e.uom||"Nos"),[h,m]=x.useState(""),[y,w]=x.useState(!1);x.useEffect(()=>{oe(null,null,function*(){var N;try{const $=e.item_code||e.id;if($){console.log(`📡 Loading UOMs for item: ${$} with customer: ${(s==null?void 0:s.id)||"None"}`);const C=s!=null&&s.id?`&customer=${s.id}`:"",L=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${$}${C}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(L.ok){const M=yield L.json();if(console.log("📦 UOM API Response:",M.message),(N=M==null?void 0:M.message)!=null&&N.uoms){const B=M.message.uoms.map(O=>O.uom);c(B),console.log(`✅ Loaded ${B.length} UOMs for ${$}:`,B)}else console.log("❌ No UOMs data in API response"),c(["Nos"])}else console.log("❌ UOM API call failed:",L.status,L.statusText),c(["Nos"])}else console.log("❌ No item_code or id found for item:",e),c(["Nos"])}catch($){console.error("❌ Error loading item-specific UOMs:",$),c(["Nos"])}})},[e.id,e.item_code,s==null?void 0:s.id]),x.useEffect(()=>{f(e.uom||"Nos")},[e.uom]);const b=l.filter(k=>k.toLowerCase().includes(h.toLowerCase())),v=k=>oe(null,null,function*(){var N;f(k),w(!1),m("");try{const $=e.item_code||e.id;if($){console.log(`📡 API Call: get_item_uoms_and_prices for ${$} with customer: ${(s==null?void 0:s.id)||"None"}`);const C=s!=null&&s.id?`&customer=${s.id}`:"",L=yield fetch(`/api/method/klik_pos.api.item.get_item_uoms_and_prices?item_code=${$}${C}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(L.ok){const M=yield L.json();if(console.log("📦 API Response:",M.message),(N=M==null?void 0:M.message)!=null&&N.uoms){const B=M.message.uoms.find(O=>O.uom===k);B?t(e.id,k,B.price):(console.log(`❌ No UOM data found for ${k}`),console.log("Available UOMs:",M.message.uoms.map(O=>O.uom)))}else console.log("❌ No UOMs data in API response")}else console.log("❌ API call failed:",L.status,L.statusText)}else console.log("❌ No item_code or id found for item:",e)}catch($){console.error("❌ Error fetching UOM pricing:",$)}});return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>w(!y),className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[r.jsx("span",{children:u}),r.jsx("svg",{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:r.jsx("input",{type:"text",placeholder:"Search UOM...",value:h,onChange:k=>m(k.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:b.length>0?b.map(k=>r.jsx("button",{type:"button",onClick:()=>v(k),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${k===u?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:k},k)):r.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No UOMs found"})})]})]})},KA=({itemId:e,itemCode:t,options:a,value:s,onChange:l,isMobile:c})=>{const[u,f]=x.useState(!1),[h,m]=x.useState(""),y=a.filter(b=>b.batch_id.toLowerCase().includes(h.toLowerCase())),w=b=>{var k;const v=((k=a.find(N=>N.batch_id===b))==null?void 0:k.qty)||0;l(b,v),f(!1),m("")};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>f(!u),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[r.jsx("span",{className:"truncate",children:s||"Select Batch"}),r.jsx("svg",{className:`w-3 h-3 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[r.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:r.jsx("input",{type:"text",placeholder:"Filter batch...",value:h,onChange:b=>m(b.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),r.jsx("div",{className:"max-h-36 overflow-y-auto",children:y.length>0?y.map(b=>r.jsxs("button",{type:"button",onClick:()=>w(b.batch_id),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===b.batch_id?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:[b.batch_id," - ",b.qty]},b.batch_id)):r.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})},YA=({itemId:e,itemCode:t,options:a,value:s,onChange:l,isMobile:c})=>{const[u,f]=x.useState(!1),[h,m]=x.useState(""),y=a.filter(b=>b.toLowerCase().includes(h.toLowerCase())),w=b=>{l(b),f(!1),m("")};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>f(!u),className:"w-full text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-left flex items-center justify-between",children:[r.jsx("span",{className:"truncate",children:s||"Select Serial"}),r.jsx("svg",{className:`w-3 h-3 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-44 overflow-hidden",children:[r.jsx("div",{className:"p-1 border-b border-gray-200 dark:border-gray-600",children:r.jsx("input",{type:"text",placeholder:"Filter serial...",value:h,onChange:b=>m(b.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded focus:ring-1 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0})}),r.jsx("div",{className:"max-h-36 overflow-y-auto",children:y.length>0?y.map(b=>r.jsx("button",{type:"button",onClick:()=>w(b),className:`w-full px-2 py-1 text-left text-xs hover:bg-gray-100 dark:hover:bg-gray-700 ${s===b?"bg-beveren-50 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-gray-900 dark:text-white"}`,children:b},b)):r.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 dark:text-gray-400",children:"No matches"})})]})]})};function f4({cartItems:e,onUpdateQuantity:t,onRemoveItem:a,onClearCart:s,appliedCoupons:l,onApplyCoupon:c,onRemoveCoupon:u,isMobile:f=!1}){const[h,m]=x.useState(!1),{selectedCustomer:y,setSelectedCustomer:w,updateUOM:b,updatePricesForCustomer:v}=Zs(),[k,N]=x.useState(!1);x.useEffect(()=>{console.log("🔄 OrderSummary: selectedCustomer changed:",y)},[y]),x.useEffect(()=>{y&&e.length>0&&(console.log(`🔄 Customer changed to: ${y.name}, updating prices for ${e.length} items`),v(y.id))},[y==null?void 0:y.id,e.length,v]);const[$,C]=x.useState(""),[L,M]=x.useState(!1),[B,O]=x.useState(!1),[R,ae]=x.useState(!1);x.useRef(null);const{customers:q,isLoading:G,refetch:H}=H0($),{refreshStockOnly:V,updateBatchQuantitiesForItems:Z}=v0();Ma();const{posDetails:J,loading:Ne}=er(),{statistics:je}=u4((y==null?void 0:y.id)||null),[X,re]=x.useState(""),[ne,Ae]=x.useState({});J==null||J.currency;const z=J==null?void 0:J.currency_symbol,me=x.useCallback((he,Fe,Je)=>{console.log("🛒 Cart Update Started:"),console.log(`  Item ID: ${he}`),console.log(`  New UOM: ${Fe}`),console.log(`  New Price: $${Je}`);const Oe=e.find(He=>He.id===he);Oe&&console.log("  Before Update:",{name:Oe.name,uom:Oe.uom,price:Oe.price,quantity:Oe.quantity}),b(he,Fe,Je),setTimeout(()=>{const He=e.find(_t=>_t.id===he);console.log("✅ Cart Update Complete:"),console.log("  After Update:",{name:He==null?void 0:He.name,uom:He==null?void 0:He.uom,price:He==null?void 0:He.price,quantity:He==null?void 0:He.quantity}),Oe&&He&&(console.log("📊 Price Comparison:"),console.log(`  Old: ${Oe.uom} = $${Oe.price}`),console.log(`  New: ${He.uom} = $${He.price}`),console.log(`  Difference: $${(He.price-Oe.price).toFixed(2)}`))},100)},[b,e]),[T,ee]=x.useState({}),[ue,P]=x.useState({}),[K,ke]=x.useState({}),[Ie,Ye]=x.useState({}),[De,gt]=x.useState(new Set),lt=he=>{const Fe=T[he.id]||{discountPercentage:0,discountAmount:0};let Je=he.price;return Fe.discountPercentage>0&&(Je=he.price*(1-Fe.discountPercentage/100)),Fe.discountAmount>0&&(Je=Math.max(0,Je-Fe.discountAmount)),Math.max(0,Je)},Ht=e.reduce((he,Fe)=>{const Je=lt(Fe);return he+Je*Fe.quantity},0),Ce=e.reduce((he,Fe)=>{const Je=Fe.price*Fe.quantity,Oe=lt(Fe)*Fe.quantity;return he+(Je-Oe)},0),Ze=l.reduce((he,Fe)=>he+Fe.value,0),xe=Math.max(0,Ht-Ze),Pe=he=>{if(he.key==="Enter"&&$.trim()!=="")if(et.length===0){const Fe=$.trim();let Je={};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Fe))Je={email:Fe};else if(/^[\d\s\+\-\(\)]+$/.test(Fe)&&Fe.replace(/[\s\+\-\(\)]/g,"").length>=7){let Oe=Fe;const He=Fe.replace(/[\s\+\-\(\)]/g,"");!He.startsWith("966")&&!He.startsWith("+966")?He.startsWith("0")?Oe="+966"+He.substring(1):Oe="+966"+He:He.startsWith("966")&&!He.startsWith("+966")&&(Oe="+"+He),Je={phone:Oe}}else console.log("Detected name:",Fe),Je={name:Fe};Ae(Je),re(Fe),O(!0),M(!1)}else et.length===1&&!k&&vt(et[0])},Be=(he,Fe,Je)=>{ee(Oe=>de(U({},Oe),{[he]:de(U({},Oe[he]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:150}),{[Fe]:typeof Je=="string"?Je:Math.max(0,Je)})}))},et=$.trim()===""?q:q.filter(he=>he.name.toLowerCase().includes($.toLowerCase())||he.email.toLowerCase().includes($.toLowerCase())||he.phone.includes($)||he.tags.some(Fe=>Fe.toLowerCase().includes($.toLowerCase()))),$t=()=>y?!0:(Me.error("Kindly choose customer"),!1),vt=he=>{w(he),C(he.name),M(!1),N(!1)},E=he=>oe(null,null,function*(){var Fe;if(he&&he.customer_name)try{const Je=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(he.customer_name)}`);if(!Je.ok)throw new Error(`HTTP ${Je.status}: ${Je.statusText}`);const Oe=yield Je.json();if(Oe.message){const He=Oe.message,_t={id:He.name,name:He.customer_name||He.name,email:He.email_id||"",phone:He.mobile_no||"",type:He.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:He.custom_loyalty_points||0,totalSpent:He.custom_total_spent||0,totalOrders:He.custom_total_orders||0,preferredPaymentMethod:"Cash",tags:((Fe=He.custom_tags)==null?void 0:Fe.split(",").filter(Boolean))||[],status:He.custom_status||"active",createdAt:He.creation||new Date().toISOString()};w(_t),C(""),H&&H()}}catch(Je){console.error("Error fetching customer details:",Je);const Oe={id:he.customer_name||"",name:he.customer_name||"",email:"",phone:"",type:"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",tags:[],status:"active",createdAt:new Date().toISOString()};w(Oe),C("")}O(!1),re(""),Ae({})}),we=he=>oe(null,null,function*(){console.log("OrderSummary: Payment completed, invoice created - modal stays open for preview")}),Ue=he=>oe(null,null,function*(){ae(!1),he?bt():console.log("OrderSummary: Payment was not completed - keeping cart items");try{const Fe=yield V();console.log(Fe?"OrderSummary: Stock refreshed successfully - cashier can now see updated availability":"OrderSummary: No stock updates needed");const Je=e.map(Oe=>Oe.item_code||Oe.id);if(Je.length>0){console.log("OrderSummary: Updating batch quantities for cart items:",Je);try{yield Z(Je),console.log("OrderSummary: Batch quantities updated successfully")}catch(Oe){console.error("OrderSummary: Failed to update batch quantities:",Oe)}}}catch(Fe){console.error("OrderSummary: Failed to refresh stock:",Fe);const Je=(Fe==null?void 0:Fe.message)||"Unknown error";Me.error(`Failed to update stock: ${Je}`)}}),Ut=he=>oe(null,null,function*(){if(!y){Me.error("Kindly select a customer");return}try{ae(!1);const Fe=yield Nw(he);Fe&&Fe.success?(bt(),Me.success("Draft invoice created and order held successfully!")):Me.error("Failed to create draft invoice")}catch(Fe){console.error("Error creating draft invoice:",Fe);const Je=dl(Fe,"Failed to create draft invoice");Me.error(Je)}}),bt=()=>{e.length!==0&&(s?s():[...e].forEach(Fe=>{a&&a(Fe.id)}),l.forEach(he=>{u(he.code)}),ee({}),w(null),C(""))},st=he=>{switch(he.type){case"company":return r.jsx(_c,{size:14,className:"text-purple-600"});case"walk-in":return r.jsx(zr,{size:14,className:"text-gray-600"});default:return r.jsx(zr,{size:14,className:"text-blue-600"})}},Yt=he=>{const Fe=new Set(De);Fe.has(he)?Fe.delete(he):Fe.add(he),gt(Fe)};return x.useEffect(()=>{if(q.length===1&&!y&&!G){const he=q[0];w(he),C(he.name),M(!1)}},[q,y,G]),x.useEffect(()=>{if(J!=null&&J.default_customer&&!y&&!Ne&&!k&&!G){const he=J.default_customer;if(q.some(Je=>Je.id===he.id)){console.log("Default customer details:",he);const Je={id:he.id,name:he.name,email:he.email,phone:he.phone,customer_type:he.customer_type==="Company"?"company":"individual",address:{street:"",city:"",state:"",zipCode:"",country:"Saudi Arabia"},loyaltyPoints:0,totalSpent:0,totalOrders:0,preferredPaymentMethod:"Cash",notes:"",tags:[],status:"active",createdAt:new Date().toISOString(),defaultCurrency:he.default_currency};w(Je),C(Je.name),M(!1)}else console.log("User does not have permission to access default customer:",he.id)}},[J,y,Ne,k,q,G]),x.useEffect(()=>{const he=()=>oe(null,null,function*(){const Fe=U({},ue),Je=U({},K);for(const Oe of e){const He=Oe.item_code||Oe.id;if(He&&He!=="undefined"){if(!Fe[He])try{const _t=yield HA(Oe.id);Array.isArray(_t)&&(Fe[He]=_t)}catch(_t){console.error("Error fetching batches",_t)}if(!Je[He])try{const _t=yield qA(He);Array.isArray(_t)&&(Je[He]=_t)}catch(_t){console.error("Error fetching serials",_t)}}else console.log(`OrderSummary: Skipping initial info loading for key "${He}"`)}P(Fe),ke(Je)});e.length&&he()},[e]),x.useEffect(()=>{const he=Oe=>{const{updatedItems:He}=Oe.detail;P(_t=>{const at=U({},_t);return He.forEach(({itemCode:St,batches:ma})=>{St&&St!=="undefined"?at[St]=ma:console.log(`OrderSummary: Skipping invalid itemCode: "${St}"`)}),delete at.undefined,delete at[void 0],at})};window.addEventListener("batchQuantitiesUpdated",he);const Fe=Oe=>{var St,ma;const{itemCode:He,batchId:_t}=Oe.detail,at=e.find(ba=>(ba.item_code||ba.id)===He);if(at){const ba=((ma=(St=ue[at.item_code||at.id])==null?void 0:St.find(Ta=>Ta.batch_id===_t))==null?void 0:ma.qty)||0;ee(Ta=>de(U({},Ta),{[at.id]:de(U({},Ta[at.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:_t,availableQuantity:ba})}))}else Ye(ba=>de(U({},ba),{[He]:de(U({},ba[He]||{}),{batchId:_t})}))},Je=Oe=>{const{itemCode:He,serialNo:_t}=Oe.detail,at=e.find(St=>(St.item_code||St.id)===He);at?(ee(St=>de(U({},St),{[at.id]:de(U({},St[at.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:_t})})),ke(St=>{const ma=at.item_code||at.id,ba=new Set(St[ma]||[]);return ba.has(_t)?St:de(U({},St),{[ma]:[...ba,_t]})})):Ye(St=>de(U({},St),{[He]:de(U({},St[He]||{}),{serialNo:_t})}))};return window.addEventListener("cart:setBatchForItem",Fe),window.addEventListener("cart:setSerialForItem",Je),()=>{window.removeEventListener("batchQuantitiesUpdated",he),window.removeEventListener("cart:setBatchForItem",Fe),window.removeEventListener("cart:setSerialForItem",Je)}},[e,ue]),x.useEffect(()=>{if(!e.length)return;const he=U({},Ie);e.forEach(Fe=>{var He,_t;const Je=Fe.item_code||Fe.id,Oe=he[Je];if(Oe){if(Oe.batchId){const at=((_t=(He=ue[Je])==null?void 0:He.find(St=>St.batch_id===Oe.batchId))==null?void 0:_t.qty)||0;ee(St=>de(U({},St),{[Fe.id]:de(U({},St[Fe.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{batchNumber:Oe.batchId,availableQuantity:at})}))}Oe.serialNo&&(ee(at=>de(U({},at),{[Fe.id]:de(U({},at[Fe.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:"",availableQuantity:0}),{serialNumber:Oe.serialNo})})),ke(at=>{const St=new Set(at[Je]||[]);return St.has(Oe.serialNo)?at:de(U({},at),{[Je]:[...St,Oe.serialNo]})})),delete he[Je]}}),Object.keys(he).length!==Object.keys(Ie).length&&Ye(he)},[e,ue,Ie]),r.jsxs("div",{className:`h-full flex flex-col bg-white dark:bg-gray-800 ${f?"":"border-l"} border-gray-200 dark:border-gray-700`,children:[!f&&r.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:$,onChange:he=>{C(he.target.value),M(he.target.value.length>0)},onKeyDown:Pe,onFocus:()=>M(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),L&&et.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:et.slice(0,8).map(he=>r.jsx("button",{onClick:()=>vt(he),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[st(he),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:he.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[he.phone," • ",he.email]})]})]})},he.id))})]}),r.jsx("button",{onClick:()=>O(!0),className:"ml-2 p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",title:"Add New Customer",children:r.jsx(f1,{size:16})})]}),y&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[st(y),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:y.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&r.jsx("span",{children:y.phone}),y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&((je==null?void 0:je.total_orders)||0)>0&&r.jsx("span",{className:"mx-2",children:"•"}),((je==null?void 0:je.total_orders)||0)>0&&r.jsxs("span",{children:[(je==null?void 0:je.total_orders)||0," orders"]}),(!y.phone||y.phone==="N/A"||y.phone.trim()==="")&&((je==null?void 0:je.total_orders)||0)===0&&r.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),r.jsx("button",{onClick:()=>{w(null),C(""),N(!0)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(gr,{size:14})})]})})]})}),f&&r.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search customers... (name, email, or phone)",value:$,onChange:he=>{C(he.target.value),M(he.target.value.length>0)},onKeyPress:Pe,onFocus:()=>M(!0),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),L&&et.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:et.slice(0,8).map(he=>r.jsx("button",{onClick:()=>vt(he),className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[st(he),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:he.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[he.email," • ",he.phone]})]})]})},he.id))})]}),r.jsx("button",{onClick:()=>O(!0),className:"p-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:r.jsx(f1,{size:16})})]}),y&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[st(y),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:y.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&r.jsx("span",{children:y.phone}),y.phone&&y.phone!=="N/A"&&y.phone.trim()!==""&&((je==null?void 0:je.total_orders)||0)>0&&r.jsx("span",{className:"mx-2",children:"•"}),((je==null?void 0:je.total_orders)||0)>0&&r.jsxs("span",{children:[(je==null?void 0:je.total_orders)||0," orders"]}),(!y.phone||y.phone==="N/A"||y.phone.trim()==="")&&((je==null?void 0:je.total_orders)||0)===0&&r.jsx("span",{className:"text-gray-400 italic",children:"No additional info"})]})]})]}),r.jsx("button",{onClick:()=>{w(null),C(""),N(!0)},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gr,{size:14})})]})})]}),r.jsx("div",{className:`${f?"flex-1 overflow-y-auto custom-scrollbar p-4":"flex-1 overflow-y-auto p-6 cart-scroll"}`,children:r.jsx("div",{className:"space-y-4",children:e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🛒"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add some items to get started!"})]}):e.map(he=>{const Fe=lt(he),Je=he.price*he.quantity,Oe=Fe*he.quantity,He=T[he.id]||{discountPercentage:0,discountAmount:0,batchNumber:"",serialNumber:""};return r.jsxs("div",{className:`${f?"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden":""}`,children:[r.jsxs("div",{className:`flex items-center ${f?"p-3":"py-2"}`,children:[r.jsx("div",{className:"flex-shrink-0 mr-2",children:r.jsx("button",{onClick:()=>Yt(he.id),className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-500 transition-all duration-200",title:"Show/Hide Details",children:r.jsx("svg",{className:`${f?"w-3 h-3":"w-4 h-4"} text-beveren-500 dark:text-gray-400 transform transition-transform duration-200 ${De.has(he.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),he.image&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:he.image,alt:he.name,className:`${f?"w-16 h-16":"w-12 h-12"} rounded-lg object-cover`,crossOrigin:"anonymous"})}),r.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[r.jsx("h4",{className:`font-semibold text-gray-900 dark:text-white ${f?"text-base":"text-sm"} truncate`,children:he.name}),r.jsx("p",{className:`text-gray-500 dark:text-gray-400 capitalize font-medium ${f?"text-sm":"text-xs"}`,children:he.category}),r.jsx("div",{className:`${f?"text-base":"text-sm"}`,children:Fe<he.price?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-gray-400 line-through text-xs",children:[z,he.price.toFixed(2)]}),r.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[z,Fe.toFixed(2)]})]}):r.jsxs("div",{className:"text-beveren-600 dark:text-beveren-400 font-semibold",children:[z,he.price.toFixed(2)]})})]}),r.jsxs("div",{className:"flex-shrink-0 flex items-center ml-10 space-x-1 min-w-[70px] justify-center",children:[r.jsx("button",{onClick:()=>t(he.id,he.quantity-1),className:`${f?"w-8 h-8":"w-5 h-5"} rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,children:r.jsx(uy,{size:f?16:14,className:"text-gray-600 dark:text-gray-400"})}),r.jsx("span",{className:`${f?"w-10":"w-8"} text-center font-semibold text-gray-900 dark:text-white text-sm`,children:he.quantity}),r.jsx("button",{onClick:()=>t(he.id,he.quantity+1),className:`${f?"w-8 h-8":"w-7 h-7"} rounded-full bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 flex items-center justify-center hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors`,children:r.jsx(Pc,{size:f?16:14,className:"text-blue-600 dark:text-blue-400"})})]}),r.jsx("div",{className:"flex-shrink-0 text-right min-w-[80px] px-2",children:Oe<Je?r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-400 line-through text-xs",children:[z,Je.toFixed(2)]}),r.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${f?"text-base":"text-sm"}`,children:[z,Oe.toFixed(2)]})]}):r.jsxs("p",{className:`text-beveren-600 dark:text-beveren-400 font-semibold ${f?"text-base":"text-sm"}`,children:[z,Oe.toFixed(2)]})}),r.jsx("div",{className:"flex-shrink-0 ml-2",children:r.jsx("button",{onClick:()=>a?a(he.id):t(he.id,0),className:`${f?"w-8 h-8":"w-6 h-6"} rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 flex items-center justify-center hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 dark:hover:border-red-800 hover:text-red-600 dark:hover:text-red-400 transition-colors`,title:"Remove item",children:r.jsx(gr,{size:f?16:12})})})]}),De.has(he.id)&&r.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 ${f?"px-3 pb-3":"px-6 py-3 ml-7"} bg-gray-25 dark:bg-gray-750`,children:[r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Quantity"}),r.jsx(GA,{item:he,onUpdateQuantity:t,isMobile:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"UOM"}),r.jsx(VA,{item:he,onUOMChange:me,isMobile:f,selectedCustomer:y})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount Amount"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:He.discountAmount||"",onChange:_t=>Be(he.id,"discountAmount",parseFloat(_t.target.value)||0),placeholder:"0.00",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Discount (%)"}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:He.discountPercentage||"",onChange:_t=>Be(he.id,"discountPercentage",parseFloat(_t.target.value)||0),placeholder:"0.0",className:"w-full text-sm px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Batch"}),r.jsx(KA,{itemId:he.id,itemCode:he.item_code||he.id,options:ue[he.item_code||he.id]||[],value:He.batchNumber||"",onChange:(_t,at)=>{Be(he.id,"batchNumber",_t),Be(he.id,"availableQuantity",at)},isMobile:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-medium text-sm mb-2",children:"Serial No"}),r.jsx(YA,{itemId:he.id,itemCode:he.item_code||he.id,options:K[he.item_code||he.id]||[],value:He.serialNumber||"",onChange:_t=>Be(he.id,"serialNumber",_t),isMobile:f})]})]})]}),(He.discountPercentage>0||He.discountAmount>0)&&r.jsxs("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[r.jsx("div",{className:"text-xs text-green-800 dark:text-green-300 font-medium",children:"Discount Applied:"}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400",children:[He.discountPercentage>0&&`${He.discountPercentage}% off`,He.discountPercentage>0&&He.discountAmount>0&&" + ",He.discountAmount>0&&`${He.discountAmount.toFixed(2)} off`]}),r.jsxs("span",{className:"text-xs font-semibold text-green-800 dark:text-green-300",children:["Save $",(Je-Oe).toFixed(2)]})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600 flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>Yt(he.id),className:`px-3 py-1 ${f?"text-sm":"text-xs"} text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium`,children:"Collapse"}),r.jsx("button",{onClick:()=>{Me.success("Item details updated successfully!")},className:`px-3 py-1 ${f?"text-sm":"text-xs"} bg-beveren-600 text-white rounded-md hover:bg-beveren-700 transition-colors font-medium`,children:"Update"})]})]})]},he.id)})})}),e.length>0&&r.jsxs("div",{className:`${f?"flex-shrink-0 p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shadow-lg":"p-4 border-t border-gray-100 dark:border-gray-700"} space-y-3`,children:[r.jsxs("div",{className:`grid grid-cols-2 gap-3 ${f?"mb-3":""}`,children:[r.jsx("button",{onClick:()=>{if(!$t())return;const he={items:e.map(Fe=>({id:Fe.id,quantity:Fe.quantity,price:lt(Fe)})),customer:{id:y.id},subtotal:Ht,total:xe,appliedCoupons:l,itemDiscounts:T,totalItemDiscount:Ce,totalSavings:Ce+Ze,status:"held"};Ut(he)},className:"px-3 py-2 border border-beveren-600 text-beveren-600 dark:text-beveren-400 rounded-lg font-medium hover:bg-beveren-600 hover:text-white transition-colors text-sm",children:"Hold"}),r.jsx("button",{onClick:bt,className:"px-3 py-2 border border-red-500 text-red-600 dark:text-red-400 rounded-lg font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:"Clear Cart"})]}),r.jsxs("button",{onClick:()=>{$t()&&ae(!0)},className:`w-full bg-beveren-600 text-white rounded-xl font-semibold hover:bg-beveren-700 transition-colors ${f?"py-3 text-base":"py-2 text-sm"}`,children:["Checkout ",z,xe.toFixed(2)]})]}),B&&r.jsx(hl,{customer:null,onClose:()=>{O(!1),re(""),Ae({})},onSave:E,prefilledName:X,prefilledData:ne}),R&&r.jsx(my,{isOpen:R,onClose:Ue,cartItems:e.map(he=>de(U({},he),{discountedPrice:lt(he),itemDiscount:T[he.id]||{},originalPrice:he.price,finalAmount:lt(he)*he.quantity})),appliedCoupons:l,selectedCustomer:y,onCompletePayment:we,onHoldOrder:Ut,isMobile:f,itemDiscounts:T,totalItemDiscount:Ce})]})}const QA={USD:"$",SAR:"ر.س",AED:"د.إ",EUR:"€",GBP:"£",JPY:"¥",CAD:"C$",AUD:"A$",CHF:"CHF",CNY:"¥",INR:"₹",KRW:"₩",MXN:"$",NZD:"NZ$",SGD:"S$",THB:"฿",TRY:"₺",ZAR:"R",BRL:"R$",RUB:"₽",SEK:"kr",NOK:"kr",DKK:"kr",PLN:"zł",CZK:"Kč",HUF:"Ft",ILS:"₪",EGP:"£",QAR:"ر.ق",KWD:"د.ك",BHD:"د.ب",OMR:"ر.ع",JOD:"د.أ",LBP:"ل.ل",PKR:"₨",BDT:"৳",LKR:"₨",NPR:"₨",AFN:"؋",IRR:"﷼",IQD:"د.ع",SYP:"£",YER:"﷼",MAD:"د.م",TND:"د.ت",DZD:"د.ج",LYD:"ل.د",ETB:"Br",KES:"KSh",UGX:"USh",TZS:"TSh",ZMW:"ZK",BWP:"P",SZL:"L",LSL:"L",NAD:"N$",MUR:"₨",SCR:"₨",MVR:"ރ",NIO:"C$",GTQ:"Q",HNL:"L",SVC:"$",BZD:"BZ$",JMD:"J$",TTD:"TT$",BBD:"Bds$",XCD:"$",AWG:"ƒ",ANG:"ƒ",SRD:"$",GYD:"G$",VEF:"Bs",COP:"$",PEN:"S/",BOB:"Bs",CLP:"$",ARS:"$",UYU:"$U",PYG:"₲",FKP:"£",FJD:"FJ$",PGK:"K",SBD:"SI$",VUV:"Vt",WST:"WS$",TOP:"T$",PHP:"₱",IDR:"Rp",MYR:"RM",VND:"₫",LAK:"₭",KHR:"៛",MMK:"K",BND:"B$"},q0=e=>e?QA[e.toUpperCase()]||e:"$",nt=(e,t)=>!e&&e!==0?"0.00":`${q0(t||"USD")} ${e.toFixed(2)}`;function as(){const e=Ma(),t=Kr(),a=[{icon:dd,path:"/pos",label:"POS"},{icon:ow,path:"/invoice",label:"Invoice"},{icon:Ys,path:"/customers",label:"Customers"},{icon:zo,path:"/dashboard",label:"Dashboard"},{icon:il,path:"/closing_shift",label:"Closing"}],s=l=>l==="/pos"?t.pathname==="/"||t.pathname==="/pos":t.pathname.startsWith(l);return r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50 safe-area-pb",children:r.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:a.map((l,c)=>r.jsxs("button",{onClick:()=>e(l.path),className:`flex flex-col items-center justify-center min-w-0 flex-1 py-2 px-1 transition-colors ${s(l.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:[r.jsx(l.icon,{size:20,className:`mb-1 ${s(l.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`}),r.jsx("span",{className:`text-xs font-medium truncate ${s(l.path)?"text-beveren-600 dark:text-beveren-400":"text-gray-400 dark:text-gray-500"}`,children:l.label})]},c))})})}function XA({items:e,selectedCategory:t,onCategoryChange:a,searchQuery:s,onSearchChange:l,onScanBarcode:c,scannerOnly:u=!1}){const{t:f}=hn(),{user:h,logout:m}=Ws(),{theme:y,toggleTheme:w}=j0(),{posDetails:b,loading:v}=er(),{cartItems:k,addToCart:N}=Zs(),$=Ma(),[C,L]=x.useState(!1),[M,B]=x.useState("grid"),O=x.useRef(null);x.useEffect(()=>{if(!v&&b){const J=b.custom_default_view;J==="List View"?B("list"):J==="Grid View"&&B("grid")}},[b,v]),x.useEffect(()=>{function J(Ne){O.current&&!O.current.contains(Ne.target)&&L(!1)}return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[O]);const R=()=>oe(null,null,function*(){try{yield m(),window.location.href="/klik_pos/login"}catch(J){console.error("Logout error:",J),window.location.href="/klik_pos/login"}}),ae=J=>J.split(" ").map(Ne=>Ne.charAt(0).toUpperCase()).join("").substring(0,2),q=(h==null?void 0:h.full_name)||(h==null?void 0:h.name)||"Guest User",G=(b==null?void 0:b.name)||"POS Profile";h!=null&&h.role;const H=ae(q),V=k.reduce((J,Ne)=>J+Ne.quantity,0),Z=k.reduce((J,Ne)=>J+Ne.price*Ne.quantity,0);return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[r.jsxs("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-beveren-600 dark:text-beveren-400",children:"KLiK PoS"}),u&&r.jsx("div",{className:"bg-blue-600/90 text-white px-2 py-1 rounded-md text-xs font-medium",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),r.jsx("span",{children:"Scan Only"})]})})]}),r.jsxs("div",{className:"flex items-center space-x-2 relative",ref:O,children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:G}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:q})]}),r.jsx("button",{onClick:()=>L(!C),className:"w-8 h-8 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:r.jsx("span",{className:"text-white text-xs font-medium pointer-events-none",children:H})}),C&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[100] overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-sm",children:H})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:G}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(fy,{size:12,className:"text-gray-400 flex-shrink-0"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-600 truncate",children:q})]}),r.jsx("p",{className:"text-xs text-beveren-600 dark:text-beveren-400 font-medium mt-1",children:(h==null?void 0:h.role)||"User"})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs(cd,{to:"/settings",onClick:()=>L(!1),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(C0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>{w(),L(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[y==="dark"?r.jsx(_0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}):r.jsx($0,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:y==="dark"?"Light Mode":"Dark Mode"})]}),r.jsxs("button",{onClick:()=>{xw(),L(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",type:"button",children:[r.jsx(ll,{size:14,className:"mr-3 text-gray-500 dark:text-gray-400"}),r.jsx("span",{children:"Clear Cache"})]}),r.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),r.jsxs("button",{onClick:()=>{R(),L(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",type:"button",children:[r.jsx(k0,{size:14,className:"mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsx("div",{className:"px-4 pb-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:f("SEARCH_PRODUCTS"),value:s,onChange:J=>l(J.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beveren-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),c&&r.jsx("button",{onClick:c,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 text-gray-400 hover:text-beveren-600 dark:hover:text-beveren-400 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-500 focus:ring-offset-2 rounded-lg",title:"Scan Barcode",children:r.jsx(lw,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>B("grid"),className:`p-2 rounded-md transition-colors ${M==="grid"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Grid View",children:r.jsx(dd,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>B("list"),className:`p-2 rounded-md transition-colors ${M==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"List View",children:r.jsx(dy,{className:"w-4 h-4"})})]})]})}),r.jsx("div",{className:"px-4 pb-2",children:r.jsx(bw,{selectedCategory:t,onCategoryChange:a,isMobile:!0})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:v?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading view preferences..."})]})}):r.jsx(vw,{items:e,onAddToCart:N,isMobile:!0,scannerOnly:u,viewMode:M})}),V>0&&r.jsx("button",{onClick:()=>$("/cart"),className:"fixed bottom-20 right-6 bg-beveren-600 text-white rounded-full p-4 shadow-lg hover:bg-beveren-700 transition-colors z-30",children:r.jsxs("div",{className:"relative",children:[r.jsx(Dc,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:V})]})}),V>0&&r.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 z-40",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[V," items"]}),r.jsx("div",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:nt(Z,(b==null?void 0:b.currency)||"USD")}),r.jsx("button",{onClick:()=>$("/cart"),className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors font-medium",children:"View Cart"})]})}),r.jsx(as,{})]})}function WA({message:e="Loading..."}){return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:e})]})})}function k2({onBarcodeDetected:e,onClose:t,isOpen:a}){const[s,l]=x.useState(""),[c,u]=x.useState(!1),[f,h]=x.useState(""),[m,y]=x.useState(""),[w,b]=x.useState(!1),v=x.useRef(null),k=x.useRef(null),N=x.useRef(null),$=x.useRef(null);x.useEffect(()=>{"BarcodeDetector"in window?b(!0):console.warn("BarcodeDetector not supported in this browser")},[]);const C=R=>{R.key==="Enter"&&s.trim()&&(R.preventDefault(),h(s.trim()),u(!0),setTimeout(()=>{e(s.trim()),l(""),u(!1),h(""),t()},1e3))};x.useEffect(()=>(a?L():(M(),B()),()=>{M(),B()}),[a]);const L=()=>oe(null,null,function*(){try{y("");const R=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});v.current&&(v.current.srcObject=R,k.current=R,v.current.onloadedmetadata=()=>{O()})}catch(R){console.error("Camera error:",R),y("Camera access denied or not available. Please use manual input.")}}),M=()=>{k.current&&(k.current.getTracks().forEach(R=>R.stop()),k.current=null),v.current&&(v.current.srcObject=null)},B=()=>{$.current&&(clearInterval($.current),$.current=null)},O=()=>oe(null,null,function*(){if(!w){y("Barcode detection not supported in this browser. Please use manual input.");return}try{const R=new window.BarcodeDetector({formats:["code_128","code_39","ean_13","ean_8","upc_a","upc_e","qr_code"]});$.current=setInterval(()=>oe(null,null,function*(){if(v.current&&N.current&&v.current.videoWidth>0){const ae=N.current,q=ae.getContext("2d");if(q){ae.width=v.current.videoWidth,ae.height=v.current.videoHeight,q.drawImage(v.current,0,0,ae.width,ae.height);try{const G=yield R.detect(ae);if(G.length>0){const H=G[0].rawValue;console.log("Barcode detected:",H),B(),h(H),u(!0),setTimeout(()=>{e(H),u(!1),h(""),t()},1e3)}}catch(G){console.error("Barcode detection error:",G)}}}}),200)}catch(R){console.error("BarcodeDetector error:",R),y("Barcode detection failed. Please use manual input.")}});return a?r.jsxs("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center z-50",children:[r.jsx("canvas",{ref:N,style:{display:"none"}}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scan Barcode"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(gr,{size:24})})]}),c&&r.jsxs("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fi,{className:"text-green-600 dark:text-green-400 mr-2",size:20}),r.jsxs("span",{className:"text-green-800 dark:text-green-200 font-medium",children:["Barcode detected: ",f]})]}),r.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm mt-1",children:"Adding item to cart..."})]}),m&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oc,{className:"text-red-600 dark:text-red-400 mr-2",size:20}),r.jsx("span",{className:"text-red-800 dark:text-red-200 font-medium",children:m})]})}),!w&&r.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[r.jsx("strong",{children:"Limited Support:"})," Camera barcode detection not fully supported in this browser. Manual input recommended."]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video",children:[r.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsx("div",{className:"border-2 border-green-400 border-dashed rounded-lg w-64 h-32 flex items-center justify-center",children:r.jsxs("div",{className:"text-green-400 text-center",children:[r.jsx(sw,{size:32,className:"mx-auto mb-2 opacity-75"}),r.jsx("p",{className:"text-sm",children:"Point at barcode"})]})})}),r.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded text-sm",children:w?r.jsxs("span",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Scanning..."]}):r.jsxs("span",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-2"}),"Camera Active"]})})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w?"Hold the barcode steady in the scanning area":"Camera active - use manual input below for barcode entry"}),r.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:r.jsx("input",{type:"text",value:s,onChange:R=>l(R.target.value),onKeyPress:C,placeholder:"Or type barcode manually...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]}),r.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["BarcodeDetector support: ",w?"✅ Enabled":"❌ Not available"]})]})]}):null}function ZA(e){const[t,a]=x.useState(!1),[s,l]=x.useState(null),{products:c}=v0();return{scanBarcode:h=>oe(null,null,function*(){if(!h.trim())return l("Please enter a valid barcode"),!1;a(!0),l(null);try{const m=c.find(y=>y.id===h||y.name.toLowerCase().includes(h.toLowerCase()));if(m)return e(m),!0;try{const w=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(h)}`)).json();if(w.message&&w.message.item_code){const b={id:w.message.item_code,name:w.message.item_name||w.message.item_code,category:w.message.item_group||"General",price:w.message.price||0,available:w.message.available||0,image:w.message.image,sold:0};return e(b),!0}else return l("Product not found for this barcode"),!1}catch(y){return console.error("API error:",y),l("Product not found for this barcode"),!1}}catch(m){return console.error("Barcode scanning error:",m),l("Error processing barcode"),!1}finally{a(!1)}}),isScanning:t,error:s,clearError:()=>l(null)}}function xl(e){const[t,a]=x.useState(!1);return x.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&a(s.matches);const l=()=>a(s.matches);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t,e]),t}function JA(){const[e,t]=x.useState("all"),[a,s]=x.useState(""),[l,c]=x.useState([]),[u,f]=x.useState(!1),[h,m]=x.useState(null),[y,w]=x.useState(null),{cartItems:b,addToCart:v,updateQuantity:k,removeItem:N,clearCart:$}=Zs(),{products:C,isLoading:L,error:M,refetch:B}=v0(),{posDetails:O}=er(),R=(O==null?void 0:O.custom_use_scanner_fully)||!1,ae=(O==null?void 0:O.hide_unavailable_items)||!1,q=(O==null?void 0:O.custom_scale_barcodes_start_with)||"";x.useEffect(()=>{console.log("[ScaleDebug] scalePrefix:",q)},[q]);const G=xl("(max-width: 1024px)"),H=P=>{if(!(P.available<=0)){if(R){console.log("Scanner-only mode enabled. Items can only be added via barcode scanning.");return}J(P)}},V=x.useCallback(P=>{if(!q||!P.startsWith(q))return{isScale:!1};if(!/^\d{12,13}$/.test(P))return{isScale:!1};const K=P.substring(0,7),ke=P.length>=13,Ie=P.substring(0,12),Ye=ke?P.substring(12,13):null,De=Ie.substring(7,12);if(!/^\d{5}$/.test(De))return{isScale:!1};if(ke){const Ce=(Ze=>{let xe=0;for(let Be=0;Be<12;Be++){const et=parseInt(Ze.charAt(Be),10);xe+=Be%2===0?et:et*3}const Pe=xe%10;return Pe===0?"0":String(10-Pe)})(Ie);Ce!==Ye&&console.warn("[ScaleDebug] invalid check digit",{raw:P,expected:Ce,check:Ye})}const lt=parseInt(De,10)/1e3;return Number.isNaN(lt)||lt<=0?{isScale:!1}:{isScale:!0,baseBarcode:K,quantity:lt}},[q]),Z=x.useCallback((P,K)=>oe(null,null,function*(){const ke=b.find(Ie=>Ie.id===P.id);ke?k(P.id,ke.quantity+K):(yield v({id:P.id,name:P.name,category:P.category,price:P.price,image:P.image,available:P.available,uom:P.uom,item_code:P.id}),k(P.id,K))}),[b,k,v]),J=P=>{const K=b.find(ke=>ke.id===P.id);K?k(P.id,K.quantity+1):v({id:P.id,name:P.name,category:P.category,price:P.price,image:P.image,available:P.available,uom:P.uom,item_code:P.id}),R&&console.log(`✅ Added ${P.name} to cart via barcode scanning`)},Ne=(P,K)=>{K<=0?N(P):k(P,K)},je=P=>{N(P)},X=()=>{$()},re=P=>{l.some(K=>K.code===P.code)||c([...l,P])},ne=P=>{c(l.filter(K=>K.code!==P))},{scanBarcode:Ae}=ZA(J),z=x.useCallback(P=>oe(null,null,function*(){(yield Ae(P))&&f(!1)}),[Ae]),me=P=>{if(s(P),R&&P.length>=8&&/^[0-9]+$/.test(P)&&console.log("Potential barcode input detected:",P),!!q&&P&&/^[0-9]+$/.test(P)&&P.startsWith(q)&&P.length>=7){const ke=P.substring(0,7),Ie=C.find(Ye=>Ye.id===ke||Ye.barcode&&Ye.barcode===ke);m(Ie?Ie.id:null),console.log("[ScaleDebug] typing:",{query:P,base:ke,matchedId:Ie==null?void 0:Ie.id,pinnedItemId:Ie?Ie.id:null})}else h&&(console.log("[ScaleDebug] clearing pinned due to not scale typing:",{query:P}),m(null));w(null)},T=P=>oe(null,null,function*(){var K;if(P.key==="Enter"&&a.trim()){if(P.preventDefault(),/^[0-9]+$/.test(a)&&q&&a.startsWith(q)){const ke=a.trim();if(ke.length!==13){Me.error("Scale barcode must be 13 digits including check digit");return}const Ie=ke.substring(0,12),Ye=ke.substring(12,13);if((Ht=>{let Ce=0;for(let xe=0;xe<12;xe++){const Pe=parseInt(Ht.charAt(xe),10);Ce+=xe%2===0?Pe:Pe*3}const Ze=Ce%10;return Ze===0?"0":String(10-Ze)})(Ie)!==Ye){Me.error("Invalid scale barcode check digit");return}const lt=V(ke);if(lt.isScale){const Ht=lt.baseBarcode,Ce=lt.quantity,Ze=C.find(xe=>xe.id===Ht||xe.barcode&&xe.barcode===Ht);if(Ze){console.log("[ScaleDebug] enter scale add:",{base:Ht,qty:Ce,itemId:Ze.id}),yield Z(Ze,Ce),s(""),m(null);return}try{const Pe=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(Ht)}`)).json();if((K=Pe==null?void 0:Pe.message)!=null&&K.item_code){const Be={id:Pe.message.item_code,name:Pe.message.item_name||Pe.message.item_code,category:Pe.message.item_group||"General",price:Pe.message.price||0,available:Pe.message.available||0,image:Pe.message.image,sold:0,uom:Pe.message.stock_uom};console.log("[ScaleDebug] enter scale API add:",{base:Ht,qty:Ce,itemId:Be.id}),yield Z(Be,Ce)}}catch(xe){}s(""),m(null);return}}if(R&&/^[0-9]+$/.test(a)){console.log("Processing as barcode:",a),z(a.trim()),s(""),m(null);return}console.log("Processing as product search:",a),oe(null,null,function*(){var ke;try{const Ye=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(a.trim())}`)).json();if(console.log("Batch/Serial lookup result:",Ye),(ke=Ye==null?void 0:Ye.message)!=null&&ke.item_code){const De={id:Ye.message.item_code,name:Ye.message.item_name||Ye.message.item_code,category:Ye.message.item_group||"General",price:Ye.message.price||0,available:Ye.message.available||0,image:Ye.message.image,sold:0};Z(De,1);const gt=Ye.message.matched_type,lt=Ye.message.matched_value;gt==="batch"?window.dispatchEvent(new CustomEvent("cart:setBatchForItem",{detail:{itemCode:De.id,batchId:lt}})):gt==="serial"&&window.dispatchEvent(new CustomEvent("cart:setSerialForItem",{detail:{itemCode:De.id,serialNo:lt}})),s(""),m(null)}}catch(Ie){}})}});x.useEffect(()=>{if(!R)return;const P=setTimeout(()=>{if(a.length>=8&&/^[0-9]+$/.test(a)){const K=V(a.trim());if(K.isScale){const ke=K.baseBarcode,Ie=K.quantity,Ye=C.find(De=>De.id===ke||De.barcode&&De.barcode===ke);if(Ye){console.log("[ScaleDebug] auto scale add:",{base:ke,qty:Ie,itemId:Ye.id}),Z(Ye,Ie),s(""),m(null);return}}console.log("Auto-processing potential barcode:",a),z(a.trim()),s(""),m(null)}},500);return()=>clearTimeout(P)},[a,z,R,C,V,Z]),x.useEffect(()=>{if(!a||!!q&&/^[0-9]+$/.test(a)&&a.startsWith(q)&&a.length>=7)return;let K=!1;const ke=setTimeout(()=>oe(null,null,function*(){var Ie;try{const De=yield(yield fetch(`/api/method/klik_pos.api.item.get_item_by_identifier?code=${encodeURIComponent(a.trim())}`)).json();!K&&((Ie=De==null?void 0:De.message)!=null&&Ie.item_code)&&w(De.message.item_code)}catch(Ye){K||w(null)}}),250);return()=>{K=!0,clearTimeout(ke)}},[a,q]);const ee=C.filter(P=>{var gt;if(ae&&P.available<=0)return!1;const K=e==="all"||P.category===e,ke=!!q&&a&&/^[0-9]+$/.test(a)&&a.startsWith(q)&&a.length>=7,Ie=h&&ke||ke?a.substring(0,7):a;ke&&console.log("[ScaleDebug] filter using base:",{searchQuery:a,base:Ie,pinnedItemId:h});const Ye=Ie===""||P.name.toLowerCase().includes(Ie.toLowerCase())||P.category.toLowerCase().includes(Ie.toLowerCase())||P.id.toLowerCase().includes(Ie.toLowerCase())||((gt=P.description)==null?void 0:gt.toLowerCase().includes(Ie.toLowerCase()))||P.barcode&&P.barcode.toLowerCase().includes(Ie.toLowerCase()),De=K&&Ye;if(h&&ke){const lt=De||P.id===h;return!De&&lt&&console.log("[ScaleDebug] keeping pinned in results:",{itemId:P.id,pinnedItemId:h}),lt}return y?De||P.id===y:De});if(L)return r.jsx(WA,{message:"Loading products..."});const ue=R&&!G&&r.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-600/90 text-white px-3 py-1.5 rounded-lg shadow-lg backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1z"})}),r.jsx("span",{className:"text-sm font-medium",children:"Scanner Only"})]})});if(M){const P=K=>K.includes("HTTP 403")||K.includes("403")?"Access denied. Please check your permissions or contact your administrator.":K.includes("HTTP 401")||K.includes("401")?"Authentication required. Please log in again.":K.includes("HTTP 404")||K.includes("404")?"Product service not available. Please contact your administrator.":K.includes("HTTP 500")||K.includes("500")?"Server error. Please try again later.":K.includes("Network error")||K.includes("fetch")?"Unable to connect to the server. Please check your internet connection.":K.includes("Authentication required")?"Please log in to access products.":K;return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center p-8",children:[r.jsx("div",{className:"text-red-500 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Failed to Load Products"}),r.jsx("p",{className:"text-gray-600 mb-4",children:P(M)}),r.jsx("button",{onClick:B,className:"bg-beveren-600 text-white px-6 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:"Try Again"})]})})}return G?r.jsxs(r.Fragment,{children:[r.jsx(XA,{items:ee,selectedCategory:e,onCategoryChange:t,searchQuery:a,onSearchChange:s,onScanBarcode:()=>f(!0),scannerOnly:R}),r.jsx(k2,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:z})]}):r.jsxs(r.Fragment,{children:[ue,r.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 pb-8",children:[r.jsx("div",{className:"flex-1 overflow-hidden ml-20",children:r.jsx(QC,{items:ee,selectedCategory:e,onCategoryChange:t,searchQuery:a,onSearchChange:me,onSearchKeyPress:T,onAddToCart:H,onScanBarcode:()=>f(!0),scannerOnly:R})}),r.jsx("div",{className:"w-[30%] min-w-[380px] max-w-[500px] bg-white shadow-lg overflow-y-auto",children:r.jsx(f4,{cartItems:b,onUpdateQuantity:Ne,onRemoveItem:je,onClearCart:X,appliedCoupons:l,onApplyCoupon:re,onRemoveCoupon:ne})})]}),r.jsx(k2,{isOpen:u,onClose:()=>f(!1),onBarcodeDetected:z})]})}function eO(){const[e,t]=x.useState(!1),[a,s]=x.useState(null),[l,c]=x.useState(!1);return{createOpeningEntry:(f,h)=>oe(null,null,function*(){t(!0),s(null),c(!1);const m=window.csrf_token;console.log("Opening",f,"POS Profile:",h);try{const y={opening_balance:f};h&&(y.pos_profile=h);const w=yield fetch("/api/method/klik_pos.api.pos_entry.create_opening_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":m},body:JSON.stringify(y),credentials:"include"}),b=yield w.json();if(w.ok&&b.message)c(!0);else throw new Error(b._server_messages||"Failed to create opening entry")}catch(y){console.error("Error creating POS Opening Entry:",y),s(y.message||"Unexpected error occurred")}finally{t(!1)}}),isCreating:e,error:a,success:l}}const tO=({isOpen:e,onClose:t,onSuccess:a,currentUser:s})=>{const[l,c]=x.useState("form"),[u,f]=x.useState(""),[h,m]=x.useState([]),[y,w]=x.useState(""),{createOpeningEntry:b,isCreating:v,error:k,success:N}=eO(),{profiles:$,loading:C}=N9(),{posDetails:L}=er(),{modes:M,isLoading:B,error:O}=P0(u),R=Z=>{switch(Z.toLowerCase()){case"cash":return r.jsx(nw,{className:"w-5 h-5 text-green-600"});case"bank":return r.jsx(Hr,{className:"w-5 h-5 text-blue-600"});default:return r.jsx(Y$,{className:"w-5 h-5 text-gray-600"})}};x.useEffect(()=>{$&&$.length>0&&!u&&f($[0])},[$,u]);const ae=Z=>{f(Z),m([])};x.useEffect(()=>{if(M&&M.length>0){const J=[...M].sort((Ne,je)=>Ne.default===1&&je.default!==1?-1:Ne.default!==1&&je.default===1?1:0).map(Ne=>({mode_of_payment:Ne.mode_of_payment,opening_amount:0,type:Ne.type||"General",account:Ne.default_account||Ne.account}));m(J)}},[M]),x.useEffect(()=>{O&&w(O)},[O]);const q=(Z,J)=>{const Ne=[...h];Ne[Z].opening_amount=J,m(Ne)},G=()=>oe(null,null,function*(){try{c("creating"),w("");const Z=h.map(J=>({mode_of_payment:J.mode_of_payment,opening_amount:J.opening_amount||0}));console.log("Opening balance data:",Z,"Selected profile:",u),yield b(Z,u)}catch(Z){console.error("Error creating opening entry:",Z),w(Z.message||"Failed to create opening entry"),c("form")}}),H=h.reduce((Z,J)=>Z+(J.opening_amount||0),0);if(x.useEffect(()=>{N&&l==="creating"&&(c("success"),setTimeout(()=>{a()},1500))},[N,l,a]),x.useEffect(()=>{k&&l==="creating"&&(w(k),c("form"))},[k,l]),x.useEffect(()=>{e&&(c("form"),w(""),f(""),m([]))},[e]),!e)return null;const V=u&&B;return r.jsx("div",{className:"fixed inset-0 bg-beveren-300 bg-opacity-10 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full max-h-[90vh] overflow-hidden",children:["        ",r.jsxs("div",{className:"bg-beveren-600 text-white px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"POS Opening Entry"}),r.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",disabled:v,children:r.jsx(gr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 relative",children:[l==="form"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"POS Profile"}),r.jsxs("select",{value:u,onChange:Z=>ae(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:C||V,children:[(!$||$.length===0)&&r.jsx("option",{value:"",children:C?"Loading profiles...":"No profiles available"}),$&&Array.isArray($)&&$.map((Z,J)=>{console.log("Rendering profile option:",Z);const Ne=typeof Z=="string"?Z:Z==null?void 0:Z.name,je=typeof Z=="string"?Z:(Z==null?void 0:Z.name)||`Profile ${J+1}`;return r.jsx("option",{value:Ne,children:je},Ne||J)})]})]}),V&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment methods..."})]}),!V&&h.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Opening Balances"}),r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:h.map((Z,J)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[R(Z.type),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900",children:Z.mode_of_payment}),r.jsx("div",{className:"text-xs text-gray-500",children:Z.type})]}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:Z.opening_amount||"",onChange:Ne=>q(J,parseFloat(Ne.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00",disabled:C})]},Z.mode_of_payment))}),r.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[r.jsx("span",{children:"Total Opening Balance:"}),r.jsx("span",{className:"text-green-600",children:nt(H,(L==null?void 0:L.currency)||"USD")})]})})]}),y&&r.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:[r.jsx(Oc,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("div",{children:y})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:C||v||V,children:"Cancel"}),r.jsx("button",{onClick:G,disabled:C||v||V||!u||h.length===0,className:"flex-1 px-4 py-2 bg-beveren-700 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:C?"Loading...":v?"Creating...":V?"Loading...":"Start POS Session"})]})]}),l==="creating"&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Opening Entry"}),r.jsx("p",{className:"text-gray-600",children:"Please wait while we set up your POS session..."})]}),l==="success"&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(q9,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"POS Session Started!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Opening entry created successfully. Redirecting to POS..."}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"})]}),C&&l==="form"&&!V&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})]})})};function aO(){const{isRTL:e}=hn(),[t,a]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(null),[f,h]=x.useState(!0),[m,y]=x.useState(null),[w,b]=x.useState(!1),{cartItems:v}=Zs(),{hasOpenEntry:k,isLoading:N,error:$,refetch:C}=qS();x.useEffect(()=>{oe(null,null,function*(){try{h(!0),y(null),Qn.initializeSession();const O=yield Qn.getCurrentUserProfile();if(O)u({name:O.name,email:O.email||O.name,full_name:O.full_name||O.first_name+" "+(O.last_name||""),role:O.role_profile_name||"User",user_image:O.user_image});else{const R=yield Qn.getCurrentUser();R?u({name:R,email:R,full_name:R,role:"User"}):y("No user session found")}}catch(O){console.error("Error fetching current user:",O),y(O.message||"Failed to fetch user")}finally{h(!1)}})},[]),x.useEffect(()=>{s&&!w&&setTimeout(()=>oe(null,null,function*(){BC()&&(console.log("Loading cached draft invoice items to cart"),yield FC()),b(!0)}),1e3)},[s,w]),x.useEffect(()=>{!N&&!$?k===!0?(l(!0),a(!1)):k===!1&&(l(!1),a(!0)):$&&(console.error("Error checking POS opening status:",$),l(!1),a(!0))},[k,N,$]);const L=()=>{a(!1),l(!0),b(!1),C()},M=()=>{a(!1)};return N?r.jsx("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} flex items-center justify-center`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initializing POS"}),r.jsx("p",{className:"text-gray-600",children:"Checking your POS session status..."})]})}):r.jsxs("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"} pb-12`,children:[s&&r.jsx(JA,{}),!s&&!t&&r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"POS Not Ready"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please start a POS session to continue."}),r.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Start POS Session"})]})}),r.jsx(tO,{isOpen:t,onClose:M,onSuccess:L,currentUser:c==null?void 0:c.name})]})}const rO={todaySales:{totalRevenue:324.98,totalTransactions:5,averageOrderValue:64.99,totalItems:12},weekSales:{totalRevenue:1847.32,totalTransactions:28,averageOrderValue:65.98,totalItems:89},monthSales:{totalRevenue:8234.56,totalTransactions:124,averageOrderValue:66.41,totalItems:387},giftCardUsage:{totalRedeemed:125,totalTransactions:4,averageDiscount:31.25},salesByDay:[{day:"Mon",sales:1234.56},{day:"Tue",sales:1456.78},{day:"Wed",sales:1678.9},{day:"Thu",sales:1890.12},{day:"Fri",sales:2012.34},{day:"Sat",sales:1789.45},{day:"Sun",sales:1567.23}]};function wy(e=""){const[t,a]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState(!1),[f,h]=x.useState(null),[m,y]=x.useState(!0),[w,b]=x.useState(0),[v,k]=x.useState(0),[N,$]=x.useState(0),C=100,[L,M]=x.useState(e);x.useEffect(()=>{const ae=setTimeout(()=>{M(e)},300);return()=>clearTimeout(ae)},[e]);const B=x.useCallback((ae=0,q=!1)=>oe(null,null,function*(){var G;q?u(!0):l(!0);try{const H=ae*C,V=L?`&search=${encodeURIComponent(L)}`:"",Z=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${C}&start=${H}${V}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!Z.ok)throw new Error(`HTTP ${Z.status}: ${Z.statusText}`);const J=yield Z.json();if(!J.message||!J.message.success)throw new Error(((G=J.message)==null?void 0:G.error)||J.error||"Failed to fetch invoices");const Ne=J.message.data,je=Ne.length,X=J.message.total_count||0;y(je===C),$(X);const re=Ne.map(ne=>({id:ne.name,date:ne.posting_date||new Date().toISOString().split("T")[0],time:ne.posting_time||"00:00:00",cashier:ne.cashier_name,cashierId:ne.owner||"",customer:ne.customer_name||"",customerId:ne.customer||"",items:ne.items||[],subtotal:(Number(ne.base_grand_total)||0)-(Number(ne.total_taxes_and_charges)||0)+(Number(ne.discount_amount)||0),giftCardDiscount:Number(ne.discount_amount)||0,giftCardCode:String(ne.discount_code)||"",taxAmount:Number(ne.total_taxes_and_charges)||0,totalAmount:Number(ne.base_grand_total)||0,paymentMethod:ne.mode_of_payment||"-",amountPaid:Number(ne.base_rounded_total)||0,changeGiven:Number(ne.change_amount)||0,status:ne.status||"Completed",refundAmount:ne.status==="Refunded"&&Number(ne.base_grand_total)||0,custom_zatca_submit_status:ne.custom_zatca_submit_status||"Draft",currency:ne.currency||"USD",notes:ne.remarks||"",posProfile:ne.pos_profile||"",custom_pos_opening_entry:ne.custom_pos_opening_entry||""}));q?(a(ne=>[...ne,...re]),k(ne=>ne+je)):(a(re),k(je)),b(ae),h(null)}catch(H){h(H.message||"Unknown error occurred")}finally{l(!1),u(!1)}}),[L]),O=x.useCallback(()=>{!c&&m&&B(w+1,!0)},[w,c,m,B]),R=x.useCallback(()=>{b(0),k(0),y(!0),B(0,!1)},[B]);return x.useEffect(()=>{b(0),k(0),y(!0),B(0,!1)},[L,B]),{invoices:t,isLoading:s,isLoadingMore:c,error:f,hasMore:m,totalLoaded:v,totalCount:N,loadMore:O,refetch:R}}function h4(){const[e,t]=x.useState(null),[a,s]=x.useState(!0),[l,c]=x.useState(null),u=()=>oe(null,null,function*(){var f,h;s(!0);try{const m=yield fetch("/api/method/klik_pos.api.user.get_current_user_info",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),y=yield m.json();if(m.ok&&((f=y.message)!=null&&f.success))t(y.message.data),c(null);else throw new Error(((h=y.message)==null?void 0:h.error)||"Failed to fetch user info")}catch(m){console.error("Error loading user info:",m),c(m.message||"Unknown error")}finally{s(!1)}});return x.useEffect(()=>{u()},[]),{userInfo:e,isLoading:a,error:l,refetch:u}}function nO(){var z,me;const e=Ma(),t=xl("(max-width: 1024px)"),{posDetails:a}=er(),{invoices:s,isLoading:l}=wy(),{userInfo:c,isLoading:u}=h4(),[f,h]=x.useState("today");q0((a==null?void 0:a.currency)||"USD");const m=(c==null?void 0:c.is_admin_user)||!1,y=(c==null?void 0:c.full_name)||"Unknown",[w,b]=x.useState("all"),[v,k]=x.useState("all"),[N,$]=x.useState(!1),[C,L]=x.useState("bar"),M=rO,B=[...new Set(s.map(T=>T.cashier))];if(x.useEffect(()=>{c&&!m&&b(y)},[c,m,y]),u||l)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading dashboard..."})]})});const R=(()=>{switch(f){case"today":return M.todaySales;case"week":return M.weekSales;case"month":return M.monthSales;default:return M.todaySales}})(),ae=s.filter(T=>{const ee=w==="all"||T.cashier===w,ue=v==="all"||T.paymentMethod===v,P=new Date().toISOString().split("T")[0],K=f==="today"&&T.date===P||f==="week"&&new Date(T.date)>=new Date(Date.now()-7*24*60*60*1e3)||f==="month"&&new Date(T.date)>=new Date(Date.now()-30*24*60*60*1e3),ke=m||!(a!=null&&a.name)||T.posProfile===a.name;return ee&&ue&&K&&ke}),q={totalRevenue:ae.reduce((T,ee)=>T+ee.totalAmount,0),totalTransactions:ae.length,averageOrderValue:ae.length>0?ae.reduce((T,ee)=>T+ee.totalAmount,0)/ae.length:0,totalItems:ae.reduce((T,ee)=>T+ee.items.length,0)},H=(()=>{if(f!=="today")return[];const T=new Date().toISOString().split("T")[0],ee=ae.filter(P=>P.date===T),ue={};for(let P=9;P<=20;P++){const K=`${P.toString().padStart(2,"0")}:00`;ue[K]=0}return ee.forEach(P=>{const K=P.time.split(":");if(K.length>=2){const ke=`${K[0].padStart(2,"0")}:00`;ue.hasOwnProperty(ke)&&(ue[ke]+=P.totalAmount)}}),Object.entries(ue).map(([P,K])=>({hour:P,sales:K}))})(),Z=(()=>{const T={};ae.forEach(ue=>{const P=ue.paymentMethod||"Cash";T[P]||(T[P]={amount:0,transactions:0}),T[P].amount+=ue.totalAmount,T[P].transactions+=1});const ee=Object.values(T).reduce((ue,P)=>ue+P.amount,0);return Object.entries(T).map(([ue,P])=>({method:ue,amount:P.amount,percentage:ee>0?P.amount/ee*100:0,transactions:P.transactions}))})(),Ne=(()=>{const T={};ae.forEach(K=>{const ke=K.custom_zatca_submit_status||"Draft";T[ke]=(T[ke]||0)+1});const ee=Object.values(T).reduce((K,ke)=>K+ke,0),ue={pending:"#f59e0b",reported:"#3b82f6","not reported":"#9ca3af",cleared:"#16a34a","not cleared":"#ef4444",draft:"#6b7280"},P=Object.entries(T).map(([K,ke])=>{const Ie=K.toLowerCase(),Ye=ue[Ie]||"#9ca3af";return{status:K,count:ke,percentage:ee>0?ke/ee*100:0,color:Ye}});return{total:ee,segments:P.sort((K,ke)=>ke.count-K.count)}})(),X=(()=>{const T={};return ae.forEach(ue=>{const P=ue.cashier||"Unknown";T[P]||(T[P]={name:P,sales:0,transactions:0}),T[P].sales+=ue.totalAmount,T[P].transactions+=1}),Object.values(T).sort((ue,P)=>P.sales-ue.sales)[0]||null})(),ne=(()=>{const T={};return ae.forEach(ee=>{ee.items.forEach(ue=>{const P=ue.item_code||ue.item_name||"Unknown";T[P]||(T[P]={name:ue.item_name||ue.item_code||"Unknown",sales:0,revenue:0}),T[P].sales+=ue.qty||0,T[P].revenue+=(ue.rate||0)*(ue.qty||0)})}),Object.entries(T).map(([ee,ue])=>U({id:ee},ue)).sort((ee,ue)=>ue.revenue-ee.revenue).slice(0,5)})(),Ae=ae.sort((T,ee)=>new Date(ee.date+" "+ee.time).getTime()-new Date(T.date+" "+T.time).getTime()).slice(0,5);return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>$(!N),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(lg,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Filters"})]})})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[N&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),r.jsxs("select",{value:f,onChange:T=>h(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),r.jsxs("select",{value:w,onChange:T=>b(T.target.value),disabled:!m,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${m?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("option",{value:"all",children:"All Cashiers"}),B.map(T=>r.jsx("option",{value:T,children:T},T))]}),!m&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),r.jsxs("select",{value:v,onChange:T=>k(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Methods"}),r.jsx("option",{value:"Cash",children:"Cash"}),r.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{h("today"),b("all"),k("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:nt(w!=="all"||v!=="all"?q.totalRevenue:R.totalRevenue,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(Rc,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?q.totalTransactions:R.totalTransactions}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Is,{className:"w-4 h-4 text-blue-500 mr-1"}),r.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"+8.2%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:r.jsx(Dc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:nt(w!=="all"||v!=="all"?q.averageOrderValue:R.averageOrderValue,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(zo,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?q.totalItems:R.totalItems}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(u1,{className:"w-4 h-4 text-red-500 mr-1"}),r.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(i1,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[f==="today"&&H.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>L("bar"),className:`px-2 py-1 text-xs rounded transition-colors ${C==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Bar"}),r.jsx("button",{onClick:()=>L("line"),className:`px-2 py-1 text-xs rounded transition-colors ${C==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Line"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sl,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Peak: ",((z=H.reduce((T,ee)=>ee.sales>T.sales?ee:T,H[0]))==null?void 0:z.hour)||"N/A"]})]})]})]}),r.jsx("div",{className:"h-48 flex items-end justify-between space-x-1",children:H.map((T,ee)=>{const ue=Math.max(...H.map(K=>K.sales)),P=ue>0?T.sales/ue*180:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[C==="bar"?r.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${P}px`,minHeight:"4px"},title:`${T.hour}: ${nt(T.sales,(a==null?void 0:a.currency)||"USD")}`}):r.jsx("div",{className:"relative w-full h-full",children:r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[ee>0&&r.jsx("line",{x1:"0",y1:`${100-H[ee-1].sales/ue*100}`,x2:"100",y2:`${100-T.sales/ue*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),r.jsx("circle",{cx:"100",cy:`${100-T.sales/ue*100}`,r:"2",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),r.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:nt(T.sales,(a==null?void 0:a.currency)||"USD")})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:T.hour})]},ee)})}),r.jsx("div",{className:"mt-3 text-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:nt(H.reduce((T,ee)=>T+ee.sales,0),(a==null?void 0:a.currency)||"USD")})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),r.jsx(l1,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("div",{className:"space-y-4",children:[Z.map((T,ee)=>{const ue=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],P=ue[ee%ue.length];return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 ${P} rounded`}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:T.method})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:nt(T.amount,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.percentage.toFixed(1),"% • ",T.transactions," txns"]})]})]},T.method)}),Z.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:Z.map((T,ee)=>{const ue=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],P=ue[ee%ue.length];return r.jsx("div",{className:P,style:{width:`${T.percentage}%`}},T.method)})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(a==null?void 0:a.is_zatca_enabled)&&Ne.total>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),r.jsx(zo,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"h-48 flex items-end justify-between space-x-2 mb-4",children:Ne.segments.map((T,ee)=>{const ue=Math.max(...Ne.segments.map(K=>K.count)),P=ue>0?T.count/ue*180:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${P}px`,minHeight:"4px",backgroundColor:T.color},title:`${T.status}: ${T.count} (${Math.round(T.percentage)}%)`}),r.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:T.count})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center leading-tight",children:T.status})]},T.status)})}),r.jsx("div",{className:"space-y-2",children:Ne.segments.map(T=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:T.color}}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:T.status})]}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[T.count," (",Math.round(T.percentage),"%)"]})]},T.status))}),r.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:Ne.total})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Gift Card Usage"}),r.jsx(iw,{className:"w-5 h-5 text-orange-600"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Redeemed"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:nt(M.giftCardUsage.totalRedeemed,(a==null?void 0:a.currency)||"USD")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:M.giftCardUsage.totalTransactions})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Discount"}),r.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:nt(M.giftCardUsage.averageDiscount,(a==null?void 0:a.currency)||"USD")})]}),r.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(M.giftCardUsage.totalTransactions/R.totalTransactions*100).toFixed(1),"% of all transactions"]})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),r.jsx(Ys,{className:"w-5 h-5 text-beveren-600"})]}),X?r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[r.jsx("span",{className:"text-white font-bold text-xl",children:X.name.split(" ").map(T=>T[0]).join("")}),r.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:"👑"})})]}),r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:X.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[X.transactions," transactions"]}),r.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:nt(X.sales,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[q.totalRevenue>0?(X.sales/q.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Weekly Trend"}),r.jsx(cy,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"h-24 flex items-end justify-between space-x-1 mb-4",children:M.salesByDay.map((T,ee)=>r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${T.sales/Math.max(...M.salesByDay.map(ue=>ue.sales))*60}px`,minHeight:"4px"},title:`${T.day}: ${nt(T.sales,(a==null?void 0:a.currency)||"USD")}`}),r.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-1 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:nt(T.sales,(a==null?void 0:a.currency)||"USD")})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:T.day})]},ee))}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Best day: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:"Friday"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),r.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),r.jsxs("div",{className:"space-y-3",children:[ne.map((T,ee)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:ee+1})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[T.sales," sold"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:nt(T.revenue,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[nt(T.sales>0?T.revenue/T.sales:0,(a==null?void 0:a.currency)||"USD")," avg"]})]})]},T.id)),ne.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),r.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),r.jsxs("div",{className:"space-y-3",children:[Ae.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:T.paymentMethod==="Cash"?r.jsx("span",{className:"text-lg",children:"💵"}):r.jsx(Hr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.customer," • ",T.time]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:nt(T.totalAmount,T.currency||(a==null?void 0:a.currency)||"USD")}),r.jsx("div",{className:`text-xs ${T.status==="Completed"?"text-green-600 dark:text-green-400":T.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:T.status})]})]},T.id)),Ae.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]}),r.jsx(as,{})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Dashboard"})}),r.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:r.jsxs("button",{onClick:()=>$(!N),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(lg,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})})]})})}),r.jsxs("div",{className:"flex-1 px-6 py-8 mt-16",children:[N&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6 sm:mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Dashboard Filters"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),r.jsxs("select",{value:f,onChange:T=>h(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cashier"}),r.jsxs("select",{value:w,onChange:T=>b(T.target.value),disabled:!m,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${m?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("option",{value:"all",children:"All Cashiers"}),B.map(T=>r.jsx("option",{value:T,children:T},T))]}),!m&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),r.jsxs("select",{value:v,onChange:T=>k(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Methods"}),r.jsx("option",{value:"Cash",children:"Cash"}),r.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{h("today"),b("all"),k("all")},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset Filters"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:nt(w!=="all"||v!=="all"?q.totalRevenue:R.totalRevenue,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+12.5%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(Rc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Transactions"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?q.totalTransactions:R.totalTransactions}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-blue-400",children:"+8.2%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:r.jsx(Dc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:nt(w!=="all"||v!=="all"?q.averageOrderValue:R.averageOrderValue,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Is,{className:"w-4 h-4 text-orange-500 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:"+3.8%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(zo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Items Sold"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:w!=="all"||v!=="all"?q.totalItems:R.totalItems}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(u1,{className:"w-4 h-4 text-red-500 mr-1"}),r.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"-2.1%"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 hidden sm:inline",children:"vs last period"})]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:r.jsx(i1,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[f==="today"&&H.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sales by Hour (Today)"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>L("bar"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${C==="bar"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Bar"}),r.jsx("button",{onClick:()=>L("line"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${C==="line"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Line"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sl,{className:"w-5 h-5 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Peak: ",((me=H.reduce((T,ee)=>ee.sales>T.sales?ee:T,H[0]))==null?void 0:me.hour)||"N/A"]})]})]})]}),r.jsx("div",{className:"h-48 sm:h-64 flex items-end justify-between space-x-1",children:H.map((T,ee)=>{const ue=Math.max(...H.map(K=>K.sales)),P=ue>0?T.sales/ue*180:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[C==="bar"?r.jsx("div",{className:"w-full bg-beveren-600 dark:bg-beveren-500 rounded-t hover:bg-beveren-700 dark:hover:bg-beveren-400 transition-colors cursor-pointer",style:{height:`${P}px`,minHeight:"4px"},title:`${T.hour}: ${nt(T.sales,(a==null?void 0:a.currency)||"USD")}`}):r.jsx("div",{className:"relative w-full h-full",children:r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[ee>0&&r.jsx("line",{x1:"0",y1:`${100-H[ee-1].sales/ue*100}`,x2:"100",y2:`${100-T.sales/ue*100}`,stroke:"currentColor",strokeWidth:"2",className:"text-beveren-600 dark:text-beveren-400"}),r.jsx("circle",{cx:"100",cy:`${100-T.sales/ue*100}`,r:"3",fill:"currentColor",className:"text-beveren-600 dark:text-beveren-400"})]})}),r.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:nt(T.sales,(a==null?void 0:a.currency)||"USD")})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:T.hour})]},ee)})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Revenue: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:nt(H.reduce((T,ee)=>T+ee.sales,0),(a==null?void 0:a.currency)||"USD")})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Methods"}),r.jsx(l1,{className:"w-5 h-5 text-gray-400"})]}),r.jsxs("div",{className:"space-y-4",children:[Z.map((T,ee)=>{const ue=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],P=ue[ee%ue.length];return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 ${P} rounded`}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:T.method})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:nt(T.amount,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.percentage.toFixed(1),"% • ",T.transactions," txns"]})]})]},T.method)}),Z.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No payment data available for selected period"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"flex rounded-lg overflow-hidden h-4",children:Z.map((T,ee)=>{const ue=["bg-orange-500","bg-beveren-600","bg-green-500","bg-purple-500","bg-pink-500"],P=ue[ee%ue.length];return r.jsx("div",{className:P,style:{width:`${T.percentage}%`}},T.method)})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(a==null?void 0:a.is_zatca_enabled)&&Ne.total>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ZATCA Status"}),r.jsx(zo,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"h-64 flex items-end justify-between space-x-3 mb-6",children:Ne.segments.map((T,ee)=>{const ue=Math.max(...Ne.segments.map(K=>K.count)),P=ue>0?T.count/ue*200:4;return r.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{className:"w-full rounded-t hover:opacity-80 transition-opacity cursor-pointer",style:{height:`${P}px`,minHeight:"4px",backgroundColor:T.color},title:`${T.status}: ${T.count} (${Math.round(T.percentage)}%)`}),r.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:T.count})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center leading-tight",children:T.status})]},T.status)})}),r.jsx("div",{className:"space-y-3",children:Ne.segments.map(T=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:T.color}}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:T.status})]}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[T.count," (",Math.round(T.percentage),"%)"]})]},T.status))}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Total Invoices: ",r.jsx("span",{className:"font-semibold text-beveren-600 dark:text-beveren-400",children:Ne.total})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performer"}),r.jsx(Ys,{className:"w-5 h-5 text-beveren-600"})]}),X?r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center mx-auto mb-3 relative",children:[r.jsx("span",{className:"text-white font-bold text-xl",children:X.name.split(" ").map(T=>T[0]).join("")}),r.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:"👑"})})]}),r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:X.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[X.transactions," transactions"]}),r.jsx("p",{className:"text-lg font-bold text-beveren-600 dark:text-beveren-400",children:nt(X.sales,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[q.totalRevenue>0?(X.sales/q.totalRevenue*100).toFixed(1):0,"% of total sales"]})]}):r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No sales data available for selected period"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),r.jsx("button",{className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All"})]}),r.jsxs("div",{className:"space-y-4",children:[ne.map((T,ee)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-beveren-100 dark:bg-beveren-900/20 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-beveren-600 dark:text-beveren-400",children:ee+1})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:[T.sales," sold"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:nt(T.revenue,(a==null?void 0:a.currency)||"USD")}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[nt(T.sales>0?T.revenue/T.sales:0,(a==null?void 0:a.currency)||"USD")," avg"]})]})]},T.id)),ne.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No product data available for selected period"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Transactions"}),r.jsx("button",{onClick:()=>e("/closing_shift"),className:"text-sm text-beveren-600 dark:text-beveren-400 hover:underline",children:"View All Reports"})]}),r.jsxs("div",{className:"space-y-4",children:[Ae.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:T.paymentMethod==="Cash"?r.jsx("span",{className:"text-lg",children:"💵"}):r.jsx(Hr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.customer," • ",T.time]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:nt(T.totalAmount,T.currency||(a==null?void 0:a.currency)||"USD")}),r.jsx("div",{className:`text-xs ${T.status==="Completed"?"text-green-600 dark:text-green-400":T.status==="Refunded"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`,children:T.status})]})]},T.id)),Ae.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions available for selected period"})]})]})]})]})]})})}function m4(e){const[t,a]=x.useState(null),[s,l]=x.useState(!1),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;oe(null,null,function*(){var h;l(!0);try{console.log("Fetching invoice details for:",e);const m=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_invoice_details?invoice_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Invoice details response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const y=yield m.json();if(console.log("Invoice details data:",y),!y.message||!y.message.success)throw new Error(((h=y.message)==null?void 0:h.error)||y.error||"Failed to fetch invoice");a(y.message.data)}catch(m){console.error("Error fetching invoice details:",m),m instanceof Error?u(m.message):u("Unknown error")}finally{l(!1)}})},[e]),{invoice:t,isLoading:s,error:c}}function ed({invoice:e,isOpen:t,onClose:a,onRefund:s,onCancel:l}){if(!t||!e)return null;const{invoice:c,isLoading:u,error:f}=m4(e.id||null);if(u)return r.jsx("div",{children:"Loading invoice..."});if(f)return r.jsxs("div",{children:["Error loading invoice: ",f]});const h=c||e,m=w=>{switch(w){case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},y=w=>oe(null,null,function*(){try{const b=yield M0(w);console.log(b),Me.success(`Invoice returned: ${b.return_invoice}`)}catch(b){Me.error(b.message||"Failed to return invoice")}});return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:a}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m(h.status)}`,children:h.status})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(og,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(Mc,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(gr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(Au,{icon:r.jsx(cy,{}),label:"Date & Time",value:`${h.posting_date} at ${h.posting_time}`}),r.jsx(Au,{icon:r.jsx(zr,{}),label:"Customer",value:h.customer}),r.jsx(Au,{icon:r.jsx(zr,{}),label:"Cashier",value:h.cashier}),r.jsx(Au,{icon:r.jsx(Hr,{}),label:"Payment Method",value:h.paymentMethod})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Order Items"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Item Code"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Quantity"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left uppercase tracking-wider font-medium",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:h.items.map((w,b)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:w.item_name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:w.category})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs font-mono text-gray-800 dark:text-gray-200",children:w.item_code})}),r.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:w.qty}),r.jsxs("td",{className:"px-6 py-4 text-gray-900 dark:text-white",children:["$",w.rate.toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["$",w.amount.toFixed(2)]})]},b))})]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[h.giftCardCode&&r.jsx(sO,{code:h.giftCardCode,discount:h.giftCardDiscount}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Ou,{label:"Subtotal",value:h.total}),h.giftCardDiscount>0&&r.jsx(Ou,{label:"Gift Card Discount",value:-h.giftCardDiscount,color:"green"}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:r.jsx(Ou,{label:"Total",value:h.grand_total,bold:!0})}),h.status==="Refunded"&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:r.jsx(Ou,{label:"Refunded Amount",value:h.refundAmount,color:"red",bold:!0})})]})]}),r.jsxs("div",{className:"space-y-3",children:[h.status==="Paid"&&r.jsx(Am,{onClick:()=>y(h.name),icon:r.jsx(ll,{}),color:"orange",text:"Process Returns"}),h.status==="Pending"&&r.jsx(Am,{onClick:()=>l(h.id),icon:r.jsx(Bo,{}),color:"red",text:"Cancel Order"}),r.jsx(Am,{icon:r.jsx(Mc,{}),text:"Print Receipt"})]}),h.notes&&r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100 mb-2",children:"Notes"}),r.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:h.notes})]})]})]})})]})]})})}function Au({icon:e,label:t,value:a}){return r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:e}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a})]})]})}function Ou({label:e,value:t,color:a,bold:s}){const l=`flex justify-between ${a?`text-${a}-600 dark:text-${a}-400`:""}`,c=s?"font-bold":"font-semibold";return r.jsxs("div",{className:l,children:[r.jsx("span",{className:s?"text-lg font-bold":"",children:e}),r.jsxs("span",{className:c,children:["$",Math.abs(t)]})]})}function sO({code:e,discount:t}){return r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(F$,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Gift Card Applied"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Code"}),r.jsx("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:e})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Discount"}),r.jsxs("span",{className:"font-semibold text-purple-900 dark:text-purple-100",children:["-$",t]})]})]})]})}function Am({onClick:e,icon:t,text:a,color:s}){const l=s==="red"?"bg-red-600 hover:bg-red-700":s==="orange"?"bg-orange-600 hover:bg-orange-700":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700";return r.jsxs("button",{onClick:e,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl transition-colors ${l} text-white`,children:[t,r.jsx("span",{children:a})]})}function iO(e,t,a){return oe(this,null,function*(){try{const s=yield fetch("/api/method/klik_pos.api.sales_invoice.returned_qty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e,sales_invoice:t,item:a})}),l=yield s.json();if(!s.ok)throw new Error(l.message||"Failed to get returned quantity");return{success:!0,data:l.message}}catch(s){return console.error("Error getting returned quantity:",s),{success:!1,error:s.message||"Failed to get returned quantity"}}})}function Om(e,t,a,s){return oe(this,null,function*(){try{const l=new URLSearchParams(U(U(U({customer:e},t&&{start_date:t}),a&&{end_date:a}),s&&{shipping_address:s})),c=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_customer_invoices_for_return?${l}`),u=yield c.json();if(!c.ok||!u.message.success)throw new Error(u.message.error||"Failed to fetch customer invoices");return{success:!0,data:u.message.data}}catch(l){return console.error("Error fetching customer invoices for return:",l),{success:!1,error:l.message||"Failed to fetch customer invoices"}}})}function oO(e,t,a,s){return oe(this,null,function*(){const l=window.csrf_token;try{const c=yield fetch("/api/method/klik_pos.api.sales_invoice.create_partial_return",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":l},body:JSON.stringify({invoice_name:e,return_items:t,payment_method:a||"Cash",return_amount:s||0}),credentials:"include"}),u=yield c.json();if(console.log("Partial return response:",u),!c.ok)throw new Error(u.message||"Failed to create partial return");const f=u.message||u;if(!f.success)throw new Error(f.message||"Failed to create partial return");return{success:!0,returnInvoice:f.return_invoice,message:f.message}}catch(c){return console.error("Error creating partial return:",c),{success:!1,error:c.message||"Failed to create partial return"}}})}function lO(e){return oe(this,null,function*(){const t=window.csrf_token;try{const a=yield fetch("/api/method/klik_pos.api.sales_invoice.create_multi_invoice_return",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Frappe-CSRF-Token":t},body:new URLSearchParams({return_data:JSON.stringify(e)}).toString(),credentials:"include"}),s=yield a.json();if(console.log("Multi-invoice return response:",s),!a.ok)throw new Error(s.message||"Failed to create multi-invoice return");const l=s.message||s;if(!l.success)throw new Error(l.message||"Failed to create multi-invoice return");return{success:!0,createdReturns:l.created_returns,message:l.message}}catch(a){return console.error("Error creating multi-invoice return:",a),{success:!1,error:a.message||"Failed to create multi-invoice return"}}})}function G0({invoice:e,isOpen:t,onClose:a,onSuccess:s}){const[l,c]=x.useState([]),[u,f]=x.useState(!1),[h,m]=x.useState(!0),{posDetails:y}=er(),w=e&&(e.currency||e.company_currency)||(y==null?void 0:y.currency)||"USD",b=q0(w),{modes:v,isLoading:k}=P0((y==null?void 0:y.name)||"Test POS Profile"),[N,$]=x.useState("Cash"),[C,L]=x.useState(0);x.useEffect(()=>{t&&e&&M()},[t,e]),x.useEffect(()=>{const H=l.reduce((V,Z)=>V+(Z.return_qty||0)*Z.rate,0);L(H)},[l]),x.useEffect(()=>{if(v.length>0&&!N){const H=v.find(V=>V.default===1);$((H==null?void 0:H.name)||v[0].name)}},[v,N]);const M=()=>oe(null,null,function*(){var H,V,Z,J,Ne,je,X;m(!0);try{let re=e;if(!e.items||e.items.length===0){const z=yield t8(e.name||e.id);if(z.success&&z.data)re=z.data.data||z.data;else throw console.error("Failed to fetch invoice details:",z.error),new Error(z.error||"Failed to fetch invoice details from backend")}const ne=[],Ae=re.items||re.items_list||re.sales_invoice_items||[];if(!Array.isArray(Ae))throw console.error("Items is not an array:",Ae),new Error("Invoice items not found in expected format");for(const z of Ae){console.log("Processing item:",z);const me=yield iO(re.customer,re.name||re.id,z.item_code||z.id),T=me.success&&((H=me.data)==null?void 0:H.total_returned_qty)||0,ee=z.item_code||z.id,ue=z.item_name||z.name,P=Number((Z=(V=z.qty)!=null?V:z.quantity)!=null?Z:0),K=Number((Ne=(J=z.rate)!=null?J:z.unitPrice)!=null?Ne:0),ke=Number((X=(je=z.amount)!=null?je:z.total)!=null?X:P*K);console.log("Extracted values:",{itemCode:ee,itemName:ue,qty:P,rate:K,amount:ke,returnedQty:T}),ne.push({item_code:ee,item_name:ue,qty:P,rate:K,amount:ke,returned_qty:T,available_qty:P-T,return_qty:P-T})}c(ne)}catch(re){console.error("Error initializing return items:",re),Me.error("Failed to load return data")}finally{m(!1)}}),B=(H,V)=>{c(Z=>Z.map(J=>{if(J.item_code===H){const Ne=Math.max(0,Math.min(V,J.available_qty));return de(U({},J),{return_qty:Ne})}return J}))},O=()=>{c(H=>H.map(V=>de(U({},V),{return_qty:V.available_qty})))},R=()=>{c(H=>H.map(V=>de(U({},V),{return_qty:0})))},ae=()=>oe(null,null,function*(){const H=l.filter(Z=>Z.return_qty&&Z.return_qty>0);if(H.length===0){Me.error("Please select at least one item to return");return}f(!0);const V=e.id||e.name;try{const Z={items:H,paymentMethod:N,returnAmount:C};console.log("Creating return with payment method:",N,"Amount:",C);const J=yield oO(V,H,N,C);J.success?(Me.success(`Return created successfully (${N})`),s(J.returnInvoice),a()):Me.error(J.error||"Failed to create return")}catch(Z){console.error("Error creating return:",Z),Me.error("Failed to create return")}finally{f(!1)}}),q=l.reduce((H,V)=>H+(V.return_qty||0)*V.rate,0),G=l.some(H=>(H.return_qty||0)>0);return t?r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:r.jsx(zi,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Return Items"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice: ",(e==null?void 0:e.name)||(e==null?void 0:e.id)," • Customer: ",e==null?void 0:e.customer]})]})]}),r.jsx("button",{onClick:a,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(gr,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading return data..."})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:O,className:"px-4 py-2 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors text-sm font-medium",children:"Return All Available"}),r.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Clear All"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),r.jsx("p",{className:"text-xl font-bold text-black-600 dark:text-orange-400",children:nt(q,w)})]})]}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sold Qty"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Returned"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Qty"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:l.map(H=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(s0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:H.item_name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",H.item_code]})]})]})}),r.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-900 dark:text-white",children:H.qty}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:H.returned_qty})}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("span",{className:`text-sm font-medium ${H.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:H.available_qty})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("button",{onClick:()=>B(H.item_code,(H.return_qty||0)-1),disabled:!H.return_qty||H.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(uy,{className:"w-4 h-4"})}),r.jsx("input",{type:"number",min:"0",max:H.available_qty,value:H.return_qty||0,onChange:V=>B(H.item_code,parseInt(V.target.value)||0),className:"w-16 px-2 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",disabled:H.available_qty===0}),r.jsx("button",{onClick:()=>B(H.item_code,(H.return_qty||0)+1),disabled:H.available_qty===0||(H.return_qty||0)>=H.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(Pc,{className:"w-4 h-4"})})]})}),r.jsx("td",{className:"px-4 py-4 text-right text-sm text-gray-900 dark:text-white",children:nt(H.rate,w)}),r.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:nt((H.return_qty||0)*H.rate,w)})]},H.item_code))})]})})}),l.every(H=>H.available_qty===0)&&r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Lc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Items Available for Return"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"All items from this invoice have already been returned."})]})]})}),G&&r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Method for Return"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{children:r.jsx("select",{value:N,onChange:H=>$(H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors",disabled:k,children:k?r.jsx("option",{children:"Loading payment methods..."}):v.map(H=>r.jsx("option",{value:H.name,children:H.mode_of_payment},H.name))})}),r.jsx("div",{children:r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:b}),r.jsx("input",{type:"number",value:C,onChange:H=>L(parseFloat(H.target.value)||0),step:"0.01",min:"0",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 focus:border-beveren-500 transition-colors text-right text-lg font-semibold",placeholder:"0.00"})]})})]})]})]})}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:G&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Fi,{className:"w-4 h-4 text-green-500"}),r.jsxs("span",{children:[l.filter(H=>(H.return_qty||0)>0).length," item(s) selected for return"]})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),r.jsx("button",{onClick:ae,disabled:!G||u||h,className:`px-6 py-2 rounded-lg font-medium transition-colors ${G&&!u&&!h?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:u?"Processing...":"Create Return"})]})]})})]})}):null}function cO(){const[e,t]=x.useState(!1),[a,s]=x.useState(null),[l,c]=x.useState(!1);return{createClosingEntry:f=>oe(null,null,function*(){t(!0),s(null),c(!1);const h=window.csrf_token;try{const m=yield fetch("/api/method/klik_pos.api.pos_entry.create_closing_entry",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":h,Accept:"application/json"},body:JSON.stringify({closing_balance:f}),credentials:"include"});if(console.log("Closing entry response:",{status:m.status,statusText:m.statusText,ok:m.ok}),!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const y=yield m.json();if(console.log("Closing entry data:",y),y.message)c(!0);else throw new Error(y._server_messages||"Failed to create closing entry")}catch(m){console.error("Error creating POS Closing Entry:",m),s(m.message||"Unexpected error occurred")}finally{t(!1)}}),isCreating:e,error:a,success:l}}function dO(e,t){const a=x.createContext(t),s=c=>{const m=c,{children:u}=m,f=Lt(m,["children"]),h=x.useMemo(()=>f,Object.values(f));return r.jsx(a.Provider,{value:h,children:u})};s.displayName=e+"Provider";function l(c){const u=x.useContext(a);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[s,l]}function g4(e,t=[]){let a=[];function s(c,u){const f=x.createContext(u),h=a.length;a=[...a,u];const m=w=>{var L;const C=w,{scope:b,children:v}=C,k=Lt(C,["scope","children"]),N=((L=b==null?void 0:b[e])==null?void 0:L[h])||f,$=x.useMemo(()=>k,Object.values(k));return r.jsx(N.Provider,{value:$,children:v})};m.displayName=c+"Provider";function y(w,b){var N;const v=((N=b==null?void 0:b[e])==null?void 0:N[h])||f,k=x.useContext(v);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[m,y]}const l=()=>{const c=a.map(u=>x.createContext(u));return function(f){const h=(f==null?void 0:f[e])||c;return x.useMemo(()=>({[`__scope${e}`]:de(U({},f),{[e]:h})}),[f,h])}};return l.scopeName=e,[s,uO(l,...t)]}function uO(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const s=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=s.reduce((f,{useScope:h,scopeName:m})=>{const w=h(c)[`__scope${m}`];return U(U({},f),w)},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return a.scopeName=t.scopeName,a}function S2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function y4(...e){return t=>{let a=!1;const s=e.map(l=>{const c=S2(l,t);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let l=0;l<s.length;l++){const c=s[l];typeof c=="function"?c():S2(e[l],null)}}}}function rs(...e){return x.useCallback(y4(...e),e)}function Jn(e,t,{checkForDefaultPrevented:a=!0}={}){return function(l){if(e==null||e(l),a===!1||!l.defaultPrevented)return t==null?void 0:t(l)}}var td=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},fO=n3[" useId ".trim().toString()]||(()=>{}),hO=0;function Rm(e){const[t,a]=x.useState(fO());return td(()=>{a(s=>s!=null?s:String(hO++))},[e]),e||(t?`radix-${t}`:"")}var mO=n3[" useInsertionEffect ".trim().toString()]||td;function gO({prop:e,defaultProp:t,onChange:a=()=>{},caller:s}){const[l,c,u]=yO({defaultProp:t,onChange:a}),f=e!==void 0,h=f?e:l;{const y=x.useRef(e!==void 0);x.useEffect(()=>{const w=y.current;w!==f&&console.warn(`${s} is changing from ${w?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const m=x.useCallback(y=>{var w;if(f){const b=pO(y)?y(e):y;b!==e&&((w=u.current)==null||w.call(u,b))}else c(y)},[f,e,c,u]);return[h,m]}function yO({defaultProp:e,onChange:t}){const[a,s]=x.useState(e),l=x.useRef(a),c=x.useRef(t);return mO(()=>{c.current=t},[t]),x.useEffect(()=>{var u;l.current!==a&&((u=c.current)==null||u.call(c,a),l.current=a)},[a,l]),[a,s,c]}function pO(e){return typeof e=="function"}function p4(e){const t=xO(e),a=x.forwardRef((s,l)=>{const m=s,{children:c}=m,u=Lt(m,["children"]),f=x.Children.toArray(c),h=f.find(vO);if(h){const y=h.props.children,w=f.map(b=>b===h?x.Children.count(y)>1?x.Children.only(null):x.isValidElement(y)?y.props.children:null:b);return r.jsx(t,de(U({},u),{ref:l,children:x.isValidElement(y)?x.cloneElement(y,void 0,w):null}))}return r.jsx(t,de(U({},u),{ref:l,children:c}))});return a.displayName=`${e}.Slot`,a}function xO(e){const t=x.forwardRef((a,s)=>{const u=a,{children:l}=u,c=Lt(u,["children"]);if(x.isValidElement(l)){const f=NO(l),h=wO(c,l.props);return l.type!==x.Fragment&&(h.ref=s?y4(s,f):f),x.cloneElement(l,h)}return x.Children.count(l)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var x4=Symbol("radix.slottable");function bO(e){const t=({children:a})=>r.jsx(r.Fragment,{children:a});return t.displayName=`${e}.Slottable`,t.__radixId=x4,t}function vO(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===x4}function wO(e,t){const a=U({},t);for(const s in t){const l=e[s],c=t[s];/^on[A-Z]/.test(s)?l&&c?a[s]=(...f)=>{const h=c(...f);return l(...f),h}:l&&(a[s]=l):s==="style"?a[s]=U(U({},l),c):s==="className"&&(a[s]=[l,c].filter(Boolean).join(" "))}return U(U({},e),a)}function NO(e){var s,l;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var jO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ns=jO.reduce((e,t)=>{const a=p4(`Primitive.${t}`),s=x.forwardRef((l,c)=>{const m=l,{asChild:u}=m,f=Lt(m,["asChild"]),h=u?a:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,de(U({},f),{ref:c}))});return s.displayName=`Primitive.${t}`,de(U({},e),{[t]:s})},{});function kO(e,t){e&&ey.flushSync(()=>e.dispatchEvent(t))}function ad(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...a)=>{var s;return(s=t.current)==null?void 0:s.call(t,...a)},[])}function SO(e,t=globalThis==null?void 0:globalThis.document){const a=ad(e);x.useEffect(()=>{const s=l=>{l.key==="Escape"&&a(l)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[a,t])}var $O="DismissableLayer",Dg="dismissableLayer.update",CO="dismissableLayer.pointerDownOutside",_O="dismissableLayer.focusOutside",$2,b4=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v4=x.forwardRef((e,t)=>{var q;const ae=e,{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f}=ae,h=Lt(ae,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),m=x.useContext(b4),[y,w]=x.useState(null),b=(q=y==null?void 0:y.ownerDocument)!=null?q:globalThis==null?void 0:globalThis.document,[,v]=x.useState({}),k=rs(t,G=>w(G)),N=Array.from(m.layers),[$]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=N.indexOf($),L=y?N.indexOf(y):-1,M=m.layersWithOutsidePointerEventsDisabled.size>0,B=L>=C,O=AO(G=>{const H=G.target,V=[...m.branches].some(Z=>Z.contains(H));!B||V||(l==null||l(G),u==null||u(G),G.defaultPrevented||f==null||f())},b),R=OO(G=>{const H=G.target;[...m.branches].some(Z=>Z.contains(H))||(c==null||c(G),u==null||u(G),G.defaultPrevented||f==null||f())},b);return SO(G=>{L===m.layers.size-1&&(s==null||s(G),!G.defaultPrevented&&f&&(G.preventDefault(),f()))},b),x.useEffect(()=>{if(y)return a&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($2=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),C2(),()=>{a&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=$2)}},[y,b,a,m]),x.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),C2())},[y,m]),x.useEffect(()=>{const G=()=>v({});return document.addEventListener(Dg,G),()=>document.removeEventListener(Dg,G)},[]),r.jsx(ns.div,de(U({},h),{ref:k,style:U({pointerEvents:M?B?"auto":"none":void 0},e.style),onFocusCapture:Jn(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Jn(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Jn(e.onPointerDownCapture,O.onPointerDownCapture)}))});v4.displayName=$O;var EO="DismissableLayerBranch",TO=x.forwardRef((e,t)=>{const a=x.useContext(b4),s=x.useRef(null),l=rs(t,s);return x.useEffect(()=>{const c=s.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),r.jsx(ns.div,de(U({},e),{ref:l}))});TO.displayName=EO;function AO(e,t=globalThis==null?void 0:globalThis.document){const a=ad(e),s=x.useRef(!1),l=x.useRef(()=>{});return x.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let h=function(){w4(CO,a,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=h,t.addEventListener("click",l.current,{once:!0})):h()}else t.removeEventListener("click",l.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,a]),{onPointerDownCapture:()=>s.current=!0}}function OO(e,t=globalThis==null?void 0:globalThis.document){const a=ad(e),s=x.useRef(!1);return x.useEffect(()=>{const l=c=>{c.target&&!s.current&&w4(_O,a,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,a]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function C2(){const e=new CustomEvent(Dg);document.dispatchEvent(e)}function w4(e,t,a,{discrete:s}){const l=a.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&l.addEventListener(e,t,{once:!0}),s?kO(l,c):l.dispatchEvent(c)}var Pm="focusScope.autoFocusOnMount",Mm="focusScope.autoFocusOnUnmount",_2={bubbles:!1,cancelable:!0},RO="FocusScope",N4=x.forwardRef((e,t)=>{const N=e,{loop:a=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:c}=N,u=Lt(N,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[f,h]=x.useState(null),m=ad(l),y=ad(c),w=x.useRef(null),b=rs(t,$=>h($)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let $=function(B){if(v.paused||!f)return;const O=B.target;f.contains(O)?w.current=O:Ds(w.current,{select:!0})},C=function(B){if(v.paused||!f)return;const O=B.relatedTarget;O!==null&&(f.contains(O)||Ds(w.current,{select:!0}))},L=function(B){if(document.activeElement===document.body)for(const R of B)R.removedNodes.length>0&&Ds(f)};document.addEventListener("focusin",$),document.addEventListener("focusout",C);const M=new MutationObserver(L);return f&&M.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",$),document.removeEventListener("focusout",C),M.disconnect()}}},[s,f,v.paused]),x.useEffect(()=>{if(f){T2.add(v);const $=document.activeElement;if(!f.contains($)){const L=new CustomEvent(Pm,_2);f.addEventListener(Pm,m),f.dispatchEvent(L),L.defaultPrevented||(PO(UO(j4(f)),{select:!0}),document.activeElement===$&&Ds(f))}return()=>{f.removeEventListener(Pm,m),setTimeout(()=>{const L=new CustomEvent(Mm,_2);f.addEventListener(Mm,y),f.dispatchEvent(L),L.defaultPrevented||Ds($!=null?$:document.body,{select:!0}),f.removeEventListener(Mm,y),T2.remove(v)},0)}}},[f,m,y,v]);const k=x.useCallback($=>{if(!a&&!s||v.paused)return;const C=$.key==="Tab"&&!$.altKey&&!$.ctrlKey&&!$.metaKey,L=document.activeElement;if(C&&L){const M=$.currentTarget,[B,O]=MO(M);B&&O?!$.shiftKey&&L===O?($.preventDefault(),a&&Ds(B,{select:!0})):$.shiftKey&&L===B&&($.preventDefault(),a&&Ds(O,{select:!0})):L===M&&$.preventDefault()}},[a,s,v.paused]);return r.jsx(ns.div,de(U({tabIndex:-1},u),{ref:b,onKeyDown:k}))});N4.displayName=RO;function PO(e,{select:t=!1}={}){const a=document.activeElement;for(const s of e)if(Ds(s,{select:t}),document.activeElement!==a)return}function MO(e){const t=j4(e),a=E2(t,e),s=E2(t.reverse(),e);return[a,s]}function j4(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function E2(e,t){for(const a of e)if(!DO(a,{upTo:t}))return a}function DO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LO(e){return e instanceof HTMLInputElement&&"select"in e}function Ds(e,{select:t=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&LO(e)&&t&&e.select()}}var T2=IO();function IO(){let e=[];return{add(t){const a=e[0];t!==a&&(a==null||a.pause()),e=A2(e,t),e.unshift(t)},remove(t){var a;e=A2(e,t),(a=e[0])==null||a.resume()}}}function A2(e,t){const a=[...e],s=a.indexOf(t);return s!==-1&&a.splice(s,1),a}function UO(e){return e.filter(t=>t.tagName!=="A")}var FO="Portal",k4=x.forwardRef((e,t)=>{var h;const f=e,{container:a}=f,s=Lt(f,["container"]),[l,c]=x.useState(!1);td(()=>c(!0),[]);const u=a||l&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?LS.createPortal(r.jsx(ns.div,de(U({},s),{ref:t})),u):null});k4.displayName=FO;function BO(e,t){return x.useReducer((a,s)=>{const l=t[a][s];return l!=null?l:a},e)}var V0=e=>{const{present:t,children:a}=e,s=zO(t),l=typeof a=="function"?a({present:s.isPresent}):x.Children.only(a),c=rs(s.ref,HO(l));return typeof a=="function"||s.isPresent?x.cloneElement(l,{ref:c}):null};V0.displayName="Presence";function zO(e){const[t,a]=x.useState(),s=x.useRef(null),l=x.useRef(e),c=x.useRef("none"),u=e?"mounted":"unmounted",[f,h]=BO(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Ru(s.current);c.current=f==="mounted"?m:"none"},[f]),td(()=>{const m=s.current,y=l.current;if(y!==e){const b=c.current,v=Ru(m);e?h("MOUNT"):v==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(y&&b!==v?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,h]),td(()=>{var m;if(t){let y;const w=(m=t.ownerDocument.defaultView)!=null?m:window,b=k=>{const $=Ru(s.current).includes(CSS.escape(k.animationName));if(k.target===t&&$&&(h("ANIMATION_END"),!l.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",y=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},v=k=>{k.target===t&&(c.current=Ru(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{w.clearTimeout(y),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(m=>{s.current=m?getComputedStyle(m):null,a(m)},[])}}function Ru(e){return(e==null?void 0:e.animationName)||"none"}function HO(e){var s,l;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var Dm=0;function qO(){x.useEffect(()=>{var t,a;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:O2()),document.body.insertAdjacentElement("beforeend",(a=e[1])!=null?a:O2()),Dm++,()=>{Dm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Dm--}},[])}function O2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $n=function(){return $n=Object.assign||function(t){for(var a,s=1,l=arguments.length;s<l;s++){a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},$n.apply(this,arguments)};function S4(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(a[s[l]]=e[s[l]]);return a}function GO(e,t,a){if(a||arguments.length===2)for(var s=0,l=t.length,c;s<l;s++)(c||!(s in t))&&(c||(c=Array.prototype.slice.call(t,0,s)),c[s]=t[s]);return e.concat(c||Array.prototype.slice.call(t))}var Wu="right-scroll-bar-position",Zu="width-before-scroll-bar",VO="with-scroll-bars-hidden",KO="--removed-body-scroll-bar-size";function Lm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YO(e,t){var a=x.useState(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(s){var l=a.value;l!==s&&(a.value=s,a.callback(s,l))}}}})[0];return a.callback=t,a.facade}var QO=typeof window!="undefined"?x.useLayoutEffect:x.useEffect,R2=new WeakMap;function XO(e,t){var a=YO(null,function(s){return e.forEach(function(l){return Lm(l,s)})});return QO(function(){var s=R2.get(a);if(s){var l=new Set(s),c=new Set(e),u=a.current;l.forEach(function(f){c.has(f)||Lm(f,null)}),c.forEach(function(f){l.has(f)||Lm(f,u)})}R2.set(a,e)},[e]),a}function WO(e){return e}function ZO(e,t){t===void 0&&(t=WO);var a=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(c){var u=t(c,s);return a.push(u),function(){a=a.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(s=!0;a.length;){var u=a;a=[],u.forEach(c)}a={push:function(f){return c(f)},filter:function(){return a}}},assignMedium:function(c){s=!0;var u=[];if(a.length){var f=a;a=[],f.forEach(c),u=a}var h=function(){var y=u;u=[],y.forEach(c)},m=function(){return Promise.resolve().then(h)};m(),a={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),a}}}};return l}function JO(e){e===void 0&&(e={});var t=ZO(null);return t.options=$n({async:!0,ssr:!1},e),t}var $4=function(e){var t=e.sideCar,a=S4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,$n({},a))};$4.isSideCarExport=!0;function eR(e,t){return e.useMedium(t),$4}var C4=JO(),Im=function(){},K0=x.forwardRef(function(e,t){var a=x.useRef(null),s=x.useState({onScrollCapture:Im,onWheelCapture:Im,onTouchMoveCapture:Im}),l=s[0],c=s[1],u=e.forwardProps,f=e.children,h=e.className,m=e.removeScrollBar,y=e.enabled,w=e.shards,b=e.sideCar,v=e.noRelative,k=e.noIsolation,N=e.inert,$=e.allowPinchZoom,C=e.as,L=C===void 0?"div":C,M=e.gapMode,B=S4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,R=XO([a,t]),ae=$n($n({},B),l);return x.createElement(x.Fragment,null,y&&x.createElement(O,{sideCar:C4,removeScrollBar:m,shards:w,noRelative:v,noIsolation:k,inert:N,setCallbacks:c,allowPinchZoom:!!$,lockRef:a,gapMode:M}),u?x.cloneElement(x.Children.only(f),$n($n({},ae),{ref:R})):x.createElement(L,$n({},ae,{className:h,ref:R}),f))});K0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};K0.classNames={fullWidth:Zu,zeroRight:Wu};var tR=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function aR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tR();return t&&e.setAttribute("nonce",t),e}function rR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sR=function(){var e=0,t=null;return{add:function(a){e==0&&(t=aR())&&(rR(t,a),nR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iR=function(){var e=sR();return function(t,a){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}},_4=function(){var e=iR(),t=function(a){var s=a.styles,l=a.dynamic;return e(s,l),null};return t},oR={left:0,top:0,right:0,gap:0},Um=function(e){return parseInt(e||"",10)||0},lR=function(e){var t=window.getComputedStyle(document.body),a=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[Um(a),Um(s),Um(l)]},cR=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return oR;var t=lR(e),a=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-a+t[2]-t[0])}},dR=_4(),Qo="data-scroll-locked",uR=function(e,t,a,s){var l=e.left,c=e.top,u=e.right,f=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(VO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),a==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wu,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Zu,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(KO,": ").concat(f,`px;
  }
`)},P2=function(){var e=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(e)?e:0},fR=function(){x.useEffect(function(){return document.body.setAttribute(Qo,(P2()+1).toString()),function(){var e=P2()-1;e<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,e.toString())}},[])},hR=function(e){var t=e.noRelative,a=e.noImportant,s=e.gapMode,l=s===void 0?"margin":s;fR();var c=x.useMemo(function(){return cR(l)},[l]);return x.createElement(dR,{styles:uR(c,!t,l,a?"":"!important")})},Lg=!1;if(typeof window!="undefined")try{var Pu=Object.defineProperty({},"passive",{get:function(){return Lg=!0,!0}});window.addEventListener("test",Pu,Pu),window.removeEventListener("test",Pu,Pu)}catch(e){Lg=!1}var Mo=Lg?{passive:!1}:!1,mR=function(e){return e.tagName==="TEXTAREA"},E4=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!mR(e)&&a[t]==="visible")},gR=function(e){return E4(e,"overflowY")},yR=function(e){return E4(e,"overflowX")},M2=function(e,t){var a=t.ownerDocument,s=t;do{typeof ShadowRoot!="undefined"&&s instanceof ShadowRoot&&(s=s.host);var l=T4(e,s);if(l){var c=A4(e,s),u=c[1],f=c[2];if(u>f)return!0}s=s.parentNode}while(s&&s!==a.body);return!1},pR=function(e){var t=e.scrollTop,a=e.scrollHeight,s=e.clientHeight;return[t,a,s]},xR=function(e){var t=e.scrollLeft,a=e.scrollWidth,s=e.clientWidth;return[t,a,s]},T4=function(e,t){return e==="v"?gR(t):yR(t)},A4=function(e,t){return e==="v"?pR(t):xR(t)},bR=function(e,t){return e==="h"&&t==="rtl"?-1:1},vR=function(e,t,a,s,l){var c=bR(e,window.getComputedStyle(t).direction),u=c*s,f=a.target,h=t.contains(f),m=!1,y=u>0,w=0,b=0;do{if(!f)break;var v=A4(e,f),k=v[0],N=v[1],$=v[2],C=N-$-c*k;(k||C)&&T4(e,f)&&(w+=C,b+=k);var L=f.parentNode;f=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(y&&Math.abs(w)<1||!y&&Math.abs(b)<1)&&(m=!0),m},Mu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},D2=function(e){return[e.deltaX,e.deltaY]},L2=function(e){return e&&"current"in e?e.current:e},wR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},NR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jR=0,Do=[];function kR(e){var t=x.useRef([]),a=x.useRef([0,0]),s=x.useRef(),l=x.useState(jR++)[0],c=x.useState(_4)[0],u=x.useRef(e);x.useEffect(function(){u.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=GO([e.lockRef.current],(e.shards||[]).map(L2),!0).filter(Boolean);return N.forEach(function($){return $.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function($){return $.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=x.useCallback(function(N,$){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var C=Mu(N),L=a.current,M="deltaX"in N?N.deltaX:L[0]-C[0],B="deltaY"in N?N.deltaY:L[1]-C[1],O,R=N.target,ae=Math.abs(M)>Math.abs(B)?"h":"v";if("touches"in N&&ae==="h"&&R.type==="range")return!1;var q=M2(ae,R);if(!q)return!0;if(q?O=ae:(O=ae==="v"?"h":"v",q=M2(ae,R)),!q)return!1;if(!s.current&&"changedTouches"in N&&(M||B)&&(s.current=O),!O)return!0;var G=s.current||O;return vR(G,$,N,G==="h"?M:B)},[]),h=x.useCallback(function(N){var $=N;if(!(!Do.length||Do[Do.length-1]!==c)){var C="deltaY"in $?D2($):Mu($),L=t.current.filter(function(O){return O.name===$.type&&(O.target===$.target||$.target===O.shadowParent)&&wR(O.delta,C)})[0];if(L&&L.should){$.cancelable&&$.preventDefault();return}if(!L){var M=(u.current.shards||[]).map(L2).filter(Boolean).filter(function(O){return O.contains($.target)}),B=M.length>0?f($,M[0]):!u.current.noIsolation;B&&$.cancelable&&$.preventDefault()}}},[]),m=x.useCallback(function(N,$,C,L){var M={name:N,delta:$,target:C,should:L,shadowParent:SR(C)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(B){return B!==M})},1)},[]),y=x.useCallback(function(N){a.current=Mu(N),s.current=void 0},[]),w=x.useCallback(function(N){m(N.type,D2(N),N.target,f(N,e.lockRef.current))},[]),b=x.useCallback(function(N){m(N.type,Mu(N),N.target,f(N,e.lockRef.current))},[]);x.useEffect(function(){return Do.push(c),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Mo),document.addEventListener("touchmove",h,Mo),document.addEventListener("touchstart",y,Mo),function(){Do=Do.filter(function(N){return N!==c}),document.removeEventListener("wheel",h,Mo),document.removeEventListener("touchmove",h,Mo),document.removeEventListener("touchstart",y,Mo)}},[]);var v=e.removeScrollBar,k=e.inert;return x.createElement(x.Fragment,null,k?x.createElement(c,{styles:NR(l)}):null,v?x.createElement(hR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function SR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $R=eR(C4,kR);var O4=x.forwardRef(function(e,t){return x.createElement(K0,$n({},e,{ref:t,sideCar:$R}))});O4.classNames=K0.classNames;var CR=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lo=new WeakMap,Du=new WeakMap,Lu={},Fm=0,R4=function(e){return e&&(e.host||R4(e.parentNode))},_R=function(e,t){return t.map(function(a){if(e.contains(a))return a;var s=R4(a);return s&&e.contains(s)?s:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},ER=function(e,t,a,s){var l=_R(t,Array.isArray(e)?e:[e]);Lu[a]||(Lu[a]=new WeakMap);var c=Lu[a],u=[],f=new Set,h=new Set(l),m=function(w){!w||f.has(w)||(f.add(w),m(w.parentNode))};l.forEach(m);var y=function(w){!w||h.has(w)||Array.prototype.forEach.call(w.children,function(b){if(f.has(b))y(b);else try{var v=b.getAttribute(s),k=v!==null&&v!=="false",N=(Lo.get(b)||0)+1,$=(c.get(b)||0)+1;Lo.set(b,N),c.set(b,$),u.push(b),N===1&&k&&Du.set(b,!0),$===1&&b.setAttribute(a,"true"),k||b.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return y(t),f.clear(),Fm++,function(){u.forEach(function(w){var b=Lo.get(w)-1,v=c.get(w)-1;Lo.set(w,b),c.set(w,v),b||(Du.has(w)||w.removeAttribute(s),Du.delete(w)),v||w.removeAttribute(a)}),Fm--,Fm||(Lo=new WeakMap,Lo=new WeakMap,Du=new WeakMap,Lu={})}},TR=function(e,t,a){a===void 0&&(a="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),l=CR(e);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),ER(s,l,a,"aria-hidden")):function(){return null}},Y0="Dialog",[P4,M4]=g4(Y0),[AR,mn]=P4(Y0),D4=e=>{const{__scopeDialog:t,children:a,open:s,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=x.useRef(null),h=x.useRef(null),[m,y]=gO({prop:s,defaultProp:l!=null?l:!1,onChange:c,caller:Y0});return r.jsx(AR,{scope:t,triggerRef:f,contentRef:h,contentId:Rm(),titleId:Rm(),descriptionId:Rm(),open:m,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(w=>!w),[y]),modal:u,children:a})};D4.displayName=Y0;var L4="DialogTrigger",I4=x.forwardRef((e,t)=>{const u=e,{__scopeDialog:a}=u,s=Lt(u,["__scopeDialog"]),l=mn(L4,a),c=rs(t,l.triggerRef);return r.jsx(ns.button,de(U({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":ky(l.open)},s),{ref:c,onClick:Jn(e.onClick,l.onOpenToggle)}))});I4.displayName=L4;var Ny="DialogPortal",[OR,U4]=P4(Ny,{forceMount:void 0}),F4=e=>{const{__scopeDialog:t,forceMount:a,children:s,container:l}=e,c=mn(Ny,t);return r.jsx(OR,{scope:t,forceMount:a,children:x.Children.map(s,u=>r.jsx(V0,{present:a||c.open,children:r.jsx(k4,{asChild:!0,container:l,children:u})}))})};F4.displayName=Ny;var m0="DialogOverlay",B4=x.forwardRef((e,t)=>{const a=U4(m0,e.__scopeDialog),u=e,{forceMount:s=a.forceMount}=u,l=Lt(u,["forceMount"]),c=mn(m0,e.__scopeDialog);return c.modal?r.jsx(V0,{present:s||c.open,children:r.jsx(PR,de(U({},l),{ref:t}))}):null});B4.displayName=m0;var RR=p4("DialogOverlay.RemoveScroll"),PR=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:a}=c,s=Lt(c,["__scopeDialog"]),l=mn(m0,a);return r.jsx(O4,{as:RR,allowPinchZoom:!0,shards:[l.contentRef],children:r.jsx(ns.div,de(U({"data-state":ky(l.open)},s),{ref:t,style:U({pointerEvents:"auto"},s.style)}))})}),Gi="DialogContent",z4=x.forwardRef((e,t)=>{const a=U4(Gi,e.__scopeDialog),u=e,{forceMount:s=a.forceMount}=u,l=Lt(u,["forceMount"]),c=mn(Gi,e.__scopeDialog);return r.jsx(V0,{present:s||c.open,children:c.modal?r.jsx(MR,de(U({},l),{ref:t})):r.jsx(DR,de(U({},l),{ref:t}))})});z4.displayName=Gi;var MR=x.forwardRef((e,t)=>{const a=mn(Gi,e.__scopeDialog),s=x.useRef(null),l=rs(t,a.contentRef,s);return x.useEffect(()=>{const c=s.current;if(c)return TR(c)},[]),r.jsx(H4,de(U({},e),{ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jn(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=a.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Jn(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Jn(e.onFocusOutside,c=>c.preventDefault())}))}),DR=x.forwardRef((e,t)=>{const a=mn(Gi,e.__scopeDialog),s=x.useRef(!1),l=x.useRef(!1);return r.jsx(H4,de(U({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,f;(u=e.onCloseAutoFocus)==null||u.call(e,c),c.defaultPrevented||(s.current||(f=a.triggerRef.current)==null||f.focus(),c.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:c=>{var h,m;(h=e.onInteractOutside)==null||h.call(e,c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;((m=a.triggerRef.current)==null?void 0:m.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}}))}),H4=x.forwardRef((e,t)=>{const y=e,{__scopeDialog:a,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:c}=y,u=Lt(y,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),f=mn(Gi,a),h=x.useRef(null),m=rs(t,h);return qO(),r.jsxs(r.Fragment,{children:[r.jsx(N4,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:c,children:r.jsx(v4,de(U({role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":ky(f.open)},u),{ref:m,onDismiss:()=>f.onOpenChange(!1)}))}),r.jsxs(r.Fragment,{children:[r.jsx(IR,{titleId:f.titleId}),r.jsx(FR,{contentRef:h,descriptionId:f.descriptionId})]})]})}),jy="DialogTitle",q4=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:a}=c,s=Lt(c,["__scopeDialog"]),l=mn(jy,a);return r.jsx(ns.h2,de(U({id:l.titleId},s),{ref:t}))});q4.displayName=jy;var G4="DialogDescription",V4=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:a}=c,s=Lt(c,["__scopeDialog"]),l=mn(G4,a);return r.jsx(ns.p,de(U({id:l.descriptionId},s),{ref:t}))});V4.displayName=G4;var K4="DialogClose",Y4=x.forwardRef((e,t)=>{const c=e,{__scopeDialog:a}=c,s=Lt(c,["__scopeDialog"]),l=mn(K4,a);return r.jsx(ns.button,de(U({type:"button"},s),{ref:t,onClick:Jn(e.onClick,()=>l.onOpenChange(!1))}))});Y4.displayName=K4;function ky(e){return e?"open":"closed"}var Q4="DialogTitleWarning",[LR,X4]=dO(Q4,{contentName:Gi,titleName:jy,docsSlug:"dialog"}),IR=({titleId:e})=>{const t=X4(Q4),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},UR="DialogDescriptionWarning",FR=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X4(UR).contentName}}.`;return x.useEffect(()=>{var c;const l=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},BR=D4,zR=I4,HR=F4,qR=B4,GR=z4,VR=q4,KR=V4,W4=Y4,Z4="AlertDialog",[YR,eD]=g4(Z4,[M4]),ss=M4(),J4=e=>{const l=e,{__scopeAlertDialog:t}=l,a=Lt(l,["__scopeAlertDialog"]),s=ss(t);return r.jsx(BR,de(U(U({},s),a),{modal:!0}))};J4.displayName=Z4;var QR="AlertDialogTrigger",XR=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:a}=c,s=Lt(c,["__scopeAlertDialog"]),l=ss(a);return r.jsx(zR,de(U(U({},l),s),{ref:t}))});XR.displayName=QR;var WR="AlertDialogPortal",eN=e=>{const l=e,{__scopeAlertDialog:t}=l,a=Lt(l,["__scopeAlertDialog"]),s=ss(t);return r.jsx(HR,U(U({},s),a))};eN.displayName=WR;var ZR="AlertDialogOverlay",tN=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:a}=c,s=Lt(c,["__scopeAlertDialog"]),l=ss(a);return r.jsx(qR,de(U(U({},l),s),{ref:t}))});tN.displayName=ZR;var Xo="AlertDialogContent",[JR,eP]=YR(Xo),tP=bO("AlertDialogContent"),aN=x.forwardRef((e,t)=>{const m=e,{__scopeAlertDialog:a,children:s}=m,l=Lt(m,["__scopeAlertDialog","children"]),c=ss(a),u=x.useRef(null),f=rs(t,u),h=x.useRef(null);return r.jsx(LR,{contentName:Xo,titleName:rN,docsSlug:"alert-dialog",children:r.jsx(JR,{scope:a,cancelRef:h,children:r.jsxs(GR,de(U(U({role:"alertdialog"},c),l),{ref:f,onOpenAutoFocus:Jn(l.onOpenAutoFocus,y=>{var w;y.preventDefault(),(w=h.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:y=>y.preventDefault(),onInteractOutside:y=>y.preventDefault(),children:[r.jsx(tP,{children:s}),r.jsx(rP,{contentRef:u})]}))})})});aN.displayName=Xo;var rN="AlertDialogTitle",nN=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:a}=c,s=Lt(c,["__scopeAlertDialog"]),l=ss(a);return r.jsx(VR,de(U(U({},l),s),{ref:t}))});nN.displayName=rN;var sN="AlertDialogDescription",iN=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:a}=c,s=Lt(c,["__scopeAlertDialog"]),l=ss(a);return r.jsx(KR,de(U(U({},l),s),{ref:t}))});iN.displayName=sN;var aP="AlertDialogAction",oN=x.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:a}=c,s=Lt(c,["__scopeAlertDialog"]),l=ss(a);return r.jsx(W4,de(U(U({},l),s),{ref:t}))});oN.displayName=aP;var lN="AlertDialogCancel",cN=x.forwardRef((e,t)=>{const f=e,{__scopeAlertDialog:a}=f,s=Lt(f,["__scopeAlertDialog"]),{cancelRef:l}=eP(lN,a),c=ss(a),u=rs(t,l);return r.jsx(W4,de(U(U({},c),s),{ref:u}))});cN.displayName=lN;var rP=({contentRef:e})=>{const t=`\`${Xo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xo}\` by passing a \`${sN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nP=J4,sP=eN,iP=tN,oP=aN,lP=oN,cP=cN,dP=nN,uP=iN;function dN(e){var t,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(a=dN(e[t]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function uN(){for(var e,t,a=0,s="",l=arguments.length;a<l;a++)(e=arguments[a])&&(t=dN(e))&&(s&&(s+=" "),s+=t);return s}const Sy="-",fP=e=>{const t=mP(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{const f=u.split(Sy);return f[0]===""&&f.length!==1&&f.shift(),fN(f,t)||hP(u)},getConflictingClassGroupIds:(u,f)=>{const h=a[u]||[];return f&&s[u]?[...h,...s[u]]:h}}},fN=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const a=e[0],s=t.nextPart.get(a),l=s?fN(e.slice(1),s):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(Sy);return(u=t.validators.find(({validator:f})=>f(c)))==null?void 0:u.classGroupId},I2=/^\[(.+)\]$/,hP=e=>{if(I2.test(e)){const t=I2.exec(e)[1],a=t==null?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},mP=e=>{const{theme:t,classGroups:a}=e,s={nextPart:new Map,validators:[]};for(const l in a)Ig(a[l],s,l,t);return s},Ig=(e,t,a,s)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:U2(t,l);c.classGroupId=a;return}if(typeof l=="function"){if(gP(l)){Ig(l(s),t,a,s);return}t.validators.push({validator:l,classGroupId:a});return}Object.entries(l).forEach(([c,u])=>{Ig(u,U2(t,c),a,s)})})},U2=(e,t)=>{let a=e;return t.split(Sy).forEach(s=>{a.nextPart.has(s)||a.nextPart.set(s,{nextPart:new Map,validators:[]}),a=a.nextPart.get(s)}),a},gP=e=>e.isThemeGetter,yP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,s=new Map;const l=(c,u)=>{a.set(c,u),t++,t>e&&(t=0,s=a,a=new Map)};return{get(c){let u=a.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return l(c,u),u},set(c,u){a.has(c)?a.set(c,u):l(c,u)}}},Ug="!",Fg=":",pP=Fg.length,xP=e=>{const{prefix:t,experimentalParseClassName:a}=e;let s=l=>{const c=[];let u=0,f=0,h=0,m;for(let k=0;k<l.length;k++){let N=l[k];if(u===0&&f===0){if(N===Fg){c.push(l.slice(h,k)),h=k+pP;continue}if(N==="/"){m=k;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const y=c.length===0?l:l.substring(h),w=bP(y),b=w!==y,v=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:v}};if(t){const l=t+Fg,c=s;s=u=>u.startsWith(l)?c(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(a){const l=s;s=c=>a({className:c,parseClassName:l})}return s},bP=e=>e.endsWith(Ug)?e.substring(0,e.length-1):e.startsWith(Ug)?e.substring(1):e,vP=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let c=[];return s.forEach(u=>{u[0]==="["||t[u]?(l.push(...c.sort(),u),c=[]):c.push(u)}),l.push(...c.sort()),l}},wP=e=>U({cache:yP(e.cacheSize),parseClassName:xP(e),sortModifiers:vP(e)},fP(e)),NP=/\s+/,jP=(e,t)=>{const{parseClassName:a,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:c}=t,u=[],f=e.trim().split(NP);let h="";for(let m=f.length-1;m>=0;m-=1){const y=f[m],{isExternal:w,modifiers:b,hasImportantModifier:v,baseClassName:k,maybePostfixModifierPosition:N}=a(y);if(w){h=y+(h.length>0?" "+h:h);continue}let $=!!N,C=s($?k.substring(0,N):k);if(!C){if(!$){h=y+(h.length>0?" "+h:h);continue}if(C=s(k),!C){h=y+(h.length>0?" "+h:h);continue}$=!1}const L=c(b).join(":"),M=v?L+Ug:L,B=M+C;if(u.includes(B))continue;u.push(B);const O=l(C,$);for(let R=0;R<O.length;++R){const ae=O[R];u.push(M+ae)}h=y+(h.length>0?" "+h:h)}return h};function kP(){let e=0,t,a,s="";for(;e<arguments.length;)(t=arguments[e++])&&(a=hN(t))&&(s&&(s+=" "),s+=a);return s}const hN=e=>{if(typeof e=="string")return e;let t,a="";for(let s=0;s<e.length;s++)e[s]&&(t=hN(e[s]))&&(a&&(a+=" "),a+=t);return a};function SP(e,...t){let a,s,l,c=u;function u(h){const m=t.reduce((y,w)=>w(y),e());return a=wP(m),s=a.cache.get,l=a.cache.set,c=f,f(h)}function f(h){const m=s(h);if(m)return m;const y=jP(h,a);return l(h,y),y}return function(){return c(kP.apply(null,arguments))}}const Ia=e=>{const t=a=>a[e]||[];return t.isThemeGetter=!0,t},mN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$P=/^\d+\/\d+$/,CP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_P=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,TP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=e=>$P.test(e),zt=e=>!!e&&!Number.isNaN(Number(e)),Ps=e=>!!e&&Number.isInteger(Number(e)),Bm=e=>e.endsWith("%")&&zt(e.slice(0,-1)),Kn=e=>CP.test(e),OP=()=>!0,RP=e=>_P.test(e)&&!EP.test(e),yN=()=>!1,PP=e=>TP.test(e),MP=e=>AP.test(e),DP=e=>!ut(e)&&!ft(e),LP=e=>bl(e,bN,yN),ut=e=>mN.test(e),_i=e=>bl(e,vN,RP),zm=e=>bl(e,zP,zt),F2=e=>bl(e,pN,yN),IP=e=>bl(e,xN,MP),Iu=e=>bl(e,wN,PP),ft=e=>gN.test(e),kc=e=>vl(e,vN),UP=e=>vl(e,HP),B2=e=>vl(e,pN),FP=e=>vl(e,bN),BP=e=>vl(e,xN),Uu=e=>vl(e,wN,!0),bl=(e,t,a)=>{const s=mN.exec(e);return s?s[1]?t(s[1]):a(s[2]):!1},vl=(e,t,a=!1)=>{const s=gN.exec(e);return s?s[1]?t(s[1]):a:!1},pN=e=>e==="position"||e==="percentage",xN=e=>e==="image"||e==="url",bN=e=>e==="length"||e==="size"||e==="bg-size",vN=e=>e==="length",zP=e=>e==="number",HP=e=>e==="family-name",wN=e=>e==="shadow",qP=()=>{const e=Ia("color"),t=Ia("font"),a=Ia("text"),s=Ia("font-weight"),l=Ia("tracking"),c=Ia("leading"),u=Ia("breakpoint"),f=Ia("container"),h=Ia("spacing"),m=Ia("radius"),y=Ia("shadow"),w=Ia("inset-shadow"),b=Ia("text-shadow"),v=Ia("drop-shadow"),k=Ia("blur"),N=Ia("perspective"),$=Ia("aspect"),C=Ia("ease"),L=Ia("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...B(),ft,ut],R=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto","contain","none"],q=()=>[ft,ut,h],G=()=>[Io,"full","auto",...q()],H=()=>[Ps,"none","subgrid",ft,ut],V=()=>["auto",{span:["full",Ps,ft,ut]},Ps,ft,ut],Z=()=>[Ps,"auto",ft,ut],J=()=>["auto","min","max","fr",ft,ut],Ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...q()],re=()=>[Io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],ne=()=>[e,ft,ut],Ae=()=>[...B(),B2,F2,{position:[ft,ut]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],me=()=>["auto","cover","contain",FP,LP,{size:[ft,ut]}],T=()=>[Bm,kc,_i],ee=()=>["","none","full",m,ft,ut],ue=()=>["",zt,kc,_i],P=()=>["solid","dashed","dotted","double"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[zt,Bm,B2,F2],Ie=()=>["","none",k,ft,ut],Ye=()=>["none",zt,ft,ut],De=()=>["none",zt,ft,ut],gt=()=>[zt,ft,ut],lt=()=>[Io,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kn],breakpoint:[Kn],color:[OP],container:[Kn],"drop-shadow":[Kn],ease:["in","out","in-out"],font:[DP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kn],shadow:[Kn],spacing:["px",zt],text:[Kn],"text-shadow":[Kn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Io,ut,ft,$]}],container:["container"],columns:[{columns:[zt,ut,ft,f]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:ae()}],"overscroll-x":[{"overscroll-x":ae()}],"overscroll-y":[{"overscroll-y":ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[Ps,"auto",ft,ut]}],basis:[{basis:[Io,"full","auto",f,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[zt,Io,"auto","initial","none",ut]}],grow:[{grow:["",zt,ft,ut]}],shrink:[{shrink:["",zt,ft,ut]}],order:[{order:[Ps,"first","last","none",ft,ut]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...Ne(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...Ne()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ne()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[f,"screen",...re()]}],"min-w":[{"min-w":[f,"screen","none",...re()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",a,kc,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ft,zm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Bm,ut]}],"font-family":[{font:[UP,ut,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,ft,ut]}],"line-clamp":[{"line-clamp":[zt,"none",ft,zm]}],leading:[{leading:[c,...q()]}],"list-image":[{"list-image":["none",ft,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[zt,"from-font","auto",ft,_i]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[zt,"auto",ft,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ae()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ps,ft,ut],radial:["",ft,ut],conic:[Ps,ft,ut]},BP,IP]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[zt,ft,ut]}],"outline-w":[{outline:["",zt,kc,_i]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",y,Uu,Iu]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",w,Uu,Iu]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[zt,_i]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",b,Uu,Iu]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[zt,ft,ut]}],"mix-blend":[{"mix-blend":[...K(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":K()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[zt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[ft,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[zt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ae()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,ut]}],filter:[{filter:["","none",ft,ut]}],blur:[{blur:Ie()}],brightness:[{brightness:[zt,ft,ut]}],contrast:[{contrast:[zt,ft,ut]}],"drop-shadow":[{"drop-shadow":["","none",v,Uu,Iu]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",zt,ft,ut]}],"hue-rotate":[{"hue-rotate":[zt,ft,ut]}],invert:[{invert:["",zt,ft,ut]}],saturate:[{saturate:[zt,ft,ut]}],sepia:[{sepia:["",zt,ft,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,ut]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[zt,ft,ut]}],"backdrop-contrast":[{"backdrop-contrast":[zt,ft,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",zt,ft,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[zt,ft,ut]}],"backdrop-invert":[{"backdrop-invert":["",zt,ft,ut]}],"backdrop-opacity":[{"backdrop-opacity":[zt,ft,ut]}],"backdrop-saturate":[{"backdrop-saturate":[zt,ft,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",zt,ft,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[zt,"initial",ft,ut]}],ease:[{ease:["linear","initial",C,ft,ut]}],delay:[{delay:[zt,ft,ut]}],animate:[{animate:["none",L,ft,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ft,ut]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:gt()}],"skew-x":[{"skew-x":gt()}],"skew-y":[{"skew-y":gt()}],transform:[{transform:[ft,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:lt()}],"translate-x":[{"translate-x":lt()}],"translate-y":[{"translate-y":lt()}],"translate-z":[{"translate-z":lt()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,ut]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[zt,kc,_i,zm]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GP=SP(qP);function ei(...e){return GP(uN(e))}const z2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,H2=uN,VP=(e,t)=>a=>{var s;if((t==null?void 0:t.variants)==null)return H2(e,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:l,defaultVariants:c}=t,u=Object.keys(l).map(m=>{const y=a==null?void 0:a[m],w=c==null?void 0:c[m];if(y===null)return null;const b=z2(y)||z2(w);return l[m][b]}),f=a&&Object.entries(a).reduce((m,y)=>{let[w,b]=y;return b===void 0||(m[w]=b),m},{}),h=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let k=y,{class:w,className:b}=k,v=Lt(k,["class","className"]);return Object.entries(v).every(N=>{let[$,C]=N;return Array.isArray(C)?C.includes(U(U({},c),f)[$]):U(U({},c),f)[$]===C})?[...m,w,b]:m},[]);return H2(e,u,h,a==null?void 0:a.class,a==null?void 0:a.className)},NN=VP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function KP(t){var e=Lt(t,[]);return r.jsx(nP,U({"data-slot":"alert-dialog"},e))}function YP(t){var e=Lt(t,[]);return r.jsx(sP,U({"data-slot":"alert-dialog-portal"},e))}function QP(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx(iP,U({"data-slot":"alert-dialog-overlay",className:ei("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e)},t))}function XP(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsxs(YP,{children:[r.jsx(QP,{}),r.jsx(oP,U({"data-slot":"alert-dialog-content",className:ei("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e)},t))]})}function WP(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx("div",U({"data-slot":"alert-dialog-header",className:ei("flex flex-col gap-2 text-center sm:text-left",e)},t))}function ZP(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx("div",U({"data-slot":"alert-dialog-footer",className:ei("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e)},t))}function JP(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx(dP,U({"data-slot":"alert-dialog-title",className:ei("text-lg font-semibold",e)},t))}function eM(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx(uP,U({"data-slot":"alert-dialog-description",className:ei("text-muted-foreground text-sm",e)},t))}function tM(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx(lP,U({className:ei(NN(),e)},t))}function aM(a){var s=a,{className:e}=s,t=Lt(s,["className"]);return r.jsx(cP,U({className:ei(NN({variant:"outline"}),e)},t))}function $y({isOpen:e,onClose:t,onConfirm:a,title:s="Are you sure?",message:l="This action cannot be undone.",confirmText:c="Continue",cancelText:u="Cancel",confirmButtonClass:f="bg-red-600 hover:bg-red-700 text-white"}){return r.jsx(KP,{open:e,onOpenChange:t,children:r.jsxs(XP,{children:[r.jsxs(WP,{children:[r.jsx(JP,{children:s}),r.jsx(eM,{children:l})]}),r.jsxs(ZP,{children:[r.jsx(aM,{onClick:t,children:u}),r.jsx(tM,{onClick:a,className:f,children:c})]})]})})}const Q0=()=>new Date,Cy=e=>{if(!e)return!1;const t=new Date(e),a=Q0();return t.getUTCFullYear()===a.getUTCFullYear()&&t.getUTCMonth()===a.getUTCMonth()&&t.getUTCDate()===a.getUTCDate()},_y=e=>{if(!e)return!1;const t=new Date(e),a=Q0(),s=new Date(a);s.setUTCDate(a.getUTCDate()-a.getUTCDay()),s.setUTCHours(0,0,0,0);const l=new Date(s);return l.setUTCDate(s.getUTCDate()+6),l.setUTCHours(23,59,59,999),t>=s&&t<=l},Ey=e=>{if(!e)return!1;const t=new Date(e),a=Q0();return t.getUTCFullYear()===a.getUTCFullYear()&&t.getUTCMonth()===a.getUTCMonth()},Ty=e=>{if(!e)return!1;const t=new Date(e),a=Q0();return t.getUTCFullYear()===a.getUTCFullYear()};function rM(){const e=Ma(),t=xl("(max-width: 1024px)"),[a,s]=x.useState(""),[l,c]=x.useState("all"),[u,f]=x.useState("all"),[h,m]=x.useState("all"),[y,w]=x.useState(null),[b,v]=x.useState(!1),[k,N]=x.useState(!1),[$,C]=x.useState({}),[L,M]=x.useState(!1),[B,O]=x.useState(null),[R,ae]=x.useState(!1),[q,G]=x.useState(null),{createClosingEntry:H,isCreating:V}=cO(),[Z,J]=x.useState(!1),[Ne,je]=x.useState(null),{invoices:X,isLoading:re,error:ne}=wy(),{modes:Ae,isLoading:z,error:me}=ww(),{posDetails:T}=er();console.log("Payment modes:",Ae),console.log("Modes loading:",z),console.log("Modes error:",me);const ee=(T==null?void 0:T.custom_hide_expected_amount)||!1,ue=E=>{if(u==="all")return!0;if(u==="today")return Cy(E);if(u==="yesterday"){const we=new Date;we.setUTCDate(we.getUTCDate()-1);const Ue=new Date(E);return Ue.getUTCFullYear()===we.getUTCFullYear()&&Ue.getUTCMonth()===we.getUTCMonth()&&Ue.getUTCDate()===we.getUTCDate()}return u==="week"?_y(E):u==="month"?Ey(E):u==="year"?Ty(E):!0},P=E=>{const we="px-2 py-1 rounded-full text-xs font-medium";switch((E==null?void 0:E.toLowerCase())||""){case"paid":return`${we} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${we} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${we} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${we} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${we} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${we} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${we} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${we} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${we} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${we} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${we} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${we} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${we} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},K=x.useMemo(()=>re?[]:ne?[]:X.filter(E=>{const we=a===""||E.id.toLowerCase().includes(a.toLowerCase())||E.customer.toLowerCase().includes(a.toLowerCase())||E.cashier&&E.cashier.toLowerCase().includes(a.toLowerCase()),Ue=l==="all"||E.status===l,Ut=h==="all"||E.paymentMethod===h,bt=ue(E.date),st=!(T!=null&&T.name)||E.posProfile===T.name,Yt=!(T!=null&&T.current_opening_entry)||E.custom_pos_opening_entry&&E.custom_pos_opening_entry===T.current_opening_entry;return console.log("Invoice filtering debug:",{invoiceId:E.id,invoiceOpeningEntry:E.custom_pos_opening_entry,posDetailsOpeningEntry:T==null?void 0:T.current_opening_entry,matchesPOSProfile:st,matchesOpeningEntry:Yt,posDetails:T}),we&&Ut&&Ue&&bt&&st&&Yt}),[X,a,l,u,h,re,ne,T]),ke=x.useMemo(()=>{if(!Ae||Ae.length===0)return console.log("No payment modes available"),{};const E=Ae.reduce((we,Ue)=>(we[Ue.name]={name:Ue.name,openingAmount:Ue.openingAmount||0,amount:0,transactions:0},we),{});return K.forEach(we=>{if(we.paymentMethod&&E[we.paymentMethod]){const Ut=we.status==="Return"?-Math.abs(we.totalAmount||0):we.totalAmount||0;E[we.paymentMethod].amount+=Ut,E[we.paymentMethod].transactions+=1}}),Object.keys(E).forEach(we=>{E[we].amount+=E[we].openingAmount}),E},[Ae,K]),Ie=Object.values(ke).reduce((E,we)=>E+we.amount,0);if(re||z)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices and payment modes..."})]})});if(ne)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading data"}),r.jsxs("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:["Invoices: ",ne.message]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const Ye=me&&me.includes("No open POS Opening Entry found"),De=E=>{e(`/invoice/${E.id}`)},gt=E=>{if(E.status!=="Draft"){Me.error("Only draft invoices can be deleted");return}je(E),J(!0)},lt=()=>oe(null,null,function*(){if(Ne)try{yield D0(Ne.id),Me.success(`Draft invoice ${Ne.id} deleted successfully`),J(!1),je(null),window.location.reload()}catch(E){Me.error(E.message||"Failed to delete invoice")}}),Ht=()=>{J(!1),je(null)},Ce=E=>{Ze(E),v(!1)},Ze=E=>oe(null,null,function*(){try{const we=yield M0(E);Me.success(`Invoice returned: ${we.return_invoice}`)}catch(we){Me.error(we.message||"Failed to return invoice")}}),xe=E=>!E||!E.items?(console.log("No invoice or items found for:",E==null?void 0:E.id),!1):E.items.some(Ue=>{const Ut=Ue.qty||Ue.quantity||0;return(Ue.returned_qty||0)<Ut}),Pe=E=>{G(E),ae(!0)},Be=()=>{ae(!1),G(null),window.location.reload()},et=E=>{v(!1)},$t=(E,we)=>{C(Ue=>de(U({},Ue),{[E]:parseFloat(we)||0}))},vt=()=>oe(null,null,function*(){try{yield H($),N(!1),console.log("Closing shift - clearing all cache for fresh session"),e("/pos")}catch(E){console.error("Error closing shift:",E)}});return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Closing Shift"}),r.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[r.jsx(Ec,{className:"w-4 h-4"}),r.jsx("span",{children:"Close"})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[Ye&&r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:r.jsx(Oc,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!ee&&!Ye&&r.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Object.values(ke).map(E=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:E.name}),E.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-2xl",children:"💵"}):r.jsx(Hr,{className:"w-8 h-8 text-beveren-600"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(E.amount,(T==null?void 0:T.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[E.transactions," transactions"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ie>0?(E.amount/Ie*100).toFixed(1):0,"% of total"]})]})]},E.name))}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:u,onChange:E=>f(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"yesterday",children:"Yesterday"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]}),r.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Unpaid",children:"Unpaid"}),r.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Return",children:"Return"}),r.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Payments"}),Ae.map(E=>r.jsx("option",{value:E.name,children:E.name},E.name))]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-4 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",K.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(T==null?void 0:T.is_zatca_enabled)&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:K.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.id}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[E.date," ",E.time]})]})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:E.customer}),E.giftCardCode&&r.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Gift: ",E.giftCardCode]})]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:nt(E.totalAmount,E.currency)}),E.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",nt(E.giftCardDiscount,E.currency)," gift"]})]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:P(E.status),children:E.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:P(E.custom_zatca_submit_status),children:E.custom_zatca_submit_status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>De(E),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Bi,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),E.status==="Draft"&&r.jsxs("button",{onClick:()=>gt(E),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[r.jsx(Ec,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(E.status)&&xe(E)&&r.jsxs("button",{onClick:()=>Pe(E),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(zi,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]})]})})]},E.id))})]})})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),r.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(gr,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"space-y-4",children:Object.values(ke).map(E=>r.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[E.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-xl",children:"💵"}):r.jsx(Hr,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:E.name})]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:nt(E.openingAmount,(T==null?void 0:T.currency)||"USD")})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:$[E.name]||"",onChange:we=>$t(E.name,we.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},E.name))}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),r.jsx("button",{onClick:vt,disabled:V,className:`px-6 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:V?"Closing...":"Close Shift"})]})]})}),r.jsx(ed,{invoice:y,isOpen:b,onClose:()=>v(!1),onRefund:Ce,onCancel:et}),r.jsx(as,{})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Closing Shift"})}),r.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(Ec,{className:"w-4 h-4"}),r.jsx("span",{children:"Close"})]})]})})}),r.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 space-y-6",children:[Ye&&r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 mr-3",children:r.jsx(Oc,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Opening Entry Found"}),r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You can still close the shift, but payment summary will not be available."})]})]})}),!ee&&!Ye&&r.jsx(r.Fragment,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(ke).map(E=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:E.name}),E.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-2xl",children:"💵"}):r.jsx(Hr,{className:"w-8 h-8 text-orange-600"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(E.amount,(T==null?void 0:T.currency)||"USD")}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[E.transactions," transactions"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ie>0?(E.amount/Ie*100).toFixed(1):0,"% of total"]})]})]},E.name))})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:E=>s(E.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:u,onChange:E=>f(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"yesterday",children:"Yesterday"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]}),r.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Unpaid",children:"Unpaid"}),r.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Return",children:"Return"}),r.jsx("option",{value:"Credit Note Issued",children:"Credit Note Issued"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Payments"}),Ae.map(E=>r.jsx("option",{value:E.name,children:E.name},E.name))]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Invoices (",K.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(T==null?void 0:T.is_zatca_enabled)&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:K.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.date," ",E.time]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:E.customer})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:E.cashier}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:E.paymentMethod})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:nt(E.totalAmount,E.currency)}),E.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["-",nt(E.giftCardDiscount,E.currency)," gift card"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:P(E.status),children:E.status})}),(T==null?void 0:T.is_zatca_enabled)&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:P(E.custom_zatca_submit_status),children:E.custom_zatca_submit_status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>De(E),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Bi,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),E.status==="Draft"&&r.jsxs("button",{onClick:()=>gt(E),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[r.jsx(Ec,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(E.status)&&xe(E)&&r.jsxs("button",{onClick:()=>Pe(E),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(zi,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]})]})})]},E.id))})]})})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Close Shift"}),r.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(gr,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"space-y-4",children:Object.values(ke).map(E=>r.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[E.name.toLowerCase().includes("cash")?r.jsx("div",{className:"text-xl",children:"💵"}):r.jsx(Hr,{className:"w-5 h-5 text-beveren-600"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:E.name})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Opening: "}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:nt(E.openingAmount,(T==null?void 0:T.currency)||"USD")})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("input",{type:"number",step:"0.01",placeholder:"Closing amount",value:$[E.name]||"",onChange:we=>$t(E.name,we.target.value),className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})})]})]},E.name))}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-red-600 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-500 font-medium",children:"Cancel"}),r.jsx("button",{onClick:vt,disabled:V,className:`px-6 py-2 rounded-lg font-medium transition-colors ${V?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:V?"Closing...":"Close Shift"})]})]})}),r.jsx(ed,{invoice:y,isOpen:b,onClose:()=>v(!1),onRefund:Ce,onCancel:et}),r.jsx(G0,{invoice:q,isOpen:R,onClose:()=>ae(!1),onSuccess:Be}),r.jsx($y,{isOpen:Z,onClose:Ht,onConfirm:lt,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${Ne==null?void 0:Ne.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})})}function nM(){const{user:e,logout:t}=Ws(),{theme:a,toggleTheme:s}=j0(),{language:l,setLanguage:c,t:u}=hn(),f=Ma(),[h,m]=x.useState("profile"),y=O=>O.split(" ").map(R=>R.charAt(0).toUpperCase()).join("").substring(0,2),w=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||"Guest User",b=(e==null?void 0:e.email)||(e==null?void 0:e.name)||"No email",v=y(w),k=()=>oe(null,null,function*(){try{yield t(),f("/login")}catch(O){console.error("Logout error:",O),f("/login")}}),N=[{id:"profile",title:"Profile Information",icon:zr,description:"View and manage your profile details"},{id:"appearance",title:"Appearance",icon:x$,description:"Customize the app's look and feel"},{id:"language",title:"Language & Region",icon:c1,description:"Set your preferred language and region"},{id:"account",title:"Account Settings",icon:C0,description:"Manage your account and security"}],$=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-beveren-600 to-beveren-700 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold",children:v})}),r.jsx("button",{className:"absolute bottom-0 right-0 bg-white text-beveren-600 rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:r.jsx(sw,{size:16})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold",children:w}),r.jsx("p",{className:"text-beveren-100 text-lg",children:b})]})]})}),r.jsx("div",{className:"grid gap-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.full_name)||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User ID"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:(e==null?void 0:e.name)||"Not provided"})]}),(e==null?void 0:e.first_name)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.first_name})]}),(e==null?void 0:e.last_name)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:e.last_name})]})]})]})})]}),C=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Theme Settings"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[a==="dark"?r.jsx($0,{size:20,className:"text-gray-700 dark:text-gray-300"}):r.jsx(_0,{size:20,className:"text-gray-700 dark:text-gray-300"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a==="dark"?"Dark Mode":"Light Mode"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a==="dark"?"Using dark theme for better low-light viewing":"Using light theme for optimal daytime viewing"})]})]}),r.jsxs("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",a),s()},className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",type:"button",children:["Switch to ",a==="dark"?"Light":"Dark"]})]})})]})}),L=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Language Preferences"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(c1,{size:20,className:"text-gray-700 dark:text-gray-300"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Current Language: ",l==="en"?"English":"Arabic"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interface language and text direction"})]})]}),r.jsxs("button",{onClick:()=>c(l==="en"?"ar":"en"),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors",children:["Switch to ",l==="en"?"Arabic":"English"]})]})})]})}),M=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Account Actions"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(k0,{size:20,className:"text-red-600 dark:text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Sign Out"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sign out of your account and return to login"})]})]}),r.jsx("button",{onClick:k,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out"})]})})]})}),B=()=>{switch(h){case"profile":return $();case"appearance":return C();case"language":return L();case"account":return M();default:return $()}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center space-x-4 mb-4",children:r.jsxs("button",{onClick:()=>f("/pos"),className:"flex items-center space-x-2 text-gray-600 hover:text-beveren-600 dark:text-gray-300 dark:hover:text-beveren-400 transition-colors group",type:"button",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gray-100 group-hover:bg-beveren-50 dark:bg-gray-800 dark:group-hover:bg-beveren-900 transition-colors",children:r.jsx(Ki,{size:20})}),r.jsx("span",{className:"font-medium",children:"Back to POS"})]})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Manage your account preferences and settings"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:r.jsx("nav",{className:"space-y-2",children:N.map(O=>{const R=O.icon;return r.jsxs("button",{onClick:()=>m(O.id),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${h===O.id?"bg-beveren-50 text-beveren-700 border border-beveren-200 dark:bg-beveren-900 dark:text-beveren-300 dark:border-beveren-700":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(R,{size:18}),r.jsx("span",{className:"font-medium",children:O.title})]}),r.jsx(F9,{size:16,className:"text-gray-400 dark:text-gray-500"})]},O.id)})})})}),r.jsx("div",{className:"lg:col-span-3",children:B()})]})]})})}function sM(){const{t:e,language:t,setLanguage:a}=hn(),{user:s,logout:l}=Ws(),{theme:c,toggleTheme:u}=j0(),{posDetails:f}=er(),[h,m]=x.useState(!1),y=x.useRef(null);x.useEffect(()=>{function $(C){y.current&&!y.current.contains(C.target)&&m(!1)}return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[y]);const w=()=>oe(null,null,function*(){try{yield l(),window.location.href="/klik_pos/login"}catch($){console.error("Logout error:",$),window.location.href="/klik_pos/login"}});new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"});const b=$=>$.split(" ").map(C=>C.charAt(0).toUpperCase()).join("").substring(0,2),v=(s==null?void 0:s.full_name)||(s==null?void 0:s.name)||"Guest User",k=(f==null?void 0:f.name)||"POS Profile",N=b(v);return r.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 relative z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center flex-1 max-w-md",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search menu",className:"w-full pl-10 pr-4 py-2 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium"})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:k}),r.jsx("p",{className:"text-sm text-gray-500",children:v})]}),r.jsxs("div",{className:"relative",ref:y,children:[r.jsx("button",{onClick:()=>{console.log("Avatar clicked, current showUserMenu:",h),m(!h)},className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center hover:bg-beveren-700 transition-colors focus:outline-none focus:ring-2 focus:ring-beveren-300 cursor-pointer","aria-label":"User menu",type:"button",children:r.jsx("span",{className:"text-white font-medium text-sm pointer-events-none",children:N})}),h&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-[100] overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-base",children:N})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:k}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(fy,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white truncate",children:v})]})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs(cd,{to:"/settings",onClick:()=>m(!1),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[r.jsx(C0,{size:16,className:"mr-3 text-gray-500"}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>{u(),m(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[c==="dark"?r.jsx(_0,{size:16,className:"mr-3 text-gray-500"}):r.jsx($0,{size:16,className:"mr-3 text-gray-500"}),r.jsx("span",{children:c==="dark"?"Light Mode":"Dark Mode"})]}),r.jsxs("button",{onClick:()=>{a(t==="en"?"ar":"en"),m(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",type:"button",children:[r.jsx("span",{className:"mr-3 text-gray-500",children:"🌐"}),r.jsx("span",{children:t==="en"?"Switch to Arabic":"Switch to English"})]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{onClick:()=>{w(),m(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",type:"button",children:[r.jsx(k0,{size:16,className:"mr-3"}),r.jsx("span",{children:"Logout"})]})]})]})]})]}),r.jsx("div",{className:"flex-1 max-w-md"})]})})})}function Hm({method:e,title:t,icon:a,selected:s,onSelect:l,total:c}){const{t:u}=hn(),[f,h]=x.useState(!1),m=()=>{l(),h(!0)},y=()=>{switch(a){case"cash":return r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})});case"card":return r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"wallet":return r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z"})});default:return null}};return r.jsxs("div",{onClick:m,className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${s?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`mx-auto mb-3 ${s?"text-green-600":"text-gray-400"}`,children:y()}),r.jsx("h3",{className:"font-semibold text-gray-800",children:t})]}),s&&f&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e==="cash"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u("AMOUNT_RECEIVED")}),r.jsx("input",{type:"number",defaultValue:c,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[u("CHANGE"),": ₨ 0.00"]})]}),e==="card"&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:u("INSERT_OR_TAP_CARD")}),r.jsx("div",{className:"animate-pulse",children:r.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mx-auto"})})]}),e==="wallet"&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded mx-auto mb-2 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500",children:"QR Code"})}),r.jsx("div",{className:"text-sm text-gray-600",children:u("SCAN_WITH_STC_PAY")})]})]})]})}function iM({qrCodeURL:e,caption:t}){return r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:e||"/placeholder.svg",alt:"ZATCA QR Code",className:"w-32 h-32 mx-auto border border-gray-200 rounded"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t})]})}function oM(){const t=Qg().invoiceId,{t:a,isRTL:s}=hn(),[l,c]=x.useState(null),[u,f]=x.useState(null),[h,m]=x.useState(!0);x.useEffect(()=>{y()},[t]);const y=()=>oe(null,null,function*(){try{const v={invoiceId:t,dateTime:new Date().toISOString(),items:[{itemCode:"ITEM001",nameEn:"Wireless Headphones",nameAr:"سماعات لاسلكية",qty:1,unitPrice:299,lineTotal:299}],subtotal:299,vat:14.95,total:313.95,qrCodeURL:"/placeholder.svg?height=128&width=128"};c(v)}catch(v){console.error("Failed to load invoice data:",v)}finally{m(!1)}}),w=v=>{f(v)},b=()=>oe(null,null,function*(){if(!(!u||!l))try{console.log("Processing payment:",u,l.invoiceId)}catch(v){console.error("Payment failed:",v)}});return h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-700"})}):l?r.jsxs("div",{className:`min-h-screen bg-gray-50 ${s?"rtl":"ltr"}`,children:[r.jsx(sM,{}),r.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:a("INVOICE_SUMMARY")}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[a("INVOICE_ID"),": ",l.invoiceId]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[a("DATE_TIME"),": ",new Date(l.dateTime).toLocaleString()]})]}),r.jsx("div",{className:"border-t pt-4",children:l.items.map((v,k)=>r.jsxs("div",{className:"flex justify-between items-center py-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:s?v.nameAr:v.nameEn}),r.jsxs("div",{className:"text-sm text-gray-600",children:[v.qty," × ₨ ",v.unitPrice.toFixed(2)]})]}),r.jsxs("div",{className:"font-semibold",children:["₨ ",v.lineTotal.toFixed(2)]})]},k))}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsx("span",{children:a("SUBTOTAL")}),r.jsxs("span",{children:["₨ ",l.subtotal.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-1",children:[r.jsxs("span",{children:[a("VAT")," (5%)"]}),r.jsxs("span",{children:["₨ ",l.vat.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t",children:[r.jsx("span",{children:a("TOTAL")}),r.jsxs("span",{children:["₨ ",l.total.toFixed(2)]})]})]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsx(iM,{qrCodeURL:l.qrCodeURL,caption:a("SCAN_TO_VERIFY")})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:a("PAYMENT_METHODS")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Hm,{method:"cash",title:a("CASH"),icon:"cash",selected:u==="cash",onSelect:()=>w("cash"),total:l.total}),r.jsx(Hm,{method:"card",title:a("CARD"),icon:"card",selected:u==="card",onSelect:()=>w("card"),total:l.total}),r.jsx(Hm,{method:"wallet",title:a("DIGITAL_WALLET"),icon:"wallet",selected:u==="wallet",onSelect:()=>w("wallet"),total:l.total})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("button",{className:"text-green-700 hover:text-green-800 font-medium",children:a("BACK_TO_CART")}),r.jsx("button",{onClick:b,disabled:!u,className:"flex-1 bg-green-700 text-white py-3 px-6 rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a("CONFIRM_PAYMENT")})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:a("INVOICE_NOT_FOUND")})})})}function jN(){var q,G,H;const e=Ma(),t=xl("(max-width: 1024px)"),[a,s]=x.useState(""),[l,c]=x.useState(!1),[u,f]=x.useState(null),[h,m]=x.useState({}),[y,w]=x.useState(null),{customers:b,isLoading:v,error:k,totalCount:N,loadMore:$}=H0(a);x.useEffect(()=>{oe(null,null,function*(){var V;try{const J=yield(yield fetch("/api/method/klik_pos.api.customer.get_global_totals")).json();(V=J==null?void 0:J.message)!=null&&V.success&&w({total_customers:J.message.total_customers,total_invoices:J.message.total_invoices})}catch(Z){}})},[]);const C=x.useMemo(()=>v?[]:k?[]:b.sort((Z,J)=>{const Ne=Z.createdAt?new Date(Z.createdAt).getTime():0;return(J.createdAt?new Date(J.createdAt).getTime():0)-Ne}),[b,a,v,k]),L=x.useMemo(()=>{if(v)return{total:0,totalOrders:0};const V=b.length,Z=b.reduce((J,Ne)=>J+(Ne.totalOrders||0),0);return{total:V,totalOrders:Z}},[b,v]);if(v&&b.length===0)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customers..."})]})});if(k)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customers"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:k.message}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const M=(V,Z)=>{let J="USD";if(Z&&Z.trim()&&Z.length===3)try{new Intl.NumberFormat("en-US",{style:"currency",currency:Z}),J=Z}catch(Ne){console.warn(`Invalid currency code: ${Z}, falling back to AED`),J="USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:J}).format(V)},B=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),O=V=>V.split(" ").map(Z=>Z.charAt(0).toUpperCase()).join("").substring(0,2),R=V=>{const Z=V.target.value;s(Z)},ae=V=>{if(V.key==="Enter"&&a.trim()&&(V.preventDefault(),!C.find(J=>{var Ne;return J.name.toLowerCase()===a.toLowerCase()||((Ne=J.email)==null?void 0:Ne.toLowerCase())===a.toLowerCase()||J.phone===a}))){const J=a.trim();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)?m({email:J}):/^[\d\s+\-()]+$/.test(J)&&J.replace(/[\s+\-()]/g,"").length>=7?m({phone:J}):m({name:J}),c(!0),s("")}};return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Customers"}),r.jsxs("button",{onClick:()=>c(!0),className:"bg-beveren-600 text-white px-4 py-2 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(Pc,{size:16}),r.jsx("span",{children:"Add"})]})]})})}),r.jsx("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:r.jsxs("div",{className:"mx-auto w-full",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ys,{className:"text-orange-500",size:24}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[b.length," of ",(G=(q=y==null?void 0:y.total_customers)!=null?q:N)!=null?G:b.length]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"📦"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(H=y==null?void 0:y.total_invoices)!=null?H:L.totalOrders})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:a,onChange:R,onKeyPress:ae,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}),v&&b.length>0&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]})})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.map(V=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${V.id}`),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-sm",children:O(V.name)})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",V.id]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[r.jsx(ol,{size:14,className:"mr-2 text-gray-400"}),V.email]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(i0,{size:14,className:"mr-2 text-gray-400"}),V.phone]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[V.totalOrders," orders"]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:M(V.totalSpent,V.defaultCurrency||V.companyCurrency)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:V.lastVisit?B(V.lastVisit):"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:Z=>{Z.stopPropagation(),e(`/customers/${V.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:r.jsx(Bi,{size:16})}),r.jsx("button",{onClick:Z=>{Z.stopPropagation(),f(V),c(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:r.jsx(cl,{size:16})})]})})]},V.id))})]})}),C.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ys,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:a?"Try adjusting your search criteria.":"Get started by adding your first customer."})]}),N>b.length&&r.jsx("div",{className:"p-4 text-center",children:r.jsxs("button",{onClick:$,className:"px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:["Load More (",b.length,"/",N,")"]})})]})]})}),l&&r.jsxs(r.Fragment,{children:[console.log("Opening modal with prefilled data:",h),r.jsx(hl,{customer:u,onClose:()=>{c(!1),f(null),m({})},onSave:V=>{console.log("Saving customer:",V),!u&&V.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(c(!1),f(null),m({}))},prefilledData:h})]}),r.jsx(as,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),r.jsxs("button",{onClick:()=>c(!0),className:"bg-beveren-600 text-white px-6 py-3 rounded-lg hover:bg-beveren-700 transition-colors flex items-center space-x-2",children:[r.jsx(Pc,{size:20}),r.jsx("span",{children:"Add Customer"})]})]})})}),r.jsx("div",{className:"flex-1 px-6 py-8 mt-16 lg:ml-20 max-w-none",children:r.jsxs("div",{className:"mx-auto w-full",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-3",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ys,{className:"text-orange-500",size:24}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[b.length," of ",N||b.length]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"📦"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:L.totalOrders})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search customers... (Press Enter to add new customer)",value:a,onChange:R,onKeyPress:ae,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 text-sm font-medium border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"})]})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Orders & Spent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Visit"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.map(V=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>e(`/customers/${V.id}`),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-beveren-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-medium text-sm",children:O(V.name)})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",V.id]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[r.jsx(ol,{size:14,className:"mr-2 text-gray-400"}),V.email]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(i0,{size:14,className:"mr-2 text-gray-400"}),V.phone]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.totalOrders>0?`${V.totalOrders} orders`:"No orders"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:V.totalSpent>0?M(V.totalSpent,V.defaultCurrency||V.companyCurrency):"No purchases"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:V.lastVisit?B(V.lastVisit):"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:Z=>{Z.stopPropagation(),e(`/customers/${V.id}`)},className:"text-beveren-600 hover:text-beveren-700 dark:text-beveren-400 dark:hover:text-beveren-300",children:r.jsx(Bi,{size:16})}),r.jsx("button",{onClick:Z=>{Z.stopPropagation(),f(V),c(!0)},className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:r.jsx(cl,{size:16})})]})})]},V.id))})]})})})]})}),l&&r.jsxs(r.Fragment,{children:[console.log("Opening modal with prefilled data:",h),r.jsx(hl,{customer:u,onClose:()=>{c(!1),f(null),m({})},onSave:V=>{console.log("Saving customer (desktop):",V),!u&&V.id?(console.log("New customer created, reloading page to show updated list"),setTimeout(()=>{window.location.reload()},500)):(c(!1),f(null),m({}))},prefilledData:h})]})]})}function lM(){const e=Ma(),{cartItems:t,appliedCoupons:a,updateQuantity:s,removeItem:l,clearCart:c,applyCoupon:u,removeCoupon:f}=Zs();return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Ki,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," ",t.length===1?"item":"items"]})]})}),r.jsx("div",{className:"flex-1 pb-20",children:r.jsx(f4,{cartItems:t,onUpdateQuantity:s,onRemoveItem:l,onClearCart:c,appliedCoupons:a,onApplyCoupon:u,onRemoveCoupon:f,isMobile:!0})}),r.jsx(as,{})]})}function cM(){const e=Ma();return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Ki,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Customers"})]})})}),r.jsx("div",{className:"flex-1 pb-20 overflow-hidden",children:r.jsx(jN,{})}),r.jsx(as,{})]})}function dM(){const e=Ma(),t=s=>{console.log("Saving customer:",s),e(-1)},a=()=>{e(-1)};return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Ki,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Add Customer"})]})})}),r.jsx("div",{className:"flex-1 pb-20",children:r.jsx("div",{className:"h-full bg-white dark:bg-gray-800",children:r.jsx(hl,{onClose:a,onSave:t,isFullPage:!0})})}),r.jsx(as,{})]})}function uM(){const e=Ma(),{cartItems:t,appliedCoupons:a,selectedCustomer:s,clearCart:l}=Zs(),{refreshStockOnly:c,updateBatchQuantitiesForItems:u}=v0(),f=y=>oe(null,null,function*(){y?(l(),qi()):console.log("MobilePaymentPage: Payment was not completed - keeping cart items");try{yield c(),console.log("Stock refreshed after payment modal close");const w=t.map(b=>b.item_code||b.id);w.length>0&&(console.log("MobilePaymentPage: Updating batch quantities for cart items:",w),yield u(w),console.log("MobilePaymentPage: Batch quantities updated successfully"))}catch(w){console.error("Failed to refresh stock:",w)}e(-1)}),h=y=>oe(null,null,function*(){console.log("Payment completed:",y),console.log("MobilePaymentPage: Payment completed - cart will be cleared when page is closed")}),m=y=>{console.log("Order held:",y),l(),e("/pos")};return r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(Ki,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-8 h-8 rounded-full object-cover"}),r.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Payment"})]})})}),r.jsx("div",{className:"flex-1 pb-20",children:r.jsx(my,{isOpen:!0,onClose:f,cartItems:t,appliedCoupons:a,selectedCustomer:s,onCompletePayment:h,onHoldOrder:m,isMobile:!0,isFullPage:!0})}),r.jsx(as,{})]})}const Sr=({element:e})=>{const{isAuthenticated:t,loading:a}=Ws(),s=Kr();return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),r.jsx("p",{className:"text-beveren-600 mt-4",children:"Verifying access..."})]})}):t?e:r.jsx(J6,{to:"/login",state:{from:s},replace:!0})};var X0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},W0=typeof window=="undefined"||"Deno"in globalThis;function sn(){}function fM(e,t){return typeof e=="function"?e(t):e}function hM(e){return typeof e=="number"&&e>=0&&e!==1/0}function mM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bg(e,t){return typeof e=="function"?e(t):e}function gM(e,t){return typeof e=="function"?e(t):e}function q2(e,t){const{type:a="all",exact:s,fetchStatus:l,predicate:c,queryKey:u,stale:f}=e;if(u){if(s){if(t.queryHash!==Ay(u,t.options))return!1}else if(!nd(t.queryKey,u))return!1}if(a!=="all"){const h=t.isActive();if(a==="active"&&!h||a==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function G2(e,t){const{exact:a,status:s,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(a){if(rd(t.options.mutationKey)!==rd(c))return!1}else if(!nd(t.options.mutationKey,c))return!1}return!(s&&t.state.status!==s||l&&!l(t))}function Ay(e,t){return((t==null?void 0:t.queryKeyHashFn)||rd)(e)}function rd(e){return JSON.stringify(e,(t,a)=>zg(a)?Object.keys(a).sort().reduce((s,l)=>(s[l]=a[l],s),{}):a)}function nd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>nd(e[a],t[a])):!1}function kN(e,t){if(e===t)return e;const a=V2(e)&&V2(t);if(a||zg(e)&&zg(t)){const s=a?e:Object.keys(e),l=s.length,c=a?t:Object.keys(t),u=c.length,f=a?[]:{},h=new Set(s);let m=0;for(let y=0;y<u;y++){const w=a?y:c[y];(!a&&h.has(w)||a)&&e[w]===void 0&&t[w]===void 0?(f[w]=void 0,m++):(f[w]=kN(e[w],t[w]),f[w]===e[w]&&e[w]!==void 0&&m++)}return l===u&&m===l?e:f}return t}function V2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zg(e){if(!K2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!K2(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function K2(e){return Object.prototype.toString.call(e)==="[object Object]"}function yM(e){return new Promise(t=>{setTimeout(t,e)})}function pM(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?kN(e,t):t}function xM(e,t,a=0){const s=[...e,t];return a&&s.length>a?s.slice(1):s}function bM(e,t,a=0){const s=[t,...e];return a&&s.length>a?s.slice(0,-1):s}var Oy=Symbol();function SN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Oy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ai,zs,Wo,X2,vM=(X2=class extends X0{constructor(){super();ta(this,Ai);ta(this,zs);ta(this,Wo);It(this,Wo,t=>{if(!W0&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){Ee(this,zs)||this.setEventListener(Ee(this,Wo))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,zs))==null||t.call(this),It(this,zs,void 0))}setEventListener(t){var a;It(this,Wo,t),(a=Ee(this,zs))==null||a.call(this),It(this,zs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Ee(this,Ai)!==t&&(It(this,Ai,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){var t;return typeof Ee(this,Ai)=="boolean"?Ee(this,Ai):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ai=new WeakMap,zs=new WeakMap,Wo=new WeakMap,X2),$N=new vM,Zo,Hs,Jo,W2,wM=(W2=class extends X0{constructor(){super();ta(this,Zo,!0);ta(this,Hs);ta(this,Jo);It(this,Jo,t=>{if(!W0&&window.addEventListener){const a=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}})}onSubscribe(){Ee(this,Hs)||this.setEventListener(Ee(this,Jo))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,Hs))==null||t.call(this),It(this,Hs,void 0))}setEventListener(t){var a;It(this,Jo,t),(a=Ee(this,Hs))==null||a.call(this),It(this,Hs,t(this.setOnline.bind(this)))}setOnline(t){Ee(this,Zo)!==t&&(It(this,Zo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Ee(this,Zo)}},Zo=new WeakMap,Hs=new WeakMap,Jo=new WeakMap,W2),g0=new wM;function NM(){let e,t;const a=new Promise((l,c)=>{e=l,t=c});a.status="pending",a.catch(()=>{});function s(l){Object.assign(a,l),delete a.resolve,delete a.reject}return a.resolve=l=>{s({status:"fulfilled",value:l}),e(l)},a.reject=l=>{s({status:"rejected",reason:l}),t(l)},a}function jM(e){return Math.min(1e3*Zb(2,e),3e4)}function CN(e){return(e!=null?e:"online")==="online"?g0.isOnline():!0}var _N=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qm(e){return e instanceof _N}function EN(e){let t=!1,a=0,s=!1,l;const c=NM(),u=N=>{var $;s||(b(new _N(N)),($=e.abort)==null||$.call(e))},f=()=>{t=!0},h=()=>{t=!1},m=()=>$N.isFocused()&&(e.networkMode==="always"||g0.isOnline())&&e.canRun(),y=()=>CN(e.networkMode)&&e.canRun(),w=N=>{var $;s||(s=!0,($=e.onSuccess)==null||$.call(e,N),l==null||l(),c.resolve(N))},b=N=>{var $;s||(s=!0,($=e.onError)==null||$.call(e,N),l==null||l(),c.reject(N))},v=()=>new Promise(N=>{var $;l=C=>{(s||m())&&N(C)},($=e.onPause)==null||$.call(e)}).then(()=>{var N;l=void 0,s||(N=e.onContinue)==null||N.call(e)}),k=()=>{if(s)return;let N;const $=a===0?e.initialPromise:void 0;try{N=$!=null?$:e.fn()}catch(C){N=Promise.reject(C)}Promise.resolve(N).then(w).catch(C=>{var R,ae,q;if(s)return;const L=(R=e.retry)!=null?R:W0?0:3,M=(ae=e.retryDelay)!=null?ae:jM,B=typeof M=="function"?M(a,C):M,O=L===!0||typeof L=="number"&&a<L||typeof L=="function"&&L(a,C);if(t||!O){b(C);return}a++,(q=e.onFail)==null||q.call(e,a,C),yM(B).then(()=>m()?void 0:v()).then(()=>{t?b(C):k()})})};return{promise:c,cancel:u,continue:()=>(l==null||l(),c),cancelRetry:f,continueRetry:h,canStart:y,start:()=>(y()?k():v().then(k),c)}}var kM=e=>setTimeout(e,0);function SM(){let e=[],t=0,a=f=>{f()},s=f=>{f()},l=kM;const c=f=>{t?e.push(f):l(()=>{a(f)})},u=()=>{const f=e;e=[],f.length&&l(()=>{s(()=>{f.forEach(h=>{a(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{a=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{l=f}}}var nr=SM(),Oi,Z2,TN=(Z2=class{constructor(){ta(this,Oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hM(this.gcTime)&&It(this,Oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:W0?1/0:5*60*1e3)}clearGcTimeout(){Ee(this,Oi)&&(clearTimeout(Ee(this,Oi)),It(this,Oi,void 0))}},Oi=new WeakMap,Z2),el,Ri,Ur,Pi,Ja,sd,Mi,on,Yn,J2,$M=(J2=class extends TN{constructor(t){var a;super();ta(this,on);ta(this,el);ta(this,Ri);ta(this,Ur);ta(this,Pi);ta(this,Ja);ta(this,sd);ta(this,Mi);It(this,Mi,!1),It(this,sd,t.defaultOptions),this.setOptions(t.options),this.observers=[],It(this,Pi,t.client),It(this,Ur,Ee(this,Pi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,It(this,el,_M(this.options)),this.state=(a=t.state)!=null?a:Ee(this,el),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ee(this,Ja))==null?void 0:t.promise}setOptions(t){this.options=U(U({},Ee(this,sd)),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ee(this,Ur).remove(this)}setData(t,a){const s=pM(this.state.data,t,this.options);return Wa(this,on,Yn).call(this,{data:s,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),s}setState(t,a){Wa(this,on,Yn).call(this,{type:"setState",state:t,setStateOptions:a})}cancel(t){var s,l;const a=(s=Ee(this,Ja))==null?void 0:s.promise;return(l=Ee(this,Ja))==null||l.cancel(t),a?a.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,el))}isActive(){return this.observers.some(t=>gM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mM(this.state.dataUpdatedAt,t)}onFocus(){var a;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(a=Ee(this,Ja))==null||a.continue()}onOnline(){var a;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(a=Ee(this,Ja))==null||a.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ee(this,Ur).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(Ee(this,Ja)&&(Ee(this,Mi)?Ee(this,Ja).cancel({revert:!0}):Ee(this,Ja).cancelRetry()),this.scheduleGc()),Ee(this,Ur).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wa(this,on,Yn).call(this,{type:"invalidate"})}fetch(t,a){var m,y,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(Ee(this,Ja))return Ee(this,Ja).continueRetry(),Ee(this,Ja).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(v=>v.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,l=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(It(this,Mi,!0),s.signal)})},c=()=>{const b=SN(this.options,a),k=(()=>{const N={client:Ee(this,Pi),queryKey:this.queryKey,meta:this.meta};return l(N),N})();return It(this,Mi,!1),this.options.persister?this.options.persister(b,k,this):b(k)},f=(()=>{const b={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:Ee(this,Pi),state:this.state,fetchFn:c};return l(b),b})();(m=this.options.behavior)==null||m.onFetch(f,this),It(this,Ri,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=f.fetchOptions)==null?void 0:y.meta))&&Wa(this,on,Yn).call(this,{type:"fetch",meta:(w=f.fetchOptions)==null?void 0:w.meta});const h=b=>{var v,k,N,$;qm(b)&&b.silent||Wa(this,on,Yn).call(this,{type:"error",error:b}),qm(b)||((k=(v=Ee(this,Ur).config).onError)==null||k.call(v,b,this),($=(N=Ee(this,Ur).config).onSettled)==null||$.call(N,this.state.data,b,this)),this.scheduleGc()};return It(this,Ja,EN({initialPromise:a==null?void 0:a.initialPromise,fn:f.fetchFn,abort:s.abort.bind(s),onSuccess:b=>{var v,k,N,$;if(b===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(C){h(C);return}(k=(v=Ee(this,Ur).config).onSuccess)==null||k.call(v,b,this),($=(N=Ee(this,Ur).config).onSettled)==null||$.call(N,b,this.state.error,this),this.scheduleGc()},onError:h,onFail:(b,v)=>{Wa(this,on,Yn).call(this,{type:"failed",failureCount:b,error:v})},onPause:()=>{Wa(this,on,Yn).call(this,{type:"pause"})},onContinue:()=>{Wa(this,on,Yn).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Ee(this,Ja).start()}},el=new WeakMap,Ri=new WeakMap,Ur=new WeakMap,Pi=new WeakMap,Ja=new WeakMap,sd=new WeakMap,Mi=new WeakMap,on=new WeakSet,Yn=function(t){const a=s=>{var l,c;switch(t.type){case"failed":return de(U({},s),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return de(U({},s),{fetchStatus:"paused"});case"continue":return de(U({},s),{fetchStatus:"fetching"});case"fetch":return de(U(U({},s),CM(s.data,this.options)),{fetchMeta:(l=t.meta)!=null?l:null});case"success":return It(this,Ri,void 0),U(de(U({},s),{data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(c=t.dataUpdatedAt)!=null?c:Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const u=t.error;return qm(u)&&u.revert&&Ee(this,Ri)?de(U({},Ee(this,Ri)),{fetchStatus:"idle"}):de(U({},s),{error:u,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"});case"invalidate":return de(U({},s),{isInvalidated:!0});case"setState":return U(U({},s),t.state)}};this.state=a(this.state),nr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ee(this,Ur).notify({query:this,type:"updated",action:t})})},J2);function CM(e,t){return U({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CN(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function _M(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,s=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var jn,e3,EM=(e3=class extends X0{constructor(t={}){super();ta(this,jn);this.config=t,It(this,jn,new Map)}build(t,a,s){var f;const l=a.queryKey,c=(f=a.queryHash)!=null?f:Ay(l,a);let u=this.get(c);return u||(u=new $M({client:t,queryKey:l,queryHash:c,options:t.defaultQueryOptions(a),state:s,defaultOptions:t.getQueryDefaults(l)}),this.add(u)),u}add(t){Ee(this,jn).has(t.queryHash)||(Ee(this,jn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=Ee(this,jn).get(t.queryHash);a&&(t.destroy(),a===t&&Ee(this,jn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ee(this,jn).get(t)}getAll(){return[...Ee(this,jn).values()]}find(t){const a=U({exact:!0},t);return this.getAll().find(s=>q2(a,s))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(s=>q2(t,s)):a}notify(t){nr.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jn=new WeakMap,e3),kn,rr,Di,Sn,Ls,t3,TM=(t3=class extends TN{constructor(t){super();ta(this,Sn);ta(this,kn);ta(this,rr);ta(this,Di);this.mutationId=t.mutationId,It(this,rr,t.mutationCache),It(this,kn,[]),this.state=t.state||AM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ee(this,kn).includes(t)||(Ee(this,kn).push(t),this.clearGcTimeout(),Ee(this,rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){It(this,kn,Ee(this,kn).filter(a=>a!==t)),this.scheduleGc(),Ee(this,rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ee(this,kn).length||(this.state.status==="pending"?this.scheduleGc():Ee(this,rr).remove(this))}continue(){var t,a;return(a=(t=Ee(this,Di))==null?void 0:t.continue())!=null?a:this.execute(this.state.variables)}execute(t){return oe(this,null,function*(){var c,u,f,h,m,y,w,b,v,k,N,$,C,L,M,B,O,R,ae,q,G;const a=()=>{Wa(this,Sn,Ls).call(this,{type:"continue"})};It(this,Di,EN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(H,V)=>{Wa(this,Sn,Ls).call(this,{type:"failed",failureCount:H,error:V})},onPause:()=>{Wa(this,Sn,Ls).call(this,{type:"pause"})},onContinue:a,retry:(c=this.options.retry)!=null?c:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,rr).canRun(this)}));const s=this.state.status==="pending",l=!Ee(this,Di).canStart();try{if(s)a();else{Wa(this,Sn,Ls).call(this,{type:"pending",variables:t,isPaused:l}),yield(f=(u=Ee(this,rr).config).onMutate)==null?void 0:f.call(u,t,this);const V=yield(m=(h=this.options).onMutate)==null?void 0:m.call(h,t);V!==this.state.context&&Wa(this,Sn,Ls).call(this,{type:"pending",context:V,variables:t,isPaused:l})}const H=yield Ee(this,Di).start();return yield(w=(y=Ee(this,rr).config).onSuccess)==null?void 0:w.call(y,H,t,this.state.context,this),yield(v=(b=this.options).onSuccess)==null?void 0:v.call(b,H,t,this.state.context),yield(N=(k=Ee(this,rr).config).onSettled)==null?void 0:N.call(k,H,null,this.state.variables,this.state.context,this),yield(C=($=this.options).onSettled)==null?void 0:C.call($,H,null,t,this.state.context),Wa(this,Sn,Ls).call(this,{type:"success",data:H}),H}catch(H){try{throw yield(M=(L=Ee(this,rr).config).onError)==null?void 0:M.call(L,H,t,this.state.context,this),yield(O=(B=this.options).onError)==null?void 0:O.call(B,H,t,this.state.context),yield(ae=(R=Ee(this,rr).config).onSettled)==null?void 0:ae.call(R,void 0,H,this.state.variables,this.state.context,this),yield(G=(q=this.options).onSettled)==null?void 0:G.call(q,void 0,H,t,this.state.context),H}finally{Wa(this,Sn,Ls).call(this,{type:"error",error:H})}}finally{Ee(this,rr).runNext(this)}})}},kn=new WeakMap,rr=new WeakMap,Di=new WeakMap,Sn=new WeakSet,Ls=function(t){const a=s=>{switch(t.type){case"failed":return de(U({},s),{failureCount:t.failureCount,failureReason:t.error});case"pause":return de(U({},s),{isPaused:!0});case"continue":return de(U({},s),{isPaused:!1});case"pending":return de(U({},s),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return de(U({},s),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return de(U({},s),{data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=a(this.state),nr.batch(()=>{Ee(this,kn).forEach(s=>{s.onMutationUpdate(t)}),Ee(this,rr).notify({mutation:this,type:"updated",action:t})})},t3);function AM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,ln,id,a3,OM=(a3=class extends X0{constructor(t={}){super();ta(this,Wn);ta(this,ln);ta(this,id);this.config=t,It(this,Wn,new Set),It(this,ln,new Map),It(this,id,0)}build(t,a,s){const l=new TM({mutationCache:this,mutationId:++wu(this,id)._,options:t.defaultMutationOptions(a),state:s});return this.add(l),l}add(t){Ee(this,Wn).add(t);const a=Fu(t);if(typeof a=="string"){const s=Ee(this,ln).get(a);s?s.push(t):Ee(this,ln).set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ee(this,Wn).delete(t)){const a=Fu(t);if(typeof a=="string"){const s=Ee(this,ln).get(a);if(s)if(s.length>1){const l=s.indexOf(t);l!==-1&&s.splice(l,1)}else s[0]===t&&Ee(this,ln).delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Fu(t);if(typeof a=="string"){const s=Ee(this,ln).get(a),l=s==null?void 0:s.find(c=>c.state.status==="pending");return!l||l===t}else return!0}runNext(t){var s,l;const a=Fu(t);if(typeof a=="string"){const c=(s=Ee(this,ln).get(a))==null?void 0:s.find(u=>u!==t&&u.state.isPaused);return(l=c==null?void 0:c.continue())!=null?l:Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{Ee(this,Wn).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ee(this,Wn).clear(),Ee(this,ln).clear()})}getAll(){return Array.from(Ee(this,Wn))}find(t){const a=U({exact:!0},t);return this.getAll().find(s=>G2(a,s))}findAll(t={}){return this.getAll().filter(a=>G2(t,a))}notify(t){nr.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return nr.batch(()=>Promise.all(t.map(a=>a.continue().catch(sn))))}},Wn=new WeakMap,ln=new WeakMap,id=new WeakMap,a3);function Fu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Y2(e){return{onFetch:(t,a)=>{var y,w,b,v,k;const s=t.options,l=(b=(w=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:b.direction,c=((v=t.state.data)==null?void 0:v.pages)||[],u=((k=t.state.data)==null?void 0:k.pageParams)||[];let f={pages:[],pageParams:[]},h=0;const m=()=>oe(null,null,function*(){var M;let N=!1;const $=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},C=SN(t.options,t.fetchOptions),L=(B,O,R)=>oe(null,null,function*(){if(N)return Promise.reject();if(O==null&&B.pages.length)return Promise.resolve(B);const q=(()=>{const Z={client:t.client,queryKey:t.queryKey,pageParam:O,direction:R?"backward":"forward",meta:t.options.meta};return $(Z),Z})(),G=yield C(q),{maxPages:H}=t.options,V=R?bM:xM;return{pages:V(B.pages,G,H),pageParams:V(B.pageParams,O,H)}});if(l&&c.length){const B=l==="backward",O=B?RM:Q2,R={pages:c,pageParams:u},ae=O(s,R);f=yield L(R,ae,B)}else{const B=e!=null?e:c.length;do{const O=h===0?(M=u[0])!=null?M:s.initialPageParam:Q2(s,f);if(h>0&&O==null)break;f=yield L(f,O),h++}while(h<B)}return f});t.options.persister?t.fetchFn=()=>{var N,$;return($=(N=t.options).persister)==null?void 0:$.call(N,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=m}}}function Q2(e,{pages:t,pageParams:a}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,a[s],a):void 0}function RM(e,{pages:t,pageParams:a}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,a[0],a):void 0}var ja,qs,Gs,tl,al,Vs,rl,nl,r3,PM=(r3=class{constructor(e={}){ta(this,ja);ta(this,qs);ta(this,Gs);ta(this,tl);ta(this,al);ta(this,Vs);ta(this,rl);ta(this,nl);It(this,ja,e.queryCache||new EM),It(this,qs,e.mutationCache||new OM),It(this,Gs,e.defaultOptions||{}),It(this,tl,new Map),It(this,al,new Map),It(this,Vs,0)}mount(){wu(this,Vs)._++,Ee(this,Vs)===1&&(It(this,rl,$N.subscribe(e=>oe(this,null,function*(){e&&(yield this.resumePausedMutations(),Ee(this,ja).onFocus())}))),It(this,nl,g0.subscribe(e=>oe(this,null,function*(){e&&(yield this.resumePausedMutations(),Ee(this,ja).onOnline())}))))}unmount(){var e,t;wu(this,Vs)._--,Ee(this,Vs)===0&&((e=Ee(this,rl))==null||e.call(this),It(this,rl,void 0),(t=Ee(this,nl))==null||t.call(this),It(this,nl,void 0))}isFetching(e){return Ee(this,ja).findAll(de(U({},e),{fetchStatus:"fetching"})).length}isMutating(e){return Ee(this,qs).findAll(de(U({},e),{status:"pending"})).length}getQueryData(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=Ee(this,ja).get(t.queryHash))==null?void 0:a.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=Ee(this,ja).build(this,t),s=a.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(Bg(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Ee(this,ja).findAll(e).map(({queryKey:t,state:a})=>{const s=a.data;return[t,s]})}setQueryData(e,t,a){const s=this.defaultQueryOptions({queryKey:e}),l=Ee(this,ja).get(s.queryHash),c=l==null?void 0:l.state.data,u=fM(t,c);if(u!==void 0)return Ee(this,ja).build(this,s).setData(u,de(U({},a),{manual:!0}))}setQueriesData(e,t,a){return nr.batch(()=>Ee(this,ja).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,a)]))}getQueryState(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=Ee(this,ja).get(t.queryHash))==null?void 0:a.state}removeQueries(e){const t=Ee(this,ja);nr.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=Ee(this,ja);return nr.batch(()=>(a.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(U({type:"active"},e),t)))}cancelQueries(e,t={}){const a=U({revert:!0},t),s=nr.batch(()=>Ee(this,ja).findAll(e).map(l=>l.cancel(a)));return Promise.all(s).then(sn).catch(sn)}invalidateQueries(e,t={}){return nr.batch(()=>{var a,s;return Ee(this,ja).findAll(e).forEach(l=>{l.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(de(U({},e),{type:(s=(a=e==null?void 0:e.refetchType)!=null?a:e==null?void 0:e.type)!=null?s:"active"}),t)})}refetchQueries(e,t={}){var l;const a=de(U({},t),{cancelRefetch:(l=t.cancelRefetch)!=null?l:!0}),s=nr.batch(()=>Ee(this,ja).findAll(e).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,a);return a.throwOnError||(u=u.catch(sn)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=Ee(this,ja).build(this,t);return a.isStaleByTime(Bg(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sn).catch(sn)}fetchInfiniteQuery(e){return e.behavior=Y2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sn).catch(sn)}ensureInfiniteQueryData(e){return e.behavior=Y2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g0.isOnline()?Ee(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,ja)}getMutationCache(){return Ee(this,qs)}getDefaultOptions(){return Ee(this,Gs)}setDefaultOptions(e){It(this,Gs,e)}setQueryDefaults(e,t){Ee(this,tl).set(rd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ee(this,tl).values()],a={};return t.forEach(s=>{nd(e,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(e,t){Ee(this,al).set(rd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ee(this,al).values()],a={};return t.forEach(s=>{nd(e,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t=de(U(U(U({},Ee(this,Gs).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=Ay(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Oy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:de(U(U(U({},Ee(this,Gs).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){Ee(this,ja).clear(),Ee(this,qs).clear()}},ja=new WeakMap,qs=new WeakMap,Gs=new WeakMap,tl=new WeakMap,al=new WeakMap,Vs=new WeakMap,rl=new WeakMap,nl=new WeakMap,r3),MM=x.createContext(void 0),DM=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(MM.Provider,{value:e,children:t}));function LM(){window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&typeof e.reason=="object"&&e.reason.message&&e.reason.message.includes("fetch")&&console.error("Network/API error detected:",e.reason),e.preventDefault()})}function IM(){return xl("(max-width: 1024px)")?null:r.jsx("footer",{className:"fixed bottom-0 left-20 right-0 bg-beveren-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-10",children:r.jsxs("div",{className:"w-full py-2 flex justify-between items-center px-4",children:[r.jsx("div",{className:"text-sm text-beveren-600 dark:text-beveren-400 font-bold",children:"KLiK PoS"}),r.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["© ",new Date().getFullYear()," Powered by"," ",r.jsx("a",{href:"https://beverensoftware.com",target:"_blank",rel:"noopener noreferrer",className:"font-semibold hover:underline text-beveren-600 dark:text-beveren-400",children:"Beveren Software"})]})]})})}function UM(){const e=Ma(),t=Kr(),a=[{icon:dd,path:"/pos",label:"POS"},{icon:ow,path:"/invoice",label:"InvoiceHistory"},{icon:Ys,path:"/customers",label:"Customers"},{icon:zo,path:"/dashboard",label:"Dashboard"},{icon:Ec,path:"/closing_shift",label:"Closing Shift"}],s=l=>l==="/pos"?t.pathname==="/"||t.pathname==="/pos":t.pathname.startsWith(l);return r.jsxs("div",{className:"hidden lg:flex fixed h-screen w-20 top-0 left-0 bg-white dark:bg-gray-800 shadow-lg flex-col border-r border-gray-200 dark:border-gray-700 z-50",children:[r.jsx("div",{className:"h-20 flex items-center justify-center border-gray-100 dark:border-gray-700 cursor-pointer active:scale-90 transition-transform duration-150",onClick:()=>e("/"),children:r.jsx("img",{src:"/assets/klik_pos/klik_spa/beveren-logo-180.png",alt:"KLiK PoS",className:"w-12 h-12 rounded-full object-cover"})}),r.jsx("div",{className:"flex-1 flex flex-col items-center py-6 space-y-4",children:a.map((l,c)=>r.jsx("button",{onClick:()=>e(l.path),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all cursor-pointer active:scale-90 duration-150 ${s(l.path)?"bg-beveren-100 dark:bg-beveren-900/20 text-beveren-600 dark:text-beveren-400":"text-beveren-600 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:l.label,children:r.jsx(l.icon,{size:20})},c))})]})}const FM=new PM;function BM(){return x.useEffect(()=>{LM()},[]),r.jsx(DM,{client:FM,children:r.jsx(FS,{children:r.jsx(j9,{children:r.jsx(HS,{children:r.jsxs(VS,{children:[r.jsx(UM,{}),r.jsx(eS,{}),r.jsx(IM,{}),r.jsx(IC,{position:"top-center",autoClose:3e3,"aria-label":"Notification"})]})})})})})}function zM(){const e=Ma(),{isAuthenticated:t,loading:a}=Ws();return x.useEffect(()=>{a||(t?e("/pos",{replace:!0}):e("/login",{replace:!0}))},[t,a,e]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-beveren-50 to-beveren-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-beveren-700 mb-4",children:"KLiK PoS"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-700 mx-auto"}),r.jsx("p",{className:"text-beveren-600 mt-4",children:"Loading..."})]})})}function Hg({customer:e,isOpen:t,onClose:a,onSuccess:s,customers:l=[]}){const[c,u]=x.useState([]),[f,h]=x.useState(!1),[m,y]=x.useState(!1),[w,b]=x.useState(90),[v,k]=x.useState(""),[N,$]=x.useState(new Set),[C,L]=x.useState({}),[M,B]=x.useState("select-customer"),[O,R]=x.useState(e||""),[ae,q]=x.useState(""),[G,H]=x.useState([]),[V,Z]=x.useState([]),[J,Ne]=x.useState([]),{customers:je,isLoading:X}=H0(ae),{posDetails:re}=er(),{modes:ne}=P0((re==null?void 0:re.name)||"Test POS Profile"),Ae=(re==null?void 0:re.currency)||"USD",z=q0(Ae),[me,T]=x.useState([]),[ee,ue]=x.useState("");x.useEffect(()=>{t&&(e?(B("select-items"),R(e)):(B("select-customer"),R("")),H([]),u([]),$(new Set),Ne([]),q(""),ue(""),e&&(K(),P()))},[t,e]);const P=()=>oe(null,null,function*(){try{const Pe=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${O}`)).json();Pe.message&&Array.isArray(Pe.message)?T(Pe.message):T([])}catch(xe){console.error("Error loading customer addresses:",xe),T([])}}),K=()=>oe(null,null,function*(){try{const xe=new Date().toISOString().split("T")[0],Pe=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0],Be=yield Om(O,Pe,xe,ee);if(Be.success&&Be.data){const et=new Map;Be.data.forEach(vt=>{vt.items.forEach(E=>{E.available_qty>0&&et.set(E.item_code,E.item_name)})});const $t=Array.from(et.entries()).map(([vt,E])=>({item_code:vt,item_name:E}));Z($t),Ne($t)}else Z([]),Ne([])}catch(xe){console.error("Error loading available items:",xe),Z([]),Ne([])}}),ke=()=>oe(null,null,function*(){if(G.length===0){Me.error("Please select at least one item to return");return}B("filter-invoices"),y(!0);try{const xe=new Date().toISOString().split("T")[0],Pe=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0],Be=yield Om(O,Pe,xe,ee);if(Be.success&&Be.data){const et=Be.data.filter($t=>$t.items.some(vt=>G.some(E=>E.item_code===vt.item_code&&vt.available_qty>0))).map($t=>de(U({},$t),{items:$t.items.filter(vt=>G.some(E=>E.item_code===vt.item_code&&vt.available_qty>0)).map(vt=>de(U({},vt),{return_qty:vt.available_qty}))}));u(et),L($t=>{var E,we,Ue,Ut;const vt=U({},$t);for(const bt of et)if(N.has(bt.name)){const st=bt.items.reduce((Fe,Je)=>Fe+(Je.return_qty||0)*Je.rate,0),Yt=((E=ne.find(Fe=>Fe.default===1))==null?void 0:E.mode_of_payment)||((we=ne[0])==null?void 0:we.mode_of_payment)||"Cash",he=((Ut=(Ue=bt.payments)==null?void 0:Ue[0])==null?void 0:Ut.mode_of_payment)||Yt;vt[bt.name]=vt[bt.name]||{method:he,amount:st}}return vt}),B("select-invoices")}else Me.error(Be.error||"Failed to load customer invoices"),u([])}catch(xe){console.error("Error loading customer invoices:",xe),Me.error("Failed to load customer invoices"),u([])}finally{y(!1)}}),Ie=(xe,Pe,Be)=>{H(Be?et=>[...et,{item_code:xe,item_name:Pe}]:et=>et.filter($t=>$t.item_code!==xe))},Ye=(xe,Pe,Be)=>{u(et=>et.map($t=>{if($t.name===xe){const vt=$t.items.map(E=>{if(E.item_code===Pe){const we=Math.max(0,Math.min(Be,E.available_qty));return de(U({},E),{return_qty:we})}return E});return de(U({},$t),{items:vt})}return $t}))},De=xe=>{$(Pe=>{var et,$t,vt,E;const Be=new Set(Pe);if(Be.has(xe))Be.delete(xe),u(we=>we.map(Ue=>{if(Ue.name===xe){const Ut=Ue.items.map(bt=>de(U({},bt),{return_qty:0}));return de(U({},Ue),{items:Ut})}return Ue})),L(we=>{const Ue=U({},we);return delete Ue[xe],Ue});else{Be.add(xe);const we=c.find(Ue=>Ue.name===xe);if(we){const Ue=we.items.reduce((st,Yt)=>st+(Yt.return_qty||0)*Yt.rate,0),Ut=((et=ne.find(st=>st.default===1))==null?void 0:et.mode_of_payment)||(($t=ne[0])==null?void 0:$t.mode_of_payment)||"Cash",bt=((E=(vt=we.payments)==null?void 0:vt[0])==null?void 0:E.mode_of_payment)||Ut;L(st=>de(U({},st),{[xe]:st[xe]||{method:bt,amount:Ue}}))}}return Be})},gt=xe=>{u(Pe=>Pe.map(Be=>{if(Be.name===xe){const et=Be.items.map($t=>de(U({},$t),{return_qty:$t.available_qty}));return de(U({},Be),{items:et})}return Be})),$(Pe=>new Set(Pe).add(xe))},lt=c.filter(xe=>xe.name.toLowerCase().includes(v.toLowerCase())||xe.items.some(Pe=>Pe.item_name.toLowerCase().includes(v.toLowerCase())||Pe.item_code.toLowerCase().includes(v.toLowerCase()))),Ht=c.some(xe=>xe.items.some(Pe=>(Pe.return_qty||0)>0)),Ce=c.reduce((xe,Pe)=>xe+Pe.items.reduce((Be,et)=>Be+(et.return_qty||0)*et.rate,0),0),Ze=()=>oe(null,null,function*(){const xe=c.filter(Be=>N.has(Be.name)).map(Be=>{var et,$t,vt;return{invoice_name:Be.name,return_items:Be.items.filter(E=>(E.return_qty||0)>0),payment_method:(et=C[Be.name])==null?void 0:et.method,return_amount:(vt=($t=C[Be.name])==null?void 0:$t.amount)!=null?vt:Be.items.reduce((E,we)=>E+(we.return_qty||0)*we.rate,0)}}).filter(Be=>Be.return_items.length>0);if(xe.length===0){Me.error("Please select at least one item to return");return}const Pe={customer:e,invoice_returns:xe};h(!0);try{const Be=yield lO(Pe);Be.success?(Me.success(Be.message||"Returns created successfully"),s(Be.createdReturns||[]),a()):Me.error(Be.error||"Failed to create returns")}catch(Be){console.error("Error creating returns:",Be),Me.error("Failed to create returns")}finally{h(!1)}});return t?r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-7xl h-[95vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-beveren-100 dark:bg-orange-900/20 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:r.jsx(zi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Multi-Invoice Return"}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Customer: ",O||"Not selected"]})]})]}),r.jsx("button",{onClick:a,className:"p-1.5 sm:p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(gr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),r.jsx("div",{className:"mt-3 sm:mt-4 flex items-center justify-center",children:r.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[!e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${M==="select-customer"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${M==="select-customer"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:"1"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Customer"})]}),r.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"})]}),r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${M==="select-items"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${M==="select-items"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"1":"2"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Items"})]}),r.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${M==="filter-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${M==="filter-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"2":"3"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Filter Invoices"})]}),r.jsx("div",{className:"w-4 sm:w-8 h-1 bg-gray-300 dark:bg-gray-600"}),r.jsxs("div",{className:`flex items-center space-x-1 sm:space-x-2 ${M==="select-invoices"?"text-beveren-600 dark:text-beveren-400":"text-gray-400"}`,children:[r.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium ${M==="select-invoices"?"bg-beveren-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"}`,children:e?"3":"4"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Select Invoices"})]})]})})]}),M==="select-customer"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Customer"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a customer to process multi-invoice returns"})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:ae,onChange:xe=>q(xe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[r.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-60 sm:max-h-none",children:X?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading customers..."})}):je&&je.length>0?je.map(xe=>r.jsxs("button",{onClick:()=>oe(null,null,function*(){const Pe=xe.id||xe.name||"";R(Pe),B("select-items");try{const Be=new Date().toISOString().split("T")[0],et=new Date(Date.now()-w*24*60*60*1e3).toISOString().split("T")[0],vt=yield(yield fetch(`/api/method/klik_pos.api.customer.get_customer_addresses?customer=${Pe}`)).json();vt.message&&Array.isArray(vt.message)?T(vt.message):T([]);const E=yield Om(Pe,et,Be,ee);if(E.success&&E.data){const we=new Map;E.data.forEach(Ut=>{Ut.items.forEach(bt=>{bt.available_qty>0&&we.set(bt.item_code,bt.item_name)})});const Ue=Array.from(we.entries()).map(([Ut,bt])=>({item_code:Ut,item_name:bt}));Z(Ue),Ne(Ue)}else Z([]),Ne([])}catch(Be){console.error("Error loading customer data:",Be),Z([]),Ne([]),T([])}}),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:xe.name||"Unknown Customer"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:xe.id||"No ID"})]},xe.id||xe.name||Math.random())):ae.trim()?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',ae,'"']})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),je&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:ae.trim()?`${je.length} customers found`:`${je.length} customers total`})})]})]}),M==="select-items"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto sm:overflow-visible px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Select Items to Return"}),r.jsx("p",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400",children:"Choose which items you want to return from customer invoices"})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days to Look Back"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sl,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"number",min:"1",max:"365",value:w||"",onChange:xe=>{const Pe=xe.target.value;if(Pe==="")b(0);else{const Be=parseInt(Pe);!isNaN(Be)&&Be>0&&b(Be)}},onBlur:xe=>{(!w||w<1)&&b(90)},className:"w-20 sm:w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"}),r.jsx("button",{onClick:K,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Refresh items with new days setting",children:r.jsx(zi,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping Address (Optional)"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(S0,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{list:"address-list",value:ee,onChange:xe=>{ue(xe.target.value),setTimeout(()=>K(),100)},className:`flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg
                                  focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800
                                  text-gray-900 dark:text-white`}),r.jsx("datalist",{id:"address-list",children:me.map(xe=>r.jsxs("option",{value:xe.name,children:[xe.address_line1,", ",xe.city]},xe.name))})]})]}),G.length>0&&r.jsxs("button",{onClick:ke,disabled:m,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center justify-center space-x-2 ${m?"bg-gray-400 cursor-not-allowed":"bg-beveren-600 hover:bg-orange-700"}`,children:[r.jsx(lg,{className:"w-4 h-4"}),r.jsx("span",{children:m?"Loading...":`Find Invoices (${G.length} items)`})]})]})}),f?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading available items..."})]}):V.length>0?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-4 flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Available Items (Last ",w," days)"]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[G.length," of ",V.length," selected"]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search items by name or code...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",onChange:xe=>{const Pe=xe.target.value.toLowerCase(),Be=V.filter(et=>et.item_name.toLowerCase().includes(Pe)||et.item_code.toLowerCase().includes(Pe));Ne(Be)}})]}),G.length>0&&r.jsx("button",{onClick:()=>H([]),className:"px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700 transition-colors",children:"Clear All"})]})}),r.jsx("div",{className:"overflow-x-auto flex-1 min-h-0",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:G.length===J.length&&J.length>0,onChange:xe=>{xe.target.checked?H(J):H([])},className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),r.jsx("span",{className:"text-xs text-gray-400",children:"All"})]})}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Name"}),r.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item Code"}),r.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:J.map(xe=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"checkbox",checked:G.some(Pe=>Pe.item_code===xe.item_code),onChange:Pe=>Ie(xe.item_code,xe.item_name,Pe.target.checked),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:xe.item_name})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:xe.item_code})}),r.jsx("td",{className:"px-3 py-2 text-center",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G.some(Pe=>Pe.item_code===xe.item_code)?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:G.some(Pe=>Pe.item_code===xe.item_code)?"Selected":"Available"})})]},xe.item_code))})]})}),G.length>0&&r.jsx("div",{className:"mt-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[r.jsx("span",{className:"font-medium",children:G.length})," items selected for return"]})})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 text-center flex-1 flex flex-col items-center justify-center min-h-0",children:[r.jsx(s0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Items Found"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["No items found in customer invoices from the last ",w," days."]}),r.jsx("button",{onClick:K,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Refresh Items"})]})]}),M==="filter-invoices"&&r.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Filtering Invoices"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Finding invoices from the last ",w," days containing selected items..."]})]}),r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Filtering invoices..."})]})})]}),M==="select-invoices"&&r.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex-shrink-0",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search invoices or items...",value:v,onChange:xe=>k(xe.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>B("select-items"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium",children:"← Back to Items"}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Return Amount"}),r.jsx("p",{className:"text-xl font-bold text-beveren-600 dark:text-beveren-400",children:nt(Ce,Ae)})]})]})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[lt.length," invoice(s) found • ",N.size," selected"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected Items: ",G.map(xe=>xe.item_name).join(", ")]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{maxHeight:"calc(95vh - 320px)"},children:M==="select-invoices"&&r.jsx(r.Fragment,{children:m?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):lt.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(il,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Invoices Found"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No invoices found containing the selected items in the last ",w," days."]}),r.jsx("button",{onClick:()=>B("select-items"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"← Back to Items Selection"})]})}):r.jsx("div",{className:"space-y-6",children:lt.map(xe=>{var Pe,Be,et,$t,vt;return r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:N.has(xe.name),onChange:()=>De(xe.name),className:"w-4 h-4 text-beveren-600 border-gray-300 rounded focus:ring-beveren-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:xe.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{children:xe.posting_date}),r.jsx("span",{children:nt(xe.grand_total,Ae)}),r.jsx("span",{className:"capitalize",children:xe.status})]})]})]}),r.jsx("button",{onClick:()=>gt(xe.name),className:"px-3 py-1 text-sm bg-beveren-100 dark:bg-beveren-900/20 text-beveren-700 dark:text-beveren-300 rounded hover:bg-beveren-200 dark:hover:bg-beveren-900/40 transition-colors",children:"Return All Available"})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Item"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Sold"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Returned"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Available"}),r.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Return Qty"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:xe.items.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(s0,{className:"w-4 h-4 text-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.item_name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:E.item_code})]})]})}),r.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900 dark:text-white",children:E.qty}),r.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600 dark:text-red-400",children:E.returned_qty}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`text-sm font-medium ${E.available_qty>0?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:E.available_qty})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("button",{onClick:()=>Ye(xe.name,E.item_code,(E.return_qty||0)-1),disabled:!E.return_qty||E.return_qty<=0,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(uy,{className:"w-3 h-3"})}),r.jsx("input",{type:"number",min:"0",max:E.available_qty,value:E.return_qty||0,onChange:we=>Ye(xe.name,E.item_code,parseInt(we.target.value)||0),className:"w-12 px-1 py-1 text-center border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-beveren-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs",disabled:E.available_qty===0}),r.jsx("button",{onClick:()=>Ye(xe.name,E.item_code,(E.return_qty||0)+1),disabled:E.available_qty===0||(E.return_qty||0)>=E.available_qty,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(Pc,{className:"w-3 h-3"})})]})}),r.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:nt((E.return_qty||0)*E.rate,Ae)})]},E.item_code))})]})}),N.has(xe.name)&&r.jsx("div",{className:"px-4 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mode of Payment"}),r.jsx("select",{value:((Pe=C[xe.name])==null?void 0:Pe.method)||((Be=ne.find(E=>E.default===1))==null?void 0:Be.mode_of_payment)||((et=ne[0])==null?void 0:et.mode_of_payment)||"Cash",onChange:E=>{const we=E.target.value;L(Ue=>{var Ut,bt;return de(U({},Ue),{[xe.name]:{method:we,amount:(bt=(Ut=Ue[xe.name])==null?void 0:Ut.amount)!=null?bt:xe.items.reduce((st,Yt)=>st+(Yt.return_qty||0)*Yt.rate,0)}})})},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500",children:ne.map(E=>r.jsx("option",{value:E.mode_of_payment,children:E.mode_of_payment},E.name))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400 text-sm",children:z}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:(vt=($t=C[xe.name])==null?void 0:$t.amount)!=null?vt:xe.items.reduce((E,we)=>E+(we.return_qty||0)*we.rate,0),onChange:E=>{const we=parseFloat(E.target.value)||0;L(Ue=>{var Ut,bt,st;return de(U({},Ue),{[xe.name]:{method:((Ut=Ue[xe.name])==null?void 0:Ut.method)||((bt=ne.find(Yt=>Yt.default===1))==null?void 0:bt.mode_of_payment)||((st=ne[0])==null?void 0:st.mode_of_payment)||"Cash",amount:we}})})},className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-beveren-500 text-right",placeholder:"0.00"})]})]})]})})]},xe.name)})})})}),M==="select-invoices"&&r.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:Ht&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Fi,{className:"w-4 h-4 text-orange-500"}),r.jsx("span",{children:"Items selected for return from multiple invoices"})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-3",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 font-medium",children:"Cancel"}),r.jsx("button",{onClick:Ze,disabled:!Ht||f,className:`px-6 sm:px-8 py-3 rounded-lg font-semibold text-base sm:text-lg transition-colors shadow-lg ${Ht&&!f?"bg-orange-600 text-white hover:bg-orange-700 hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:f?"Processing...":"Create Returns"})]})]})})]})}):null}function AN(e){return oe(this,null,function*(){try{const t=yield a8(e);if(!t||!t.items||!Array.isArray(t.items))throw new Error("No items found in draft invoice");const a=[];for(const l of t.items){const c={id:l.item_code,name:l.item_name,category:"General",price:l.rate,image:"",quantity:l.qty};a.push(c)}const s=t.customer?{id:t.customer,name:t.customer_name||t.customer,type:"individual",email:t.customer_email||"",phone:t.customer_mobile_no||"",address:{addressType:"Billing",street:t.customer_address_line1||"",city:t.customer_city||"",state:t.customer_state||"",zipCode:t.customer_pincode||"",country:t.customer_country||"Saudi Arabia"},status:"active",preferredPaymentMethod:"Cash",loyaltyPoints:0,totalSpent:0,totalOrders:0,tags:[],createdAt:new Date().toISOString()}:null;return UC(e,a,s),!0}catch(t){console.error("Error caching draft invoice items:",t);const a=dl(t,"Failed to cache draft invoice items");return Me.error(a),!1}})}function HM(e,t){if(!e||e.length===0)throw new Error("No invoices to export");const a=["Invoice Number","Customer","Posting Date","Due Date","Grand Total","Outstanding Amount","Status","Payment Method","Currency"],s=e.map(f=>{var h,m;return[f.name||"",f.customer||"",f.posting_date||"",f.due_date||"",((h=f.grand_total)==null?void 0:h.toString())||"0",((m=f.outstanding_amount)==null?void 0:m.toString())||"0",f.status||"",f.mode_of_payment||"",f.currency||""]}),l=[a,...s].map(f=>f.map(h=>`"${h}"`).join(",")).join(`
`),c=new Blob([l],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");if(u.download!==void 0){const f=URL.createObjectURL(c);u.setAttribute("href",f);const m=`invoices_export_${new Date().toISOString().split("T")[0]}.csv`;u.setAttribute("download",t||m),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(f)}}function qM(e="invoices",t="csv"){const a=new Date().toISOString().split("T")[0],s=new Date().toTimeString().split(" ")[0].replace(/:/g,"-");return`${e}_export_${a}_${s}.${t}`}function GM(){const e=Ma(),t=xl("(max-width: 1024px)"),[a,s]=x.useState("all"),[l,c]=x.useState(""),[u,f]=x.useState("all"),[h,m]=x.useState("all"),[y,w]=x.useState("all"),[b,v]=x.useState("list"),[k,N]=x.useState(null),[$,C]=x.useState(!1),[L,M]=x.useState(!1),[B,O]=x.useState(!1),[R,ae]=x.useState(""),[q,G]=x.useState(""),[H,V]=x.useState(!1),[Z,J]=x.useState(null),[Ne,je]=x.useState(!1),[X,re]=x.useState(null),[ne,Ae]=x.useState(!1),[z,me]=x.useState(null),[T,ee]=x.useState(!1),[ue,P]=x.useState(null),{invoices:K,isLoading:ke,isLoadingMore:Ie,error:Ye,hasMore:De,totalLoaded:gt,totalCount:lt,loadMore:Ht}=wy(l),{modes:Ce}=ww(),{customers:Ze}=H0(),{posDetails:xe}=er(),{userInfo:Pe,isLoading:Be}=h4(),et=(Pe==null?void 0:Pe.is_admin_user)||!1,$t=(Pe==null?void 0:Pe.full_name)||"";x.useEffect(()=>{!et&&$t&&y==="all"&&w($t)},[et,$t,y]),x.useEffect(()=>{const F=Q=>{Q.key==="Escape"&&(T&&Ta(),L&&M(!1),B&&O(!1))};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[T,L,B]);const vt=[{id:"all",name:"All Invoices",icon:il,color:"text-gray-600"},{id:"Draft",name:"Draft",icon:J9,color:"text-gray-500"},{id:"Unpaid",name:"Unpaid",icon:sl,color:"text-yellow-600"},{id:"Partly Paid",name:"Partly Paid",icon:Lc,color:"text-orange-600"},{id:"Paid",name:"Paid",icon:Fi,color:"text-green-600"},{id:"Overdue",name:"Overdue",icon:Bo,color:"text-red-600"},{id:"Return",name:"Returns",icon:ll,color:"text-purple-600"},{id:"Cancelled",name:"Cancelled",icon:Bo,color:"text-red-500"}],E=F=>{if(u==="all")return!0;if(u==="today")return Cy(F);if(u==="yesterday"){const Q=new Date;Q.setUTCDate(Q.getUTCDate()-1);const Te=new Date(F);return Te.getUTCFullYear()===Q.getUTCFullYear()&&Te.getUTCMonth()===Q.getUTCMonth()&&Te.getUTCDate()===Q.getUTCDate()}return u==="week"?_y(F):u==="month"?Ey(F):u==="year"?Ty(F):!0},we=F=>{const Q="px-2 py-1 rounded-full text-xs font-medium";switch((F==null?void 0:F.toLowerCase())||""){case"paid":return`${Q} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Q} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Q} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Q} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Q} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Q} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Q} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Q} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Q} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Q} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Q} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Q} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Q} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},Ue=x.useMemo(()=>ke?[]:Ye?[]:K.filter(F=>{const Q=a==="all"||F.status===a,Te=h==="all"||F.paymentMethod===h,Ve=y==="all"||F.cashier===y,ct=E(F.date);return Te&&Ve&&Q&&ct}),[K,a,u,h,y,ke,Ye]),Ut=x.useMemo(()=>[...new Set(K.map(F=>F.cashier).filter(Boolean))],[K]),bt=x.useMemo(()=>{if(!Ze)return[];const F=Ze.filter(Te=>Te&&(Te.customer_name||Te.name));if(!q.trim())return F;const Q=q.toLowerCase();return F.filter(Te=>{var it,yt;const Ve=((it=Te.customer_name)==null?void 0:it.toLowerCase())||"",ct=((yt=Te.name)==null?void 0:yt.toLowerCase())||"";return Ve.includes(Q)||ct.includes(Q)})},[Ze,q]),st=F=>F==="all"?K.length:K.filter(Q=>Q.status===F).length;if(ke&&K.length===0||Be)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading invoices..."})]})});if(Ye)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading invoices"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:Ye.message}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Retry"})]})});const Yt=()=>r.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:l,onChange:F=>c(F.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),ke&&K.length>0&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-b-transparent border-beveren-500 rounded-full"})})]}),r.jsxs("select",{value:u,onChange:F=>f(F.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"yesterday",children:"Yesterday"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]}),r.jsxs("select",{value:y,onChange:F=>w(F.target.value),disabled:!et,className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${et?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("option",{value:"all",children:"All Cashiers"}),Ut.map(F=>r.jsx("option",{value:F,children:F},F))]}),!et&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Showing only your transactions"}),r.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Payments"}),Ce.map(F=>r.jsx("option",{value:F.name,children:F.name},F.name))]})]}),De&&r.jsx("div",{className:"mt-3 text-center",children:r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Search works on all invoices in the database. Load more invoices to see additional results."})})]}),he=()=>r.jsxs("div",{className:"w-full max-w-none grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Ue.length}),De&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Showing ",gt," of ",lt]})]}),r.jsx(il,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(Ue.reduce((F,Q)=>F+Q.totalAmount,0),(xe==null?void 0:xe.currency)||"USD")})]}),r.jsx(Rc,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(Ue.filter(F=>F.status==="Paid").reduce((F,Q)=>F+Q.totalAmount,0),(xe==null?void 0:xe.currency)||"USD")})]}),r.jsx(Fi,{className:"w-8 h-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(Ue.filter(F=>["Unpaid","Partly Paid","Overdue"].includes(F.status)).reduce((F,Q)=>F+Q.totalAmount,0),(xe==null?void 0:xe.currency)||"USD")})]}),r.jsx(Lc,{className:"w-8 h-8 text-orange-600"})]})})]}),Fe=()=>{var F;return r.jsxs("div",{className:"w-full max-w-none bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[a==="all"?"All Invoices":(F=vt.find(Q=>Q.id===a))==null?void 0:F.name," (",Ue.length,")"]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-md transition-colors ${b==="list"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsx(dy,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>v("cards"),className:`p-2 rounded-md transition-colors ${b==="cards"?"bg-white dark:bg-gray-600 text-beveren-600 dark:text-beveren-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsx(dd,{className:"w-4 h-4"})})]})]}),b==="list"?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(xe==null?void 0:xe.is_zatca_enabled)&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:Ue.map(Q=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Q.date," ",Q.time]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Q.customer})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Q.cashier}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:Q.paymentMethod})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:nt(Q.totalAmount,Q.currency)}),Q.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",nt(Q.giftCardDiscount,Q.currency)," gift card"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:we(Q.status),children:Q.status})}),(xe==null?void 0:xe.is_zatca_enabled)&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:we(Q.custom_zatca_submit_status),children:Q.custom_zatca_submit_status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>Je(Q),className:"text-beveren-600 hover:text-beveren-900 flex items-center space-x-1",children:[r.jsx(Bi,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),Q.status==="Draft"&&r.jsxs("button",{onClick:()=>St(Q),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center space-x-1",children:[r.jsx(cl,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(Q.status)&&Oe(Q)&&r.jsxs("button",{onClick:()=>lr(Q),className:"text-orange-600 hover:text-orange-900 flex items-center space-x-1",children:[r.jsx(zi,{className:"w-4 h-4"}),r.jsx("span",{children:"Return"})]}),Q.status==="Draft"&&r.jsxs("button",{onClick:()=>He(Q),className:"text-red-600 hover:text-red-900 flex items-center space-x-1",children:[r.jsx(n0,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})})]},Q.id))})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:Ue.map(Q=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.id}),r.jsx("span",{className:we(Q.status),children:Q.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Customer:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Q.customer})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:nt(Q.totalAmount,Q.currency)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Q.date})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cashier:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:Q.cashier})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-2",children:[r.jsx("button",{onClick:()=>Je(Q),className:"flex-1 text-xs px-3 py-2 bg-beveren-600 text-white rounded hover:bg-beveren-700 transition-colors",children:"View"}),Q.status==="Draft"&&r.jsxs("button",{onClick:()=>St(Q),className:"flex-1 text-xs px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center justify-center space-x-1",children:[r.jsx(cl,{className:"w-3 h-3"}),r.jsx("span",{children:"Edit"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(Q.status)&&Oe(Q)&&r.jsx("button",{onClick:()=>lr(Q),className:"flex-1 text-xs px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"Return"})]})]},Q.id))}),De&&r.jsx("div",{className:"flex justify-center mt-8",children:r.jsx("button",{onClick:Ht,disabled:Ie,className:`px-6 py-3 rounded-lg font-medium transition-colors ${Ie?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:Ie?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Loading..."})]}):`Load More (${gt}/${lt})`})}),!De&&gt>0&&r.jsx("div",{className:"text-center mt-8 py-4",children:r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",lt," invoices loaded"]})})]})},Je=F=>{e(`/invoice/${F.id}`)},Oe=F=>!F||!F.items?(console.log("No invoice or items found for:",F==null?void 0:F.id),!1):F.items.some(Te=>{const Ve=Te.qty||Te.quantity||0;return(Te.returned_qty||0)<Ve}),He=F=>{if(F.status!=="Draft"){Me.error("Only draft invoices can be deleted");return}re(F),je(!0)},_t=()=>oe(null,null,function*(){if(X)try{yield D0(X.id),Me.success(`Draft invoice ${X.id} deleted successfully`),je(!1),re(null),window.location.reload()}catch(F){Me.error(F.message||"Failed to delete invoice")}}),at=()=>{je(!1),re(null)},St=F=>{if(F.status!=="Draft"){Me.error("Only draft invoices can be edited");return}P(F),ee(!0)},ma=F=>oe(null,null,function*(){try{(yield AN(F.id))&&(ee(!1),P(null),setTimeout(()=>{e("/pos")},500))}catch(Q){console.error("Error going to cart:",Q),Me.error(Q.message||"Failed to add items to cart")}}),ba=F=>oe(null,null,function*(){try{yield jw(F.id),Me.success(`Draft invoice ${F.id} submitted successfully`),ee(!1),P(null),window.location.reload()}catch(Q){console.error("Error submitting draft invoice:",Q);const Te=dl(Q,"Failed to submit draft invoice");Me.error(Te)}}),Ta=()=>{ee(!1),P(null)},Er=F=>{yr(F),C(!1)},yr=F=>oe(null,null,function*(){try{const Q=yield M0(F);e(`/invoice/${Q.return_invoice}`),Me.success(`Invoice returned: ${Q.return_invoice}`)}catch(Q){Me.error(Q.message||"Failed to return invoice")}}),tr=F=>{console.log("Cancelling invoice:",F),C(!1)},Yr=()=>{ae(""),O(!0)},lr=F=>{J(F),V(!0)},Le=()=>{V(!1),J(null),window.location.reload()},ka=F=>{if(!F){Me.error("Invalid customer selection");return}ae(F),M(!1),G(""),O(!0)},Fa=F=>{O(!1),ae("")},W=()=>{M(!1),G("")},se=()=>{try{if(!Ue||Ue.length===0){Me.error("No invoices to export");return}const F=Ue.map(Ve=>{const ct=Ve.totalAmount||0,it=Ve.amountPaid||0,yt=Math.max(0,ct-it);return{name:Ve.id||Ve.name||"",customer:Ve.customer||"",posting_date:Ve.date||Ve.posting_date||"",due_date:"",grand_total:ct,outstanding_amount:yt,status:Ve.status||"",mode_of_payment:Ve.paymentMethod||"",currency:Ve.currency||"SAR",company:Ve.company||""}}),Q=a==="all"?"all":a.toLowerCase(),Te=qM(`invoices_${Q}`,"csv");HM(F,Te),Me.success(`Exported ${F.length} invoices successfully`)}catch(F){console.error("Export error:",F),Me.error(`Failed to export invoices: ${F.message}`)}};return t?r.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invoice History"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:Yr,className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[r.jsx(Ys,{className:"w-4 h-4"}),r.jsx("span",{children:"Multi Return"})]}),r.jsxs("button",{onClick:se,className:"flex items-center space-x-2 px-3 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors text-sm",children:[r.jsx(og,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 w-[98%] mx-auto px-2 py-4",children:[r.jsx("div",{className:"mb-6 w-full",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:vt.map(F=>r.jsxs("button",{onClick:()=>s(F.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-xs whitespace-nowrap ${a===F.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${F.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[r.jsx(F.icon,{className:"w-4 h-4"}),r.jsx("span",{children:F.name}),r.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:st(F.id)})]},F.id))})})})}),Yt(),he(),Fe()]}),r.jsx(ed,{invoice:k,isOpen:$,onClose:()=>C(!1),onRefund:Er,onCancel:tr}),L&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),r.jsx("button",{onClick:W,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(Bo,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:q,onChange:F=>G(F.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:bt&&bt.length>0?bt.map(F=>r.jsxs("button",{onClick:()=>ka(F.name||F.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.customer_name||F.name||"Unknown Customer"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.name||F.customer_name||"No ID"})]},F.name||F.customer_name||Math.random())):q.trim()?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',q,'"']})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),bt&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:q.trim()?`${bt.length} of ${(Ze==null?void 0:Ze.length)||0} customers`:`${(Ze==null?void 0:Ze.length)||0} customers total`})})]})]})}),r.jsx(Hg,{customer:R,isOpen:B,onClose:()=>O(!1),onSuccess:Fa,customers:Ze}),r.jsx(as,{})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice History"})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:Yr,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(n0,{className:"w-4 h-4"}),r.jsx("span",{children:"Multi-Invoice Return"})]}),r.jsxs("button",{onClick:se,className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(og,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]})})}),r.jsxs("div",{className:"flex-1 px-6 py-8 mt-16 max-w-none",children:[r.jsx("div",{className:"mb-8 w-full max-w-none",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:vt.map(F=>r.jsxs("button",{onClick:()=>s(F.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${a===F.id?"border-beveren-500 text-beveren-600 dark:text-beveren-400":`border-transparent ${F.color} dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300`}`,children:[r.jsx(F.icon,{className:"w-5 h-5"}),r.jsx("span",{children:F.name}),r.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:st(F.id)})]},F.id))})})})}),Yt(),he(),Fe()]}),r.jsx(ed,{invoice:k,isOpen:$,onClose:()=>C(!1),onRefund:Er,onCancel:tr}),L&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),r.jsx("button",{onClick:W,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(Bo,{className:"w-5 h-5"})})]})}),r.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choose a customer to process multi-invoice returns"}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search customers by name or ID...",value:q,onChange:F=>G(F.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:bt&&bt.length>0?bt.map(F=>r.jsxs("button",{onClick:()=>ka(F.name||F.customer_name),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.customer_name||F.name||"Unknown Customer"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.name||F.customer_name||"No ID"})]},F.name||F.customer_name||Math.random())):q.trim()?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:['No customers found matching "',q,'"']})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"})})}),bt&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:q.trim()?`${bt.length} of ${(Ze==null?void 0:Ze.length)||0} customers`:`${(Ze==null?void 0:Ze.length)||0} customers total`})})]})]})}),r.jsx(Hg,{customer:R,isOpen:B,onClose:()=>O(!1),onSuccess:Fa,customers:Ze}),r.jsx(G0,{invoice:Z,isOpen:H,onClose:()=>V(!1),onSuccess:Le}),r.jsx($y,{isOpen:Ne,onClose:at,onConfirm:_t,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${X==null?void 0:X.id}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"}),T&&ue&&r.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md relative",children:[r.jsx("div",{className:"absolute inset-0 -z-10",onClick:Ta}),r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),r.jsx("button",{onClick:Ta,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(Bo,{className:"w-5 h-5"})})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Invoice: ",ue.id]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"What would you like to do with this draft invoice?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>ma(ue),className:"w-full flex items-center justify-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:[r.jsx(Dc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Go to Cart"})]}),r.jsxs("button",{onClick:()=>ba(ue),className:"w-full flex items-center justify-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors",children:[r.jsx(Vo,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Submit"})]})]})]})]})})]})})}function VM(){var Ae,z,me,T,ee,ue,P,K,ke,Ie,Ye;const{id:e}=Qg(),t=e!=null?e:"",{invoice:a,isLoading:s,error:l}=m4(t),{statistics:c,isLoading:u}=u4((a==null?void 0:a.customer)||null),{posDetails:f}=er(),h=Ma(),[m,y]=x.useState(!1),[w,b]=x.useState(null),[v,k]=x.useState(!1),[N,$]=x.useState(!1),[C,L]=x.useState(!1),[M,B]=x.useState(null),[O,R]=x.useState(!1),[ae,q]=x.useState(!1),G=()=>{h("/invoice")},H=()=>{if(a){if(console.log("Invoice object in detail page:",a),a.status!=="Draft"){Me.error("Only draft invoices can be deleted");return}q(!0)}},V=()=>oe(null,null,function*(){if(a)try{console.log("Attempting to delete invoice:",a.name||a.id,"Status:",a.status),yield D0(a.name||a.id),Me.success(`Draft invoice ${a.name||a.id} deleted successfully`),q(!1),h("/invoice")}catch(De){console.error("Delete error:",De),Me.error(De.message||"Failed to delete invoice")}}),Z=()=>{q(!1)},J=De=>{const gt="px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1";switch(De){case"Completed":case"Paid":return`${gt} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"Pending":case"Unpaid":return`${gt} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Cancelled":return`${gt} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Refunded":return`${gt} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;default:return gt}},Ne=()=>oe(null,null,function*(){var De,gt,lt,Ht,Ce,Ze,xe,Pe,Be,et,$t,vt;if(!(a!=null&&a.customer)){Me.error("Customer information not available");return}R(!0);try{const E=yield fetch(`/api/method/klik_pos.api.customer.get_customer_info?customer_name=${encodeURIComponent(a.customer)}`);if(!E.ok)throw new Error(`HTTP ${E.status}: ${E.statusText}`);const we=yield E.json();if(((De=we==null?void 0:we.message)==null?void 0:De.success)!==!1){const Ue=we.message,Ut={id:Ue.name,name:Ue.customer_name,type:((gt=Ue.customer_type)==null?void 0:gt.toLowerCase())==="company"?"company":"individual",email:((lt=Ue.contact_data)==null?void 0:lt.email_id)||Ue.email_id||"",phone:((Ht=Ue.contact_data)==null?void 0:Ht.mobile_no)||((Ce=Ue.contact_data)==null?void 0:Ce.phone)||Ue.mobile_no||"",address:{addressType:"Billing",street:((Ze=Ue.address_data)==null?void 0:Ze.address_line1)||"",buildingNumber:((xe=Ue.address_data)==null?void 0:xe.address_line2)||"",city:((Pe=Ue.address_data)==null?void 0:Pe.city)||"",state:((Be=Ue.address_data)==null?void 0:Be.state)||"",zipCode:((et=Ue.address_data)==null?void 0:et.pincode)||"",country:(($t=Ue.address_data)==null?void 0:$t.country)||"Saudi Arabia"},status:"active",preferredPaymentMethod:Ue.payment_method||"Cash",customer_group:Ue.customer_group||"All Customer Groups",territory:Ue.territory||"All Territories",contactPerson:Ue.contact_data?`${Ue.contact_data.first_name||""} ${Ue.contact_data.last_name||""}`.trim()||Ue.customer_name:Ue.customer_name||"",companyName:Ue.customer_type==="Company"?Ue.customer_name:void 0,taxId:Ue.vat_number||"",industry:Ue.industry||"",employeeCount:Ue.employee_count||"",registrationScheme:Ue.registration_scheme||"",registrationNumber:Ue.registration_number||""};B(Ut),L(!0)}else throw new Error(((vt=we==null?void 0:we.message)==null?void 0:vt.error)||"Failed to fetch customer details")}catch(E){console.error("Error fetching customer details:",E),Me.error(E.message||"Failed to fetch customer details")}finally{R(!1)}}),je=De=>{h(`/invoice/${De}`)},X=De=>{console.log("Saving customer:",De),L(!1),B(null),Me.success("Customer updated successfully!")},re=De=>{Me.success(`${De.length} return invoices created successfully`),h("/invoice")},ne=()=>!a||!a.items?!1:a.items.some(De=>{const gt=De.qty||De.quantity||0;return(De.returned_qty||0)<gt});return s?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:r.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoice..."})]})})}):l?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:r.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Lc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["Error loading invoice: ",l]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})}):a?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-beveren-50 dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:G,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-beveren-200 dark:hover:bg-gray-700 rounded-lg",children:r.jsx(Ki,{size:20})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Invoice ",a.name||a.id]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.posting_date," at ",a.posting_time]})]}),r.jsxs("div",{className:J(a.status),children:[r.jsx(Fi,{size:16}),r.jsx("span",{children:a.status})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"sr-only",children:r.jsx(Yu,{invoice:a})}),r.jsxs("button",{className:"group relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-all duration-200",onClick:()=>Qu(a),children:[r.jsx(Mc,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Print Invoice"})]}),r.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{b("email"),y(!0)},children:[r.jsx(cg,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via Email"})]}),(f==null?void 0:f.custom_enable_whatsapp)&&r.jsxs("button",{className:"group relative p-2 text-green-600 hover:bg-green-100 dark:text-green-400 dark:hover:bg-green-900 rounded-lg transition-all duration-200",onClick:()=>{b("whatsapp"),y(!0)},children:[r.jsx(dg,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via WhatsApp"})]}),(f==null?void 0:f.custom_enable_sms)&&r.jsxs("button",{className:"group relative p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900 rounded-lg transition-all duration-200",onClick:()=>{b("sms"),y(!0)},children:[r.jsx(ug,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Send via SMS"})]}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(a.status)&&!a.is_return&&ne()&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),r.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-orange-100 dark:text-orange-400 dark:hover:bg-orange-900 rounded-lg transition-all duration-200",onClick:()=>k(!0),children:[r.jsx(zi,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Return Items (Single Invoice)"})]}),r.jsxs("button",{className:"group relative p-2 text-orange-600 hover:bg-indigo-100 dark:text-indigo-400 dark:hover:bg-indigo-900 rounded-lg transition-all duration-200",onClick:()=>$(!0),children:[r.jsx(n0,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Multi-Invoice Return"})]})]}),a.status==="Draft"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),r.jsxs("button",{className:"group relative p-2 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-900 rounded-lg transition-all duration-200",onClick:H,children:[r.jsx(n0,{size:20}),r.jsx("span",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-0.5 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:"Delete Draft Invoice"})]})]})]})]})})}),r.jsx("div",{className:"flex-1 pt-20 pb-20 overflow-auto",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"INVOICE"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["#",a.name||a.id]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.company}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(Ae=a.company_address_doc)==null?void 0:Ae.address_line1}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(z=a.company_address_doc)==null?void 0:z.county}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(me=a.company_address_doc)==null?void 0:me.phone})]})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Bill To:"}),r.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:a.customer}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(T=a.customer_address_doc)==null?void 0:T.address_line1}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(ee=a.customer_address_doc)==null?void 0:ee.email_id}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(ue=a.customer_address_doc)==null?void 0:ue.phone})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:a.posting_date})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:a.posting_time})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cashier:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:a.cashier_name||a.owner})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment:"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:a.paymentMethod})]})]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:(P=a.items)==null?void 0:P.map((De,gt)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:De.item_name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Code: ",De.item_code]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:De.category})]})}),r.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-900 dark:text-white",children:De.qty}),r.jsx("td",{className:"px-6 py-4 text-right text-sm text-gray-900 dark:text-white",children:nt(De.rate,a.currency)}),r.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white",children:nt(De.amount,a.currency)})]},gt))})]})}),a.taxes&&a.taxes.length>0&&r.jsxs("div",{className:"px-6 py-4 bg-beveren-50 dark:bg-beveren-900/20 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(w$,{className:"w-5 h-5 text-beveren-600 dark:text-beveren-400"}),r.jsx("h4",{className:"text-sm font-semibold text-beveren-900 dark:text-beveren-100",children:"Tax Details"})]}),r.jsxs("div",{className:"space-y-2",children:[a.taxes.map((De,gt)=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-medium",children:De.account_head}),r.jsxs("span",{className:"text-beveren-600 dark:text-beveren-400",children:["(",De.rate,"%)"]}),De.included_in_print_rate===1&&r.jsx("span",{className:"px-2 py-1 bg-beveren-100 dark:bg-beveren-800 text-beveren-800 dark:text-beveren-200 text-xs rounded-full",children:"Inclusive"})]}),r.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-semibold",children:nt(De.tax_amount,a.currency)})]},gt)),r.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-beveren-200 dark:border-beveren-700",children:[r.jsx("span",{className:"text-beveren-700 dark:text-beveren-300 font-semibold",children:"Total Tax:"}),r.jsx("span",{className:"text-beveren-900 dark:text-beveren-100 font-bold",children:nt(a.total_taxes_and_charges,a.currency)})]})]})]}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700",children:r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"w-80 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:nt(a.total,a.currency)})]}),a.total_taxes_and_charges>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:nt(a.total_taxes_and_charges,a.currency)})]}),a.rounding_adjustment!==0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rounding:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:nt(a.rounding_adjustment,a.currency)})]}),a.giftCardDiscount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gift Card Discount:"}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",nt(a.giftCardDiscount,a.currency)]})]}),r.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Grand Total:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:nt(a.grand_total,a.currency)})]}),a.paid_amount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),r.jsx("span",{className:"text-beveren-600 dark:text-beveren-400",children:nt(a.paid_amount,a.currency)})]}),a.outstanding_amount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Outstanding:"}),r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:nt(a.outstanding_amount,a.currency)})]}),a.status==="Refunded"&&a.refundAmount&&r.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-300 dark:border-gray-600 pt-2",children:[r.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Refunded Amount:"}),r.jsx("span",{className:"text-red-600 dark:text-red-400",children:nt(a.refundAmount,a.currency)})]})]})})}),a.giftCardCode&&r.jsxs("div",{className:"px-6 py-4 bg-purple-50 dark:bg-purple-900/20 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("h4",{className:"text-sm font-medium text-purple-900 dark:text-purple-100 mb-2",children:"Gift Card Applied:"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Code: ",a.giftCardCode]}),r.jsxs("span",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:["-",nt(a.giftCardDiscount,a.currency)]})]})]}),r.jsxs("div",{className:"px-6 py-4 bg-orange-50 dark:bg-orange-900/20 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Hr,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),r.jsx("h4",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Payment Details"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Payment Method:"}),r.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-medium",children:a.paymentMethod||"Cash"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J(a.status)}`,children:a.status})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"Paid Amount:"}),r.jsx("span",{className:"text-orange-900 dark:text-orange-100 font-semibold",children:nt(a.paid_amount||0,a.currency)})]}),a.outstanding_amount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-red-700 dark:text-red-300",children:"Outstanding:"}),r.jsx("span",{className:"text-red-900 dark:text-red-100 font-semibold",children:nt(a.outstanding_amount,a.currency)})]})]})]})]}),a.notes&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.notes})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[r.jsx(zr,{size:20}),r.jsx("span",{children:"Customer Details"})]}),r.jsx("button",{onClick:Ne,disabled:O,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Customer",children:O?r.jsx(ll,{size:16,className:"animate-spin"}):r.jsx(cl,{size:16})})]})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsx("div",{children:r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.customer})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[r.jsx(ol,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:a.customer_email})]}),r.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[r.jsx(i0,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:a.customer_mobile_no})]}),r.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[r.jsx(S0,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:(K=a.customer_address_doc)==null?void 0:K.address_line1})]})]}),r.jsx("hr",{className:"border-gray-200 dark:border-gray-600"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"w-5 h-5 text-beveren-600"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Customer Statistics"})]}),u?r.jsxs("div",{className:"flex items-center justify-center py-4",children:[r.jsx(ll,{className:"w-4 h-4 animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading statistics..."})]}):c?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-beveren-50 to-beveren-100 dark:from-beveren-900/20 dark:to-beveren-800/20 rounded-lg p-4 border border-beveren-200 dark:border-beveren-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-beveren-600 rounded-lg",children:r.jsx(s0,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-beveren-700 dark:text-beveren-300 font-medium",children:"Total Orders"}),r.jsx("p",{className:"text-xl font-bold text-beveren-900 dark:text-beveren-100",children:c.total_orders})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-orange-600 rounded-lg",children:r.jsx(Rc,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300 font-medium",children:"Total Spent"}),r.jsx("p",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:nt(c.total_spent,a.currency)})]})]})})]}),c.last_visit&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sl,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Visit:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(c.last_visit).toLocaleDateString()})]})})]}):r.jsxs("div",{className:"text-center py-4",children:[r.jsx(Lc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Unable to load customer statistics"})]})]})]})]})})]})})}),m&&r.jsx(my,{isOpen:m,onClose:()=>{y(!1),b(null)},cartItems:[],appliedCoupons:[],selectedCustomer:{id:a.customer,name:a.customer,email:((ke=a.customer_address_doc)==null?void 0:ke.email_id)||"",phone:((Ie=a.customer_address_doc)==null?void 0:Ie.phone)||"",type:"individual",status:"active",loyaltyPoints:0,totalOrders:0,totalSpent:0,lastVisit:null,address:{addressType:"Billing",streetName:((Ye=a.customer_address_doc)==null?void 0:Ye.address_line1)||"",buildingNumber:"",subdivisionName:"",cityName:"",postalCode:"",country:"Saudi Arabia",isPrimary:!0},vatNumber:"",registrationScheme:"",registrationNumber:"",preferredPaymentMethod:"Cash",tags:[]},onCompletePayment:()=>{y(!1),b(null)},onHoldOrder:()=>{y(!1),b(null)},isMobile:!1,isFullPage:!1,initialSharingMode:w,externalInvoiceData:a}),r.jsx(G0,{invoice:a,isOpen:v,onClose:()=>k(!1),onSuccess:je}),r.jsx(Hg,{customer:(a==null?void 0:a.customer)||"",isOpen:N,onClose:()=>$(!1),onSuccess:re}),C&&M&&r.jsx(hl,{customer:M,onClose:()=>{L(!1),B(null)},onSave:X}),r.jsx($y,{isOpen:ae,onClose:Z,onConfirm:V,title:"Delete Draft Invoice",message:`Are you sure you want to delete draft invoice ${(a==null?void 0:a.name)||(a==null?void 0:a.id)}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:r.jsx("div",{className:"flex-1 flex items-center justify-center ml-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(il,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Invoice not found"})]})})})}function KM(e){const[t,a]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState(!1),[f,h]=x.useState(null),[m,y]=x.useState(!0),[w,b]=x.useState(0),[v,k]=x.useState(0),[N,$]=x.useState(0),C=100,L=x.useCallback((O=0,R=!1)=>oe(null,null,function*(){var ae;if(!e){a([]),l(!1);return}R?u(!0):l(!0);try{const q=O*C;console.log(`Fetching customer invoices - customer: ${e}, page: ${O}, start: ${q}, limit: ${C}`);const G=`&search=${encodeURIComponent(e)}`,H=yield fetch(`/api/method/klik_pos.api.sales_invoice.get_sales_invoices?limit=${C}&start=${q}${G}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Customer invoices response:",{status:H.status,statusText:H.statusText,ok:H.ok}),!H.ok)throw new Error(`HTTP ${H.status}: ${H.statusText}`);const V=yield H.json();if(console.log("Customer invoices data:",V),!V.message||!V.message.success)throw new Error(((ae=V.message)==null?void 0:ae.error)||V.error||"Failed to fetch customer invoices");const Z=V.message.data,J=Z.length,Ne=V.message.total_count||0;y(J===C),$(Ne);const X=Z.map(re=>({id:re.name,date:re.posting_date||new Date().toISOString().split("T")[0],time:re.posting_time||"00:00:00",cashier:re.cashier_name||"Unknown",customer:re.customer_name||re.customer||"Walk-in Customer",totalAmount:Number(re.base_grand_total)||0,status:re.status||"Draft",paymentMethod:re.payment_method||"-",discount:Number(re.discount_amount)||0,tax:Number(re.total_taxes_and_charges)||0,items:re.items||[],posProfile:re.pos_profile||"",customPosOpeningEntry:re.custom_pos_opening_entry||"",currency:re.currency||"USD",name:re.name,customZatcaSubmitStatus:re.custom_zatca_submit_status||null})).filter(re=>re.customer===e);R?(a(re=>[...re,...X]),k(re=>re+X.length)):(a(X),k(X.length)),b(O),h(null)}catch(q){console.error("Error fetching customer invoices:",q),h(q.message||"Unknown error occurred")}finally{l(!1),u(!1)}}),[e]),M=x.useCallback(()=>{!c&&m&&e&&L(w+1,!0)},[w,c,m,L,e]),B=x.useCallback(()=>{e&&(b(0),k(0),y(!0),L(0,!1))},[L,e]);return x.useEffect(()=>{e?L(0,!1):(a([]),l(!1))},[L,e]),{invoices:t,isLoading:s,isLoadingMore:c,error:f,hasMore:m,totalLoaded:v,totalCount:N,loadMore:M,refetch:B}}function YM({isOpen:e,onClose:t,invoice:a,onGoToCart:s,onSubmitPayment:l,onSubmitDirect:c}){return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Draft Invoice"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(gr,{size:20})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Invoice:"}),r.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.id})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"What would you like to do with this draft invoice?"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>s(a),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(Dc,{size:20}),r.jsx("span",{children:"Go to Cart"})]}),c&&r.jsxs("button",{onClick:()=>c(a),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Vo,{size:20}),r.jsx("span",{children:"Submit"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"})})]})})}function QM(){const e=Ma(),[t,a]=x.useState(""),[s,l]=x.useState("all"),[c,u]=x.useState("all"),[f,h]=x.useState(null),[m,y]=x.useState(!1),[w,b]=x.useState(!1),[v,k]=x.useState(null),[N,$]=x.useState(!1),[C,L]=x.useState(null),[M,B]=x.useState(!1),[O,R]=x.useState(null),{id:ae}=Qg(),{customer:q,isLoadingC:G,errorC:H}=zA(ae),{invoices:V,isLoading:Z,error:J,hasMore:Ne,totalLoaded:je,loadMore:X}=KM((q==null?void 0:q.name)||""),{posDetails:re}=er(),ne=Ce=>c==="all"?!0:c==="today"?Cy(Ce):c==="week"?_y(Ce):c==="month"?Ey(Ce):c==="year"?Ty(Ce):!0,Ae=x.useMemo(()=>Z||J||!q?[]:(console.log("CustomerPageDetails: Filtering invoices for customer:",{customerName:q.name,customerId:q.id,totalInvoices:V.length,sampleInvoice:V[0]}),V.filter(Ce=>{const Ze=t===""||Ce.id.toLowerCase().includes(t.toLowerCase()),xe=s==="all"||Ce.status===s,Pe=ne(Ce.date);return Ze&&xe&&Pe})),[V,t,s,c,Z,J,q]);console.log("CustomerPageDetails: Filtered customer invoices:",{customerInvoicesCount:Ae.length,customerInvoices:Ae});const z=Ce=>{const Ze="px-2 py-1 rounded-full text-xs font-medium";switch((Ce==null?void 0:Ce.toLowerCase())||""){case"paid":return`${Ze} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"unpaid":return`${Ze} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"partly paid":return`${Ze} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"overdue":return`${Ze} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"draft":return`${Ze} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"return":return`${Ze} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"cancelled":return`${Ze} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"pending":return`${Ze} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"reported":return`${Ze} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"not reported":return`${Ze} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;case"cleared":return`${Ze} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"not cleared":return`${Ze} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;default:return`${Ze} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}},me=Ce=>{if(!Ce||!Ce.items)return console.log("No invoice or items found for:",Ce==null?void 0:Ce.id),!1;const Ze=Ce.items.some(xe=>{const Pe=xe.qty||xe.quantity||0,Be=xe.returned_qty||0,et=Be<Pe;return console.log(`Item ${xe.item_code}: sold=${Pe}, returned=${Be}, canReturn=${et}`),et});return console.log(`Invoice ${Ce.id} has returnable items:`,Ze),Ze},T=Ce=>{e(`/invoice/${Ce.id}`),h(Ce),y(!0)},ee=Ce=>{gt(Ce),y(!1)},ue=Ce=>{if(Ce.status!=="Draft"){Me.error("Only draft invoices can be edited");return}R(Ce),B(!0)},P=Ce=>oe(null,null,function*(){try{(yield AN(Ce.id))&&(B(!1),R(null),e("/"))}catch(Ze){console.error("Error going to cart:",Ze),Me.error(Ze.message||"Failed to add items to cart")}}),K=Ce=>{B(!1),R(null),e(`/payment/${Ce.id}`)},ke=Ce=>oe(null,null,function*(){try{yield jw(Ce.id),Me.success(`Draft invoice ${Ce.id} submitted successfully`),B(!1),R(null),window.location.reload()}catch(Ze){console.error("Error submitting draft invoice:",Ze);const xe=dl(Ze,"Failed to submit draft invoice");Me.error(xe)}}),Ie=()=>{B(!1),R(null)},Ye=Ce=>{k(Ce),b(!0)},De=()=>{b(!1),k(null),window.location.reload()},gt=Ce=>oe(null,null,function*(){try{const Ze=yield M0(Ce);e(`/invoice/${Ze.return_invoice}`),Me.success(`Invoice returned: ${Ze.return_invoice}`)}catch(Ze){Me.error(Ze.message||"Failed to return invoice")}}),lt=Ce=>{console.log("Saving customer:",Ce),$(!1),L(null)},Ht=x.useMemo(()=>{const Ce=Ae.length,Ze=Ae.reduce((Be,et)=>Be+et.totalAmount,0),xe=Ae.filter(Be=>Be.status==="Unpaid"||Be.status==="Overdue").reduce((Be,et)=>Be+et.totalAmount,0),Pe=Ce>0?Ze/Ce:0;return{totalInvoices:Ce,totalRevenue:Ze,outstandingAmount:xe,avgOrderValue:Pe}},[Ae]);return G?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beveren-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading customer details..."})]})}):H&&!q?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200",children:"Error loading customer"}),r.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:(H==null?void 0:H.message)||"Failed to load customer details"}),r.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800",children:"Go Back"})]})}):q?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex pb-12",children:r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-20",children:[r.jsx("div",{className:"fixed top-0 left-20 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(Ki,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q.customer_name||q.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",q.name]})]})]}),r.jsxs("button",{onClick:()=>{console.log("Customer data being passed to modal:",q),L(q),$(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-beveren-600 text-white rounded-lg hover:bg-beveren-700 transition-colors",children:[r.jsx(cl,{className:"w-4 h-4"}),r.jsx("span",{children:"Update Customer"})]})]})})}),r.jsxs("div",{className:"flex-1 overflow-auto pt-20 ml-20",children:[r.jsxs("div",{className:"px-6 py-8 max-w-none",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-beveren-600 rounded-full flex items-center justify-center",children:r.jsx(zr,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:q.customer_name||q.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ol,{className:"w-4 h-4"}),r.jsx("span",{children:q.email||"No email provided"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(i0,{className:"w-4 h-4"}),r.jsx("span",{children:q.phone||"No phone provided"})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(S0,{className:"w-4 h-4"}),r.jsx("span",{children:q.territory||"No territory specified"})]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("span",{children:["Customer Group: ",q.customer_group]})}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("span",{children:["Type: ",q.type]})})]})]}),r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Active"})}),q.creation&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(cy,{className:"w-4 h-4"}),r.jsxs("span",{children:["Created: ",new Date(q.creation).toLocaleDateString()]})]})}),q.modified&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(sl,{className:"w-4 h-4"}),r.jsxs("span",{children:["Updated: ",new Date(q.modified).toLocaleDateString()]})]})})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Ht.totalInvoices})]}),r.jsx(il,{className:"w-8 h-8 text-beveren-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(Ht.totalRevenue,(re==null?void 0:re.currency)||"USD")})]}),r.jsx(Rc,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Outstanding Balance"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(Ht.outstandingAmount,(re==null?void 0:re.currency)||"USD")})]}),r.jsx(Oc,{className:`w-8 h-8 ${Ht.outstandingAmount>0?"text-red-600":"text-gray-400"}`})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt(Ht.avgOrderValue,(re==null?void 0:re.currency)||"USD")})]}),r.jsx(Is,{className:"w-8 h-8 text-blue-600"})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:t,onChange:Ce=>a(Ce.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("select",{value:s,onChange:Ce=>l(Ce.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Unpaid",children:"Unpaid"}),r.jsx("option",{value:"Partly Paid",children:"Partly Paid"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Overdue",children:"Overdue"}),r.jsx("option",{value:"Return",children:"Return"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:c,onChange:Ce=>u(Ce.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-beveren-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"year",children:"This Year"})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Customer Invoices (",Ae.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cashier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(re==null?void 0:re.is_zatca_enabled)&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Zatca Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:Ae.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:re!=null&&re.is_zatca_enabled?8:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No invoices found for this customer"})}):Ae.map(Ce=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Ce.id}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Ce.date," ",Ce.time]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Ce.customer})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Ce.cashier}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:Ce.paymentMethod})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:nt(Ce.totalAmount,Ce.currency)}),Ce.giftCardDiscount>0&&r.jsxs("div",{className:"text-xs text-orange-600 dark:text-green-400",children:["-",nt(Ce.giftCardDiscount,Ce.currency)," gift card"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:z(Ce.status),children:Ce.status})}),(re==null?void 0:re.is_zatca_enabled)&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:z(Ce.customZatcaSubmitStatus),children:Ce.customZatcaSubmitStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>T(Ce),className:"text-beveren-600 hover:text-beveren-900 dark:text-beveren-400 dark:hover:text-beveren-300",children:"View"}),Ce.status==="Draft"&&r.jsx("button",{onClick:()=>ue(Ce),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),["Paid","Unpaid","Overdue","Partly Paid","Credit Note Issued"].includes(Ce.status)&&me(Ce)&&r.jsx("button",{onClick:()=>Ye(Ce),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Return"})]})})]},Ce.id))})]})})]})]}),Ne&&r.jsx("div",{className:"flex justify-center mt-6",children:r.jsx("button",{onClick:X,disabled:Z,className:`px-6 py-3 rounded-lg font-medium transition-colors ${Z?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-beveren-600 text-white hover:bg-beveren-700"}`,children:Z?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Loading..."})]}):`Load More Customer Invoices (${je} loaded)`})}),!Ne&&je>0&&r.jsx("div",{className:"text-center mt-6 py-4",children:r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["All ",je," customer invoices loaded"]})})]}),r.jsx(ed,{invoice:f,isOpen:m,onClose:()=>y(!1),onRefund:ee,onCancel:Ce=>{y(!1)}}),r.jsx(G0,{invoice:v,isOpen:w,onClose:()=>b(!1),onSuccess:De}),N&&r.jsx(hl,{customer:C,onClose:()=>{$(!1),L(null)},onSave:lt}),r.jsx(YM,{isOpen:M,onClose:Ie,invoice:O,onGoToCart:P,onSubmitPayment:K,onSubmitDirect:ke})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Customer not found"}),r.jsx("p",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:"The requested customer could not be found."}),r.jsx("button",{onClick:()=>e(-1),className:"mt-4 px-4 py-2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded hover:bg-yellow-200 dark:hover:bg-yellow-800",children:"Go Back"})]})})}const XM=SS([{path:"/",element:r.jsx(BM,{}),children:[{index:!0,element:r.jsx(zM,{})},{path:"login",element:r.jsx(BS,{})},{path:"pos",element:r.jsx(Sr,{element:r.jsx(aO,{})})},{path:"dashboard",element:r.jsx(Sr,{element:r.jsx(nO,{})})},{path:"closing_shift",element:r.jsx(Sr,{element:r.jsx(rM,{})})},{path:"invoice",element:r.jsx(Sr,{element:r.jsx(GM,{})})},{path:"invoice/:id",element:r.jsx(Sr,{element:r.jsx(VM,{})})},{path:"customers",element:r.jsx(Sr,{element:r.jsx(jN,{})})},{path:"customers/:id",element:r.jsx(Sr,{element:r.jsx(QM,{})})},{path:"cart",element:r.jsx(Sr,{element:r.jsx(lM,{})})},{path:"mobile/customers",element:r.jsx(Sr,{element:r.jsx(cM,{})})},{path:"mobile/add-customer",element:r.jsx(Sr,{element:r.jsx(dM,{})})},{path:"mobile/payment",element:r.jsx(Sr,{element:r.jsx(uM,{})})},{path:"settings",element:r.jsx(Sr,{element:r.jsx(nM,{})})},{path:"payment/:invoiceId",element:r.jsx(Sr,{element:r.jsx(oM,{})})}]}],{basename:"/klik_pos"}),WM=({children:e})=>r.jsx(w9,{url:"http://localhost:8000",enableSocket:!1,children:e});_k.createRoot(document.getElementById("root")).render(r.jsx(We.StrictMode,{children:r.jsx(WM,{children:r.jsx(IS,{router:XM})})}))});export default ZM();
